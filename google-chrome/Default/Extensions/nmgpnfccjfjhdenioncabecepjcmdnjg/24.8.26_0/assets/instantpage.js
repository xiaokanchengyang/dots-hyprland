(()=>{let t,e,n;const o=document.createElement("link"),r=o.relList&&o.relList.supports&&o.relList.supports("prefetch"),a=navigator.connection&&navigator.connection.saveData;if(r&&!a){o.rel="prefetch",document.head.appendChild(o);const r={capture:!0,passive:!0};document.addEventListener("touchstart",(function(e){n=performance.now();const o=e.target.closest("a");if(!i(o))return;o.addEventListener("touchcancel",s,{passive:!0}),o.addEventListener("touchend",s,{passive:!0}),t=o.href,u(o.href)}),r),document.addEventListener("mouseover",(function(o){if(performance.now()-n<1100)return;const r=o.target.closest("a");if(!i(r))return;r.addEventListener("mouseout",c,{passive:!0}),t=r.href,e=setTimeout((()=>{u(r.href),e=void 0}),65)}),r)}function s(){t=void 0,h()}function c(n){n.relatedTarget&&n.target.closest("a")===n.relatedTarget.closest("a")||(e?(clearTimeout(e),e=void 0):(t=void 0,h()))}function i(e){if(!e||!e.href)return;if(t===e.href)return;const n=new URL(e.href);var o;if(["http:","https:"].includes(n.protocol)&&(("http:"!==n.protocol||"https:"!==location.protocol)&&("news.ycombinator.com"===(o=n).host&&"/item"===o.pathname||!n.search||"instant"in e.dataset)&&!(n.hash&&n.pathname+n.search===location.pathname+location.search||"noInstant"in e.dataset)))return!0}function u(t){o.href=t}function h(){o.removeAttribute("href")}})();