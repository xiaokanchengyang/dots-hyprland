function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Bm1r1Khi.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as Lo,j as t,c as Sc}from"./CMhnKYCA.js";import{s as Fe,a as de,M as oe,F as pt,W as Po,U as Mo,b as an,c as Cr,D as Tc,R as je,I as No,E as kc,B as lt,d as kn,e as Qr,f as Mt,O as Kr,S as _c,g as Fo,h as Os,T as hr,i as fr,j as Jr,k as Ht,l as Ac,m as Oc,C as En,P as cn,n as pr,o as Nt,p as Lc,G as Pc,q as Mc,r as Nc,t as Fc}from"./SHnOzo4l.js";import{o as tt,r as Bc,C as ft,s as es,a as Dc,l as Uc}from"./BjgJiouD.js";import{e as zc,r as Wc,p as Gc,o as Bo,l as Hc,u as ln,i as Vc,d as Xc,X as Yc,a as Er,b as Zc,c as Do,f as Uo,G as Ls,C as qc,x as Qc,g as Cs,h as Kc,H as Jc,j as zo,k as Es,m as el,n as tl,q as nl,s as rl,L as sl,t as il}from"./CpygsGpn.js";import{m as N,s as M,a as K,b as be,j as ol,c as $r,h as qt,d as al,p as Wo,e as cl}from"./DieEiE9e.js";import{r as g,R as hn}from"./bVFUYZgl.js";import{v as Pn,e as Ve,d as U,C as Be,u as Rr,m as In,M as ll,i as Go,a as Ps,c as Ho,f as Sn,b as ts,p as ul,g as dl,h as hl,j as fl,w as pl,k as ml,s as gl,A as Le,l as ge,n as Pe,o as vl,q as xl,r as yl,t as Ir,x as Vo,y as Ai,T as Xt,G as Xo,z as Ms,B as bl,P as wl,D as jl,E as Cl,F as Ns,H as Yo,I as Sr,J as Yt,K as mr,L as El,N as $l,O as Rl,Q as sn,R as Il,S as Sl,U as Zo,V as Tl,_ as gr,W as kl,X as $s,Y as qo,Z as _l,$ as Al,a0 as Qo,a1 as Fs,a2 as Ko,a3 as Oi,a4 as Ol,a5 as Ll,a6 as Pl,a7 as Ml}from"./Cm1H3WaY.js";import{b as xe,f as o,u as Tr,h as ut}from"./DlLMD6w7.js";import{u as Qt,$ as Nl,a as Fl,b as Bl,c as Dl}from"./DnUAIzt-.js";import{u as Et,a as qe,b as mt,e as nn,A as Ul,F as zl}from"./Dph_3Rnf.js";/* empty css        */import{_ as Wl}from"./CRTsvRaD.js";import{g as Bs,c as Gl}from"./Cpj98o6Y.js";import{c as Hl,s as Vl,f as Xl,a as Yl}from"./DaneALmD.js";import{A as Oe}from"./ChlyaM6j.js";import{l as ot,e as Zl,I as kr}from"./BAD7DE-7.js";import{d as vr,t as ql}from"./QipNwzXz.js";import{i as _t,a as Ql,c as Li}from"./uDekdLYy.js";import{U as Kl}from"./EDDnOrpQ.js";import{t as Jo,g as Jl,V as Pi}from"./CqdNxNZF.js";import{h as Mi}from"./CTuBfHaM.js";import"./Cjbr4oTZ.js";import"./BTyHENqi.js";import"./CqgvlWIA.js";import"./DvGmMwA7.js";import"./BsnvV3p5.js";import"./yXRVlCQS.js";import"./XaMN_HiL.js";import"./CfHFiLj0.js";import"./D8aEg3BZ.js";const xr=["tree","avocado","lemon","orange","apple","grapes","watermelon","pineapple","blueberry","strawberry","rollerskate","mango"],eu=()=>{const e=Math.floor(Math.random()*(xr.length-1));return`/static/images/workspace-icons/${xr[e]}.svg`},tu=e=>{const n=Math.abs(e.split("").reduce((r,s)=>r+s.charCodeAt(0),0)%xr.length);return`/static/images/workspace-icons/${xr[n]}.svg`},nu=({id:e,size:n})=>{const r=e?tu(e):eu();return N.jsx(Pn,{size:n,src:r})},ru=g.memo(e=>{const{id:n,firstName:r,lastName:s,profilePicture:i,size:c="sm"}=e;return N.jsx(Pn,{FallbackIcon:()=>N.jsx(nu,{id:n,size:c}),alt:i?`${r} ${s}`:"",size:c,src:i})},(e,n)=>e.id===n.id),ea=ru,su=xe("div",{boxSizing:"border-box",display:"grid",variants:{align:{start:{alignItems:"start"},center:{alignItems:"center"},end:{alignItems:"end"},stretch:{alignItems:"stretch"},baseline:{alignItems:"baseline"}},justify:{start:{justifyContent:"start"},stretch:{justifyContent:"stretch"},center:{justifyContent:"center"},end:{justifyContent:"end"},between:{justifyContent:"space-between"}},flow:{row:{gridAutoFlow:"row"},column:{gridAutoFlow:"column"},dense:{gridAutoFlow:"dense"},rowDense:{gridAutoFlow:"row dense"},columnDense:{gridAutoFlow:"column dense"}},columns:{1:{gridTemplateColumns:"repeat(1, 1fr)"},2:{gridTemplateColumns:"repeat(2, 1fr)"},3:{gridTemplateColumns:"repeat(3, 1fr)"},4:{gridTemplateColumns:"repeat(4, 1fr)"},5:{gridTemplateColumns:"repeat(5, 1fr)"},6:{gridTemplateColumns:"repeat(6, 1fr)"},7:{gridTemplateColumns:"repeat(7, 1fr)"},8:{gridTemplateColumns:"repeat(8, 1fr)"},9:{gridTemplateColumns:"repeat(9, 1fr)"},10:{gridTemplateColumns:"repeat(10, 1fr)"},11:{gridTemplateColumns:"repeat(11, 1fr)"},12:{gridTemplateColumns:"repeat(12, 1fr)"},13:{gridTemplateColumns:"repeat(13, 1fr)"},14:{gridTemplateColumns:"repeat(14, 1fr)"},15:{gridTemplateColumns:"repeat(15, 1fr)"},16:{gridTemplateColumns:"repeat(16, 1fr)"}},gap:{0:{gap:o.space[0]},1:{gap:o.space[1]},2:{gap:o.space[2]},3:{gap:o.space[3]},4:{gap:o.space[4]},5:{gap:o.space[5]},6:{gap:o.space[6]},7:{gap:o.space[7]},8:{gap:o.space[8]},9:{gap:o.space[9]},10:{gap:o.space[10]}},gapX:{0:{columnGap:o.space[0]},1:{columnGap:o.space[1]},2:{columnGap:o.space[2]},3:{columnGap:o.space[3]},4:{columnGap:o.space[4]},5:{columnGap:o.space[5]},6:{columnGap:o.space[6]},7:{columnGap:o.space[7]},8:{columnGap:o.space[8]},9:{columnGap:o.space[9]},10:{columnGap:o.space[10]}},gapY:{0:{rowGap:o.space[0]},1:{rowGap:o.space[1]},2:{rowGap:o.space[2]},3:{rowGap:o.space[3]},4:{rowGap:o.space[4]},5:{rowGap:o.space[5]},6:{rowGap:o.space[6]},7:{rowGap:o.space[7]},8:{rowGap:o.space[8]},9:{rowGap:o.space[9]},10:{rowGap:o.space[10]}}},defaultVariants:{align:"stretch",justify:"start"}}),fn=su,ta=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",d:"M15 11.184c-.65.65-.65 1.7 0 2.35l6.467 6.467L15 26.468c-.65.65-.65 1.7 0 2.35.65.65 1.7.65 2.35 0l7.65-7.65c.65-.65.65-1.7 0-2.35l-7.65-7.65c-.633-.634-1.7-.634-2.35.016Z"})}),...e});ta.displayName="IconCaretRight";function iu(e,n,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return n?.(s)}}function ou(e,n=[]){let r=[];function s(c,d){const x=g.createContext(d),p=r.length;r=[...r,d];function f(j){const{scope:R,children:v,...S}=j,z=R?.[e][p]||x,Z=g.useMemo(()=>S,Object.values(S));return g.createElement(z.Provider,{value:Z},v)}function w(j,R){const v=R?.[e][p]||x,S=g.useContext(v);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${j}\` must be used within \`${c}\``)}return f.displayName=c+"Provider",[f,w]}const i=()=>{const c=r.map(d=>g.createContext(d));return function(d){const x=d?.[e]||c;return g.useMemo(()=>({[`__scope${e}`]:{...d,[e]:x}}),[d,x])}};return i.scopeName=e,[s,au(i,...n)]}function au(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const c=s.reduce((d,{useScope:x,scopeName:p})=>{const f=x(i)[`__scope${p}`];return{...d,...f}},{});return g.useMemo(()=>({[`__scope${n.scopeName}`]:c}),[c])}};return r.scopeName=n.scopeName,r}function na(e){const n=g.useRef(e);return g.useEffect(()=>{n.current=e}),g.useMemo(()=>(...r)=>{var s;return(s=n.current)===null||s===void 0?void 0:s.call(n,...r)},[])}function cu({prop:e,defaultProp:n,onChange:r=()=>{}}){const[s,i]=lu({defaultProp:n,onChange:r}),c=e!==void 0,d=c?e:s,x=na(r),p=g.useCallback(f=>{if(c){const w=typeof f=="function"?f(e):f;w!==e&&x(w)}else i(f)},[c,e,i,x]);return[d,p]}function lu({defaultProp:e,onChange:n}){const r=g.useState(e),[s]=r,i=g.useRef(s),c=na(n);return g.useEffect(()=>{i.current!==s&&(c(s),i.current=s)},[s,i,c]),r}const yr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{};function uu(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function ra(...e){return n=>e.forEach(r=>uu(r,n))}function sa(...e){return g.useCallback(ra(...e),e)}const ia=g.forwardRef((e,n)=>{const{children:r,...s}=e,i=g.Children.toArray(r),c=i.find(hu);if(c){const d=c.props.children,x=i.map(p=>p===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:p);return g.createElement(Rs,Ve({},s,{ref:n}),g.isValidElement(d)?g.cloneElement(d,void 0,x):null)}return g.createElement(Rs,Ve({},s,{ref:n}),r)});ia.displayName="Slot";const Rs=g.forwardRef((e,n)=>{const{children:r,...s}=e;return g.isValidElement(r)?g.cloneElement(r,{...fu(s,r.props),ref:ra(n,r.ref)}):g.Children.count(r)>1?g.Children.only(null):null});Rs.displayName="SlotClone";const du=({children:e})=>g.createElement(g.Fragment,null,e);function hu(e){return g.isValidElement(e)&&e.type===du}function fu(e,n){const r={...n};for(const s in n){const i=e[s],c=n[s];/^on[A-Z]/.test(s)?i&&c?r[s]=(...d)=>{c(...d),i(...d)}:i&&(r[s]=i):s==="style"?r[s]={...i,...c}:s==="className"&&(r[s]=[i,c].filter(Boolean).join(" "))}return{...e,...r}}const pu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ds=pu.reduce((e,n)=>{const r=g.forwardRef((s,i)=>{const{asChild:c,...d}=s,x=c?ia:n;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(x,Ve({},d,{ref:i}))});return r.displayName=`Primitive.${n}`,{...e,[n]:r}},{});function mu(e,n){return g.useReducer((r,s)=>n[r][s]??r,e)}const oa=e=>{const{present:n,children:r}=e,s=gu(n),i=typeof r=="function"?r({present:s.isPresent}):g.Children.only(r),c=sa(s.ref,i.ref);return typeof r=="function"||s.isPresent?g.cloneElement(i,{ref:c}):null};oa.displayName="Presence";function gu(e){const[n,r]=g.useState(),s=g.useRef({}),i=g.useRef(e),c=g.useRef("none"),d=e?"mounted":"unmounted",[x,p]=mu(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const f=Kn(s.current);c.current=x==="mounted"?f:"none"},[x]),yr(()=>{const f=s.current,w=i.current;if(w!==e){const j=c.current,R=Kn(f);e?p("MOUNT"):R==="none"||f?.display==="none"?p("UNMOUNT"):p(w&&j!==R?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,p]),yr(()=>{if(n){const f=j=>{const R=Kn(s.current).includes(j.animationName);j.target===n&&R&&Lo.flushSync(()=>p("ANIMATION_END"))},w=j=>{j.target===n&&(c.current=Kn(s.current))};return n.addEventListener("animationstart",w),n.addEventListener("animationcancel",f),n.addEventListener("animationend",f),()=>{n.removeEventListener("animationstart",w),n.removeEventListener("animationcancel",f),n.removeEventListener("animationend",f)}}else p("ANIMATION_END")},[n,p]),{isPresent:["mounted","unmountSuspended"].includes(x),ref:g.useCallback(f=>{f&&(s.current=getComputedStyle(f)),r(f)},[])}}function Kn(e){return e?.animationName||"none"}const vu=g.useId||(()=>{});let xu=0;function yu(e){const[n,r]=g.useState(vu());return yr(()=>{e||r(s=>s??String(xu++))},[e]),e||(n?`radix-${n}`:"")}const aa="Collapsible",[bu,Sv]=ou(aa),[wu,Us]=bu(aa),ju=g.forwardRef((e,n)=>{const{__scopeCollapsible:r,open:s,defaultOpen:i,disabled:c,onOpenChange:d,...x}=e,[p=!1,f]=cu({prop:s,defaultProp:i,onChange:d});return g.createElement(wu,{scope:r,disabled:c,contentId:yu(),open:p,onOpenToggle:g.useCallback(()=>f(w=>!w),[f])},g.createElement(Ds.div,Ve({"data-state":zs(p),"data-disabled":c?"":void 0},x,{ref:n})))}),Cu="CollapsibleTrigger",Eu=g.forwardRef((e,n)=>{const{__scopeCollapsible:r,...s}=e,i=Us(Cu,r);return g.createElement(Ds.button,Ve({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":zs(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},s,{ref:n,onClick:iu(e.onClick,i.onOpenToggle)}))}),ca="CollapsibleContent",$u=g.forwardRef((e,n)=>{const{forceMount:r,...s}=e,i=Us(ca,e.__scopeCollapsible);return g.createElement(oa,{present:r||i.open},({present:c})=>g.createElement(Ru,Ve({},s,{ref:n,present:c})))}),Ru=g.forwardRef((e,n)=>{const{__scopeCollapsible:r,present:s,children:i,...c}=e,d=Us(ca,r),[x,p]=g.useState(s),f=g.useRef(null),w=sa(n,f),j=g.useRef(0),R=j.current,v=g.useRef(0),S=v.current,z=d.open||x,Z=g.useRef(z),q=g.useRef();return g.useEffect(()=>{const I=requestAnimationFrame(()=>Z.current=!1);return()=>cancelAnimationFrame(I)},[]),yr(()=>{const I=f.current;if(I){q.current=q.current||{transitionDuration:I.style.transitionDuration,animationName:I.style.animationName},I.style.transitionDuration="0s",I.style.animationName="none";const B=I.getBoundingClientRect();j.current=B.height,v.current=B.width,Z.current||(I.style.transitionDuration=q.current.transitionDuration,I.style.animationName=q.current.animationName),p(s)}},[d.open,s]),g.createElement(Ds.div,Ve({"data-state":zs(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!z},c,{ref:w,style:{"--radix-collapsible-content-height":R?`${R}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style}}),z&&i)});function zs(e){return e?"open":"closed"}const Iu=ju,Su=Eu,Tu=$u,la=Tr({color:"currentColor",transition:"0.2s ease-in-out transform",'&[data-state="open"]':{transform:"rotate(90deg)"},'&[data-state="closed"]':{transform:"rotate(0deg)"}}),ku=ut({from:{height:0,opacity:0},to:{height:"var(--radix-collapsible-content-height)",opacity:1}}),_u=ut({from:{height:"var(--radix-collapsible-content-height)",opacity:1},to:{height:0,opacity:0}}),Au=xe(Tu,{overflow:"hidden",'&[data-state="open"]':{animation:`${ku} 300ms ease-out`},'&[data-state="closed"]':{animation:`${_u} 300ms ease-out`}}),Ou=Su,Lu=xe(Iu,{position:"relative"});xe("button",{WebkitAppearance:"none",MozAppearance:"none",background:"transparent",border:"none",cursor:"pointer",color:o.colors.gray500,borderRadius:o.radii.full,transition:"color 0.2s",lineHeight:0,padding:0,"&:focus-visible":{outline:`3px solid ${o.colors.purple300}`,background:o.colors.gray50}});const Pu=xe("nav",{display:"flex",flexDirection:"column",px:o.space[5]}),Mu=xe("a",{color:o.colors.gray500,display:"flex",alignItems:"center",flex:1,cursor:"pointer",py:o.space[2],px:10,borderRadius:o.radii.sm,mb:o.space[1],height:36,transition:"color 0.2s, background 0.2s",width:"100%",svg:{flexShrink:0},"&:hover":{background:o.colors.gray100},"&:focus-visible":{outline:"none",background:o.colors.gray100},variants:{showHotspot:{true:{"&::after":{content:"",height:"10px",width:"10px",background:o.colors.orange500,border:"2px solid #FFD5C6",borderRadius:"100%",flex:"0 0 auto"}}},active:{true:{background:o.colors.gray200,color:o.colors.gray700,"&:hover":{background:o.colors.gray200},svg:{fill:o.colors.gray300,stroke:"transparent"}}},disabled:{true:{cursor:"not-allowed",color:o.colors.gray300,"&:hover":{background:"none"},svg:{color:o.colors.gray300}}}}}),Nu=xe("div",{width:"100%",borderTop:"1px solid $gray100",my:o.space[2]}),ar=xe(M,{position:"absolute",opacity:1,transition:"opacity 150ms ease-out"}),cr=xe(M,{position:"absolute",opacity:0,transition:"opacity 150ms ease-out"}),Fu=xe(U,{height:o.space[1],width:o.space[1],background:o.colors.orange500,borderRadius:o.radii.full,position:"relative","&:before":{content:'""',display:"block",height:12,width:12,background:o.colors.orange500,opacity:.15,borderRadius:o.radii.full,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},"&:after":{content:'""',display:"block",height:o.space[2],width:o.space[2],background:o.colors.orange500,opacity:.3,borderRadius:o.radii.full,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}}),Bu=()=>N.jsx(M,{alignItems:"center",css:{width:12,height:12},justifyContent:"center",children:N.jsx(Fu,{})}),Du=Bu,Bt=e=>N.jsx(Pu,{...e}),ua=hn.forwardRef((e,n)=>{const{action:r,children:s,disabled:i=!1,icon:c,isActive:d,css:x,indented:p,depth:f,showHotspot:w,onClick:j,...R}=e,v=S=>{if(i){S.preventDefault();return}j&&j(S)};return N.jsx(U,{css:{width:"100%"},children:N.jsx(Mu,{active:d,css:{...x},disabled:i,onClick:v,ref:n,tabIndex:0,...R,children:N.jsxs(M,{alignItems:"center",css:{paddingLeft:p?`calc(12px * ${f||1})`:0,width:"100%"},gap:"2",children:[c&&N.jsx(M,{css:{height:"24px",width:"24px",alignItems:"center",justifyContent:"center",flexShrink:0},children:c}),N.jsx(K,{css:{color:"currentColor",width:"100%",textAlign:"left"},size:2,truncate:!0,weight:"med",children:N.jsxs(M,{alignItems:"center",justifyContent:"between",children:[s,r||null,w?N.jsx(Du,{}):null]})})]})})})}),Uu=hn.forwardRef((e,n)=>{const{children:r,isActive:s,expanded:i=!1,rootItem:c,...d}=e,[x,p]=g.useState(i);g.useEffect(()=>{i&&p(i)},[i]);const f=()=>N.jsx(Ou,{asChild:!0,children:N.jsxs(M,{css:{width:"24px",height:"24px",position:"relative","&:hover":{[`${ar}`]:{opacity:.001,transitionDelay:"0ms"},[`${cr}`]:{opacity:.999,transitionDelay:"0ms"}}},"data-testid":`${e["data-testid"]}.expand`,onClick:w=>{w.stopPropagation(),w.preventDefault(),p(j=>!j)},children:[N.jsx(cr,{children:N.jsx(Be,{"aria-label":"expand",size:"sm",children:N.jsx(ta,{className:la(),"data-state":x?"open":"closed",size:16})})}),N.jsx(ar,{css:{pointerEvents:"none"},children:N.jsx(Be,{"aria-label":"expand",size:"sm",children:e.icon})})]})});return N.jsxs(Lu,{defaultOpen:i,open:x,children:[N.jsx(ua,{isActive:s,...d,css:{"&:hover":{[`& ${ar}`]:{opacity:0,transitionDelay:"300ms"},[`& ${cr}`]:{opacity:1,transitionDelay:"300ms"}}},icon:f(),ref:n,children:N.jsx(M,{alignItems:"center",gap:"1",children:c})}),N.jsx(Au,{children:r})]})}),zu=e=>{const{children:n,css:r}=e;return N.jsx(M,{alignItems:"center",css:{height:38,px:o.space[2]},children:N.jsx(K,{css:{color:o.colors.gray600,...r},size:"2",weight:"med",children:n})})};Bt.Item=ua;Bt.Collapsible=Uu;Bt.Divider=Nu;Bt.Header=zu;Bt.CollapsibleIconWrapper=ar;Bt.ExpandedIconWrapper=cr;Bt.RotateIcon=la();const Ni=Bt;function Wu(){if(window.crypto.randomUUID)return window.crypto.randomUUID();const e=new Uint32Array(1);return`${window.crypto.getRandomValues(e)[0]}`}const da=g.createContext(void 0),Gu=()=>{const[e,n]=g.useState([]),r=g.useCallback(p=>{const f={...p,id:p.id||Wu()};n(w=>w.find(j=>j.id===f.id)?w:[f,...w])},[]),s=g.useCallback(()=>{n(p=>{const f=[...p];return f.pop(),f})},[]),i=g.useCallback(p=>{n(f=>f.map(w=>w.id===p.id?{...w,...p}:w))},[]),c=g.useCallback(p=>{n(f=>f.filter(w=>w.id!==p))},[]),d=g.useCallback(()=>e[e.length-1],[e]),x=g.useCallback(()=>{n([])},[]);return g.useEffect(()=>()=>n([]),[]),{add:r,clear:x,peek:d,pop:s,remove:c,toasts:e,update:i}},Hu=hn.memo(e=>{const{children:n}=e,{toasts:r,add:s,clear:i,peek:c,pop:d,remove:x,update:p}=Gu();return N.jsx(da.Provider,{value:{toasts:r,add:s,clear:i,peek:c,pop:d,remove:x,update:p},children:n})}),Vu=()=>{const e=g.useContext(da);if(e===void 0)throw new Error("useToast must be used within a ToastProvider");return e},ha=Vu,ns=e=>{let n=o.colors.white.value;return(e==="indeterminate"||e==="disabled")&&(n=o.colors.gray400.value),e==="indeterminate"?`url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' fill='${encodeURIComponent(n)}' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='8' height='2' x='4' y='7' rx='1'/%3E%3C/svg%3E")`:`url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='${encodeURIComponent(n)}' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e")`},Xu=xe("input",{$$checkboxBackground:o.colors.white,$$checkboxBorderColor:o.colors.gray300,$$color:"red",WebkitAppearance:"none",MozAppearance:"none",flexShrink:0,size:o.space[4],display:"inline-block",position:"relative",margin:0,cursor:"pointer",borderRadius:o.radii.xs,border:"1px solid $$checkboxBorderColor",background:"$$checkboxBackground","&:checked":{backgroundImage:ns(),$$checkboxBackground:o.colors.purple500,$$checkboxBorderColor:o.colors.purple500},"&:indeterminate":{backgroundImage:ns("indeterminate"),$$checkboxBackground:o.colors.gray500,$$checkboxBorderColor:o.colors.gray600},"&:disabled":{backgroundImage:ns("disabled"),cursor:"not-allowed",opacity:"0.5","&:checked":{$$checkboxBackground:o.colors.gray200,$$checkboxBorderColor:o.colors.gray200},"&:indeterminate":{$$checkboxBackground:o.colors.gray200,$$checkboxBorderColor:o.colors.gray200}},"&:focus-visible":{outline:`2px solid ${o.colors.purple300}`,outlineOffset:"0px"}}),fa=hn.forwardRef((e,n)=>{const{id:r,checked:s,disabled:i,required:c,...d}=e,x=zc(),p={isRequired:!!(c||x!=null&&x.isRequired),isDisabled:!!(i||x!=null&&x.isDisabled)},f=r||x?.inputId,w=()=>{if(x!=null&&x.hasErrorMessage||x!=null&&x.hasHelperText)return x?.descriptionId};return N.jsx(Xu,{"aria-checked":s,"aria-describedby":w(),checked:s,disabled:p.isDisabled,id:f,ref:n,required:p.isRequired,...d,role:"checkbox",type:"checkbox"})});fa.displayName="Checkbox";const On=fa;function Yu(e){const n=Rr(()=>In(e)),{isStatic:r}=g.useContext(ll);if(r){const[,s]=g.useState(e);g.useEffect(()=>n.on("change",s),[])}return n}const Zu=e=>typeof e=="object"&&e.mix,qu=e=>Zu(e)?e.mix:void 0;function Qu(...e){const n=!Array.isArray(e[0]),r=n?0:-1,s=e[0+r],i=e[1+r],c=e[2+r],d=e[3+r],x=Go(i,c,{mixer:qu(c[0]),...d});return n?x(s):x}function pa(e,n){const r=Yu(n()),s=()=>r.set(n());return s(),Ps(()=>{const i=()=>Sn.update(s,!1,!0),c=e.map(d=>d.on("change",i));return()=>{c.forEach(d=>d()),Ho(s)}}),r}function Ku(e){ts.current=[],e();const n=pa(ts.current,e);return ts.current=void 0,n}function Fi(e,n,r,s){if(typeof e=="function")return Ku(e);const i=typeof n=="function"?n:Qu(n,r,s);return Array.isArray(e)?Bi(e,i):Bi([e],([c])=>i(c))}function Bi(e,n){const r=Rr(()=>[]);return pa(e,()=>{r.length=0;const s=e.length;for(let i=0;i<s;i++)r[i]=e[i].get();return n(r)})}const lr=new WeakMap;let Ft;function Ju(e,n){if(n){const{inlineSize:r,blockSize:s}=n[0];return{width:r,height:s}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function ed({target:e,contentRect:n,borderBoxSize:r}){var s;(s=lr.get(e))===null||s===void 0||s.forEach(i=>{i({target:e,contentSize:n,get size(){return Ju(e,r)}})})}function td(e){e.forEach(ed)}function nd(){typeof ResizeObserver>"u"||(Ft=new ResizeObserver(td))}function rd(e,n){Ft||nd();const r=Wc(e);return r.forEach(s=>{let i=lr.get(s);i||(i=new Set,lr.set(s,i)),i.add(n),Ft?.observe(s)}),()=>{r.forEach(s=>{const i=lr.get(s);i?.delete(n),i?.size||Ft?.unobserve(s)})}}const ur=new Set;let _n;function sd(){_n=()=>{const e={width:window.innerWidth,height:window.innerHeight},n={target:window,size:e,contentSize:e};ur.forEach(r=>r(n))},window.addEventListener("resize",_n)}function id(e){return ur.add(e),_n||sd(),()=>{ur.delete(e),!ur.size&&_n&&(_n=void 0)}}function od(e,n){return typeof e=="function"?id(e):rd(e,n)}const ad=50,Di=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),cd=()=>({time:0,x:Di(),y:Di()}),ld={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Ui(e,n,r,s){const i=r[n],{length:c,position:d}=ld[n],x=i.current,p=r.time;i.current=e["scroll"+d],i.scrollLength=e["scroll"+c]-e["client"+c],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=ul(0,i.scrollLength,i.current);const f=s-p;i.velocity=f>ad?0:dl(i.current-x,f)}function ud(e,n,r){Ui(e,"x",n,r),Ui(e,"y",n,r),n.time=r}function dd(e,n){const r={x:0,y:0};let s=e;for(;s&&s!==n;)if(s instanceof HTMLElement)r.x+=s.offsetLeft,r.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const i=s.getBoundingClientRect();s=s.parentElement;const c=s.getBoundingClientRect();r.x+=i.left-c.left,r.y+=i.top-c.top}else if(s instanceof SVGGraphicsElement){const{x:i,y:c}=s.getBBox();r.x+=i,r.y+=c;let d=null,x=s.parentNode;for(;!d;)x.tagName==="svg"&&(d=x),x=s.parentNode;s=d}else break;return r}const hd={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Is={start:0,center:.5,end:1};function zi(e,n,r=0){let s=0;if(Is[e]!==void 0&&(e=Is[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?s=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?s=i/100*document.documentElement.clientWidth:e.endsWith("vh")?s=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(s=n*e),r+s}const fd=[0,0];function pd(e,n,r,s){let i=Array.isArray(e)?e:fd,c=0,d=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,Is[e]?e:"0"]),c=zi(i[0],r,s),d=zi(i[1],n),c-d}const md={x:0,y:0};function gd(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function vd(e,n,r){let{offset:s=hd.All}=r;const{target:i=e,axis:c="y"}=r,d=c==="y"?"height":"width",x=i!==e?dd(i,e):md,p=i===e?{width:e.scrollWidth,height:e.scrollHeight}:gd(i),f={width:e.clientWidth,height:e.clientHeight};n[c].offset.length=0;let w=!n[c].interpolate;const j=s.length;for(let R=0;R<j;R++){const v=pd(s[R],f[d],p[d],x[c]);!w&&v!==n[c].interpolatorOffsets[R]&&(w=!0),n[c].offset[R]=v}w&&(n[c].interpolate=Go(n[c].offset,hl(s)),n[c].interpolatorOffsets=[...n[c].offset]),n[c].progress=n[c].interpolate(n[c].current)}function xd(e,n=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,n!==e){let s=n;for(;s&&s!==e;)r.x.targetOffset+=s.offsetLeft,r.y.targetOffset+=s.offsetTop,s=s.offsetParent}r.x.targetLength=n===e?n.scrollWidth:n.clientWidth,r.y.targetLength=n===e?n.scrollHeight:n.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function yd(e,n,r,s={}){return{measure:()=>xd(e,s.target,r),update:i=>{ud(e,r,i),(s.offset||s.target)&&vd(e,r,s)},notify:()=>n(r)}}const $n=new WeakMap,Wi=new WeakMap,rs=new WeakMap,Gi=e=>e===document.documentElement?window:e;function bd(e,{container:n=document.documentElement,...r}={}){let s=rs.get(n);s||(s=new Set,rs.set(n,s));const i=cd(),c=yd(n,e,i,r);if(s.add(c),!$n.has(n)){const x=()=>{for(const R of s)R.measure()},p=()=>{for(const R of s)R.update(fl.timestamp)},f=()=>{for(const R of s)R.notify()},w=()=>{Sn.read(x,!1,!0),Sn.update(p,!1,!0),Sn.update(f,!1,!0)};$n.set(n,w);const j=Gi(n);window.addEventListener("resize",w,{passive:!0}),n!==document.documentElement&&Wi.set(n,od(n,w)),j.addEventListener("scroll",w,{passive:!0})}const d=$n.get(n);return Sn.read(d,!1,!0),()=>{var x;Ho(d);const p=rs.get(n);if(!p||(p.delete(c),p.size))return;const f=$n.get(n);$n.delete(n),f&&(Gi(n).removeEventListener("scroll",f),(x=Wi.get(n))===null||x===void 0||x(),window.removeEventListener("resize",f))}}function Hi(e,n){pl(!!(!n||n.current))}const wd=()=>({scrollX:In(0),scrollY:In(0),scrollXProgress:In(0),scrollYProgress:In(0)});function jd({container:e,target:n,layoutEffect:r=!0,...s}={}){const i=Rr(wd);return(r?Ps:g.useEffect)(()=>(Hi("target",n),Hi("container",e),bd(({x:d,y:x})=>{i.scrollX.set(d.current),i.scrollXProgress.set(d.progress),i.scrollY.set(x.current),i.scrollYProgress.set(x.progress)},{...s,container:e?.current||void 0,target:n?.current||void 0})),[e,n,JSON.stringify(s.offset)]),i}function Cd(e){e.values.forEach(n=>n.stop())}function Ed(){const e=new Set,n={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,s){const i=[];return e.forEach(c=>{i.push(ml(c,r,{transitionOverride:s}))}),Promise.all(i)},set(r){return e.forEach(s=>{gl(s,r)})},stop(){e.forEach(r=>{Cd(r)})},mount(){return()=>{n.stop()}}};return n}function $d(){const e=Rr(Ed);return Ps(e.mount,[]),e}const ma=$d,Vi={hide:{opacity:0},show:{opacity:1}},Rd=g.forwardRef((e,n)=>{var r,s,i,c,d,x;const{comment:p,onDelete:f,showDelete:w}=e,j=((r=p.text)==null?void 0:r.split(`
`))??[],[R,v]=g.useState(!1),[S,z]=g.useState(!1),Z=g.useRef(null),q=/(https?:\/\/[^\s]+)/g,I=()=>{v(!0)},B=()=>{f?.(p.id)};return g.useEffect(()=>{!S&&R&&v(!1)},[S,R]),N.jsxs(M,{alignItems:"start",css:{px:12,py:o.space[2],borderRadius:o.radii.xs,outline:"none","&:focus-visible":{bg:o.colors.gray100},"&:focus-within":{bg:o.colors.gray100}},"data-comment-id":p.id,gap:"2",onBlur:()=>{setTimeout(()=>{(!document.activeElement||!document.activeElement.closest(`[data-comment-id="${p.id}"]`))&&z(!1)},0)},onFocus:()=>{z(!0)},onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),ref:n,tabIndex:0,children:[N.jsx(ea,{firstName:(s=p.user)==null?void 0:s.firstName,id:p.userTrackingId,lastName:(i=p.user)==null?void 0:i.lastName,profilePicture:(c=p.user)==null?void 0:c.profilePictureURL,size:"md"}),N.jsxs(M,{css:{width:"100%"},direction:"column",gap:"1",children:[N.jsxs(fn,{align:"center",css:{position:"relative",gridTemplateColumns:"1fr 28px"},justify:"between",children:[N.jsxs(K,{css:{color:o.colors.gray700},size:"2",truncate:!0,weight:"med",children:[(d=p.user)==null?void 0:d.firstName," ",(x=p.user)==null?void 0:x.lastName,N.jsx(K,{css:{color:o.colors.gray500,ml:o.space[2]},size:"1",children:Gc(p.createdAt)})]}),N.jsx(U,{css:{position:"relative",height:"100%",width:28},children:w?N.jsx(Le,{initial:!1,children:R?N.jsx(U,{animate:"show",as:ge.div,css:{position:"absolute",top:-4,right:-4,width:62},exit:"hide",initial:"hide",variants:Vi,children:N.jsx(be,{autoFocus:!0,"data-testid":`delete-comment-confirm-${p.id}`,onClick:B,ref:Z,size:"sm",variant:"danger",children:"Delete?"})},"0"):N.jsx(U,{animate:S?"show":"hide",as:ge.div,css:{position:"absolute",bg:o.colors.white,border:`1px solid ${o.colors.gray200}`,borderRadius:o.radii.xs,boxShadow:"0px 1px 2px 0px rgba(37, 31, 45, 0.05)",px:o.space[1],top:-2,right:-4},exit:"hide",initial:"hide",variants:Vi,children:N.jsx(Pe,{content:"Delete",side:"top",children:N.jsx(Be,{"aria-label":"delete-comment","data-testid":`delete-comment-${p.id}`,onClick:I,size:"sm",children:N.jsx(Bo,{})})})},"1")}):null})]}),j.map((L,G)=>N.jsx(K,{as:"p",css:{color:o.colors.gray600,m:0,wordBreak:"break-word"},size:"2",children:L.split(q).map((Y,H)=>Y.match(q)?N.jsx(K,{as:"a",css:{color:o.colors.blue500,textDecoration:"underline"},href:encodeURI(Y),rel:"noreferrer",size:"2",target:"_blank",children:Y},`${p.id}-paragraph-${H}-link`):Y)},`${p.id}-paragraph-${G}`))]})]})}),Id=Rd,Sd=g.forwardRef((e,n)=>{const{children:r,...s}=e;return N.jsx(U,{"aria-label":"Comment List",css:{position:"relative",overflowY:"auto",backgroundImage:`linear-gradient(to top, ${o.colors.white}, ${o.colors.white}), 
    linear-gradient(to top, ${o.colors.white}, ${o.colors.white}),
    linear-gradient(to top, rgba(243, 242, 243, 0.9), rgba(255, 255, 255, 0.9)), 
    linear-gradient(to bottom, rgba(243, 242, 243, 0.9), rgba(255, 255, 255, 0.9))`,backgroundPosition:"bottom center, top center, bottom center, top center",backgroundRepeat:"no-repeat",backgroundSize:"100% 32px, 100% 32px",backgroundAttachment:"local, local, scroll, scroll",maxHeight:300,"&:focus-visible":{outline:`3px solid ${o.colors.purple300}`,outlineOffset:-3}},ref:n,tabIndex:0,...s,children:N.jsx(M,{css:{py:o.space[1],px:o.space[1]},direction:"column",gap:"2",children:r})})}),Td=Sd,kd=xe(U,{position:"relative",borderRadius:o.radii.sm,$$borderColor:o.colors.gray200,$$outlineColor:"transparent",borderColor:"$$borderColor",borderWidth:1,borderStyle:"solid",pt:8,pb:4,px:8,outline:"2px solid $$outlineColor",outlineOffset:"0px",variants:{isFocused:{true:{$$borderColor:o.colors.primary500,$$outlineColor:o.colors.primary300,".showOnFocus":{opacity:1,visibility:"visible"}}},isInvalid:{true:{$$borderColor:o.colors.red500,$$outlineColor:o.colors.red300}}},compoundVariants:[{isFocused:!0,isInvalid:!0,css:{$$borderColor:o.colors.red500,$$outlineColor:o.colors.red300}}]}),_d=16,Ad=e=>{const{autoFocus:n,user:r,onCancel:s,onSubmit:i,isDisabled:c,...d}=e,[x,p]=g.useState(!1),[f,w]=g.useState(""),[j,R]=g.useState(!1),v=g.useRef(null),S=g.useRef(null),z=I=>{R(!1),w(I.target.value)},Z=g.useCallback(async()=>{if(R(!1),f.trim().length>0)try{await i(f),w("")}catch{R(!0)}},[i,f]);g.useLayoutEffect(()=>{v.current&&(v.current.style.height="inherit",v.current.style.height=`${Math.max(v.current.scrollHeight,_d)}px`)},[f]),g.useEffect(()=>{const I=B=>{B.key==="Enter"&&B.metaKey&&x&&(B.preventDefault(),Z())};return window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I)}},[Z,x]);const q=()=>{w(""),p(!1),s()};return N.jsxs(M,{alignItems:"start",css:{px:o.space[4],pt:o.space[4],pb:20},gap:"2",style:{pointerEvents:c?"none":"auto",opacity:c?.5:1,cursor:c?"not-allowed":"auto"},...d,children:[N.jsx(U,{css:{mt:o.space[1]},children:N.jsx(ea,{firstName:r.firstName,id:r.id,lastName:r.lastName,profilePicture:r.profilePictureURL,size:"md"})}),N.jsxs(U,{css:{flex:1},children:[N.jsxs(kd,{className:"wrapper",isFocused:x,isInvalid:j,onBlur:()=>{setTimeout(()=>{(!document.activeElement||!document.activeElement.closest(".wrapper"))&&p(!1)},0)},onFocus:()=>{p(!0)},ref:S,children:[N.jsx(U,{as:"textarea",autoFocus:n,css:{resize:"none",fontSize:o.fontSizes[2],fontFamily:"$sans",color:o.colors.gray700,width:"100%",outline:"none",border:"none",p:0,minHeight:14,maxHeight:200,"&::placeholder":{color:o.colors.gray300}},disabled:c,onChange:z,onFocus:()=>{p(!0)},placeholder:"Add a comment",ref:v,rows:1,value:f}),N.jsxs(M,{alignItems:"center",css:{transition:"opacity 0.3s ease-in-out, height 0.2s ease-in-out"},gap:"2",justifyContent:"end",style:{opacity:x?1:0,height:x?26:0,visibility:x?"visible":"hidden"},children:[N.jsx(be,{disabled:c,onClick:q,size:"sm",variant:"text",children:"Cancel"}),N.jsx(be,{disabled:c,onClick:Z,size:"sm",variant:"primary",children:"Comment"})]})]}),j?N.jsx(K,{css:{color:o.colors.red600},size:"1",children:"We couldnâ€™t post your comment. Try again."}):null]})]})},Od=Ad,Mn=()=>null;Mn.displayName="Comment";Mn.List=Td;Mn.Composer=Od;Mn.Item=Id;const on=Mn;function ss(e,n,r,s){return new(r||(r=Promise))(function(i,c){function d(f){try{p(s.next(f))}catch(w){c(w)}}function x(f){try{p(s.throw(f))}catch(w){c(w)}}function p(f){var w;f.done?i(f.value):(w=f.value,w instanceof r?w:new r(function(j){j(w)})).then(d,x)}p((s=s.apply(e,n||[])).next())})}const Ld=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","sgx 543","sgx543"];function Xi(e){return e=e.toLowerCase().replace(/.*angle ?\((.+)\)(?: on vulkan [0-9.]+)?$/i,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"").replace(/(?:vulkan|opengl) \d+\.\d+(?:\.\d+)?(?: \((.*)\))?/,"$1")}const ga=typeof window>"u",Ct=(()=>{if(ga)return;const{userAgent:e,platform:n,maxTouchPoints:r}=window.navigator,s=/(iphone|ipod|ipad)/i.test(e),i=n==="iPad"||n==="MacIntel"&&r>0&&!window.MSStream;return{isIpad:i,isMobile:/android/i.test(e)||s||i,isSafari12:/Version\/12.+Safari/.test(e),isFirefox:/Firefox/.test(e)}})();function Pd(e,n,r){if(!r)return[n];const s=function(f){const w=`
    precision highp float;
    attribute vec3 aPosition;
    varying float vvv;
    void main() {
      vvv = 0.31622776601683794;
      gl_Position = vec4(aPosition, 1.0);
    }
  `,j=`
    precision highp float;
    varying float vvv;
    void main() {
      vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;
      enc = fract(enc);
      enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);
      gl_FragColor = enc;
    }
  `,R=f.createShader(35633),v=f.createShader(35632),S=f.createProgram();if(!(v&&R&&S))return;f.shaderSource(R,w),f.shaderSource(v,j),f.compileShader(R),f.compileShader(v),f.attachShader(S,R),f.attachShader(S,v),f.linkProgram(S),f.detachShader(S,R),f.detachShader(S,v),f.deleteShader(R),f.deleteShader(v),f.useProgram(S);const z=f.createBuffer();f.bindBuffer(34962,z),f.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);const Z=f.getAttribLocation(S,"aPosition");f.vertexAttribPointer(Z,3,5126,!1,0,0),f.enableVertexAttribArray(Z),f.clearColor(1,1,1,1),f.clear(16384),f.viewport(0,0,1,1),f.drawArrays(4,0,3);const q=new Uint8Array(4);return f.readPixels(0,0,1,1,6408,5121,q),f.deleteProgram(S),f.deleteBuffer(z),q.join("")}(e),i="801621810",c="8016218135",d="80162181161",x=Ct!=null&&Ct.isIpad?[["a7",d,12],["a8",c,15],["a8x",c,15],["a9",c,15],["a9x",c,15],["a10",c,15],["a10x",c,15],["a12",i,15],["a12x",i,15],["a12z",i,15],["a14",i,15],["m1",i,15]]:[["a7",d,12],["a8",c,12],["a9",c,15],["a10",c,15],["a11",i,15],["a12",i,15],["a13",i,15],["a14",i,15],["a15",i,15],["a16",i,15],["a17",i,15]];let p;return s==="80162181255"?p=x.filter(([,,f])=>f>=14):(p=x.filter(([,f])=>f===s),p.length||(p=x)),p.map(([f])=>`apple ${f} gpu`)}class Yi extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}const is=[],Zi=[];function Md(e,n){if(e===n)return 0;const r=e;e.length>n.length&&(e=n,n=r);let s=e.length,i=n.length;for(;s>0&&e.charCodeAt(~-s)===n.charCodeAt(~-i);)s--,i--;let c,d=0;for(;d<s&&e.charCodeAt(d)===n.charCodeAt(d);)d++;if(s-=d,i-=d,s===0)return i;let x,p,f=0,w=0,j=0;for(;w<s;)Zi[w]=e.charCodeAt(d+w),is[w]=++w;for(;j<i;)for(c=n.charCodeAt(d+j),x=j++,f=j,w=0;w<s;w++)p=c===Zi[w]?x:x+1,x=is[w],f=is[w]=x>f?p>f?f+1:p:p>x?x+1:p;return f}function Nd(e){return e!=null}const Fd=({mobileTiers:e=[0,15,30,60],desktopTiers:n=[0,15,30,60],override:r={},glContext:s,failIfMajorPerformanceCaveat:i=!1,benchmarksURL:c="https://unpkg.com/detect-gpu@5.0.38/dist/benchmarks"}={})=>ss(void 0,void 0,void 0,function*(){const d={};if(ga)return{tier:0,type:"SSR"};const{isIpad:x=!!(Ct!=null&&Ct.isIpad),isMobile:p=!!(Ct!=null&&Ct.isMobile),screenSize:f=window.screen,loadBenchmarks:w=G=>ss(void 0,void 0,void 0,function*(){const Y=yield fetch(`${c}/${G}`).then(H=>H.json());if(parseInt(Y.shift().split(".")[0],10)<4)throw new Yi("Detect GPU benchmark data is out of date. Please update to version 4x");return Y})}=r;let{renderer:j}=r;const R=(G,Y,H,ie,se)=>({device:se,fps:ie,gpu:H,isMobile:p,tier:G,type:Y});let v,S="";if(j)j=Xi(j),v=[j];else{const G=s||function(H,ie=!1){const se={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:ie,powerPreference:"high-performance",stencil:!1};H&&delete se.powerPreference;const ce=window.document.createElement("canvas");return(ce.getContext("webgl",se)||ce.getContext("experimental-webgl",se))??void 0}(Ct?.isSafari12,i);if(!G)return R(0,"WEBGL_UNSUPPORTED");const Y=Ct!=null&&Ct.isFirefox?null:G.getExtension("WEBGL_debug_renderer_info");if(j=Y?G.getParameter(Y.UNMASKED_RENDERER_WEBGL):G.getParameter(G.RENDERER),!j)return R(1,"FALLBACK");S=j,j=Xi(j),v=function(H,ie,se){return ie==="apple gpu"?Pd(H,ie,se):[ie]}(G,j,p)}const z=(yield Promise.all(v.map(function(G){var Y;return ss(this,void 0,void 0,function*(){const H=(V=>{const ne=p?["adreno","apple","mali-t","mali","nvidia","powervr","samsung"]:["intel","apple","amd","radeon","nvidia","geforce","adreno"];for(const re of ne)if(V.includes(re))return re})(G);if(!H)return;const ie=`${p?"m":"d"}-${H}${x?"-ipad":""}.json`,se=d[ie]=(Y=d[ie])!==null&&Y!==void 0?Y:w(ie);let ce;try{ce=yield se}catch(V){if(V instanceof Yi)throw V;return}const ue=function(V){var ne;const re=(V=V.replace(/\([^)]+\)/,"")).match(/\d+/)||V.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return(ne=re?.join("").replace(/\W|amd/g,""))!==null&&ne!==void 0?ne:""}(G);let C=ce.filter(([,V])=>V===ue);C.length||(C=ce.filter(([V])=>V.includes(G)));const h=C.length;if(h===0)return;const u=G.split(/[.,()\[\]/\s]/g).sort().filter((V,ne,re)=>ne===0||V!==re[ne-1]).join(" ");let m,[E,,,,$]=h>1?C.map(V=>[V,Md(u,V[2])]).sort(([,V],[,ne])=>V-ne)[0][0]:C[0],T=Number.MAX_VALUE;const{devicePixelRatio:A}=window,F=f.width*A*f.height*A;for(const V of $){const[ne,re]=V,ve=ne*re,pe=Math.abs(F-ve);pe<T&&(T=pe,m=V)}if(!m)return;const[,,P,_]=m;return[T,P,E,_]})}))).filter(Nd).sort(([G=Number.MAX_VALUE,Y],[H=Number.MAX_VALUE,ie])=>G===H?Y-ie:G-H);if(!z.length){const G=Ld.find(Y=>j.includes(Y));return G?R(0,"BLOCKLISTED",G):R(1,"FALLBACK",`${j} (${S})`)}const[,Z,q,I]=z[0];if(Z===-1)return R(0,"BLOCKLISTED",q,Z,I);const B=p?e:n;let L=0;for(let G=0;G<B.length;G++)Z>=B[G]&&(L=G);return R(L,"BENCHMARK",q,Z,I)});var va={},Ws={};(function e(n,r,s,i){var c=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL);function d(){}function x(u){var m=r.exports.Promise,E=m!==void 0?m:n.Promise;return typeof E=="function"?new E(u):(u(d,d),null)}var p=function(){var u=Math.floor(16.666666666666668),m,E,$={},T=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(m=function(A){var F=Math.random();return $[F]=requestAnimationFrame(function P(_){T===_||T+u-1<_?(T=_,delete $[F],A()):$[F]=requestAnimationFrame(P)}),F},E=function(A){$[A]&&cancelAnimationFrame($[A])}):(m=function(A){return setTimeout(A,u)},E=function(A){return clearTimeout(A)}),{frame:m,cancel:E}}(),f=function(){var u,m,E={};function $(T){function A(F,P){T.postMessage({options:F||{},callback:P})}T.init=function(F){var P=F.transferControlToOffscreen();T.postMessage({canvas:P},[P])},T.fire=function(F,P,_){if(m)return A(F,null),m;var V=Math.random().toString(36).slice(2);return m=x(function(ne){function re(ve){ve.data.callback===V&&(delete E[V],T.removeEventListener("message",re),m=null,_(),ne())}T.addEventListener("message",re),A(F,V),E[V]=re.bind(null,{data:{callback:V}})}),m},T.reset=function(){T.postMessage({reset:!0});for(var F in E)E[F](),delete E[F]}}return function(){if(u)return u;if(!s&&c){var T=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{u=new Worker(URL.createObjectURL(new Blob([T])))}catch(A){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",A),null}$(u)}return u}}(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function j(u,m){return m?m(u):u}function R(u){return u!=null}function v(u,m,E){return j(u&&R(u[m])?u[m]:w[m],E)}function S(u){return u<0?0:Math.floor(u)}function z(u,m){return Math.floor(Math.random()*(m-u))+u}function Z(u){return parseInt(u,16)}function q(u){return u.map(I)}function I(u){var m=String(u).replace(/[^0-9a-f]/gi,"");return m.length<6&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]),{r:Z(m.substring(0,2)),g:Z(m.substring(2,4)),b:Z(m.substring(4,6))}}function B(u){var m=v(u,"origin",Object);return m.x=v(m,"x",Number),m.y=v(m,"y",Number),m}function L(u){u.width=document.documentElement.clientWidth,u.height=document.documentElement.clientHeight}function G(u){var m=u.getBoundingClientRect();u.width=m.width,u.height=m.height}function Y(u){var m=document.createElement("canvas");return m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=u,m}function H(u,m,E,$,T,A,F,P,_){u.save(),u.translate(m,E),u.rotate(A),u.scale($,T),u.arc(0,0,1,F,P,_),u.restore()}function ie(u){var m=u.angle*(Math.PI/180),E=u.spread*(Math.PI/180);return{x:u.x,y:u.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:u.startVelocity*.5+Math.random()*u.startVelocity,angle2D:-m+(.5*E-Math.random()*E),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:u.color,shape:u.shape,tick:0,totalTicks:u.ticks,decay:u.decay,drift:u.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:u.gravity*3,ovalScalar:.6,scalar:u.scalar}}function se(u,m){m.x+=Math.cos(m.angle2D)*m.velocity+m.drift,m.y+=Math.sin(m.angle2D)*m.velocity+m.gravity,m.wobble+=m.wobbleSpeed,m.velocity*=m.decay,m.tiltAngle+=.1,m.tiltSin=Math.sin(m.tiltAngle),m.tiltCos=Math.cos(m.tiltAngle),m.random=Math.random()+2,m.wobbleX=m.x+10*m.scalar*Math.cos(m.wobble),m.wobbleY=m.y+10*m.scalar*Math.sin(m.wobble);var E=m.tick++/m.totalTicks,$=m.x+m.random*m.tiltCos,T=m.y+m.random*m.tiltSin,A=m.wobbleX+m.random*m.tiltCos,F=m.wobbleY+m.random*m.tiltSin;if(u.fillStyle="rgba("+m.color.r+", "+m.color.g+", "+m.color.b+", "+(1-E)+")",u.beginPath(),m.shape==="circle")u.ellipse?u.ellipse(m.x,m.y,Math.abs(A-$)*m.ovalScalar,Math.abs(F-T)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI):H(u,m.x,m.y,Math.abs(A-$)*m.ovalScalar,Math.abs(F-T)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI);else if(m.shape==="star")for(var P=Math.PI/2*3,_=4*m.scalar,V=8*m.scalar,ne=m.x,re=m.y,ve=5,pe=Math.PI/ve;ve--;)ne=m.x+Math.cos(P)*V,re=m.y+Math.sin(P)*V,u.lineTo(ne,re),P+=pe,ne=m.x+Math.cos(P)*_,re=m.y+Math.sin(P)*_,u.lineTo(ne,re),P+=pe;else u.moveTo(Math.floor(m.x),Math.floor(m.y)),u.lineTo(Math.floor(m.wobbleX),Math.floor(T)),u.lineTo(Math.floor(A),Math.floor(F)),u.lineTo(Math.floor($),Math.floor(m.wobbleY));return u.closePath(),u.fill(),m.tick<m.totalTicks}function ce(u,m,E,$,T){var A=m.slice(),F=u.getContext("2d"),P,_,V=x(function(ne){function re(){P=_=null,F.clearRect(0,0,$.width,$.height),T(),ne()}function ve(){s&&!($.width===i.width&&$.height===i.height)&&($.width=u.width=i.width,$.height=u.height=i.height),!$.width&&!$.height&&(E(u),$.width=u.width,$.height=u.height),F.clearRect(0,0,$.width,$.height),A=A.filter(function(pe){return se(F,pe)}),A.length?P=p.frame(ve):re()}P=p.frame(ve),_=re});return{addFettis:function(ne){return A=A.concat(ne),V},canvas:u,promise:V,reset:function(){P&&p.cancel(P),_&&_()}}}function ue(u,m){var E=!u,$=!!v(m||{},"resize"),T=v(m,"disableForReducedMotion",Boolean),A=c&&!!v(m||{},"useWorker"),F=A?f():null,P=E?L:G,_=u&&F?!!u.__confetti_initialized:!1,V=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ne;function re(pe,dt,nt){for(var De=v(pe,"particleCount",S),$e=v(pe,"angle",Number),Xe=v(pe,"spread",Number),Ke=v(pe,"startVelocity",Number),Me=v(pe,"decay",Number),ze=v(pe,"gravity",Number),We=v(pe,"drift",Number),rt=v(pe,"colors",q),Qe=v(pe,"ticks",Number),Je=v(pe,"shapes"),yt=v(pe,"scalar"),gn=B(pe),Ut=De,Kt=[],it=u.width*gn.x,At=u.height*gn.y;Ut--;)Kt.push(ie({x:it,y:At,angle:$e,spread:Xe,startVelocity:Ke,color:rt[Ut%rt.length],shape:Je[z(0,Je.length)],ticks:Qe,decay:Me,gravity:ze,drift:We,scalar:yt}));return ne?ne.addFettis(Kt):(ne=ce(u,Kt,P,dt,nt),ne.promise)}function ve(pe){var dt=T||v(pe,"disableForReducedMotion",Boolean),nt=v(pe,"zIndex",Number);if(dt&&V)return x(function(Ke){Ke()});E&&ne?u=ne.canvas:E&&!u&&(u=Y(nt),document.body.appendChild(u)),$&&!_&&P(u);var De={width:u.width,height:u.height};F&&!_&&F.init(u),_=!0,F&&(u.__confetti_initialized=!0);function $e(){if(F){var Ke={getBoundingClientRect:function(){if(!E)return u.getBoundingClientRect()}};P(Ke),F.postMessage({resize:{width:Ke.width,height:Ke.height}});return}De.width=De.height=null}function Xe(){ne=null,$&&n.removeEventListener("resize",$e),E&&u&&(document.body.removeChild(u),u=null,_=!1)}return $&&n.addEventListener("resize",$e,!1),F?F.fire(pe,De,Xe):re(pe,De,Xe)}return ve.reset=function(){F&&F.reset(),ne&&ne.reset()},ve}var C;function h(){return C||(C=ue(null,{useWorker:!0,resize:!0})),C}r.exports=function(){return h().apply(this,arguments)},r.exports.reset=function(){h().reset()},r.exports.create=ue})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ws,!1);const Bd=Ws.exports;var Dd=Ws.exports.create;const Ud=Object.freeze(Object.defineProperty({__proto__:null,create:Dd,default:Bd},Symbol.toStringTag,{value:"Module"})),zd=Hc(Ud);var Wd=ln&&ln.__extends||function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])},e(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(n,r);function s(){this.constructor=n}n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Gd=ln&&ln.__rest||function(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)n.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r},xa=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});var Hd=xa(zd),os=xa(hn),Vd=function(e){Wd(n,e);function n(r){var s=e.call(this,r)||this;return s.refCanvas=os.default.createRef(),s.confetti=null,s}return n.prototype.componentDidMount=function(){if(this.refCanvas.current){var r=this.props,s=r.resize,i=r.useWorker,c={resize:typeof s>"u"?!0:s,useWorker:typeof i>"u"?!0:i};this.confetti=Hd.default.create(this.refCanvas.current,c),this.setRefConfetti()}},n.prototype.componentDidUpdate=function(r){var s=this.props,i=s.fire,c=s.reset,d=!!i,x=i!==r.fire;d&&x&&this.fireConfetti();var p=!!c,f=c!==r.reset;p&&f&&this.resetConfetti()},n.prototype.componentWillUnmount=function(){this.unsetRefConfetti()},n.prototype.setRefConfetti=function(){var r=this.props.refConfetti;r&&r(this.confetti)},n.prototype.unsetRefConfetti=function(){var r=this.props.refConfetti;r&&r(null)},n.prototype.fireConfetti=function(){if(this.confetti){var r=this.props,s=r.onFire,i=r.onDecay;r.onReset,r.className,r.style,r.width,r.height,r.refConfetti,r.fire,r.reset;var c=Gd(r,["onFire","onDecay","onReset","className","style","width","height","refConfetti","fire","reset"]);s&&s();var d=this.confetti(c);d&&d.then(function(){i&&i()})}},n.prototype.resetConfetti=function(){if(this.confetti){this.confetti.reset();var r=this.props.onReset;r&&r()}},n.prototype.render=function(){var r=this.props,s=r.style,i=r.className,c=r.width,d=r.height;return os.default.createElement("canvas",{ref:this.refCanvas,style:s,className:i,width:c,height:d})},n}(os.default.Component),qi=va.default=Vd;const Xd=[o.colors.purple500.value,o.colors.purple300.value,o.colors.purple100.value,o.colors.orange500.value],Yd=e=>{const{active:n,onSettle:r,css:s}=e,[i,c]=g.useState(0);g.useEffect(()=>{Fd().then(({tier:p})=>{c(p)})},[c]);const d=g.useCallback(({angle:p,spread:f,origin:w})=>({fire:n&&i>1,angle:p,spread:f,origin:w,startVelocity:70,particleCount:400,decay:.9,gravity:1.2,drift:0,scalar:1,ticks:200,disableForReducedMotion:!0,colors:Xd,onDecay:r}),[n,i,r]),x=Tr({position:"fixed",left:0,right:0,bottom:0,pointerEvents:"none",display:n?"block":"none",width:"100vw",height:"100vh",...s});return N.jsxs(N.Fragment,{children:[N.jsx(qi,{className:x(),...d({angle:120,spread:55,origin:{x:1,y:1.1}})}),N.jsx(qi,{className:x(),...d({angle:60,spread:55,origin:{x:0,y:1.1}})})]})},Zd=Yd;function An(e,n,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return n?.(s)}}function qd(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function ya(...e){return n=>e.forEach(r=>qd(r,n))}function _r(...e){return g.useCallback(ya(...e),e)}function Qd(e,n=[]){let r=[];function s(c,d){const x=g.createContext(d),p=r.length;r=[...r,d];function f(j){const{scope:R,children:v,...S}=j,z=R?.[e][p]||x,Z=g.useMemo(()=>S,Object.values(S));return g.createElement(z.Provider,{value:Z},v)}function w(j,R){const v=R?.[e][p]||x,S=g.useContext(v);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${j}\` must be used within \`${c}\``)}return f.displayName=c+"Provider",[f,w]}const i=()=>{const c=r.map(d=>g.createContext(d));return function(d){const x=d?.[e]||c;return g.useMemo(()=>({[`__scope${e}`]:{...d,[e]:x}}),[d,x])}};return i.scopeName=e,[s,Kd(i,...n)]}function Kd(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const c=s.reduce((d,{useScope:x,scopeName:p})=>{const f=x(i)[`__scope${p}`];return{...d,...f}},{});return g.useMemo(()=>({[`__scope${n.scopeName}`]:c}),[c])}};return r.scopeName=n.scopeName,r}const Ss=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Jd=g.useId||(()=>{});let eh=0;function as(e){const[n,r]=g.useState(Jd());return Ss(()=>{e||r(s=>s??String(eh++))},[e]),e||(n?`radix-${n}`:"")}function ba(e){const n=g.useRef(e);return g.useEffect(()=>{n.current=e}),g.useMemo(()=>(...r)=>{var s;return(s=n.current)===null||s===void 0?void 0:s.call(n,...r)},[])}function th({prop:e,defaultProp:n,onChange:r=()=>{}}){const[s,i]=nh({defaultProp:n,onChange:r}),c=e!==void 0,d=c?e:s,x=ba(r),p=g.useCallback(f=>{if(c){const w=typeof f=="function"?f(e):f;w!==e&&x(w)}else i(f)},[c,e,i,x]);return[d,p]}function nh({defaultProp:e,onChange:n}){const r=g.useState(e),[s]=r,i=g.useRef(s),c=ba(n);return g.useEffect(()=>{i.current!==s&&(c(s),i.current=s)},[s,i,c]),r}function rh(e,n){return g.useReducer((r,s)=>n[r][s]??r,e)}const Ar=e=>{const{present:n,children:r}=e,s=sh(n),i=typeof r=="function"?r({present:s.isPresent}):g.Children.only(r),c=_r(s.ref,i.ref);return typeof r=="function"||s.isPresent?g.cloneElement(i,{ref:c}):null};Ar.displayName="Presence";function sh(e){const[n,r]=g.useState(),s=g.useRef({}),i=g.useRef(e),c=g.useRef("none"),d=e?"mounted":"unmounted",[x,p]=rh(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const f=Jn(s.current);c.current=x==="mounted"?f:"none"},[x]),Ss(()=>{const f=s.current,w=i.current;if(w!==e){const j=c.current,R=Jn(f);e?p("MOUNT"):R==="none"||f?.display==="none"?p("UNMOUNT"):p(w&&j!==R?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,p]),Ss(()=>{if(n){const f=j=>{const R=Jn(s.current).includes(j.animationName);j.target===n&&R&&Lo.flushSync(()=>p("ANIMATION_END"))},w=j=>{j.target===n&&(c.current=Jn(s.current))};return n.addEventListener("animationstart",w),n.addEventListener("animationcancel",f),n.addEventListener("animationend",f),()=>{n.removeEventListener("animationstart",w),n.removeEventListener("animationcancel",f),n.removeEventListener("animationend",f)}}else p("ANIMATION_END")},[n,p]),{isPresent:["mounted","unmountSuspended"].includes(x),ref:g.useCallback(f=>{f&&(s.current=getComputedStyle(f)),r(f)},[])}}function Jn(e){return e?.animationName||"none"}const Gs=g.forwardRef((e,n)=>{const{children:r,...s}=e,i=g.Children.toArray(r),c=i.find(oh);if(c){const d=c.props.children,x=i.map(p=>p===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:p);return g.createElement(Ts,Ve({},s,{ref:n}),g.isValidElement(d)?g.cloneElement(d,void 0,x):null)}return g.createElement(Ts,Ve({},s,{ref:n}),r)});Gs.displayName="Slot";const Ts=g.forwardRef((e,n)=>{const{children:r,...s}=e;return g.isValidElement(r)?g.cloneElement(r,{...ah(s,r.props),ref:n?ya(n,r.ref):r.ref}):g.Children.count(r)>1?g.Children.only(null):null});Ts.displayName="SlotClone";const ih=({children:e})=>g.createElement(g.Fragment,null,e);function oh(e){return g.isValidElement(e)&&e.type===ih}function ah(e,n){const r={...n};for(const s in n){const i=e[s],c=n[s];/^on[A-Z]/.test(s)?i&&c?r[s]=(...d)=>{c(...d),i(...d)}:i&&(r[s]=i):s==="style"?r[s]={...i,...c}:s==="className"&&(r[s]=[i,c].filter(Boolean).join(" "))}return{...e,...r}}const ch=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Nn=ch.reduce((e,n)=>{const r=g.forwardRef((s,i)=>{const{asChild:c,...d}=s,x=c?Gs:n;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(x,Ve({},d,{ref:i}))});return r.displayName=`Primitive.${n}`,{...e,[n]:r}},{});let cs=0;function lh(){g.useEffect(()=>{var e,n;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:Qi()),document.body.insertAdjacentElement("beforeend",(n=r[1])!==null&&n!==void 0?n:Qi()),cs++,()=>{cs===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),cs--}},[])}function Qi(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const wa="Dialog",[ja,Tv]=Qd(wa),[uh,gt]=ja(wa),dh=e=>{const{__scopeDialog:n,children:r,open:s,defaultOpen:i,onOpenChange:c,modal:d=!0}=e,x=g.useRef(null),p=g.useRef(null),[f=!1,w]=th({prop:s,defaultProp:i,onChange:c});return g.createElement(uh,{scope:n,triggerRef:x,contentRef:p,contentId:as(),titleId:as(),descriptionId:as(),open:f,onOpenChange:w,onOpenToggle:g.useCallback(()=>w(j=>!j),[w]),modal:d},r)},hh="DialogTrigger",fh=g.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,i=gt(hh,r),c=_r(n,i.triggerRef);return g.createElement(Nn.button,Ve({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Hs(i.open)},s,{ref:c,onClick:An(e.onClick,i.onOpenToggle)}))}),Ca="DialogPortal",[ph,Ea]=ja(Ca,{forceMount:void 0}),mh=e=>{const{__scopeDialog:n,forceMount:r,children:s,container:i}=e,c=gt(Ca,n);return g.createElement(ph,{scope:n,forceMount:r},g.Children.map(s,d=>g.createElement(Ar,{present:r||c.open},g.createElement(vl,{asChild:!0,container:i},d))))},ks="DialogOverlay",gh=g.forwardRef((e,n)=>{const r=Ea(ks,e.__scopeDialog),{forceMount:s=r.forceMount,...i}=e,c=gt(ks,e.__scopeDialog);return c.modal?g.createElement(Ar,{present:s||c.open},g.createElement(vh,Ve({},i,{ref:n}))):null}),vh=g.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,i=gt(ks,r);return g.createElement(Vc,{as:Gs,allowPinchZoom:!0,shards:[i.contentRef]},g.createElement(Nn.div,Ve({"data-state":Hs(i.open)},s,{ref:n,style:{pointerEvents:"auto",...s.style}})))}),Ln="DialogContent",xh=g.forwardRef((e,n)=>{const r=Ea(Ln,e.__scopeDialog),{forceMount:s=r.forceMount,...i}=e,c=gt(Ln,e.__scopeDialog);return g.createElement(Ar,{present:s||c.open},c.modal?g.createElement(yh,Ve({},i,{ref:n})):g.createElement(bh,Ve({},i,{ref:n})))}),yh=g.forwardRef((e,n)=>{const r=gt(Ln,e.__scopeDialog),s=g.useRef(null),i=_r(n,r.contentRef,s);return g.useEffect(()=>{const c=s.current;if(c)return Xc(c)},[]),g.createElement($a,Ve({},e,{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:An(e.onCloseAutoFocus,c=>{var d;c.preventDefault(),(d=r.triggerRef.current)===null||d===void 0||d.focus()}),onPointerDownOutside:An(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,x=d.button===0&&d.ctrlKey===!0;(d.button===2||x)&&c.preventDefault()}),onFocusOutside:An(e.onFocusOutside,c=>c.preventDefault())}))}),bh=g.forwardRef((e,n)=>{const r=gt(Ln,e.__scopeDialog),s=g.useRef(!1),i=g.useRef(!1);return g.createElement($a,Ve({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var d;if((d=e.onCloseAutoFocus)===null||d===void 0||d.call(e,c),!c.defaultPrevented){var x;s.current||(x=r.triggerRef.current)===null||x===void 0||x.focus(),c.preventDefault()}s.current=!1,i.current=!1},onInteractOutside:c=>{var d,x;(d=e.onInteractOutside)===null||d===void 0||d.call(e,c),c.defaultPrevented||(s.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const p=c.target;!((x=r.triggerRef.current)===null||x===void 0)&&x.contains(p)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}}))}),$a=g.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:c,...d}=e,x=gt(Ln,r),p=g.useRef(null),f=_r(n,p);return lh(),g.createElement(g.Fragment,null,g.createElement(Yc,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:c},g.createElement(xl,Ve({role:"dialog",id:x.contentId,"aria-describedby":x.descriptionId,"aria-labelledby":x.titleId,"data-state":Hs(x.open)},d,{ref:f,onDismiss:()=>x.onOpenChange(!1)}))),!1)}),wh="DialogTitle",jh=g.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,i=gt(wh,r);return g.createElement(Nn.h2,Ve({id:i.titleId},s,{ref:n}))}),Ch="DialogDescription",Eh=g.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,i=gt(Ch,r);return g.createElement(Nn.p,Ve({id:i.descriptionId},s,{ref:n}))}),$h="DialogClose",Rh=g.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,i=gt($h,r);return g.createElement(Nn.button,Ve({type:"button"},s,{ref:n,onClick:An(e.onClick,()=>i.onOpenChange(!1))}))});function Hs(e){return e?"open":"closed"}const Ra=dh,Ia=fh,Sa=mh,Ta=gh,ka=xh,Ih=jh,Sh=Eh,_a=Rh,Th=ut({"0%":{opacity:0},"100%":{opacity:.5}}),kh=ut({from:{transform:"$$transformValue"},to:{transform:"translate3d(0,0,0)"}}),_h=ut({from:{transform:"translate3d(0,0,0)"},to:{transform:"$$transformValue"}}),Ah=xe(Ta,{backgroundColor:"$gray700",opacity:.5,position:"fixed",inset:0,zIndex:"$overlay","@media (prefers-reduced-motion: no-preference)":{animation:`${Th} 600ms cubic-bezier(0.16, 1, 0.3, 1) forwards`}}),Oh=xe(ka,{backgroundColor:"$white",position:"fixed",top:0,bottom:0,height:"100%",width:"100%",zIndex:"$overlay",willChange:"transform",'&[data-state="open"]':{animation:`${kh} 400ms cubic-bezier(0.16, 1, 0.3, 1)`},'&[data-state="closed"]':{animation:`${_h} 400ms cubic-bezier(0.16, 1, 0.3, 1)`},variants:{side:{top:{$$transformValue:"translate3d(0,-100%,0)",maxHeight:"var(--max-height)",bottom:"auto"},right:{$$transformValue:"translate3d(100%,0,0)",right:0,maxWidth:"var(--max-width)"},bottom:{$$transformValue:"translate3d(0,100%,0)",maxHeight:"var(--max-height)",bottom:0,top:"auto"},left:{$$transformValue:"translate3d(-100%,0,0)",left:0,maxWidth:"var(--max-width)"}}},defaultVariants:{side:"left"}}),Lh=g.forwardRef(({children:e,container:n,...r},s)=>N.jsxs(Sa,{container:n,children:[N.jsx(Ah,{}),N.jsx(Oh,{ref:s,...r,children:e})]})),Ph=e=>{const{autoFocus:n=!0,children:r,open:s,onClose:i,onOpen:c,maxHeight:d,maxWidth:x,container:p,css:f={},side:w="left"}=e,j=g.useRef(null),R=Z=>{c&&Z&&c(Z)},v=g.useCallback(Z=>{n||Z==null||Z.preventDefault()},[n]),S=g.useCallback(()=>{i&&i()},[i]),z=g.useMemo(()=>{const Z={...f};return d&&(Z["--max-height"]=`${d}px`),x&&(Z["--max-width"]=`${x}px`),Z},[f,d,x]);return N.jsx(Ra,{onOpenChange:R,open:s,children:N.jsx(Lh,{container:p,css:z,"data-testid":e["data-testid"],onEscapeKeyDown:S,onInteractOutside:S,onOpenAutoFocus:v,onPointerDownOutside:S,ref:j,role:"dialog",side:w,children:r})})},Zt=Ph,Mh=ut({"0%":{opacity:0},"100%":{opacity:.5}}),Nh=ut({"0%":{opacity:.5},"100%":{opacity:0}}),Fh=ut({"0%":{opacity:0,transform:"translate(-50%, -48%) scale(.96)"},"100%":{opacity:1,transform:"translate(-50%, -50%) scale(1)"}}),Bh=ut({"0%":{opacity:1},"100%":{opacity:0}}),Dh=xe(Ta,{backgroundColor:o.colors["gray500-a"],opacity:.5,position:"fixed",inset:0,zIndex:"$overlay","@media (prefers-reduced-motion: no-preference)":{'&[data-state="open"]':{animation:`${Mh} 250ms cubic-bezier(0.16, 1, 0.3, 1) forwards`},'&[data-state="closed"]':{animation:`${Nh} var(--exit-duration, 0ms) ease-in-out forwards`}}}),Uh=xe(ka,{backgroundColor:"white",borderRadius:o.radii.md,boxShadow:o.shadows["2xl"],position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80vw",maxWidth:"var(--max-width)",maxHeight:"90vh",zIndex:"$overlay",padding:o.space[5],"@media (prefers-reduced-motion: no-preference)":{'&[data-state="open"]':{animation:`${Fh} 250ms cubic-bezier(0.16, 1, 0.3, 1)`},'&[data-state="closed"]':{animation:`${Bh} var(--exit-duration, 0ms) ease-in-out forwards`}},"&:focus":{outline:"none"},color:"$gray500",fontFamily:"$sans",fontSize:o.fontSizes[2],lineHeight:"20px"}),zh=xe(U,{mt:o.space[5]}),Wh=xe(_a,{position:"absolute",top:o.space[4],right:o.space[4]}),Gh=xe(U,{display:"flex",alignItems:"center",flexDirection:"row-reverse",width:"100%",gap:o.space[2],marginTop:o.space[5]}),Hh=e=>e&&hn.isValidElement(e)?e.type===Ia:!1,Vh=({children:e,container:n,exitDuration:r,...s})=>{const i=r?{"--exit-duration":`${r}ms`}:{};return N.jsxs(Sa,{container:n,children:[N.jsx(Dh,{style:i}),N.jsx(Uh,{...s,style:i,children:e})]})},Xh=({children:e,...n})=>N.jsx(Sh,{asChild:!0,...n,children:N.jsx(K,{as:"p",css:{color:"$gray700"},size:"3",children:e})}),Yh=({children:e,...n})=>N.jsx(Ih,{asChild:!0,...n,children:N.jsx(ol,{as:"h2",size:"4",weight:"med",children:e})}),Dt=e=>{const{children:n,className:r,maxWidth:s=512,open:i,onClose:c,onOpen:d,role:x="dialog",container:p,css:f={},showCloseButton:w,onEscapeKeyDown:j,onPointerDownOutside:R,exitDuration:v}=e,S=L=>{d&&L&&d(L)},z=g.useCallback(L=>{if(L.target instanceof Element&&L.target.closest("[data-topaz-toast], [data-topaz-select]")){L.preventDefault();return}c&&c()},[c]),Z=L=>{if(j)return j(L);z(L)},q=L=>{if(R)return R(L);z(L)},{match:I,rest:B}=yl(n,Hh);return N.jsxs(Ra,{onOpenChange:S,open:i,children:[I[0],N.jsxs(Vh,{className:r,container:p,css:{"--max-width":`${s}px`,...f},"data-testid":e["data-testid"],exitDuration:v,onEscapeKeyDown:Z,onPointerDownOutside:q,role:x,children:[B,w&&N.jsx(Wh,{asChild:!0,children:N.jsx(Be,{"aria-label":"close-modal","data-testid":`${e["data-testid"]}.closeButton`,onClick:z,children:N.jsx(Ir,{})})})]})]})};Dt.Actions=Gh;Dt.Content=zh;Dt.Description=Xh;Dt.Title=Yh;Dt.Trigger=Ia;Dt.Close=_a;Dt.displayName="Modal";const ke=Dt,Zh=xe("span",{fontFamily:o.fonts.serif,fontSpacing:"0.35px",fontWeight:300,fontVariantNumeric:"tabular-nums",variants:{size:{1:{fontSize:o.fontSizes[2],lineHeight:o.leading[1]},2:{fontSize:o.fontSizes[4],lineHeight:o.leading[2]}}},defaultVariants:{size:"1"}}),qh=Zh,Qh=xe(M,{justifyContent:"space-between",borderRadius:o.radii.sm,gap:o.space[4],py:12,pointerEvents:"auto!important","@md":{maxWidth:690},variants:{inverted:{false:{background:o.colors.white,border:"1px solid $gray100",boxShadow:"$md, $md"},true:{background:o.colors.gray700}},size:{sm:{minHeight:56,px:o.space[2]},md:{minHeight:72,px:o.space[4]}}}}),Kh=xe(U,{$$backgroundColor:o.colors.gray300,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:"0",borderRadius:"$full",bg:"$$backgroundColor",border:"2px solid $white",color:o.colors.white,size:"$5",variants:{variant:{default:{$$backgroundColor:o.colors.gray300},danger:{$$backgroundColor:o.colors.red600},success:{$$backgroundColor:o.colors.green500}}},defaultVariants:{variant:"default"}}),Jh=xe(U,{position:"fixed",bottom:o.space[4],left:"50%",right:"0",transform:"translateX(-50%)",zIndex:"$alert",maxHeight:"256px","@md":{maxWidth:690},variants:{size:{sm:{width:"calc(100vw - 24px)"},md:{width:"calc(100vw - 24px)"}}}}),ef=e=>{const{action:n,delay:r,title:s,text:i,variant:c,onClose:d,id:x,inverted:p=!0,hideCloseButton:f=!1,size:w="md"}=e;g.useEffect(()=>{r&&setTimeout(()=>d(),r)},[r,d]);const j={default:null,danger:N.jsx(Vo,{css:{transform:"translateY(-2px)"},size:20}),success:N.jsx(Er,{size:20})},R=()=>typeof n=="function"?n({onClose:d}):n,v=!!i&&!!s,S=v?"start":"center";return N.jsxs(Qh,{alignItems:S,"data-topaz-toast":!0,id:x,inverted:p,role:c==="danger"?"alert":"status",size:w,children:[N.jsxs(M,{alignItems:S,css:{pl:o.space[1]},gap:3,children:[c!=="default"?N.jsx(Kh,{variant:c,children:j[c]}):null,N.jsxs(U,{children:[N.jsx(K,{as:"div",css:{color:p?"$white":"$gray700"},size:w==="md"?3:2,weight:v?"med":"reg",children:s}),N.jsx(K,{as:"div",css:{color:v?p?"$white":"$gray500":p?"$white":"$gray700"},size:w==="md"?3:2,children:i})]})]}),N.jsxs(M,{alignItems:S,css:{flexShrink:0},gap:2,children:[R(),!f&&N.jsx(Be,{"aria-label":"Dismiss toast notification","data-testid":"dismiss-toast",inverted:p,onClick:d,children:N.jsx(Ir,{size:24})})]})]})},tf=ef,nf=({size:e="md"})=>{const{toasts:n,remove:r}=ha(),s=Qt(),i={initial:{x:0,y:s?0:250,opacity:0},animate:{x:0,y:0,opacity:1},dismiss:{y:s?0:250,opacity:0,transition:{duration:.3}}};return N.jsx(Jh,{size:e,children:N.jsx(fn,{gapY:3,justify:"stretch",children:N.jsx(Le,{children:n.map(c=>N.jsx(ge.div,{animate:"animate",exit:"dismiss",initial:"initial",layout:!0,variants:i,children:N.jsx(tf,{...c,onClose:()=>{r(c.id),c.onClose&&c.onClose()},variant:c.variant||"default"})},c.id))})})})},rf=nf,Vs=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",d:"M31.319 18.342H12.702l8.133-8.134a1.68 1.68 0 0 0 0-2.366 1.66 1.66 0 0 0-2.35 0L7.502 18.825c-.65.65-.65 1.7 0 2.35l10.983 10.983c.65.65 1.7.65 2.35 0 .65-.65.65-1.7 0-2.35l-8.133-8.133H31.32c.916 0 1.666-.75 1.666-1.667 0-.916-.75-1.666-1.666-1.666Z"})}),...e});Vs.displayName="IconArrowLeft";const Aa=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",d:"M10 21.667c-.917 0-1.667.75-1.667 1.666C8.333 24.25 9.083 25 10 25s1.667-.75 1.667-1.667c0-.916-.75-1.666-1.667-1.666Zm0 6.666c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667-.75-1.667-1.667-1.667ZM10 15c-.917 0-1.667.75-1.667 1.667 0 .916.75 1.666 1.667 1.666s1.667-.75 1.667-1.666c0-.917-.75-1.667-1.667-1.667Zm-5 .833a.825.825 0 0 0-.833.834c0 .466.366.833.833.833a.825.825 0 0 0 .833-.833.825.825 0 0 0-.833-.834Zm5-7.5c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667-.75-1.667-1.667-1.667ZM35 17.5a.825.825 0 0 0 .833-.833.825.825 0 0 0-.833-.834.825.825 0 0 0-.833.834c0 .466.366.833.833.833Zm-11.667-5.833c.917 0 1.667-.75 1.667-1.667s-.75-1.667-1.667-1.667c-.916 0-1.666.75-1.666 1.667s.75 1.667 1.666 1.667Zm0-5.834A.825.825 0 0 0 24.167 5a.825.825 0 0 0-.834-.833A.825.825 0 0 0 22.5 5c0 .467.367.833.833.833ZM5 22.5a.825.825 0 0 0-.833.833c0 .467.366.834.833.834a.825.825 0 0 0 .833-.834A.825.825 0 0 0 5 22.5Zm11.667 11.667a.825.825 0 0 0-.834.833c0 .467.367.833.834.833A.825.825 0 0 0 17.5 35a.825.825 0 0 0-.833-.833Zm0-28.334A.825.825 0 0 0 17.5 5a.825.825 0 0 0-.833-.833.825.825 0 0 0-.834.833c0 .467.367.833.834.833Zm0 5.834c.916 0 1.666-.75 1.666-1.667s-.75-1.667-1.666-1.667C15.75 8.333 15 9.083 15 10s.75 1.667 1.667 1.667Zm0 9.166a2.497 2.497 0 0 0-2.5 2.5c0 1.384 1.116 2.5 2.5 2.5 1.383 0 2.5-1.116 2.5-2.5 0-1.383-1.117-2.5-2.5-2.5ZM30 21.667c-.917 0-1.667.75-1.667 1.666 0 .917.75 1.667 1.667 1.667s1.667-.75 1.667-1.667c0-.916-.75-1.666-1.667-1.666Zm0 6.666c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667-.75-1.667-1.667-1.667ZM30 15c-.917 0-1.667.75-1.667 1.667 0 .916.75 1.666 1.667 1.666s1.667-.75 1.667-1.666c0-.917-.75-1.667-1.667-1.667Zm0-6.667c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667-.75-1.667-1.667-1.667ZM35 22.5a.825.825 0 0 0-.833.833c0 .467.366.834.833.834a.825.825 0 0 0 .833-.834A.825.825 0 0 0 35 22.5Zm-11.667 5.833c-.916 0-1.666.75-1.666 1.667s.75 1.667 1.666 1.667c.917 0 1.667-.75 1.667-1.667s-.75-1.667-1.667-1.667Zm0 5.834A.825.825 0 0 0 22.5 35c0 .467.367.833.833.833a.825.825 0 0 0 .834-.833.825.825 0 0 0-.834-.833Zm-6.666-20a2.497 2.497 0 0 0-2.5 2.5c0 1.383 1.116 2.5 2.5 2.5 1.383 0 2.5-1.117 2.5-2.5 0-1.384-1.117-2.5-2.5-2.5Zm0 14.166c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667c.916 0 1.666-.75 1.666-1.667s-.75-1.667-1.666-1.667Zm6.666-7.5a2.497 2.497 0 0 0-2.5 2.5c0 1.384 1.117 2.5 2.5 2.5 1.384 0 2.5-1.116 2.5-2.5 0-1.383-1.116-2.5-2.5-2.5Zm0-6.666a2.497 2.497 0 0 0-2.5 2.5c0 1.383 1.117 2.5 2.5 2.5 1.384 0 2.5-1.117 2.5-2.5 0-1.384-1.116-2.5-2.5-2.5Z"})}),...e});Aa.displayName="IconBlur";const Xs=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",d:"M36.667 8.667c0-1.834-1.5-3.334-3.334-3.334H6.668a3.343 3.343 0 0 0-3.333 3.334v20C3.333 30.5 4.833 32 6.667 32H30l5.813 5.813a.5.5 0 0 0 .854-.354V8.667Zm-3.334 21.95-1.95-1.95H6.668v-20h26.666v21.95ZM21.668 12a1.667 1.667 0 1 0-3.334 0v5h-5a1.667 1.667 0 1 0 0 3.333h5v5a1.667 1.667 0 0 0 3.334 0v-5h5a1.667 1.667 0 1 0 0-3.333h-5v-5Z"})}),...e});Xs.displayName="IconChatPlusOutline";const Oa=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",d:"M10 31.667C10 33.5 11.5 35 13.333 35h13.334C28.5 35 30 33.5 30 31.667V15c0-1.833-1.5-3.333-3.333-3.333H13.333A3.343 3.343 0 0 0 10 15v16.667Zm20-25h-4.167L24.65 5.483c-.3-.3-.733-.483-1.167-.483h-6.966c-.434 0-.867.183-1.167.483l-1.183 1.184H10c-.917 0-1.667.75-1.667 1.666C8.333 9.25 9.083 10 10 10h20c.917 0 1.667-.75 1.667-1.667 0-.916-.75-1.666-1.667-1.666Z"})}),...e});Oa.displayName="IconDelete";const Ys=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",d:"M11.667 23.333v10c0 .473-.16.868-.48 1.188-.319.32-.715.479-1.187.479-.472 0-.868-.16-1.187-.48-.32-.319-.48-.714-.48-1.187v-25c0-.472.16-.868.48-1.187.319-.32.715-.48 1.187-.48h11.958A1.6 1.6 0 0 1 23 7.043c.306.25.5.57.583.958L24 10h7.667c.472 0 .868.16 1.187.48.32.319.48.714.48 1.187V25c0 .472-.16.868-.48 1.188-.32.319-.715.479-1.187.479h-8.625A1.6 1.6 0 0 1 22 26.292a1.65 1.65 0 0 1-.583-.959l-.417-2h-9.333Zm12.75 0H30v-10h-7.375a1.6 1.6 0 0 1-1.042-.375A1.65 1.65 0 0 1 21 12l-.417-2h-8.916v10h10.708a1.6 1.6 0 0 1 1.042.375c.305.25.5.57.583.958l.417 2Z"})}),...e});Ys.displayName="IconFlagOutline";const La=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 18.333c0 1.481.644 2.812 1.667 3.727v9.607a5 5 0 0 0 5 5h16.666a5 5 0 0 0 5-5V22.06A4.987 4.987 0 0 0 35 18.333v-1.666a5 5 0 0 0-5-5h-.561a5.832 5.832 0 0 0-5.272-8.334c-1.633 0-3.108.67-4.167 1.751a5.833 5.833 0 0 0-9.438 6.583H10a5 5 0 0 0-5 5v1.666ZM24.167 6.667a2.5 2.5 0 0 0-2.5 2.5v2.5h2.5a2.5 2.5 0 1 0 0-5ZM18.333 15H10c-.92 0-1.667.746-1.667 1.667v1.666C8.333 19.253 9.08 20 10 20h8.333v-5Zm3.334 0v5H30c.92 0 1.667-.746 1.667-1.667v-1.666c0-.92-.747-1.667-1.667-1.667h-8.333Zm-3.334 8.333H10v8.334c0 .92.746 1.666 1.667 1.666h6.666v-10Zm3.334 10v-10H30v8.334c0 .92-.746 1.666-1.667 1.666h-6.666Zm-5.834-21.666h2.5v-2.5a2.5 2.5 0 1 0-2.5 2.5Z",clipRule:"evenodd"})}),...e});La.displayName="IconGiftOutline";const un=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.43 8.213a3.207 3.207 0 0 1 3.208-3.207h25.66a3.207 3.207 0 0 1 3.207 3.207v12.22a1.407 1.407 0 1 1-2.813 0V8.213a.394.394 0 0 0-.394-.394H14.966V30.89h6.592a1.407 1.407 0 0 1 0 2.814H6.638a3.207 3.207 0 0 1-3.207-3.208V8.213Zm9.286 22.677V7.82H6.638a.394.394 0 0 0-.394.393v22.283c0 .218.177.394.394.394h6.078Zm8.979-13.247 1.296-2.873c.296-.64 1.215-.64 1.51 0l1.297 2.89 2.872 1.296a.82.82 0 0 1 0 1.493l-2.888 1.297-1.297 2.872a.82.82 0 0 1-1.494 0l-1.296-2.888-2.872-1.297a.82.82 0 0 1 0-1.494l2.872-1.296Zm8.056 10.532 1.186-2.626a.762.762 0 0 1 1.38 0l1.186 2.642 2.627 1.185a.75.75 0 0 1 0 1.366l-2.642 1.186-1.185 2.627a.75.75 0 0 1-1.366 0l-1.186-2.642-2.627-1.186a.75.75 0 0 1 0-1.366l2.627-1.186Z",clipRule:"evenodd"})}),...e});un.displayName="IconGuidanceOutline";const Pa=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",d:"M20 3.333C10.8 3.333 3.333 10.8 3.333 20c0 9.2 7.467 16.667 16.667 16.667 9.2 0 16.667-7.467 16.667-16.667C36.667 10.8 29.2 3.333 20 3.333Zm0 30C12.65 33.333 6.667 27.35 6.667 20 6.667 12.65 12.65 6.667 20 6.667c7.35 0 13.333 5.983 13.333 13.333 0 7.35-5.983 13.333-13.333 13.333Zm-1.667-5.666a1 1 0 0 1 1-1h1.334a1 1 0 0 1 1 1V29a1 1 0 0 1-1 1h-1.334a1 1 0 0 1-1-1v-1.333Zm2.684-17.6a6.67 6.67 0 0 0-7.384 4.65c-.3.966.434 1.95 1.45 1.95h.334c.683 0 1.233-.484 1.466-1.117.534-1.483 2.117-2.5 3.834-2.133 1.583.333 2.75 1.883 2.616 3.5-.166 2.233-2.7 2.716-4.083 4.8 0 .016-.017.016-.017.033-.016.033-.033.05-.05.083-.15.25-.3.534-.416.834-.017.05-.05.083-.067.133-.017.033-.017.067-.033.117a5.7 5.7 0 0 0-.265 1.086c-.079.547.379.997.931.997h1.334c.552 0 .983-.456 1.133-.988a3.57 3.57 0 0 1 .333-.795c.034-.05.05-.1.084-.15.133-.234.3-.45.466-.65.017-.017.034-.05.05-.067.167-.2.35-.383.55-.567 1.6-1.516 3.767-2.75 3.317-5.933-.4-2.9-2.683-5.35-5.583-5.783Z"})}),...e});Pa.displayName="IconHelpOutline";const Zs=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",d:"M18.333 12.667a1 1 0 0 1 1-1h1.334a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1h-1.334a1 1 0 0 1-1-1v-1.333Zm0 6.666a1 1 0 0 1 1-1h1.334a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-1.334a1 1 0 0 1-1-1v-8Zm1.667-16C10.8 3.333 3.333 10.8 3.333 20c0 9.2 7.467 16.667 16.667 16.667 9.2 0 16.667-7.467 16.667-16.667C36.667 10.8 29.2 3.333 20 3.333Zm0 30C12.65 33.333 6.667 27.35 6.667 20 6.667 12.65 12.65 6.667 20 6.667c7.35 0 13.333 5.983 13.333 13.333 0 7.35-5.983 13.333-13.333 13.333Z"})}),...e});Zs.displayName="IconInfoCircleOutline";const dn=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",d:"M28.667 30.111H11.333c-.794 0-1.444-.65-1.444-1.444V11.333c0-.794.65-1.444 1.444-1.444h7.223c.794 0 1.444-.65 1.444-1.445C20 7.65 19.35 7 18.556 7H9.889A2.888 2.888 0 0 0 7 9.889V30.11C7 31.7 8.3 33 9.889 33H30.11C31.7 33 33 31.7 33 30.111v-8.667C33 20.65 32.35 20 31.556 20c-.795 0-1.445.65-1.445 1.444v7.223c0 .794-.65 1.444-1.444 1.444ZM22.889 8.444c0 .795.65 1.445 1.444 1.445h3.741L14.887 23.077a1.438 1.438 0 0 0 0 2.036 1.438 1.438 0 0 0 2.036 0l13.188-13.187v3.74c0 .795.65 1.445 1.445 1.445.794 0 1.444-.65 1.444-1.444V8.444C33 7.65 32.35 7 31.556 7h-7.223c-.794 0-1.444.65-1.444 1.444Z"})}),...e});dn.displayName="IconLaunch";const qs=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",d:"M16.667 26.667c.916 0 1.666-.75 1.666-1.667V15c0-.917-.75-1.667-1.666-1.667-.917 0-1.667.75-1.667 1.667v10c0 .917.75 1.667 1.667 1.667ZM20 3.333C10.8 3.333 3.333 10.8 3.333 20c0 9.2 7.467 16.667 16.667 16.667 9.2 0 16.667-7.467 16.667-16.667C36.667 10.8 29.2 3.333 20 3.333Zm0 30C12.65 33.333 6.667 27.35 6.667 20 6.667 12.65 12.65 6.667 20 6.667c7.35 0 13.333 5.983 13.333 13.333 0 7.35-5.983 13.333-13.333 13.333Zm3.333-6.666c.917 0 1.667-.75 1.667-1.667V15c0-.917-.75-1.667-1.667-1.667-.916 0-1.666.75-1.666 1.667v10c0 .917.75 1.667 1.666 1.667Z"})}),...e});qs.displayName="IconPauseCircleOutline";const Qs=e=>N.jsx(ot,{icon:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:[N.jsx("path",{fill:"currentColor",d:"M20 3.333C10.8 3.333 3.333 10.8 3.333 20c0 9.2 7.467 16.667 16.667 16.667 9.2 0 16.667-7.467 16.667-16.667C36.667 10.8 29.2 3.333 20 3.333Zm0 30C12.65 33.333 6.667 27.35 6.667 20 6.667 12.65 12.65 6.667 20 6.667c7.35 0 13.333 5.983 13.333 13.333 0 7.35-5.983 13.333-13.333 13.333Z"}),N.jsx("path",{fill:"currentColor",d:"M15.833 15.55v8.9c0 1.317 1.467 2.117 2.567 1.4l6.917-4.45c1.016-.65 1.016-2.15 0-2.8L18.4 14.15c-1.1-.717-2.567.083-2.567 1.4Z"})]}),...e});Qs.displayName="IconPlayCircleOutline";const Ma=e=>N.jsx(ot,{icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:N.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.333 20C3.333 10.8 10.8 3.333 20 3.333c9.2 0 16.667 7.467 16.667 16.667 0 9.2-7.467 16.667-16.667 16.667C10.8 36.667 3.333 29.2 3.333 20Zm17.684-9.933a6.67 6.67 0 0 0-7.384 4.65c-.3.966.434 1.95 1.45 1.95h.334c.683 0 1.233-.484 1.466-1.117.534-1.483 2.117-2.5 3.834-2.133 1.583.333 2.75 1.883 2.616 3.5-.098 1.317-1.02 2.025-2.042 2.812-.712.547-1.473 1.133-2.041 1.988 0 .008-.004.012-.008.016-.005.005-.009.009-.009.017-.008.017-.016.03-.025.042l-.025.041c-.15.25-.3.534-.416.834a.33.33 0 0 1-.034.066.33.33 0 0 0-.033.067c-.01.019-.014.037-.018.06a.53.53 0 0 1-.015.057 5.694 5.694 0 0 0-.265 1.086c-.079.547.379.997.931.997h1.334c.552 0 .983-.456 1.133-.988a3.572 3.572 0 0 1 .375-.87 4.601 4.601 0 0 1 .508-.725.229.229 0 0 0 .025-.034 5.857 5.857 0 0 1 .575-.6c.249-.235.51-.464.774-.694 1.436-1.252 2.923-2.55 2.543-5.239-.4-2.9-2.683-5.35-5.583-5.783Zm-1.684 16.6h1.334a1 1 0 0 1 1 1V29a1 1 0 0 1-1 1h-1.334a1 1 0 0 1-1-1v-1.333a1 1 0 0 1 1-1Z",clipRule:"evenodd"})}),...e});Ma.displayName="IconQuestionCircle";var _s={exports:{}};const sf="2.0.0",Na=256,of=Number.MAX_SAFE_INTEGER||9007199254740991,af=16,cf=Na-6,lf=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Or={MAX_LENGTH:Na,MAX_SAFE_COMPONENT_LENGTH:af,MAX_SAFE_BUILD_LENGTH:cf,MAX_SAFE_INTEGER:of,RELEASE_TYPES:lf,SEMVER_SPEC_VERSION:sf,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ls={};const uf=typeof process=="object"&&ls&&ls.NODE_DEBUG&&/\bsemver\b/i.test(ls.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Lr=uf;(function(e,n){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:i}=Or,c=Lr;n=e.exports={};const d=n.re=[],x=n.safeRe=[],p=n.src=[],f=n.t={};let w=0;const j="[a-zA-Z0-9-]",R=[["\\s",1],["\\d",i],[j,s]],v=z=>{for(const[Z,q]of R)z=z.split(`${Z}*`).join(`${Z}{0,${q}}`).split(`${Z}+`).join(`${Z}{1,${q}}`);return z},S=(z,Z,q)=>{const I=v(Z),B=w++;c(z,B,Z),f[z]=B,p[B]=Z,d[B]=new RegExp(Z,q?"g":void 0),x[B]=new RegExp(I,q?"g":void 0)};S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${j}*`),S("MAINVERSION",`(${p[f.NUMERICIDENTIFIER]})\\.(${p[f.NUMERICIDENTIFIER]})\\.(${p[f.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${p[f.NUMERICIDENTIFIERLOOSE]})\\.(${p[f.NUMERICIDENTIFIERLOOSE]})\\.(${p[f.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${p[f.NUMERICIDENTIFIER]}|${p[f.NONNUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${p[f.NUMERICIDENTIFIERLOOSE]}|${p[f.NONNUMERICIDENTIFIER]})`),S("PRERELEASE",`(?:-(${p[f.PRERELEASEIDENTIFIER]}(?:\\.${p[f.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${p[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[f.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${j}+`),S("BUILD",`(?:\\+(${p[f.BUILDIDENTIFIER]}(?:\\.${p[f.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${p[f.MAINVERSION]}${p[f.PRERELEASE]}?${p[f.BUILD]}?`),S("FULL",`^${p[f.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${p[f.MAINVERSIONLOOSE]}${p[f.PRERELEASELOOSE]}?${p[f.BUILD]}?`),S("LOOSE",`^${p[f.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${p[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${p[f.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${p[f.XRANGEIDENTIFIER]})(?:\\.(${p[f.XRANGEIDENTIFIER]})(?:\\.(${p[f.XRANGEIDENTIFIER]})(?:${p[f.PRERELEASE]})?${p[f.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${p[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[f.XRANGEIDENTIFIERLOOSE]})(?:${p[f.PRERELEASELOOSE]})?${p[f.BUILD]}?)?)?`),S("XRANGE",`^${p[f.GTLT]}\\s*${p[f.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${p[f.GTLT]}\\s*${p[f.XRANGEPLAINLOOSE]}$`),S("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),S("COERCE",`${p[f.COERCEPLAIN]}(?:$|[^\\d])`),S("COERCEFULL",p[f.COERCEPLAIN]+`(?:${p[f.PRERELEASE]})?(?:${p[f.BUILD]})?(?:$|[^\\d])`),S("COERCERTL",p[f.COERCE],!0),S("COERCERTLFULL",p[f.COERCEFULL],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${p[f.LONETILDE]}\\s+`,!0),n.tildeTrimReplace="$1~",S("TILDE",`^${p[f.LONETILDE]}${p[f.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${p[f.LONETILDE]}${p[f.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${p[f.LONECARET]}\\s+`,!0),n.caretTrimReplace="$1^",S("CARET",`^${p[f.LONECARET]}${p[f.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${p[f.LONECARET]}${p[f.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${p[f.GTLT]}\\s*(${p[f.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${p[f.GTLT]}\\s*(${p[f.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${p[f.GTLT]}\\s*(${p[f.LOOSEPLAIN]}|${p[f.XRANGEPLAIN]})`,!0),n.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${p[f.XRANGEPLAIN]})\\s+-\\s+(${p[f.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${p[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${p[f.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(_s,_s.exports);var Fn=_s.exports;const df=Object.freeze({loose:!0}),hf=Object.freeze({}),ff=e=>e?typeof e!="object"?df:e:hf;var Ks=ff;const Ki=/^[0-9]+$/,Fa=(e,n)=>{const r=Ki.test(e),s=Ki.test(n);return r&&s&&(e=+e,n=+n),e===n?0:r&&!s?-1:s&&!r?1:e<n?-1:1},pf=(e,n)=>Fa(n,e);var Ba={compareIdentifiers:Fa,rcompareIdentifiers:pf};const er=Lr,{MAX_LENGTH:Ji,MAX_SAFE_INTEGER:tr}=Or,{safeRe:eo,t:to}=Fn,mf=Ks,{compareIdentifiers:rn}=Ba;let gf=class jt{constructor(n,r){if(r=mf(r),n instanceof jt){if(n.loose===!!r.loose&&n.includePrerelease===!!r.includePrerelease)return n;n=n.version}else if(typeof n!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof n}".`);if(n.length>Ji)throw new TypeError(`version is longer than ${Ji} characters`);er("SemVer",n,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const s=n.trim().match(r.loose?eo[to.LOOSE]:eo[to.FULL]);if(!s)throw new TypeError(`Invalid Version: ${n}`);if(this.raw=n,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>tr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>tr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>tr||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const c=+i;if(c>=0&&c<tr)return c}return i}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(n){if(er("SemVer.compare",this.version,this.options,n),!(n instanceof jt)){if(typeof n=="string"&&n===this.version)return 0;n=new jt(n,this.options)}return n.version===this.version?0:this.compareMain(n)||this.comparePre(n)}compareMain(n){return n instanceof jt||(n=new jt(n,this.options)),rn(this.major,n.major)||rn(this.minor,n.minor)||rn(this.patch,n.patch)}comparePre(n){if(n instanceof jt||(n=new jt(n,this.options)),this.prerelease.length&&!n.prerelease.length)return-1;if(!this.prerelease.length&&n.prerelease.length)return 1;if(!this.prerelease.length&&!n.prerelease.length)return 0;let r=0;do{const s=this.prerelease[r],i=n.prerelease[r];if(er("prerelease compare",r,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return rn(s,i)}while(++r)}compareBuild(n){n instanceof jt||(n=new jt(n,this.options));let r=0;do{const s=this.build[r],i=n.build[r];if(er("build compare",r,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return rn(s,i)}while(++r)}inc(n,r,s){switch(n){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,s),this.inc("pre",r,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,s),this.inc("pre",r,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(s)?1:0;if(!r&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let c=this.prerelease.length;for(;--c>=0;)typeof this.prerelease[c]=="number"&&(this.prerelease[c]++,c=-2);if(c===-1){if(r===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let c=[r,i];s===!1&&(c=[r]),rn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=c):this.prerelease=c}break}default:throw new Error(`invalid increment argument: ${n}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var st=gf;const no=st,vf=(e,n,r=!1)=>{if(e instanceof no)return e;try{return new no(e,n)}catch(s){if(!r)return null;throw s}};var pn=vf;const xf=pn,yf=(e,n)=>{const r=xf(e,n);return r?r.version:null};var bf=yf;const wf=pn,jf=(e,n)=>{const r=wf(e.trim().replace(/^[=v]+/,""),n);return r?r.version:null};var Cf=jf;const ro=st,Ef=(e,n,r,s,i)=>{typeof r=="string"&&(i=s,s=r,r=void 0);try{return new ro(e instanceof ro?e.version:e,r).inc(n,s,i).version}catch{return null}};var $f=Ef;const so=pn,Rf=(e,n)=>{const r=so(e,null,!0),s=so(n,null,!0),i=r.compare(s);if(i===0)return null;const c=i>0,d=c?r:s,x=c?s:r,p=!!d.prerelease.length;if(!!x.prerelease.length&&!p)return!x.patch&&!x.minor?"major":d.patch?"patch":d.minor?"minor":"major";const w=p?"pre":"";return r.major!==s.major?w+"major":r.minor!==s.minor?w+"minor":r.patch!==s.patch?w+"patch":"prerelease"};var If=Rf;const Sf=st,Tf=(e,n)=>new Sf(e,n).major;var kf=Tf;const _f=st,Af=(e,n)=>new _f(e,n).minor;var Of=Af;const Lf=st,Pf=(e,n)=>new Lf(e,n).patch;var Mf=Pf;const Nf=pn,Ff=(e,n)=>{const r=Nf(e,n);return r&&r.prerelease.length?r.prerelease:null};var Bf=Ff;const io=st,Df=(e,n,r)=>new io(e,r).compare(new io(n,r));var vt=Df;const Uf=vt,zf=(e,n,r)=>Uf(n,e,r);var Wf=zf;const Gf=vt,Hf=(e,n)=>Gf(e,n,!0);var Vf=Hf;const oo=st,Xf=(e,n,r)=>{const s=new oo(e,r),i=new oo(n,r);return s.compare(i)||s.compareBuild(i)};var Js=Xf;const Yf=Js,Zf=(e,n)=>e.sort((r,s)=>Yf(r,s,n));var qf=Zf;const Qf=Js,Kf=(e,n)=>e.sort((r,s)=>Qf(s,r,n));var Jf=Kf;const ep=vt,tp=(e,n,r)=>ep(e,n,r)>0;var Pr=tp;const np=vt,rp=(e,n,r)=>np(e,n,r)<0;var ei=rp;const sp=vt,ip=(e,n,r)=>sp(e,n,r)===0;var Da=ip;const op=vt,ap=(e,n,r)=>op(e,n,r)!==0;var Ua=ap;const cp=vt,lp=(e,n,r)=>cp(e,n,r)>=0;var ti=lp;const up=vt,dp=(e,n,r)=>up(e,n,r)<=0;var ni=dp;const hp=Da,fp=Ua,pp=Pr,mp=ti,gp=ei,vp=ni,xp=(e,n,r,s)=>{switch(n){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return hp(e,r,s);case"!=":return fp(e,r,s);case">":return pp(e,r,s);case">=":return mp(e,r,s);case"<":return gp(e,r,s);case"<=":return vp(e,r,s);default:throw new TypeError(`Invalid operator: ${n}`)}};var za=xp;const yp=st,bp=pn,{safeRe:nr,t:rr}=Fn,wp=(e,n)=>{if(e instanceof yp)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;n=n||{};let r=null;if(!n.rtl)r=e.match(n.includePrerelease?nr[rr.COERCEFULL]:nr[rr.COERCE]);else{const p=n.includePrerelease?nr[rr.COERCERTLFULL]:nr[rr.COERCERTL];let f;for(;(f=p.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||f.index+f[0].length!==r.index+r[0].length)&&(r=f),p.lastIndex=f.index+f[1].length+f[2].length;p.lastIndex=-1}if(r===null)return null;const s=r[2],i=r[3]||"0",c=r[4]||"0",d=n.includePrerelease&&r[5]?`-${r[5]}`:"",x=n.includePrerelease&&r[6]?`+${r[6]}`:"";return bp(`${s}.${i}.${c}${d}${x}`,n)};var jp=wp;class Cp{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(n,r)}return this}}var Ep=Cp,us,ao;function xt(){if(ao)return us;ao=1;const e=/\s+/g;class n{constructor(m,E){if(E=i(E),m instanceof n)return m.loose===!!E.loose&&m.includePrerelease===!!E.includePrerelease?m:new n(m.raw,E);if(m instanceof c)return this.raw=m.value,this.set=[[m]],this.formatted=void 0,this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=m.trim().replace(e," "),this.set=this.raw.split("||").map($=>this.parseRange($.trim())).filter($=>$.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const $=this.set[0];if(this.set=this.set.filter(T=>!z(T[0])),this.set.length===0)this.set=[$];else if(this.set.length>1){for(const T of this.set)if(T.length===1&&Z(T[0])){this.set=[T];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let m=0;m<this.set.length;m++){m>0&&(this.formatted+="||");const E=this.set[m];for(let $=0;$<E.length;$++)$>0&&(this.formatted+=" "),this.formatted+=E[$].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(m){const $=((this.options.includePrerelease&&v)|(this.options.loose&&S))+":"+m,T=s.get($);if(T)return T;const A=this.options.loose,F=A?p[f.HYPHENRANGELOOSE]:p[f.HYPHENRANGE];m=m.replace(F,C(this.options.includePrerelease)),d("hyphen replace",m),m=m.replace(p[f.COMPARATORTRIM],w),d("comparator trim",m),m=m.replace(p[f.TILDETRIM],j),d("tilde trim",m),m=m.replace(p[f.CARETTRIM],R),d("caret trim",m);let P=m.split(" ").map(re=>I(re,this.options)).join(" ").split(/\s+/).map(re=>ue(re,this.options));A&&(P=P.filter(re=>(d("loose invalid filter",re,this.options),!!re.match(p[f.COMPARATORLOOSE])))),d("range list",P);const _=new Map,V=P.map(re=>new c(re,this.options));for(const re of V){if(z(re))return[re];_.set(re.value,re)}_.size>1&&_.has("")&&_.delete("");const ne=[..._.values()];return s.set($,ne),ne}intersects(m,E){if(!(m instanceof n))throw new TypeError("a Range is required");return this.set.some($=>q($,E)&&m.set.some(T=>q(T,E)&&$.every(A=>T.every(F=>A.intersects(F,E)))))}test(m){if(!m)return!1;if(typeof m=="string")try{m=new x(m,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(h(this.set[E],m,this.options))return!0;return!1}}us=n;const r=Ep,s=new r,i=Ks,c=Mr(),d=Lr,x=st,{safeRe:p,t:f,comparatorTrimReplace:w,tildeTrimReplace:j,caretTrimReplace:R}=Fn,{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:S}=Or,z=u=>u.value==="<0.0.0-0",Z=u=>u.value==="",q=(u,m)=>{let E=!0;const $=u.slice();let T=$.pop();for(;E&&$.length;)E=$.every(A=>T.intersects(A,m)),T=$.pop();return E},I=(u,m)=>(d("comp",u,m),u=Y(u,m),d("caret",u),u=L(u,m),d("tildes",u),u=ie(u,m),d("xrange",u),u=ce(u,m),d("stars",u),u),B=u=>!u||u.toLowerCase()==="x"||u==="*",L=(u,m)=>u.trim().split(/\s+/).map(E=>G(E,m)).join(" "),G=(u,m)=>{const E=m.loose?p[f.TILDELOOSE]:p[f.TILDE];return u.replace(E,($,T,A,F,P)=>{d("tilde",u,$,T,A,F,P);let _;return B(T)?_="":B(A)?_=`>=${T}.0.0 <${+T+1}.0.0-0`:B(F)?_=`>=${T}.${A}.0 <${T}.${+A+1}.0-0`:P?(d("replaceTilde pr",P),_=`>=${T}.${A}.${F}-${P} <${T}.${+A+1}.0-0`):_=`>=${T}.${A}.${F} <${T}.${+A+1}.0-0`,d("tilde return",_),_})},Y=(u,m)=>u.trim().split(/\s+/).map(E=>H(E,m)).join(" "),H=(u,m)=>{d("caret",u,m);const E=m.loose?p[f.CARETLOOSE]:p[f.CARET],$=m.includePrerelease?"-0":"";return u.replace(E,(T,A,F,P,_)=>{d("caret",u,T,A,F,P,_);let V;return B(A)?V="":B(F)?V=`>=${A}.0.0${$} <${+A+1}.0.0-0`:B(P)?A==="0"?V=`>=${A}.${F}.0${$} <${A}.${+F+1}.0-0`:V=`>=${A}.${F}.0${$} <${+A+1}.0.0-0`:_?(d("replaceCaret pr",_),A==="0"?F==="0"?V=`>=${A}.${F}.${P}-${_} <${A}.${F}.${+P+1}-0`:V=`>=${A}.${F}.${P}-${_} <${A}.${+F+1}.0-0`:V=`>=${A}.${F}.${P}-${_} <${+A+1}.0.0-0`):(d("no pr"),A==="0"?F==="0"?V=`>=${A}.${F}.${P}${$} <${A}.${F}.${+P+1}-0`:V=`>=${A}.${F}.${P}${$} <${A}.${+F+1}.0-0`:V=`>=${A}.${F}.${P} <${+A+1}.0.0-0`),d("caret return",V),V})},ie=(u,m)=>(d("replaceXRanges",u,m),u.split(/\s+/).map(E=>se(E,m)).join(" ")),se=(u,m)=>{u=u.trim();const E=m.loose?p[f.XRANGELOOSE]:p[f.XRANGE];return u.replace(E,($,T,A,F,P,_)=>{d("xRange",u,$,T,A,F,P,_);const V=B(A),ne=V||B(F),re=ne||B(P),ve=re;return T==="="&&ve&&(T=""),_=m.includePrerelease?"-0":"",V?T===">"||T==="<"?$="<0.0.0-0":$="*":T&&ve?(ne&&(F=0),P=0,T===">"?(T=">=",ne?(A=+A+1,F=0,P=0):(F=+F+1,P=0)):T==="<="&&(T="<",ne?A=+A+1:F=+F+1),T==="<"&&(_="-0"),$=`${T+A}.${F}.${P}${_}`):ne?$=`>=${A}.0.0${_} <${+A+1}.0.0-0`:re&&($=`>=${A}.${F}.0${_} <${A}.${+F+1}.0-0`),d("xRange return",$),$})},ce=(u,m)=>(d("replaceStars",u,m),u.trim().replace(p[f.STAR],"")),ue=(u,m)=>(d("replaceGTE0",u,m),u.trim().replace(p[m.includePrerelease?f.GTE0PRE:f.GTE0],"")),C=u=>(m,E,$,T,A,F,P,_,V,ne,re,ve)=>(B($)?E="":B(T)?E=`>=${$}.0.0${u?"-0":""}`:B(A)?E=`>=${$}.${T}.0${u?"-0":""}`:F?E=`>=${E}`:E=`>=${E}${u?"-0":""}`,B(V)?_="":B(ne)?_=`<${+V+1}.0.0-0`:B(re)?_=`<${V}.${+ne+1}.0-0`:ve?_=`<=${V}.${ne}.${re}-${ve}`:u?_=`<${V}.${ne}.${+re+1}-0`:_=`<=${_}`,`${E} ${_}`.trim()),h=(u,m,E)=>{for(let $=0;$<u.length;$++)if(!u[$].test(m))return!1;if(m.prerelease.length&&!E.includePrerelease){for(let $=0;$<u.length;$++)if(d(u[$].semver),u[$].semver!==c.ANY&&u[$].semver.prerelease.length>0){const T=u[$].semver;if(T.major===m.major&&T.minor===m.minor&&T.patch===m.patch)return!0}return!1}return!0};return us}var ds,co;function Mr(){if(co)return ds;co=1;const e=Symbol("SemVer ANY");class n{static get ANY(){return e}constructor(w,j){if(j=r(j),w instanceof n){if(w.loose===!!j.loose)return w;w=w.value}w=w.trim().split(/\s+/).join(" "),d("comparator",w,j),this.options=j,this.loose=!!j.loose,this.parse(w),this.semver===e?this.value="":this.value=this.operator+this.semver.version,d("comp",this)}parse(w){const j=this.options.loose?s[i.COMPARATORLOOSE]:s[i.COMPARATOR],R=w.match(j);if(!R)throw new TypeError(`Invalid comparator: ${w}`);this.operator=R[1]!==void 0?R[1]:"",this.operator==="="&&(this.operator=""),R[2]?this.semver=new x(R[2],this.options.loose):this.semver=e}toString(){return this.value}test(w){if(d("Comparator.test",w,this.options.loose),this.semver===e||w===e)return!0;if(typeof w=="string")try{w=new x(w,this.options)}catch{return!1}return c(w,this.operator,this.semver,this.options)}intersects(w,j){if(!(w instanceof n))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new p(w.value,j).test(this.value):w.operator===""?w.value===""?!0:new p(this.value,j).test(w.semver):(j=r(j),j.includePrerelease&&(this.value==="<0.0.0-0"||w.value==="<0.0.0-0")||!j.includePrerelease&&(this.value.startsWith("<0.0.0")||w.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&w.operator.startsWith(">")||this.operator.startsWith("<")&&w.operator.startsWith("<")||this.semver.version===w.semver.version&&this.operator.includes("=")&&w.operator.includes("=")||c(this.semver,"<",w.semver,j)&&this.operator.startsWith(">")&&w.operator.startsWith("<")||c(this.semver,">",w.semver,j)&&this.operator.startsWith("<")&&w.operator.startsWith(">")))}}ds=n;const r=Ks,{safeRe:s,t:i}=Fn,c=za,d=Lr,x=st,p=xt();return ds}const $p=xt(),Rp=(e,n,r)=>{try{n=new $p(n,r)}catch{return!1}return n.test(e)};var Nr=Rp;const Ip=xt(),Sp=(e,n)=>new Ip(e,n).set.map(r=>r.map(s=>s.value).join(" ").trim().split(" "));var Tp=Sp;const kp=st,_p=xt(),Ap=(e,n,r)=>{let s=null,i=null,c=null;try{c=new _p(n,r)}catch{return null}return e.forEach(d=>{c.test(d)&&(!s||i.compare(d)===-1)&&(s=d,i=new kp(s,r))}),s};var Op=Ap;const Lp=st,Pp=xt(),Mp=(e,n,r)=>{let s=null,i=null,c=null;try{c=new Pp(n,r)}catch{return null}return e.forEach(d=>{c.test(d)&&(!s||i.compare(d)===1)&&(s=d,i=new Lp(s,r))}),s};var Np=Mp;const hs=st,Fp=xt(),lo=Pr,Bp=(e,n)=>{e=new Fp(e,n);let r=new hs("0.0.0");if(e.test(r)||(r=new hs("0.0.0-0"),e.test(r)))return r;r=null;for(let s=0;s<e.set.length;++s){const i=e.set[s];let c=null;i.forEach(d=>{const x=new hs(d.semver.version);switch(d.operator){case">":x.prerelease.length===0?x.patch++:x.prerelease.push(0),x.raw=x.format();case"":case">=":(!c||lo(x,c))&&(c=x);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${d.operator}`)}}),c&&(!r||lo(r,c))&&(r=c)}return r&&e.test(r)?r:null};var Dp=Bp;const Up=xt(),zp=(e,n)=>{try{return new Up(e,n).range||"*"}catch{return null}};var Wp=zp;const Gp=st,Wa=Mr(),{ANY:Hp}=Wa,Vp=xt(),Xp=Nr,uo=Pr,ho=ei,Yp=ni,Zp=ti,qp=(e,n,r,s)=>{e=new Gp(e,s),n=new Vp(n,s);let i,c,d,x,p;switch(r){case">":i=uo,c=Yp,d=ho,x=">",p=">=";break;case"<":i=ho,c=Zp,d=uo,x="<",p="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Xp(e,n,s))return!1;for(let f=0;f<n.set.length;++f){const w=n.set[f];let j=null,R=null;if(w.forEach(v=>{v.semver===Hp&&(v=new Wa(">=0.0.0")),j=j||v,R=R||v,i(v.semver,j.semver,s)?j=v:d(v.semver,R.semver,s)&&(R=v)}),j.operator===x||j.operator===p||(!R.operator||R.operator===x)&&c(e,R.semver))return!1;if(R.operator===p&&d(e,R.semver))return!1}return!0};var ri=qp;const Qp=ri,Kp=(e,n,r)=>Qp(e,n,">",r);var Jp=Kp;const e0=ri,t0=(e,n,r)=>e0(e,n,"<",r);var n0=t0;const fo=xt(),r0=(e,n,r)=>(e=new fo(e,r),n=new fo(n,r),e.intersects(n,r));var s0=r0;const i0=Nr,o0=vt;var a0=(e,n,r)=>{const s=[];let i=null,c=null;const d=e.sort((w,j)=>o0(w,j,r));for(const w of d)i0(w,n,r)?(c=w,i||(i=w)):(c&&s.push([i,c]),c=null,i=null);i&&s.push([i,null]);const x=[];for(const[w,j]of s)w===j?x.push(w):!j&&w===d[0]?x.push("*"):j?w===d[0]?x.push(`<=${j}`):x.push(`${w} - ${j}`):x.push(`>=${w}`);const p=x.join(" || "),f=typeof n.raw=="string"?n.raw:String(n);return p.length<f.length?p:n};const po=xt(),si=Mr(),{ANY:fs}=si,Rn=Nr,ii=vt,c0=(e,n,r={})=>{if(e===n)return!0;e=new po(e,r),n=new po(n,r);let s=!1;e:for(const i of e.set){for(const c of n.set){const d=u0(i,c,r);if(s=s||d!==null,d)continue e}if(s)return!1}return!0},l0=[new si(">=0.0.0-0")],mo=[new si(">=0.0.0")],u0=(e,n,r)=>{if(e===n)return!0;if(e.length===1&&e[0].semver===fs){if(n.length===1&&n[0].semver===fs)return!0;r.includePrerelease?e=l0:e=mo}if(n.length===1&&n[0].semver===fs){if(r.includePrerelease)return!0;n=mo}const s=new Set;let i,c;for(const v of e)v.operator===">"||v.operator===">="?i=go(i,v,r):v.operator==="<"||v.operator==="<="?c=vo(c,v,r):s.add(v.semver);if(s.size>1)return null;let d;if(i&&c){if(d=ii(i.semver,c.semver,r),d>0)return null;if(d===0&&(i.operator!==">="||c.operator!=="<="))return null}for(const v of s){if(i&&!Rn(v,String(i),r)||c&&!Rn(v,String(c),r))return null;for(const S of n)if(!Rn(v,String(S),r))return!1;return!0}let x,p,f,w,j=c&&!r.includePrerelease&&c.semver.prerelease.length?c.semver:!1,R=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;j&&j.prerelease.length===1&&c.operator==="<"&&j.prerelease[0]===0&&(j=!1);for(const v of n){if(w=w||v.operator===">"||v.operator===">=",f=f||v.operator==="<"||v.operator==="<=",i){if(R&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===R.major&&v.semver.minor===R.minor&&v.semver.patch===R.patch&&(R=!1),v.operator===">"||v.operator===">="){if(x=go(i,v,r),x===v&&x!==i)return!1}else if(i.operator===">="&&!Rn(i.semver,String(v),r))return!1}if(c){if(j&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===j.major&&v.semver.minor===j.minor&&v.semver.patch===j.patch&&(j=!1),v.operator==="<"||v.operator==="<="){if(p=vo(c,v,r),p===v&&p!==c)return!1}else if(c.operator==="<="&&!Rn(c.semver,String(v),r))return!1}if(!v.operator&&(c||i)&&d!==0)return!1}return!(i&&f&&!c&&d!==0||c&&w&&!i&&d!==0||R||j)},go=(e,n,r)=>{if(!e)return n;const s=ii(e.semver,n.semver,r);return s>0?e:s<0||n.operator===">"&&e.operator===">="?n:e},vo=(e,n,r)=>{if(!e)return n;const s=ii(e.semver,n.semver,r);return s<0?e:s>0||n.operator==="<"&&e.operator==="<="?n:e};var d0=c0;const ps=Fn,xo=Or,h0=st,yo=Ba,f0=pn,p0=bf,m0=Cf,g0=$f,v0=If,x0=kf,y0=Of,b0=Mf,w0=Bf,j0=vt,C0=Wf,E0=Vf,$0=Js,R0=qf,I0=Jf,S0=Pr,T0=ei,k0=Da,_0=Ua,A0=ti,O0=ni,L0=za,P0=jp,M0=Mr(),N0=xt(),F0=Nr,B0=Tp,D0=Op,U0=Np,z0=Dp,W0=Wp,G0=ri,H0=Jp,V0=n0,X0=s0,Y0=a0,Z0=d0;var q0={parse:f0,valid:p0,clean:m0,inc:g0,diff:v0,major:x0,minor:y0,patch:b0,prerelease:w0,compare:j0,rcompare:C0,compareLoose:E0,compareBuild:$0,sort:R0,rsort:I0,gt:S0,lt:T0,eq:k0,neq:_0,gte:A0,lte:O0,cmp:L0,coerce:P0,Comparator:M0,Range:N0,satisfies:F0,toComparators:B0,maxSatisfying:D0,minSatisfying:U0,minVersion:z0,validRange:W0,outside:G0,gtr:H0,ltr:V0,intersects:X0,simplifyRange:Y0,subset:Z0,SemVer:h0,re:ps.re,src:ps.src,tokens:ps.t,SEMVER_SPEC_VERSION:xo.SEMVER_SPEC_VERSION,RELEASE_TYPES:xo.RELEASE_TYPES,compareIdentifiers:yo.compareIdentifiers,rcompareIdentifiers:yo.rcompareIdentifiers};const Q0=Bs(q0),K0=()=>{const[e,n]=g.useState(!0),r=()=>{chrome.tabs?.query({active:!0,currentWindow:!0},s=>{const i=s[0];n(i?Hl(i):!1)})};return Et(r,chrome.tabs?.onActivated),Et(r,chrome.tabs?.onUpdated),g.useLayoutEffect(()=>{r()},[]),e},J0=()=>tt.webUrl.includes("app.tango")?"https://images.tango.us/":"https://int-images.tango.us/",Ga=e=>e?.settings?.iconUrl?.includes("static")?`${tt.webUrl}${e?.settings?.iconUrl}`:e?.settings?.iconUrl?.includes("workspaces/")?`${J0()}${e?.settings?.iconUrl}`:e?.settings?.iconUrl,em=xe(U,{position:"absolute",top:0,left:0,right:0,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",zIndex:-1,variants:{size:{xs:{height:75,backgroundImage:'url("/hero-xs.png")'},sm:{height:"60dvh",minHeight:415,backgroundImage:'url("/hero-sm.png")'},lg:{height:"60dvh",minHeight:415,backgroundImage:'url("/hero-lg.png")'}}}}),tm=e=>{const{children:n,scrollContainerRef:r,css:s}=e,{scrollY:i}=jd({container:r,layoutEffect:!1}),c=Fi(i,[10,100],["#FFFFFF00","#FFFFFFFF"],{ease:Ai(.17,.67,.83,.67)}),d=Fi(i,[10,100],["#E8E6EA00","#E8E6EAFF"],{ease:Ai(.17,.67,.83,.67)});return t.jsx(fn,{as:ge.header,align:"center",css:{position:"fixed",width:"100%",px:o.space[4],pt:12,height:62,zIndex:2,borderBottom:"1px solid",...s},gapX:"1",style:{backgroundColor:c,borderColor:d},children:n})},nm=g.forwardRef((e,n)=>{const{children:r,css:s}=e;return t.jsx(M,{ref:n,css:{pt:o.space[10],pl:o.space[4],pr:o.space[1],pb:o.space[4],...s},direction:"column",gap:"4",children:r})}),rm=g.forwardRef((e,n)=>{const{children:r,css:s}=e;return t.jsx(U,{ref:n,"data-testid":"tango-actions-panel",css:{overflow:"hidden auto",height:"100%",scrollbarGutter:"stable",...s},children:r})}),Ae={...rm,Content:nm,Header:tm,Background:em},sm="https://prod-tango-public-assets.s3.amazonaws.com/extension-enterprise-splash.mp4",ms=["Meet Tango, your new super power for work","Your team records step-by-step guides",`VoilÃ ! 
Instant assistance when you need it`];function im({eventSource:e,signInRedirect:n}){const r=g.useRef(null),[s,i]=g.useState(0);g.useEffect(()=>{const x=r.current;if(!x)return;const p=()=>{const f=Math.floor(x.currentTime/(x.duration/ms.length));i(f%ms.length)};return x.addEventListener("timeupdate",p),()=>{x.removeEventListener("timeupdate",p)}},[]),g.useEffect(()=>{Fe(Oe.ForceInstallSplashViewed,{event_source:e})},[e]);const c=ms[s],d=()=>{de({name:oe.SignIn,redirectTo:n,eventSource:e})};return t.jsxs(Ae,{css:{display:"flex",justifyContent:"center"},children:[t.jsx(Ae.Background,{css:{height:"100vh"},size:"lg"}),t.jsxs(M,{css:{maxWidth:385,position:"relative",height:"100vh",overflow:"hidden"},children:[t.jsx(U,{as:"video",src:sm,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,ref:r,css:{position:"absolute",top:0,width:"100%"}}),t.jsx(Ae.Header,{children:t.jsx(Xt,{})}),t.jsxs(Ae.Content,{css:{height:"100%",justifyContent:"flex-end",p:o.space[5],position:"relative"},children:[t.jsx(M,{direction:"column",gap:"4",css:{flexGrow:1,px:o.space[6]},children:t.jsx(U,{as:ge.div,css:{mt:380,"@media (max-height: 680px)":{mt:56},textAlign:"center"},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:1,y:{duration:.5}},exit:{opacity:0,y:20},children:t.jsx(K,{size:6,font:"serif",css:{color:o.colors.gray700},children:c})},c)}),t.jsxs(M,{direction:"column",css:{px:o.space[5],pb:o.space[6],position:"relative",zIndex:1},gap:"5",children:[t.jsxs(K,{css:{color:o.colors.gray500,textAlign:"center"},size:"3",children:["You already have a Tango account!",t.jsx("br",{}),"Sign in with just your work email."]}),t.jsx(Xo,{children:t.jsx(be,{fullWidth:!0,size:"lg","data-testid":"sign-in",onClick:d,variant:"primary",children:"Sign In"})})]})]})]})]})}const om=({isSigningIn:e,setIsSigningIn:n})=>{const[r,s]=g.useState(!1);return g.useEffect(()=>{let i;if(e)return i=setTimeout(()=>{s(!0)},15e3),()=>{clearTimeout(i)}},[e]),t.jsxs(Ae,{children:[t.jsx(Ae.Background,{size:"lg"}),t.jsx(Ae.Header,{children:t.jsx(Xt,{})}),t.jsx(Ae.Content,{css:{height:"100%",justifyContent:"flex-end",p:o.space[5],position:"relative"},children:t.jsx(M,{direction:"column",gap:"4",justifyContent:"center",alignItems:"center",css:{flexGrow:1,px:o.space[6],textAlign:"center"},children:e?t.jsxs(t.Fragment,{children:[t.jsx(M,{alignItems:"center",css:{flexGrow:1},children:t.jsx($r,{})}),t.jsx(Le,{children:r&&t.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},children:t.jsxs(K,{css:{color:o.colors.gray500},size:"3",children:["Having trouble?"," ",t.jsx(K,{as:"a",css:{color:o.colors.blue500,cursor:"pointer"},onClick:()=>{n(!1),de({name:oe.SignIn})},children:"Go back to sign in"})]})})})]}):t.jsxs(t.Fragment,{children:[t.jsx(M,{css:{fontSize:80},children:"ðŸ™ˆ"}),t.jsx(qt,{children:"We won't peek"}),t.jsx(K,{css:{color:o.colors.gray500},size:"3",children:"Once you're signed in, we'll get this party started!"})]})})})]})},am=()=>{const{createHomeUrl:e}=qe();if(!mt(pt.CELLO_REFERRAL_PROGRAM))return null;const r=()=>{window.open(`${e()}&cello-open=true`)};return t.jsxs(M,{css:{pt:o.space[4],px:o.space[2],borderTop:`1px solid ${o.colors.gray200}`,cursor:"pointer"},alignItems:"center",justifyContent:"between",onClick:r,role:"button",children:[t.jsxs(M,{alignItems:"center",gap:"4",children:[t.jsx(La,{size:24,color:o.colors.gray400.value}),t.jsx(K,{css:{color:o.colors.gray600},size:"3",children:"Refer a friend"})]}),t.jsx(dn,{size:20,color:o.colors.gray400.value})]})},cm=({shouldScroll:e})=>{const{preferences:n}=Zc(),r=g.useRef(null),s=Ms(),i=mt(pt.KL_PILOT),c=mt(pt.KL_LAUNCH);return g.useEffect(()=>{e&&r.current?.scrollIntoView({behavior:"smooth",block:"start"})},[e]),t.jsxs(M,{direction:"column",gap:"4",css:{pt:o.space[4],px:o.space[2],borderTop:`1px solid ${o.colors.gray200}`},ref:r,children:[(i||c)&&t.jsx(gs,{id:"klController",name:"On-screen Controls",description:"Display an on-screen controller to create and view Nuggets",values:n}),t.jsx(gs,{id:"notificationBadge",name:"Notification Badge",description:"See a red badge on the extension if there are Tangos available for the page youâ€™re viewing.",values:n}),s&&t.jsx(gs,{id:"autoCombineSteps",name:"Combine Steps",description:"Combine related actions into a single step when building Tangos. Changes will apply to future captures.",values:n})]})},gs=({id:e,name:n,description:r,values:s,beta:i})=>{const c=d=>{de({name:oe.ToggleUserPreference,preference:e,value:d.target.checked})};return t.jsxs(M,{as:"label",gap:"2",css:{width:"100%",cursor:"pointer"},children:[t.jsx(M,{alignItems:"center",justifyContent:"center",css:{width:o.space[5],height:o.space[5],flexShrink:0},children:t.jsx(On,{"aria-label":`Toggle ${n}}`,"data-testid":`toggle-${e}`,onChange:c,checked:s[e]})}),t.jsxs(M,{css:{width:"100%"},direction:"column",gap:"0",children:[t.jsxs(M,{gap:"1",alignItems:"center",children:[t.jsx(K,{css:{color:o.colors.gray600},size:"3",children:n}),i&&t.jsx(bl,{})]}),t.jsx(K,{css:{color:o.colors.gray500},size:"2",children:r})]})]},e)},lm=({workspace:e})=>{const n=e?.workspaceUser?.tier,r=e?.workspaceUser?.role,i=e?.tier===Po.Enterprise,c=n===Mo.Pro,d=r===an.Guest;switch(!0){case(c&&!i):return t.jsx(Cl,{css:{flexShrink:0}});case d:return t.jsx(jl,{css:{flexShrink:0}});case(i&&!d):return t.jsx(wl,{css:{flexShrink:0}})}return null},um=({isSelected:e=!1,onClick:n,workspace:r})=>{const s=Ga(r);return t.jsx(M,{as:"button","aria-label":"Select workspace","data-testid":"select-workspace",onClick:n,css:{cursor:"pointer",height:"46px",justifyContent:"flex-start","&:focus-visible":{outline:`3px solid ${o.colors.primary300}`,outlineOffset:"0px"},px:o.space[2],py:o.space[2],borderRadius:o.radii.sm,"&:focus":{outline:"none"},"&:hover":{background:o.colors.gray100},[`& ${K}`]:{color:o.colors.gray700,maxWidth:"160px",width:"fit-content"}},children:t.jsx(U,{css:{width:"100%"},children:t.jsxs(M,{alignItems:"center",justifyContent:"between",children:[t.jsxs(M,{alignItems:"center",gap:"2",children:[t.jsx(Pn,{size:"lg",alt:r?.settings?.name??"",src:s??null}),t.jsx(K,{size:"2",truncate:!0,css:{color:o.colors.gray700,width:"fit-content"},weight:"reg",children:r?.settings?.name}),t.jsx(lm,{workspace:r})]}),e&&t.jsx(Er,{size:24,color:o.colors.gray500.value})]})})})},dm=()=>{const{workspaces:e,currentWorkspace:n,switchWorkspace:r}=qe(),s=i=>{e.some(d=>d.id===i)&&r(i)};return t.jsx(M,{direction:"column",gap:"2",children:e.map((i,c)=>t.jsx(um,{onClick:()=>s(i.id),workspace:i,isSelected:i.id===n?.id},c))})},hm=e=>{const{user:n}=qe();return t.jsxs(M,{css:{overflowY:"auto",pb:o.space[4]},direction:"column",gap:"4",children:[t.jsxs(M,{justifyContent:"between",alignItems:"center",css:{height:70,boxSizing:"border-box",paddingTop:o.space[4],paddingBottom:o.space[4],py:o.space[4],px:o.space[2],borderBottom:"1px solid $gray200",position:"relative",textAlign:"center"},children:[t.jsx(qt,{children:"Settings"}),t.jsx(Pe,{content:(n?.email||"").length>30?n?.email:null,children:t.jsx(K,{size:"1",css:{color:"$gray500",userSelect:"none",cursor:"default",maxWidth:"30ch"},truncate:!0,children:n?.email})})]}),t.jsx(dm,{}),t.jsx(am,{}),t.jsx(cm,{shouldScroll:e.scrollTo==="user-preferences"})]})},fm=({disabled:e})=>{const[n,r]=g.useState(!1),s=()=>{de({name:oe.StartRecording,countdown:!0,eventSource:"Extension Capture Button"})},i={initial:{scale:1},hover:{scale:1.2}},c={initial:{scale:1},hover:{scale:1.6}};return t.jsxs(U,{css:{display:"flex",flexDirection:"column",alignItems:"center",gap:o.space[4],width:"100%"},"data-testid":"capture-button",children:[t.jsx(U,{as:"button",css:{height:"144px",width:"144px",borderRadius:o.radii.full,"&:focus-visible":{outline:`3px solid ${o.colors.primary300}`,outlineOffset:"0px"}},onClick:s,onFocus:()=>r(!0),onBlur:()=>r(!1),disabled:e,children:t.jsxs(M,{alignItems:"center",as:ge.div,css:{position:"relative"},initial:"initial",justifyContent:"center",animate:n?"hover":"initial",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{height:"144px"},children:[t.jsx(U,{css:{position:"absolute",bg:o.colors.orange500,borderRadius:o.radii.full,height:"144px",width:"144px",opacity:.1}}),t.jsx(U,{as:ge.div,css:{position:"absolute",bg:o.colors.orange500,borderRadius:o.radii.full,width:"112px",height:"112px",opacity:.1},variants:i,transition:{duration:.4}}),t.jsx(U,{as:ge.div,css:{position:"absolute",bg:o.colors.orange500,borderRadius:o.radii.full,width:"80px",height:"80px"},variants:c,transition:{duration:.4}})]})}),t.jsx(K,{css:{color:o.colors.gray700},weight:"med",size:"2",children:"Start capture"})]})},pm=e=>{const{currentWorkspace:n}=e;if(!(n?.limitReached??!1))return null;const s={background:"radial-gradient(circle at 50% 70%, rgb(255 237 250) 46%, rgb(250 233 241 / 30%) 100%)",clipPath:"circle(50% at 50% 50%)"};return t.jsxs(M,{"data-testid":"limit-reached-message",direction:"column",alignItems:"center",justifyContent:"center",gap:"4",css:{position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",zIndex:1,textAlign:"center",...s},children:[t.jsxs(K,{css:{color:o.colors.gray600,maxWidth:"161px",margin:"0 auto"},size:2,children:["To capture more than"," ",t.jsxs(t.Fragment,{children:[t.jsx("br",{}),"15 Tangos per Workspace"]})]}),t.jsxs(be,{onClick:()=>{Fe(Oe.UpgradeButtonClicked,{event_source:"Limit Reached Message"}),window.open(`${tt.webUrl}${Cr}`)},css:{margin:"0 auto"},children:[t.jsx(Ns,{color:o.colors.favorite.value,css:{width:"10px",marginRight:"-3px"}}),"Upgrade to Pro"]})]})};function oi(){const{currentWorkspace:e}=qe();return e?e.workspaceUser?.tier!==Mo.Lite:!1}const mm=()=>{const{currentWorkspace:e}=qe(),n=oi(),r=e?.limitReached??!1,s=()=>{Fe(Oe.UpgradeButtonClicked,{event_source:"Workspace Switcher"}),window.open(`${tt.webUrl}${Cr}&workspaceId=${e?e.id:""}`)};return e?.workspaceUser?.role===an.Guest?t.jsx(M,{alignItems:"center",justifyContent:"center",children:t.jsx(Yo,{workspace:e})}):t.jsx(t.Fragment,{children:!n&&!r?t.jsxs(M,{css:{mt:-16,border:`1px solid ${o.colors.purple300}`,borderRadius:o.radii.sm,p:o.space[2]},alignItems:"center",justifyContent:"between",children:[t.jsx(K,{css:{color:o.colors.gray700},size:"2",weight:"med",children:"Need more Tango?"}),t.jsxs(be,{"aria-label":"Upgrade to Pro","data-testid":"upgrade-to-pro",onClick:s,size:"sm",children:[t.jsx(Ns,{color:o.colors.favorite.value,css:{width:"10px"}}),"Upgrade"]})]}):null})},gm=()=>{const{user:e,currentWorkspace:n}=qe(),r=Do(an.Creator);return t.jsxs(t.Fragment,{children:[t.jsx(mm,{}),t.jsx(M,{alignItems:"center",css:{pt:o.space[4],pb:o.space[5]},justifyContent:"center",children:t.jsxs(M,{css:{textAlign:"center"},direction:"column",gap:"2",children:[t.jsxs(qt,{css:{color:o.colors.gray700},children:["Hi, ",e?.firstName," ðŸ‘‹"]}),t.jsx(K,{css:{m:"0 auto",color:o.colors.gray600,maxWidth:240},size:"2",children:r?"Ready to capture a new Tango?":"Here's a few Tangos that we think you might find useful."}),r&&t.jsxs(M,{direction:"column",gap:"4",css:{mt:o.space[4],position:"relative"},children:[t.jsx(pm,{currentWorkspace:n}),t.jsx(fm,{})]})]})})]})},vm=()=>{const[e,n]=g.useState(!1),r=Qt(),s=ut({from:{height:"0"},to:{height:"var(--radix-accordion-content-height)"}}),i=ut({from:{height:"var(--radix-accordion-content-height)"},to:{height:"0"}}),c=Tr({overflowY:"hidden","&[data-state=open]":{animation:`${s} 250ms ease-out`},"&[data-state=closed]":{animation:`${i} 250ms ease-out`}});return t.jsx(M,{direction:"column",css:{padding:"16px 24px",backgroundColor:"#F4F2F7",borderRadius:o.radii.sm,justifyContent:"center",alignItems:"center",width:"100%"},children:t.jsx(Nl,{onValueChange:()=>n(!e),type:"single",defaultValue:"closed",collapsible:!0,children:t.jsxs(Fl,{value:"item-1",children:[t.jsx(Bl,{asChild:!0,children:t.jsxs(M,{css:{cursor:"pointer"},alignItems:"center",justifyContent:"center",gap:"1",children:[e?t.jsx(Zl,{size:16,color:o.colors.gray700.value}):t.jsx(Ma,{size:16,color:o.colors.gray700.value}),t.jsx(K,{css:{cursor:"pointer",userSelect:"none",color:o.colors.gray700},size:1,children:e?"Hide":"Why am I seeing this?"})]})}),t.jsx(Dl,{className:r?"":c(),children:t.jsx(M,{css:{paddingTop:o.space[4]},children:t.jsxs(K,{size:1,css:{userSelect:"none",color:o.colors.gray700},children:["Tango can't capture empty tabs, URLs that begin with ",t.jsx("br",{}),"â€œchrome://â€, or pages like the Google Web Store."]})})})]})})})};function bo(e){Sr(1,arguments);var n=Yt(e);return n.setHours(0,0,0,0),n}var xm=864e5;function ym(e,n){Sr(2,arguments);var r=bo(e),s=bo(n),i=r.getTime()-mr(r),c=s.getTime()-mr(s);return Math.round((i-c)/xm)}function bm(e,n){Sr(2,arguments);var r=Yt(e),s=Yt(n),i=r.getTime()-s.getTime();return i<0?-1:i>0?1:i}function Ha(e,n){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}function wm(e){return Ha({},e)}var wo=1e3*60,br=60*24,jo=br*30,Co=br*365;function jm(e,n,r){var s,i,c;Sr(2,arguments);var d=$l(),x=(s=(i=r?.locale)!==null&&i!==void 0?i:d.locale)!==null&&s!==void 0?s:El;if(!x.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var p=bm(e,n);if(isNaN(p))throw new RangeError("Invalid time value");var f=Ha(wm(r),{addSuffix:!!r?.addSuffix,comparison:p}),w,j;p>0?(w=Yt(n),j=Yt(e)):(w=Yt(e),j=Yt(n));var R=String((c=r?.roundingMethod)!==null&&c!==void 0?c:"round"),v;if(R==="floor")v=Math.floor;else if(R==="ceil")v=Math.ceil;else if(R==="round")v=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var S=j.getTime()-w.getTime(),z=S/wo,Z=mr(j)-mr(w),q=(S-Z)/wo,I=r?.unit,B;if(I?B=String(I):z<1?B="second":z<60?B="minute":z<br?B="hour":q<jo?B="day":q<Co?B="month":B="year",B==="second"){var L=v(S/1e3);return x.formatDistance("xSeconds",L,f)}else if(B==="minute"){var G=v(z);return x.formatDistance("xMinutes",G,f)}else if(B==="hour"){var Y=v(z/60);return x.formatDistance("xHours",Y,f)}else if(B==="day"){var H=v(q/br);return x.formatDistance("xDays",H,f)}else if(B==="month"){var ie=v(q/jo);return ie===12&&I!=="month"?x.formatDistance("xYears",1,f):x.formatDistance("xMonths",ie,f)}else if(B==="year"){var se=v(q/Co);return x.formatDistance("xYears",se,f)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}const As=e=>{const{workflow:n,searchQuery:r}=e,[s,i]=g.useState(null),[,c]=Uo(3e3),d=Date.now(),x=n?.updatedAt?new Date(n?.updatedAt):null,p=x&&ym(d,x)<31?`${jm(d,x)} ago`:x?Rl(x,Tc):"no date",f=S=>de({name:oe.ViewWorkflow,id:n.workflowId,workspaceId:n.workspaceId,preview:S?.preview,redirectToSearch:!!r,searchQuery:r,eventSource:"Sidepanel"}),w=S=>{S.stopPropagation(),f()},j=()=>{f({preview:!0})},R=S=>{i(S),setTimeout(()=>{i(null)},3e3)},v=S=>{c(`${tt.webUrl}app/workflow/${n.workflowId}`),S.stopPropagation(),vr(R,300)("Link copied!")};return t.jsx(U,{css:{borderRadius:o.radii.sm,border:`1px solid ${o.colors.gray100}`,boxShadow:"0px 1px 2px 0px rgba(37, 31, 45, 0.05)",background:o.colors.white,py:o.space[4],width:"100%",cursor:"pointer",transition:"background 0.2s ease-in-out","--opacity-action-menu":0,"&:hover":{"--opacity-action-menu":s?0:1},"&:focus-visible":{background:o.colors.gray100,outline:`3px solid ${o.colors.primary300}`,outlineOffset:"0px","--opacity-action-menu":s?0:1},"&:focus-within":{"--opacity-action-menu":s?0:1}},children:t.jsxs(U,{css:{position:"relative"},children:[t.jsxs(fn,{align:"stretch",as:"button",css:{gridTemplateColumns:"24px 1fr",width:"100%",px:o.space[4],textAlign:"left"},gapX:"2",onClick:j,children:[t.jsx(Pn,{alt:`${n.author?.firstName} ${n.author?.lastName}`,css:{gridColumn:1},size:"md",src:n.author?.profilePictureURL}),t.jsx(K,{css:{gridColumn:2,color:o.colors.gray700,maxWidth:198,"@supports (-webkit-line-clamp: 2)":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"initial",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},size:"3",truncate:!0,children:n.name}),t.jsxs(M,{alignItems:"end",css:{width:"100%",gridColumn:2},justifyContent:"between",children:[t.jsxs(K,{css:{color:o.colors.gray500},size:"2",children:[n.stepCount===1?`${n.stepCount} step`:`${n.stepCount} steps`," Â·"," ",p]}),t.jsx(Ls,{apps:n.apps||[],max:3,size:"sm"})]})]}),t.jsx(qc,{text:s}),t.jsx(U,{css:{position:"absolute",top:-6,right:o.space[2],opacity:"var(--opacity-action-menu)",transition:"opacity 0.3s ease-in-out"},children:t.jsxs(Qc,{size:"sm",children:[t.jsx(Pe,{content:"Guide Me",side:"top",children:t.jsx(Be,{"aria-label":"guide me","data-testid":"guide-me-action",onClick:w,size:"sm",children:t.jsx(un,{})})}),t.jsx(Pe,{content:"Copy link",side:"top",children:t.jsx(Be,{"aria-label":"copy link","data-testid":"copy-link",onClick:v,size:"sm",children:t.jsx(Cs,{})})})]})})]})})},Cm=e=>{const{isCreator:n}=e,{workflows:r,searchUrl:s,hasLoaded:i}=Kc({listenForTabChanges:!0,bustCache:!0}),c=Qt();return(!r||r.length===0)&&i&&!n?t.jsxs(M,{alignItems:"center",css:{mt:o.space[9]},direction:"column",justifyContent:"center",gap:"2",children:[t.jsx(qt,{children:"ðŸ‘€"}),t.jsx(K,{css:{color:o.colors.gray700},weight:"med",children:"No Tangos here!"}),t.jsx(K,{css:{color:o.colors.gray600},size:"2",children:"Try a different site to find relevant Tangos."})]}):t.jsxs(M,{direction:"column",gap:"4",children:[t.jsx(Le,{children:n&&r&&r?.length>0?t.jsx(M,{as:ge.div,css:{gap:12},direction:"column",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:.7}},transition:{duration:.2},children:t.jsx(K,{css:{color:o.colors.gray700},weight:"med",children:"Discover a Tango"})}):null}),t.jsx(Le,{children:r&&r?.length>0?t.jsx(M,{as:ge.div,"data-testid":"suggestions-results",initial:{y:c?0:"50px",opacity:0},animate:{y:0,opacity:1,transition:{delay:.4}},exit:{opacity:0,y:c?0:"50px"},direction:"column",gap:"2",transition:{duration:.4,ease:[.34,1.65,.64,1]},children:r?.map(d=>t.jsx(As,{workflow:d},d.workflowId))},s):null})]})},Em=e=>{const{isGuest:n,defaultQuery:r}=e,{currentWorkspace:s}=qe(),i=Qt(),[c,d]=g.useState([]),[x,p]=g.useState(r||""),[f,w]=g.useState([]),[j,R]=g.useState([]),[v,S]=g.useState(""),[z,Z]=g.useState(!1),q=async H=>{if(d([]),S(""),!s?.id||H?.length<3){de({name:oe.NavigateTo,route:je.Actions,params:{}}),I();return}Z(!0);const se=(await de({name:oe.SearchWorkflows,query:H}))?.workflows?.searchContent?.results||[];se?.length>0&&de({name:oe.Track,eventName:Oe.SearchWorkflowsViewed,eventProperties:{}}),Z(!1),S(H),d(se)},I=async()=>{const H=await de({name:oe.GetRecentSearches});R(H?.recentSearches.reverse()||[])},B=g.useCallback(async()=>{if(!s?.id||n)return;const H=await de({name:oe.GetRecentTangos,workspaceId:s?.id});H&&w(H.recentTangos||[])},[s?.id,n]),L=g.useCallback(vr(q,600),[]),G=g.useCallback(vr(B,600),[B]),Y=H=>{p(H.currentTarget.value),L(H.currentTarget.value)};return g.useEffect(()=>{r&&L(r)},[r,L]),g.useEffect(()=>{I()},[]),g.useEffect(()=>{G()},[G]),t.jsxs(t.Fragment,{children:[t.jsxs(U,{css:{pb:16,position:"relative"},children:[t.jsx(Jc,{autoFocus:!0,"data-testid":"search-input",onChange:Y,placeholder:"Search Tangos",value:x}),z&&t.jsx($r,{css:{position:"absolute",right:o.space[4],bottom:o.space[6]},size:"sm"})]}),t.jsx(Le,{initial:!1,children:v===""&&!z?t.jsxs(M,{as:ge.div,direction:"column",initial:{opacity:1},animate:{opacity:1,transition:{delay:.8,duration:.4}},exit:{opacity:0,transition:{duration:.4}},gap:"5",children:[j?.length>0?t.jsxs(U,{children:[t.jsx(K,{as:"p",css:{color:o.colors.gray700,mt:0,mb:o.space[4]},weight:"med",children:"Recent searches"}),t.jsx(M,{alignItems:"start",direction:"column",gap:"2",children:j?.map((H,ie)=>t.jsx(K,{as:"button",css:{unset:"all",color:o.colors.gray600,cursor:"pointer"},onClick:()=>{p(H),q(H)},children:H},`${H}-${ie}`))})]}):null,f?.length>0?t.jsxs(U,{children:[t.jsx(K,{as:"p",css:{color:o.colors.gray700,mt:0,mb:o.space[4]},weight:"med",children:"Recent Tangos"}),t.jsx(M,{alignItems:"start",direction:"column",gap:"2",children:f?.map(H=>t.jsx(As,{workflow:H},H.workflowId))})]}):null]},"recent-searches"):null}),t.jsxs(Le,{initial:!1,children:[c.length===0&&!z&&v!==""?t.jsxs(M,{as:ge.div,alignItems:"center",css:{height:179},direction:"column",gap:"2",justifyContent:"center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:0}},children:[t.jsx(al,{children:"ðŸ¤”"}),t.jsx(K,{css:{color:o.colors.gray700},weight:"med",children:"No matching Tangos"}),t.jsx(K,{css:{color:o.colors.gray600},size:"2",children:"Try a searching for a different term"})]},"empty-state"):null,c&&c?.length>0&&!z?t.jsx(M,{as:ge.div,"data-testid":"search-results",initial:{y:i?0:"50px",opacity:0},animate:{y:0,opacity:1,transition:{delay:.4}},exit:{opacity:0,transitionEnd:{y:i?0:"50px"}},direction:"column",gap:"2",transition:{duration:.4,ease:[.34,1.65,.64,1]},children:c?.map(H=>t.jsx(As,{searchQuery:v,workflow:H},H.workflowId))},v):null]})]})};function $m(){return t.jsxs(Ae,{children:[t.jsx(Ae.Background,{size:"lg"}),t.jsx(Ae.Header,{children:t.jsx(Xt,{})}),t.jsx(Ae.Content,{css:{height:"100%",justifyContent:"flex-end",p:o.space[5],position:"relative"},children:t.jsxs(M,{direction:"column",gap:"4",justifyContent:"center",css:{flexGrow:1,px:o.space[6],textAlign:"center"},children:[t.jsx(K,{size:6,font:"serif",css:{color:o.colors.gray700},children:"Sign in to Tango"}),t.jsx(K,{css:{color:o.colors.gray500},size:"3",children:"Sign in or create an account to access and capture Tangos!"}),t.jsx(Xo,{children:t.jsx(be,{fullWidth:!0,size:"lg","data-testid":"sign-in",onClick:()=>de({name:oe.SignIn}),variant:"primary",children:"Sign In"})})]})})]})}const Rm=()=>t.jsxs(M,{alignItems:"center",css:{textAlign:"center",py:12},direction:"column",gap:"4",children:[t.jsx(M,{alignItems:"center",justifyContent:"center",css:{fontSize:"3.75rem",borderRadius:o.radii.full,background:o.colors.orange100,size:92,userSelect:"none"},children:"ðŸ—ï¸"}),t.jsxs(U,{children:[t.jsx(K,{size:"4",weight:"med",children:"We're sorry"}),t.jsx(K,{as:"p",size:"2",children:"Tango is down for maintenance right now. We'll be back soon with your step-by-step Workflows, better than ever."}),t.jsxs(K,{as:"p",size:"2",children:["Head over to our"," ",t.jsx(U,{as:"a",css:{textDecoration:"underline"},target:"_blank",href:"https://status.tango.us",rel:"noreferrer",children:"status page"})," ","for live updates."]})]})]}),Im=No?"https://microsoftedge.microsoft.com/addons/detail/tango-howto-guides-and-/ifigbhjamijkipoeckabmilnagjcfhec":"https://chromewebstore.google.com/detail/tango-how-to-guides-and-s/lggdbpblkekjjbobadliahffoaobaknh",Sm=No?"https://support.microsoft.com/en-us/topic/microsoft-edge-update-settings-af8aaca2-1b69-4870-94fe-18822dbb7ef1":"https://support.google.com/chrome/answer/95414?hl=en&co=GENIE.Platform%3DDesktop",vs=xe(K,{m:0}),Tm=xe("ul",{m:0,pl:o.space[5]}),km=()=>{const e=zo();return e?t.jsxs(M,{direction:"column",gap:"2",children:[t.jsx(qt,{css:{textAlign:"center"},children:"Update Required"}),t.jsx(vs,{as:"p",children:"Your browser and/or Tango extension are too old and need to be updated."}),t.jsxs(vs,{as:"p",children:["Minimum requirements:",t.jsxs(Tm,{children:[t.jsxs(K,{as:"li",css:{color:"CurrentColor"},weight:"med",children:["Chrome/Edge version ",e.minExtensionBrowserVersion]}),t.jsxs(K,{as:"li",css:{color:"CurrentColor"},weight:"med",children:["Tango Extension version ",e.minExtensionVersion]})]})]}),t.jsxs(vs,{as:"p",children:["To fix this, please"," ",t.jsx(K,{as:"a",css:{textDecoration:"underline"},href:Sm,rel:"noopener noreferrer",target:"_blank",children:"update your browser"})," ","and/or"," ",t.jsx(K,{as:"a",css:{textDecoration:"underline"},href:Im,rel:"noopener noreferrer",target:"_blank",children:"update the Tango extension"})," ","to the latest version."]})]}):null},Va=()=>{const[e,n]=g.useState(void 0),r=g.useCallback(()=>{chrome.tabs.query({active:!0,currentWindow:!0},i=>{i[0].url&&n(new URL(i[0].url.split("?")[0]))})},[]),s=g.useCallback(vr(r,300),[r]);return Et(()=>{s()},chrome.tabs?.onActivated),Et(()=>{s()},chrome.tabs?.onUpdated),g.useEffect(()=>{s()},[]),e};function _m(){const[e,n]=g.useState(!1),r=g.useCallback(s=>{s.message.name===oe.CurrentRoute&&s.message.route===je.PendingSignIn&&n(!1),s.message.name===oe.SignInStarted&&n(!0),s.message.name===oe.CheckUser&&s.message.user&&n(!1)},[]);return Et(r),{isSigningIn:e,setIsSigningIn:n}}const Am=g.lazy(()=>Wl(()=>import("./CiZukmI1.js"),__vite__mapDeps([0]))),sr=e=>{const{children:n}=e;return t.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:n})},Om=e=>{const{defaultView:n,searchQuery:r,isForceInstalled:s,signInRedirect:i,eventSource:c}=e,{user:d,verifyToken:x,currentWorkspace:p,createHomeUrl:f,loading:w}=qe(),j=Ga(p),R=Ms(),v=zo(!0),S=Do(an.Creator),z=K0(),Z=mt(pt.KL_PILOT),q=mt(pt.KL_LAUNCH),I=(Z||q)&&R,B=Va(),L=B?.toString().includes(`${tt.webUrl}sign-in`),G=B?.toString().includes(`${tt.webUrl}oauth/callback`)||!1,{isSigningIn:Y,setIsSigningIn:H}=_m(),ie=g.useRef(null),[se,ce]=g.useState(n||"default"),[ue,C]=g.useState(!1),[,h]=g.useState(!0),u=!!v?.isInMaintenanceMode,m=p?.workspaceUser?.role===an.Guest,E=()=>{de({name:oe.NavigateTo,route:je.Actions,params:{}}),ce(V=>V==="search"?"default":"search")},$=()=>{ce(V=>"settings")},T=()=>{ce(V=>"kl")},A=()=>{ce(V=>"default")},F=()=>{chrome.tabs.create({url:f()})};g.useEffect(()=>{v?.minExtensionVersion&&Q0.ltr(kc,v.minExtensionVersion)&&C(!0)},[v]),g.useEffect(()=>{de({name:oe.CheckAnnouncements}).then(V=>{h(V.hasUnseen)})},[]),g.useEffect(()=>{x()},[]);const P=g.useMemo(()=>{switch(!0){case se==="search":return t.jsx(sr,{children:t.jsx(Em,{defaultQuery:r,isGuest:m})},"search");case(I&&se==="kl"):return t.jsx(sr,{children:t.jsx(Am,{})});case se==="settings":return t.jsx(sr,{children:t.jsx(hm,{})},"settings");default:return t.jsxs(sr,{children:[t.jsx(gm,{}),t.jsx(Cm,{isCreator:S})]},"default")}},[se,S,m,I,r]);if(u)return t.jsxs(Ae,{children:[t.jsx(Ae.Header,{children:t.jsx(Xt,{})}),t.jsx(Ae.Content,{children:t.jsx(Rm,{})})]});if(ue)return t.jsxs(Ae,{children:[t.jsx(Ae.Header,{children:t.jsx(Xt,{})}),t.jsx(Ae.Content,{children:t.jsx(km,{})})]});if(!d)return L||Y||G||w?t.jsx(om,{isSigningIn:Y||G||w,setIsSigningIn:H}):s?t.jsx(im,{eventSource:c,signInRedirect:i}):t.jsx($m,{});if(!z)return t.jsxs(Ae,{children:[t.jsx(Ae.Header,{children:t.jsx(Xt,{})}),t.jsxs(Ae.Content,{children:[t.jsx(K,{css:{color:o.colors.gray700},size:"3",children:"Go to any website to start a new capture or discover a Tango"}),t.jsx(be,{fullWidth:!0,onClick:F,variant:"tertiary",children:"View your workspace"}),t.jsx(vm,{})]})]});const _=Tr({$$backgroundColor:`${o.colors.purple300}!important`,$$iconColor:`${o.colors.purple500}!important`})();return t.jsxs(Ae,{ref:ie,children:[se!=="default"?t.jsx(Ae.Background,{size:"xs"}):t.jsx(Ae.Background,{size:S?"lg":"sm"}),t.jsxs(Ae.Header,{css:{gridTemplateColumns:I?"38px 38px 1fr 38px 38px":"1fr 38px 38px 38px",justifyItems:I?"center":"start"},scrollContainerRef:ie,children:[I?t.jsxs(t.Fragment,{children:[t.jsx(Pe,{content:"View Tangos",side:"bottom",children:t.jsx(Be,{"aria-label":"View Tangos",className:se==="default"?_:"",css:{gridColumn:1},"data-testid":"view-tangos",onClick:A,children:t.jsx(Es,{})})}),t.jsx(Pe,{content:"View Nuggets",side:"bottom",children:t.jsx(Be,{"aria-label":"View Nuggets",className:se==="kl"?_:"",css:{gridColumn:2},"data-testid":"view-nuggets-button",onClick:T,children:t.jsx(el,{})})})]}):null,t.jsx(Xt,{}),I?null:t.jsx(Pe,{content:"View Tangos",side:"bottom",children:t.jsx(Be,{"aria-label":"View Tangos",className:se==="default"?_:"",css:{gridColumn:2},"data-testid":"view-tangos",onClick:A,children:t.jsx(Es,{})})}),t.jsx(Pe,{content:"Search",side:"bottom",children:t.jsx(Be,{"aria-label":"Search",className:se==="search"?_:"",css:{gridColumn:-3},"data-testid":"search-button",onClick:E,children:t.jsx(tl,{})})}),t.jsx(Pe,{content:"Settings",side:"bottom",children:t.jsx(be,{"aria-label":"Settings","data-testid":"navigate-to-settings",variant:"text",css:{width:"auto",padding:"0px",borderRadius:o.radii.full,gridColumn:-2},onClick:$,children:t.jsx(Pn,{size:"lg",alt:p?.settings?.name??"",src:j??null})})})]}),t.jsx(Ae.Content,{children:t.jsx(g.Suspense,{children:t.jsx(Le,{mode:"wait",children:P})})})]})},Lm=[lt.CreditCard,lt.Email,lt.Name,lt.PhoneNumber,lt.Ssn],Pm=kn.filter(e=>Lm.includes(e.id));async function ir(e,n){de({name:oe.RunAutoBlur,fields:e,secureBlurSettings:n})}function Mm(e){const{currentWorkspace:n}=qe(),[r,s]=g.useState(Pm),[i,c]=g.useState(!1),d=g.useRef(!1),[x,p]=g.useState(!1),[f,w]=g.useState([]),j=n?.settings?.secureBlurSettingsV2,R=j?.customFields?.map(I=>({...I,category:"Custom"}))||[],v=Va(),z=Ms(),Z=g.useCallback((I,B)=>{if(z&&I.message.name===oe.DomUpdated&&B?.tab?.active&&i&&e!==je.Paused){ir(r,j);return}},[r,i,z,j,e]);Et(Z);const q=g.useCallback(async I=>{if(z&&!(e===je.Paused&&I)){if(c(I),d.current=!0,!I){de({name:oe.StopAutoBlur});return}ir(r,j)}},[r,z,j,e]);return g.useEffect(()=>{if(e===je.Paused){q(!1);return}if(z&&i){q(!0);return}},[r,q,i,z,e]),g.useEffect(()=>{if(!j?.global?.activeFields?.length&&!j?.domains?.length)return;const I=v?.hostname,B=j?.domains?.find(G=>I?.includes(G?.domain||""));if(B?.activeFields?.length){const G=B.activeFields;p(!!B.allowChanges),s(Y=>[...new Set([...Y,...G])]),w(G),c(!0);return}const L=j?.global?.activeFields;p(!!j?.global?.allowChanges),s(G=>[...new Set([...G,...L])]),w(L),c(!0)},[j,c,v,e]),g.useEffect(()=>{if(!z)return;const I=(L,G)=>{if(G.status==="complete"&&i){ir(r,j);return}},B=async()=>{if(i){ir(r,j);return}};return chrome.tabs.onUpdated.addListener(I),chrome.tabs.onActivated.addListener(B),()=>{chrome.tabs.onUpdated.removeListener(I),chrome.tabs.onActivated.removeListener(B)}},[i,r,z,j]),{adminSelectedFields:f,areChangesAllowed:x,canUseAutoBlur:z,enableAutoBlur:q,fields:r,hasSecureBlurBeenInitialized:d.current,isAutoBlurEnabled:i,setFields:s,customFields:R}}const Xa=g.createContext(void 0),Nm=({children:e,route:n})=>{const r=Mm(n);return t.jsx(Xa.Provider,{value:r,children:e})},Fr=()=>g.useContext(Xa),dr=({children:e,name:n,css:r})=>t.jsx(U,{as:ge.div,css:r||{overflow:"hidden"},initial:{height:0},animate:{height:"auto"},exit:{height:0},children:e},n),wr=({text:e,css:n})=>t.jsx(U,{css:{bg:"linear-gradient(90deg, rgba(221, 198, 255, 0.7) -1.55%, rgba(232, 216, 255, 0.7) 29.29%, rgba(246, 223, 241, 0.7) 67.91%, rgba(255, 227, 216, 0.7) 108.09%)",overflow:"hidden",py:o.space[2],...n},children:t.jsx(K,{as:ge.div,initial:{opacity:0},animate:{opacity:1},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},css:{color:o.colors.purple700,display:"block",textAlign:"center"},size:"2",children:e})});function Fm({field:e}){if(!e?.modifier||!e.pattern)return null;const n={[Qr.Contains]:"contains",[Qr.EndsWith]:"ends with",[Qr.StartsWith]:"starts with"};return t.jsxs(U,{children:[t.jsxs(K,{size:1,weight:"reg",css:{color:o.colors.gray500},children:["Matches on element"," "]}),t.jsxs(U,{children:[t.jsx(U,{as:"pre",css:{bg:o.colors.gray100,borderRadius:o.radii.xs,px:o.space[1],display:"inline"},children:n[e.modifier]})," ",'"',e.pattern,'"']})]})}function Bm({open:e}){const{adminSelectedFields:n,areChangesAllowed:r,fields:s,setFields:i,isAutoBlurEnabled:c,enableAutoBlur:d,customFields:x}=Fr(),p=Dm([...x,...kn]),w=s.filter(z=>!n.some(Z=>Z.id===z.id)).length>0&&!r,j=()=>{if(!r){const z=kn.filter(Z=>n.some(q=>q.id===Z.id));i(n),de({name:oe.ClearBlurredFields,fields:z}),Fe(Oe.ClearAllBlur,{event_source:"Pop Up"});return}d(!1),de({name:oe.ClearAllBlur}),Fe(Oe.ClearAllBlur,{event_source:"Pop Up"})},R=()=>{const z=!c;Fe(Oe.SecureBlurToggled,{event_source:"Pop Up",event_context:z?"enabled":"disabled"}),d(z)},v=z=>Z=>{if(Z.target.checked){i(q=>{let I=kn.find(L=>L.id===z);if(!I&&x?.length&&(I=x.find(L=>L.id===z)),!I)return q;const B=[...q,I];return Fe(Oe.SecureBlurPiiToggled,{event_source:"Pop Up",event_context:[...B].join(", ")}),B});return}i(q=>{const I=q.filter(B=>B.id!==z);return Fe(Oe.SecureBlurPiiToggled,{event_source:"Pop Up",event_context:[...I].join(", ")}),I})},S=z=>r?!1:n.some(Z=>Z.id===z);return t.jsxs(Zt,{css:{borderRadius:"24px 24px 0 0",overflowY:"auto",overflowX:"hidden",border:`1px solid ${o.colors.gray100}`,height:"auto"},"data-testid":"secure-blur-drawer",open:e,side:"bottom",children:[t.jsx(wr,{text:"Capture is paused",css:{borderRadius:`${o.radii.lg} ${o.radii.lg} 0 0`}}),t.jsxs(M,{direction:"column",css:{p:o.space[5],pb:0,height:"100%",maxHeight:460},children:[t.jsxs(M,{css:{px:o.space[5],py:o.space[2],borderBottom:`1px solid ${o.colors.gray200}`},alignItems:"center",justifyContent:"between",children:[t.jsx(K,{size:4,css:{color:o.colors.gray700},weight:"med",children:"Secure Blur"}),t.jsx(Pe,{content:r?null:"This is set by an account admin and cannot be edited.",children:t.jsx(On,{"aria-label":"Toggle Secure Blur","data-testid":"toggle-secure-blur",onChange:R,checked:c,disabled:!r})})]}),t.jsx(M,{css:{py:o.space[4],overflow:"auto"},direction:"column",children:p.map(z=>z.items.length===0?null:t.jsxs(M,{direction:"column",css:{borderTop:`1px solid ${o.colors.gray200}`,paddingTop:o.space[4],marginTop:o.space[2],"&:first-of-type":{borderTop:"none",paddingTop:0,marginTop:0}},children:[t.jsx(K,{css:{px:o.space[5],fontSize:12,color:o.colors.gray600},weight:"med",children:z.title}),t.jsx(Ni,{as:"ul",css:{p:0},children:z.items.map(Z=>{const q=S(Z.id);return t.jsx(Ni.Item,{as:"li",disabled:q,css:{pl:o.space[5],pr:o.space[4],listStyle:"none",...c?{opacity:1,pointerEvents:"all"}:{opacity:.3,pointerEvents:"none"}},children:t.jsxs(M,{as:"label",css:{width:"100%",cursor:q?"not-allowed":"pointer"},alignItems:"center",justifyContent:"between",children:[t.jsx(Pe,{content:t.jsx(Fm,{field:Z}),delayDuration:1e3,children:t.jsx(K,{size:2,css:{color:q?o.colors.gray300:o.colors.gray500},children:Z.name})}),t.jsx(Pe,{content:q?"This is set by an account admin and cannot be edited.":null,children:t.jsx(On,{"aria-label":`Toggle ${Z.name}}`,"data-testid":`toggle-${Z.id}`,onChange:v(Z.id),checked:s.some(I=>I.id===Z.id),disabled:q})})]})},Z.id)})})]},z.title))})]}),t.jsxs(fn,{columns:"2",css:{width:"100%",px:o.space[5],py:o.space[5],boxShadow:"0 -2px 12px rgb(0 0 0 / 0.1)"},gap:"2",children:[t.jsx(U,{css:{gridColumn:"span 1"},children:t.jsx(be,{fullWidth:!0,onClick:j,variant:"tertiary","data-testid":"clear-all-blur-button",size:"lg",disabled:!r&&!w,children:w?"Clear New Blur":"Clear All Blur"})}),t.jsx(U,{css:{gridColumn:"span 1"},children:t.jsx(be,{fullWidth:!0,"aria-label":"Resume","data-testid":"toggle-blur-off",size:"lg",onClick:()=>de({name:oe.ToggleBlurOff}),children:"Resume Capture"})})]})]})}function Dm(e){const n=[];return e.forEach(r=>{const s=n.find(i=>i.title===r.category);s?s.items.push(r):n.push({title:r.category,items:[r]})}),n}const Um=[{id:lt.CreditCard,name:"Credit card numbers",type:Mt.BuiltIn},{id:lt.Currency,name:"Money amounts",type:Mt.BuiltIn},{id:lt.Email,name:"Email addresses",type:Mt.BuiltIn},{id:lt.Image,name:"Images",type:Mt.BuiltIn},{id:lt.Name,name:"Names",type:Mt.BuiltIn},{id:lt.PhoneNumber,name:"Phone numbers",type:Mt.BuiltIn},{id:lt.Ssn,name:"Social security numbers",type:Mt.BuiltIn},{id:lt.Url,name:"URLs",type:Mt.BuiltIn}];function zm(){const{fields:e,setFields:n,isAutoBlurEnabled:r,enableAutoBlur:s}=Fr(),i=()=>{const d=!r;Fe(Oe.SecureBlurToggled,{event_source:"Pop Up",event_context:d?"enabled":"disabled"}),s(d)},c=d=>x=>{if(x.target.checked){n(p=>{let f=kn.find(j=>j.id===d);if(!f)return p;const w=[...p,f];return Fe(Oe.SecureBlurPiiToggled,{event_source:"Pop Up",event_context:[...w].join(", ")}),w});return}n(p=>{const f=p.filter(w=>w.id!==d);return Fe(Oe.SecureBlurPiiToggled,{event_source:"Pop Up",event_context:[...f].join(", ")}),f})};return t.jsxs(M,{css:{bg:o.colors.gray100},direction:"column",children:[t.jsxs(M,{direction:"column",css:{m:o.space[6],borderRadius:o.radii.lg,bg:o.colors.white,border:`2px solid ${o.colors.gray100}`,boxShadow:o.shadows.md},children:[t.jsxs(M,{css:{px:o.space[5],py:o.space[2],borderBottom:`1px solid ${o.colors.gray200}`},alignItems:"center",justifyContent:"between",children:[t.jsx(K,{size:4,css:{color:o.colors.gray700},weight:"med",children:"Secure Blur"}),t.jsx(On,{"aria-label":"Toggle Secure Blur","data-testid":"toggle-secure-blur",onChange:i,checked:r})]}),t.jsx(M,{css:{px:o.space[5],py:o.space[4]},direction:"column",gap:"2",children:Um.map(d=>t.jsxs(M,{as:"label",alignItems:"center",justifyContent:"between",gap:"2",css:{cursor:"pointer",...r?{opacity:1,pointerEvents:"all"}:{opacity:.3,pointerEvents:"none"}},children:[t.jsx(K,{css:{color:o.colors.gray700},children:d.name}),t.jsx(On,{"aria-label":`Toggle ${d.name}}`,"data-testid":`toggle-${d.id}`,onChange:c(d.id),checked:e.some(x=>x.id===d.id)})]},d.id))})]}),t.jsx(M,{css:{my:o.space[5],mt:0},justifyContent:"center",children:t.jsx(K,{size:1,css:{color:o.colors.gray700},children:"Click anywhere to create a new blur."})})]})}function Wm({route:e}){const{canUseAutoBlur:n,isAutoBlurEnabled:r}=Fr(),s=mt(pt.SECURE_BLUR_V2),i=e===je.Blurring,c=e===je.Paused||i&&!n,d=i&&n;return t.jsxs(t.Fragment,{children:[t.jsx(Le,{children:c&&t.jsx(dr,{name:"pause-notification",children:t.jsx(wr,{text:"Capture is paused"})})}),t.jsx(Le,{children:r&&t.jsx(dr,{name:"auto-blur-notification",children:t.jsx(M,{css:{bg:o.colors.gray100,width:"100%",py:o.space[1]},justifyContent:"center",children:t.jsx(K,{size:2,css:{color:o.colors.gray600},children:"Automatic blurring in effect"})})})}),s?t.jsx(Bm,{open:d}):t.jsx(Le,{children:d&&t.jsxs(dr,{name:"secure-blur-menu",children:[t.jsx(wr,{text:"Capture is paused"}),t.jsx(zm,{})]})})]})}const Gm="data:image/svg+xml,%3csvg%20width='320'%20height='120'%20viewBox='0%200%20320%20120'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_4098_4616)'%3e%3cg%20filter='url(%23filter0_f_4098_4616)'%3e%3crect%20x='53'%20y='33'%20width='215'%20height='54'%20fill='url(%23paint0_linear_4098_4616)'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_f_4098_4616'%20x='17'%20y='-3'%20width='287'%20height='126'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='BackgroundImageFix'%20result='shape'/%3e%3cfeGaussianBlur%20stdDeviation='18'%20result='effect1_foregroundBlur_4098_4616'/%3e%3c/filter%3e%3clinearGradient%20id='paint0_linear_4098_4616'%20x1='53'%20y1='71'%20x2='268'%20y2='71'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23E8D8FF'/%3e%3cstop%20offset='0.583333'%20stop-color='%23BD9BDF'/%3e%3cstop%20offset='1'%20stop-color='%23EFE3FF'/%3e%3c/linearGradient%3e%3cclipPath%20id='clip0_4098_4616'%3e%3crect%20width='320'%20height='120'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Eo=({children:e})=>t.jsx(M,{alignItems:"center",animate:{opacity:1,transition:{delay:.7,duration:.3,ease:"easeInOut"}},as:ge.div,exit:{opacity:0},initial:{opacity:0},css:{position:"relative",backgroundImage:`url(${Gm})`,backgroundPosition:"center",backgroundSize:"100%",backgroundRepeat:"no-repeat",height:240},children:e}),$o=({css:e,children:n})=>t.jsx(M,{css:{background:"$white",border:"1px solid $gray100",borderRadius:o.radii.xs,boxShadow:o.shadows.lg,direction:"column",justifyContent:"center",px:12,py:o.space[2],margin:"0 auto",textAlign:"center",textJustify:"center",position:"relative",...e},as:ge.div,initial:{opacity:0},animate:{opacity:1,transition:{delay:.7,duration:.3}},exit:{opacity:0},children:t.jsx(K,{size:"1",children:n})}),Hm=({css:e,children:n})=>t.jsx(U,{css:{background:"$white",border:"1px solid $gray100",borderRadius:o.radii.xs,boxShadow:o.shadows.lg,px:12,py:o.space[2],textAlign:"center",position:"relative","::before":{content:'""',position:"absolute",left:"50%",bottom:"-5px",transform:"translateX(-50%)",borderRight:"5px solid transparent",borderLeft:"5px solid transparent",borderTop:"5px solid $gray100"},"::after":{content:'""',position:"absolute",left:"50%",bottom:"-4px",transform:"translateX(-50%)",borderRight:"4px solid transparent",borderLeft:"4px solid transparent",borderTop:"4px solid $white"},...e},as:ge.div,initial:{opacity:0},animate:{opacity:1,transition:{delay:.7,duration:.3}},exit:{opacity:0},children:t.jsx(K,{size:"1",children:n})}),Vm=({contentBlocks:e})=>t.jsxs(Le,{children:[e.length===1&&t.jsx(U,{css:{position:"absolute",top:68,width:"100%"},children:t.jsx(Eo,{children:t.jsx($o,{css:{width:248},"data-testid":"onboarding-tip-1",children:"Take an action on the page to start your capture ðŸ“¸"})})},"0"),e.length===2&&t.jsx(U,{css:{position:"absolute",top:360,width:"100%"},children:t.jsx(Eo,{children:t.jsx($o,{css:{width:248},"data-testid":"onboarding-tip-2",children:"Click on another action to capture your next step âœŒï¸"})})},"1"),e.length>=9&&t.jsx(U,{css:{position:"absolute",bottom:54,left:"calc(50% - 166px)"},"data-testid":"onboarding-tip-3",children:t.jsx(Hm,{css:{width:147},children:"Finish your capture by clicking below ðŸ‘‡"})},"2")]}),Ya=({show:e,onDelete:n})=>{const[r,s]=g.useState(!1);return g.useEffect(()=>{e||s(!1)},[e]),t.jsx(U,{css:{cursor:"pointer",position:"absolute",top:0,right:0},children:t.jsx(Le,{children:r?t.jsx(ge.div,{initial:{x:"100%"},animate:{x:"0%",transition:{duration:.2}},children:t.jsx(be,{"aria-label":"Delete step","data-testid":"delete-step-button-confirm",onClick:i=>{i.stopPropagation(),n()},variant:"danger",css:{height:"auto",px:o.space[2],py:3,borderRadius:15,boxShadow:"$md"},children:"Delete?"})}):t.jsx("div",{style:{opacity:e?1:0},children:t.jsx(Pe,{content:"Delete",side:"top",children:t.jsx(Be,{"aria-label":"Delete step","data-testid":"delete-step-button",onClick:i=>{i.stopPropagation(),s(!0)},css:{width:24,height:24,background:"#fff"},children:t.jsx(Oa,{})})})})})})},Xm=e=>{const{heading:n,canDelete:r}=e,[s,i]=g.useState(!1),c=new RegExp("^(?:https?:)?(?://)?(?:[^@\\n]+@)?(?:www.)?([^:/\\n?]+)","g"),d=n.url?c.exec(n.url):void 0,x=d?`https://icons.tango.us/${d[1]}`:void 0,p=()=>{de({name:oe.DeleteHeading,id:n.id})};return t.jsx(U,{as:ge.div,exit:{opacity:0},css:{p:o.space[2],mb:o.space[1],border:"2px solid transparent",borderRadius:o.radii.md,transition:"border-color 0.2s ease-in-out 0s","&:hover":{borderColor:o.colors.gray200},overflow:"hidden"},"data-testid":"heading-item",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:t.jsxs(M,{alignItems:"center",animate:{y:0,transition:{delay:.1}},as:ge.div,css:{position:"relative"},exit:{opacity:0},gap:"2",initial:{y:15},justifyContent:"between",children:[t.jsx(U,{css:{ul:{padding:0}},children:t.jsx(Ls,{apps:[{name:d?d[1]:"",iconURL:x}],size:"md"})}),t.jsx(K,{css:{color:o.colors.gray700,flex:1,wordBreak:"break-word"},size:"3",weight:"med",children:n.title}),r&&t.jsx(Ya,{onDelete:p,show:s})]})})};var Ym=function e(n,r){if(n===r)return!0;if(n&&r&&typeof n=="object"&&typeof r=="object"){if(n.constructor!==r.constructor)return!1;var s,i,c;if(Array.isArray(n)){if(s=n.length,s!=r.length)return!1;for(i=s;i--!==0;)if(!e(n[i],r[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===r.toString();if(c=Object.keys(n),s=c.length,s!==Object.keys(r).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,c[i]))return!1;for(i=s;i--!==0;){var d=c[i];if(!e(n[d],r[d]))return!1}return!0}return n!==n&&r!==r};const Zm=Bs(Ym),qm=xe(U,{display:"flex",alignItems:"center",justifyContent:"center",size:24,flex:"0 0 auto",borderRadius:o.radii.full,transition:"background 0.2s ease, color 0.2s ease",variants:{variant:{primary:{background:o.colors.primary500,color:o.colors.white},secondary:{background:o.colors.orange300,color:o.colors.gray600},outline:{background:o.colors.white,color:o.colors.gray600,border:`1px solid ${o.colors.gray200}`},default:{background:o.colors.white,color:o.colors.gray600}}},defaultVariants:{variant:"default"}}),Za=e=>{const{children:n,css:r,variant:s="default",...i}=e;return t.jsx(qm,{css:{...r},variant:s,...i,children:t.jsx(qh,{size:"1",children:n})})};function Qm(e,n,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),n!==void 0&&(e=e>=n?e:n)),e}var Km=Qm,Jm=Km,xs=ql;function eg(e,n,r){return r===void 0&&(r=n,n=void 0),r!==void 0&&(r=xs(r),r=r===r?r:0),n!==void 0&&(n=xs(n),n=n===n?n:0),Jm(xs(e),n,r)}var tg=eg;const Ro=Bs(tg);function ng(e,n,r,s,i,c=4){e.beginPath(),e.moveTo(n+c,r),e.lineTo(n+s-c,r),e.quadraticCurveTo(n+s,r,n+s,r+c),e.lineTo(n+s,r+i-c),e.quadraticCurveTo(n+s,r+i,n+s-c,r+i),e.lineTo(n+c,r+i),e.quadraticCurveTo(n,r+i,n,r+i-c),e.lineTo(n,r+c),e.quadraticCurveTo(n,r,n+c,r),e.closePath(),e.stroke()}const rg=({step:e,onLoad:n})=>{const r=g.useRef(null);return g.useEffect(()=>{if(!e.screenshotURL||!r.current)return;const{bounds:s}=e;let i;const c=new Image;return c.onload=function(){const d=c.width,x=c.height,p=new OffscreenCanvas(d,x),f=p.getContext("2d");if(s){const j=.3*d,R=.3*x,v=d/x,S=s.width/s.height,z=s.x+s.width/2,Z=s.y+s.height/2;let q=s.height+R,I=s.width+j;S>1?(I=s.width+j,q=I/v):S<1&&(q=s.height+R,I=q*v),I=Math.min(I,d),q=Math.min(q,x);const B=z-I/2,L=Z-q/2,G=Ro(B,0,d-I),Y=Ro(L,0,x-q);f.drawImage(c,G,Y,I,q,0,0,d,x),s&&(f.strokeStyle=tt.highlighterColor,f.lineWidth=10,ng(f,(s.x-G)*(d/I),(s.y-Y)*(x/q),s.width*(d/I),s.height*(x/q),20))}else f.drawImage(c,0,0,d,x);p.convertToBlob({type:"image/webp",quality:.8}).then(w=>{i=URL.createObjectURL(w),r.current&&(r.current.src=i,r.current.onload=function(){n(r.current)})})},c.onerror=d=>{Bc(new Error(`Error loading image: ${d}`))},c.src=e.screenshotURL,()=>{i&&URL.revokeObjectURL(i)}},[e]),t.jsx(U,{as:"img",ref:r,css:{width:"100%",borderRadius:o.radii.md,border:`1px solid ${o.colors.gray300}`},alt:"","data-testid":"screenshot"})},sg=({step:e,isOpen:n,onOpen:r,onLoadScreenshot:s,canDelete:i})=>{const c=e.screenshotURL!=null,[d,x]=g.useState(!1),p=()=>{de({name:oe.DeleteStep,id:e.id})};return t.jsxs(U,{as:ge.div,exit:{opacity:0},css:{cursor:c?"pointer":"default",p:o.space[2],mb:o.space[1],border:"2px solid transparent",borderRadius:o.radii.md,transition:"border-color 0.2s ease-in-out 0s","&:hover":{borderColor:o.colors.gray200},overflow:"hidden"},"data-testid":"step-item",onClick:()=>r(!n),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[t.jsxs(M,{as:ge.div,justifyContent:"between",css:{position:"relative"},initial:{y:15},animate:{y:0,transition:{delay:.1}},children:[t.jsx(Za,{css:{mr:o.space[2]},children:(e.stepIndex||0)+1}),t.jsx(K,{css:{color:o.colors.gray700,flex:1,wordBreak:"break-word"},children:e.title}),i&&t.jsx(Ya,{onDelete:p,show:d||n})]}),t.jsx(Le,{initial:!1,children:c&&n&&t.jsx(ig,{step:e,onLoad:s},e.id)})]})},ig=({step:e,onLoad:n})=>{const[r,s]=g.useState(e),i=Qt(),c=ma(),d={hidden:{height:0,marginTop:0,opacity:0,transition:{duration:i?0:.3}}};return g.useEffect(()=>{async function x(){if(e.screenshotURL===""){const p=await de({name:oe.GetScreenshot,stepId:e.id});s({...e,screenshotURL:p.url})}else{if(Zm(e,r))return;s({...e})}}x()},[e]),t.jsx(U,{as:ge.div,css:{overflow:"hidden"},animate:c,initial:"hidden",exit:"hidden",variants:d,children:t.jsx(rg,{step:r,onLoad:async x=>{x&&(await c.start({opacity:1,height:x.height,marginTop:16,transition:{duration:i?.1:.3},transitionEnd:{height:"auto",marginTop:16}}),n&&n())}})})},og=({contentBlocks:e,bottom:n,isAddStepsMode:r,route:s})=>{const i=g.useRef(null),[c,d]=g.useState(""),x=!tt.onboardingCompleted&&!r&&(s===je.Recording||s===je.Paused),p=()=>{const f=i.current;f&&f.scrollTo({behavior:"smooth",top:f.scrollHeight})};return g.useEffect(()=>{const f=e[e.length-1];f&&d(f.id)},[e]),t.jsxs(U,{css:{px:o.space[1],pt:o.space[4],flex:1,overflowY:"scroll"},ref:i,children:[r&&!e.length&&t.jsx(K,{as:"p",css:{color:"$gray300",m:o.space[2],border:"2px solid transparent"},size:"3",children:"Start capturing to add more steps to your workflow."}),t.jsxs(Le,{initial:!1,children:[e.map((f,w)=>{switch(f.type){case ft.Step:return t.jsx(sg,{step:f,onLoadScreenshot:e.length===w+1?p:void 0,isOpen:f.id===c,onOpen:j=>d(j?f.id:""),canDelete:e.length>1||r},f.id);case ft.Heading:return t.jsx(Xm,{canDelete:e.length>1||r,heading:f},f.id);default:return null}}),!r&&e.length===1&&t.jsx(K,{as:"p",css:{color:"$gray300",m:o.space[2],border:"2px solid transparent"},size:"3",children:"Ready to capture!"})]}),x&&t.jsx(Vm,{contentBlocks:e}),n]})};function ag(e){let n=0;return e.map(r=>{if(r.type===ft.Step){const s={...r,stepIndex:n};return n++,s}else return r})}const cg=()=>{const[e,n]=g.useState([]),r=g.useCallback(s=>{if(s.message.name===oe.GetContentBlocks){const i=ag(s.message.contentBlocks);n(i)}},[]);return Et(r),g.useEffect(()=>{(async()=>{const i=await chrome.runtime.sendMessage({message:{name:oe.GetContentBlocks}});i?.contentBlocks&&n(i.contentBlocks)})()},[]),e};var Tn={},qa={exports:{}};(function(e,n){(function(s,i){e.exports=i()})(Gl,()=>(()=>{var r=[,(d,x,p)=>{p.r(x),p.d(x,{default:()=>w});var f=(()=>{var j=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(R={}){var v=R,S,z;v.ready=new Promise((l,a)=>{S=l,z=a});function Z(){function l(W){const D=b;y=a=0,b=new Map,D.forEach(Q=>{try{Q(W)}catch(X){console.error(X)}}),this.Qa(),k&&k.nb()}let a=0,y=0,b=new Map,k=null,O=null;this.requestAnimationFrame=function(W){a||(a=requestAnimationFrame(l.bind(this)));const D=++y;return b.set(D,W),D},this.cancelAnimationFrame=function(W){b.delete(W),a&&b.size==0&&(cancelAnimationFrame(a),a=0)},this.lb=function(W){O&&(document.body.remove(O),O=null),W||(O=document.createElement("div"),O.style.backgroundColor="black",O.style.position="fixed",O.style.right=0,O.style.top=0,O.style.color="white",O.style.padding="4px",O.innerHTML="RIVE FPS",W=function(D){O.innerHTML="RIVE FPS "+D.toFixed(1)},document.body.appendChild(O)),k=new function(){let D=0,Q=0;this.nb=function(){var X=performance.now();Q?(++D,X-=Q,1e3<X&&(W(1e3*D/X),D=Q=0)):(Q=X,D=0)}}},this.ib=function(){O&&(document.body.remove(O),O=null),k=null},this.Qa=function(){}}function q(l){console.assert(!0);const a=new Map;let y=-1/0;this.push=function(b){return b=b+((1<<l)-1)>>l,a.has(b)&&clearTimeout(a.get(b)),a.set(b,setTimeout(function(){a.delete(b),a.length==0?y=-1/0:b==y&&(y=Math.max(...a.keys()),console.assert(y<b))},1e3)),y=Math.max(b,y),y<<l}}const I=new function(){function l(){if(!a){let _e=function(Ge,me,we){if(me=te.createShader(me),te.shaderSource(me,we),te.compileShader(me),we=te.getShaderInfoLog(me),0<we.length)throw we;te.attachShader(Ge,me)};var le=document.createElement("canvas"),fe={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let te=le.getContext("webgl2",fe);if(te)y=2;else if(te=le.getContext("webgl",fe))y=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(b=Math.min(te.getParameter(te.MAX_RENDERBUFFER_SIZE),te.getParameter(te.MAX_TEXTURE_SIZE)),le=te.createProgram(),_e(le,te.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),_e(le,te.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),te.bindAttribLocation(le,0,"vertex"),te.bindAttribLocation(le,1,"uv"),te.linkProgram(le),fe=te.getProgramInfoLog(le),0<fe.trim().length)throw fe;k=te.getUniformLocation(le,"mat"),O=te.getUniformLocation(le,"translate"),te.useProgram(le),te.bindBuffer(te.ARRAY_BUFFER,te.createBuffer()),te.enableVertexAttribArray(0),te.enableVertexAttribArray(1),te.bindBuffer(te.ELEMENT_ARRAY_BUFFER,te.createBuffer()),te.uniform1i(te.getUniformLocation(le,"image"),0),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),a=te}return!0}let a=null,y=0,b=0,k=null,O=null,W=0,D=0;this.wb=function(){return l(),b},this.gb=function(le){if(!l())return null;const fe=a.createTexture();return a.bindTexture(a.TEXTURE_2D,fe),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,le),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),y==2?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_LINEAR),a.generateMipmap(a.TEXTURE_2D)):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),fe};const Q=new q(8),X=new q(8),ee=new q(10),ae=new q(10);this.kb=function(le,fe,te,_e,Ge){if(l()){var me=Q.push(le),we=X.push(fe);(a.canvas.width!=me||a.canvas.height!=we)&&(a.canvas.width=me,a.canvas.height=we),a.viewport(0,we-fe,le,fe),a.disable(a.SCISSOR_TEST),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.enable(a.SCISSOR_TEST),te.sort((Ce,Pt)=>Pt.Ua-Ce.Ua),me=ee.push(_e),W!=me&&(a.bufferData(a.ARRAY_BUFFER,8*me,a.DYNAMIC_DRAW),W=me),me=0;for(var He of te)a.bufferSubData(a.ARRAY_BUFFER,me,He.Da),me+=4*He.Da.length;console.assert(me==4*_e);for(var ct of te)a.bufferSubData(a.ARRAY_BUFFER,me,ct.Xa),me+=4*ct.Xa.length;console.assert(me==8*_e),me=ae.push(Ge),D!=me&&(a.bufferData(a.ELEMENT_ARRAY_BUFFER,2*me,a.DYNAMIC_DRAW),D=me),He=0;for(var kt of te)a.bufferSubData(a.ELEMENT_ARRAY_BUFFER,He,kt.indices),He+=2*kt.indices.length;console.assert(He==2*Ge),kt=0,ct=!0,me=He=0;for(const Ce of te){Ce.image.za!=kt&&(a.bindTexture(a.TEXTURE_2D,Ce.image.cb||null),kt=Ce.image.za),Ce.zb?(a.scissor(Ce.Ia,we-Ce.Ja-Ce.Pa,Ce.Gb,Ce.Pa),ct=!0):ct&&(a.scissor(0,we-fe,le,fe),ct=!1),te=2/le;const Pt=-2/fe;a.uniform4f(k,Ce.oa[0]*te*Ce.va,Ce.oa[1]*Pt*Ce.wa,Ce.oa[2]*te*Ce.va,Ce.oa[3]*Pt*Ce.wa),a.uniform2f(O,Ce.oa[4]*te*Ce.va+te*(Ce.Ia-Ce.xb*Ce.va)-1,Ce.oa[5]*Pt*Ce.wa+Pt*(Ce.Ja-Ce.yb*Ce.wa)+1),a.vertexAttribPointer(0,2,a.FLOAT,!1,0,me),a.vertexAttribPointer(1,2,a.FLOAT,!1,0,me+4*_e),a.drawElements(a.TRIANGLES,Ce.indices.length,a.UNSIGNED_SHORT,He),me+=4*Ce.Da.length,He+=2*Ce.indices.length}console.assert(me==4*_e),console.assert(He==2*Ge)}},this.canvas=function(){return l()&&a.canvas}};v.onRuntimeInitialized=function(){function l(J){switch(J){case X.srcOver:return"source-over";case X.screen:return"screen";case X.overlay:return"overlay";case X.darken:return"darken";case X.lighten:return"lighten";case X.colorDodge:return"color-dodge";case X.colorBurn:return"color-burn";case X.hardLight:return"hard-light";case X.softLight:return"soft-light";case X.difference:return"difference";case X.exclusion:return"exclusion";case X.multiply:return"multiply";case X.hue:return"hue";case X.saturation:return"saturation";case X.color:return"color";case X.luminosity:return"luminosity"}}function a(J){return"rgba("+((16711680&J)>>>16)+","+((65280&J)>>>8)+","+((255&J)>>>0)+","+((4278190080&J)>>>24)/255+")"}function y(){0<He.length&&(I.kb(we.drawWidth(),we.drawHeight(),He,ct,kt),He=[],kt=ct=0,we.reset(512,512));for(const J of me){for(const he of J.da)he();J.da=[]}me.clear()}var b=v.RenderPaintStyle;const k=v.RenderPath,O=v.RenderPaint,W=v.Renderer,D=v.StrokeCap,Q=v.StrokeJoin,X=v.BlendMode,ee=b.fill,ae=b.stroke,le=v.FillRule.evenOdd;let fe=1;var te=v.RenderImage.extend("CanvasRenderImage",{__construct:function(){this.__parent.__construct.call(this),this.za=fe,fe=fe+1&2147483647||1},decode:function(J){let he=qr;he.total++;var Se=this,Re=new Image;Re.src=URL.createObjectURL(new Blob([J],{type:"image/png"})),Re.onload=function(){if(Se.ab=Re,Se.cb=I.gb(Re),Se.size(Re.width,Re.height),he.loaded++,he.loaded===he.total){const Te=he.ready;Te&&(Te(),he.ready=null)}}}}),_e=k.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.ia=new Path2D},rewind:function(){this.ia=new Path2D},addPath:function(J,he,Se,Re,Te,Ne,Ee){var Ie=this.ia,ht=Ie.addPath;J=J.ia;const Ye=new DOMMatrix;Ye.a=he,Ye.b=Se,Ye.c=Re,Ye.d=Te,Ye.e=Ne,Ye.f=Ee,ht.call(Ie,J,Ye)},fillRule:function(J){this.Ga=J},moveTo:function(J,he){this.ia.moveTo(J,he)},lineTo:function(J,he){this.ia.lineTo(J,he)},cubicTo:function(J,he,Se,Re,Te,Ne){this.ia.bezierCurveTo(J,he,Se,Re,Te,Ne)},close:function(){this.ia.closePath()}}),Ge=O.extend("CanvasRenderPaint",{color:function(J){this.Ha=a(J)},thickness:function(J){this.eb=J},join:function(J){switch(J){case Q.miter:this.ya="miter";break;case Q.round:this.ya="round";break;case Q.bevel:this.ya="bevel"}},cap:function(J){switch(J){case D.butt:this.xa="butt";break;case D.round:this.xa="round";break;case D.square:this.xa="square"}},style:function(J){this.bb=J},blendMode:function(J){this.$a=l(J)},clearGradient:function(){this.qa=null},linearGradient:function(J,he,Se,Re){this.qa={Va:J,Wa:he,La:Se,Ma:Re,Ca:[]}},radialGradient:function(J,he,Se,Re){this.qa={Va:J,Wa:he,La:Se,Ma:Re,Ca:[],ub:!0}},addStop:function(J,he){this.qa.Ca.push({color:J,stop:he})},completeGradient:function(){},draw:function(J,he,Se){let Re=this.bb;var Te=this.Ha,Ne=this.qa;if(J.globalCompositeOperation=this.$a,Ne!=null){Te=Ne.Va;var Ee=Ne.Wa;const ht=Ne.La;var Ie=Ne.Ma;const Ye=Ne.Ca;Ne.ub?(Ne=ht-Te,Ie-=Ee,Te=J.createRadialGradient(Te,Ee,0,Te,Ee,Math.sqrt(Ne*Ne+Ie*Ie))):Te=J.createLinearGradient(Te,Ee,ht,Ie);for(let wt=0,Ze=Ye.length;wt<Ze;wt++)Ee=Ye[wt],Te.addColorStop(Ee.stop,a(Ee.color));this.Ha=Te,this.qa=null}switch(Re){case ae:J.strokeStyle=Te,J.lineWidth=this.eb,J.lineCap=this.xa,J.lineJoin=this.ya,J.stroke(he);break;case ee:J.fillStyle=Te,J.fill(he,Se)}}});const me=new Set;let we=null,He=[],ct=0,kt=0;var Ce=v.CanvasRenderer=W.extend("Renderer",{__construct:function(J){this.__parent.__construct.call(this),this.ha=[1,0,0,1,0,0],this.ba=J.getContext("2d"),this.Fa=J,this.da=[]},save:function(){this.ha.push(...this.ha.slice(this.ha.length-6)),this.da.push(this.ba.save.bind(this.ba))},restore:function(){const J=this.ha.length-6;if(6>J)throw"restore() called without matching save().";this.ha.splice(J),this.da.push(this.ba.restore.bind(this.ba))},transform:function(J,he,Se,Re,Te,Ne){const Ee=this.ha,Ie=Ee.length-6;Ee.splice(Ie,6,Ee[Ie]*J+Ee[Ie+2]*he,Ee[Ie+1]*J+Ee[Ie+3]*he,Ee[Ie]*Se+Ee[Ie+2]*Re,Ee[Ie+1]*Se+Ee[Ie+3]*Re,Ee[Ie]*Te+Ee[Ie+2]*Ne+Ee[Ie+4],Ee[Ie+1]*Te+Ee[Ie+3]*Ne+Ee[Ie+5]),this.da.push(this.ba.transform.bind(this.ba,J,he,Se,Re,Te,Ne))},rotate:function(J){const he=Math.sin(J);J=Math.cos(J),this.transform(J,he,-he,J,0,0)},_drawPath:function(J,he){this.da.push(he.draw.bind(he,this.ba,J.ia,J.Ga===le?"evenodd":"nonzero"))},drawImage:function(J,...he){var Se=this.ba;this.da.push(function(){Se.drawImage(J,...he)})},_drawRiveImage:function(J,he,Se){var Re=J.ab;if(Re){var Te=this.ba,Ne=l(he);this.da.push(function(){Te.globalCompositeOperation=Ne,Te.globalAlpha=Se,Te.drawImage(Re,0,0),Te.globalAlpha=1})}},_getMatrix:function(J){const he=this.ha,Se=he.length-6;for(let Re=0;6>Re;++Re)J[Re]=he[Se+Re]},_drawImageMesh:function(J,he,Se,Re,Te,Ne,Ee,Ie,ht,Ye){var wt=this.ba.canvas.width,Ze=this.ba.canvas.height;const Si=ht-Ee,Ti=Ye-Ie;Ee=Math.max(Ee,0),Ie=Math.max(Ie,0),ht=Math.min(ht,wt),Ye=Math.min(Ye,Ze);const jn=ht-Ee,Cn=Ye-Ie;if(console.assert(jn<=Math.min(Si,wt)),console.assert(Cn<=Math.min(Ti,Ze)),!(0>=jn||0>=Cn)){ht=jn<Si||Cn<Ti,wt=Ye=1;var Wt=Math.ceil(jn*Ye),Gt=Math.ceil(Cn*wt);Ze=I.wb(),Wt>Ze&&(Ye*=Ze/Wt,Wt=Ze),Gt>Ze&&(wt*=Ze/Gt,Gt=Ze),we||(we=new v.DynamicRectanizer(Ze),we.reset(512,512)),Ze=we.addRect(Wt,Gt),0>Ze&&(y(),me.add(this),Ze=we.addRect(Wt,Gt),console.assert(0<=Ze));var ki=Ze&65535,_i=Ze>>16;He.push({oa:this.ha.slice(this.ha.length-6),image:J,Ia:ki,Ja:_i,xb:Ee,yb:Ie,Gb:Wt,Pa:Gt,va:Ye,wa:wt,Da:new Float32Array(Re),Xa:new Float32Array(Te),indices:new Uint16Array(Ne),zb:ht,Ua:J.za<<1|(ht?1:0)}),ct+=Re.length,kt+=Ne.length;var tn=this.ba,Ic=l(he);this.da.push(function(){tn.save(),tn.resetTransform(),tn.globalCompositeOperation=Ic,tn.globalAlpha=Se,tn.drawImage(I.canvas(),ki,_i,Wt,Gt,Ee,Ie,jn,Cn),tn.restore()})}},_clipPath:function(J){this.da.push(this.ba.clip.bind(this.ba,J.ia,J.Ga===le?"evenodd":"nonzero"))},clear:function(){me.add(this),this.da.push(this.ba.clearRect.bind(this.ba,0,0,this.Fa.width,this.Fa.height))},flush:function(){},translate:function(J,he){this.transform(1,0,0,1,J,he)}});v.makeRenderer=function(J){return new Ce(J)},v.renderFactory={makeRenderPaint:function(){return new Ge},makeRenderPath:function(){return new _e},makeRenderImage:function(){return new te}};let Pt=v.load,qr=null;v.load=function(J){return new Promise(function(he){let Se=null;qr={total:0,loaded:0,ready:function(){he(Se)}},Se=Pt(J),qr.total==0&&he(Se)})},b=new Z,v.requestAnimationFrame=b.requestAnimationFrame.bind(b),v.cancelAnimationFrame=b.cancelAnimationFrame.bind(b),v.enableFPSCounter=b.lb.bind(b),v.disableFPSCounter=b.ib,b.Qa=y,v.cleanup=function(){we&&we.delete()}};var B=Object.assign({},v),L="./this.program",G=typeof window=="object",Y=typeof importScripts=="function",H="",ie,se;(G||Y)&&(Y?H=self.location.href:typeof document<"u"&&document.currentScript&&(H=document.currentScript.src),j&&(H=j),H.indexOf("blob:")!==0?H=H.substr(0,H.replace(/[?#].*/,"").lastIndexOf("/")+1):H="",Y&&(se=l=>{var a=new XMLHttpRequest;return a.open("GET",l,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),ie=(l,a,y)=>{var b=new XMLHttpRequest;b.open("GET",l,!0),b.responseType="arraybuffer",b.onload=()=>{b.status==200||b.status==0&&b.response?a(b.response):y()},b.onerror=y,b.send(null)});var ce=v.print||console.log.bind(console),ue=v.printErr||console.error.bind(console);Object.assign(v,B),B=null,v.thisProgram&&(L=v.thisProgram);var C;v.wasmBinary&&(C=v.wasmBinary),v.noExitRuntime,typeof WebAssembly!="object"&&Xe("no native wasm support detected");var h,u,m=!1,E,$,T,A,F,P,_,V;function ne(){var l=h.buffer;v.HEAP8=E=new Int8Array(l),v.HEAP16=T=new Int16Array(l),v.HEAP32=F=new Int32Array(l),v.HEAPU8=$=new Uint8Array(l),v.HEAPU16=A=new Uint16Array(l),v.HEAPU32=P=new Uint32Array(l),v.HEAPF32=_=new Float32Array(l),v.HEAPF64=V=new Float64Array(l)}var re,ve=[],pe=[],dt=[];function nt(){var l=v.preRun.shift();ve.unshift(l)}var De=0,$e=null;function Xe(l){throw v.onAbort&&v.onAbort(l),l="Aborted("+l+")",ue(l),m=!0,l=new WebAssembly.RuntimeError(l+". Build with -sASSERTIONS for more info."),z(l),l}function Ke(l){return l.startsWith("data:application/octet-stream;base64,")}var Me;if(Me="canvas_advanced.wasm",!Ke(Me)){var ze=Me;Me=v.locateFile?v.locateFile(ze,H):H+ze}function We(l){if(l==Me&&C)return new Uint8Array(C);if(se)return se(l);throw"both async and sync fetching of the wasm failed"}function rt(l){if(!C&&(G||Y)){if(typeof fetch=="function"&&!l.startsWith("file://"))return fetch(l,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw"failed to load wasm binary file at '"+l+"'";return a.arrayBuffer()}).catch(()=>We(l));if(ie)return new Promise((a,y)=>{ie(l,b=>a(new Uint8Array(b)),y)})}return Promise.resolve().then(()=>We(l))}function Qe(l,a,y){return rt(l).then(b=>WebAssembly.instantiate(b,a)).then(b=>b).then(y,b=>{ue("failed to asynchronously prepare wasm: "+b),Xe(b)})}function Je(l,a){var y=Me;return C||typeof WebAssembly.instantiateStreaming!="function"||Ke(y)||y.startsWith("file://")||typeof fetch!="function"?Qe(y,l,a):fetch(y,{credentials:"same-origin"}).then(b=>WebAssembly.instantiateStreaming(b,l).then(a,function(k){return ue("wasm streaming compile failed: "+k),ue("falling back to ArrayBuffer instantiation"),Qe(y,l,a)}))}var yt=l=>{for(;0<l.length;)l.shift()(v)};function gn(l){if(l===void 0)return"_unknown";l=l.replace(/[^a-zA-Z0-9_]/g,"$");var a=l.charCodeAt(0);return 48<=a&&57>=a?`_${l}`:l}function Ut(l,a){return l=gn(l),{[l]:function(){return a.apply(this,arguments)}}[l]}function Kt(){this.ja=[void 0],this.Oa=[]}var it=new Kt,At=void 0;function ye(l){throw new At(l)}var Ot=l=>(l||ye("Cannot use deleted val. handle = "+l),it.get(l).value),$t=l=>{switch(l){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return it.Ya({Ta:1,value:l})}};function li(l){var a=Error,y=Ut(l,function(b){this.name=l,this.message=b,b=Error(b).stack,b!==void 0&&(this.stack=this.toString()+`
`+b.replace(/^Error(:[^\n]*)?\n/,""))});return y.prototype=Object.create(a.prototype),y.prototype.constructor=y,y.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},y}var ui=void 0,di=void 0;function Ue(l){for(var a="";$[l];)a+=di[$[l++]];return a}var vn=[];function Br(){for(;vn.length;){var l=vn.pop();l.W.na=!1,l.delete()}}var xn=void 0,Rt={};function Dr(l,a){for(a===void 0&&ye("ptr should not be undefined");l.$;)a=l.ra(a),l=l.$;return a}var zt={};function hi(l){l=Ri(l);var a=Ue(l);return Tt(l),a}function yn(l,a){var y=zt[l];return y===void 0&&ye(a+" has unknown type "+hi(l)),y}function Bn(){}var Ur=!1;function fi(l){--l.count.value,l.count.value===0&&(l.ca?l.fa.ka(l.ca):l.Z.X.ka(l.Y))}function pi(l,a,y){return a===y?l:y.$===void 0?null:(l=pi(l,a,y.$),l===null?null:y.jb(l))}var mi={};function oc(l,a){return a=Dr(l,a),Rt[a]}var gi=void 0;function Dn(l){throw new gi(l)}function Un(l,a){return a.Z&&a.Y||Dn("makeClassHandle requires ptr and ptrType"),!!a.fa!=!!a.ca&&Dn("Both smartPtrType and smartPtr must be specified"),a.count={value:1},Jt(Object.create(l,{W:{value:a}}))}function Jt(l){return typeof FinalizationRegistry>"u"?(Jt=a=>a,l):(Ur=new FinalizationRegistry(a=>{fi(a.W)}),Jt=a=>{var y=a.W;return y.ca&&Ur.register(a,{W:y},a),a},Bn=a=>{Ur.unregister(a)},Jt(l))}var zn={};function bn(l){for(;l.length;){var a=l.pop();l.pop()(a)}}function wn(l){return this.fromWireType(F[l>>2])}var en={},Wn={};function at(l,a,y){function b(D){D=y(D),D.length!==l.length&&Dn("Mismatched type converter count");for(var Q=0;Q<l.length;++Q)bt(l[Q],D[Q])}l.forEach(function(D){Wn[D]=a});var k=Array(a.length),O=[],W=0;a.forEach((D,Q)=>{zt.hasOwnProperty(D)?k[Q]=zt[D]:(O.push(D),en.hasOwnProperty(D)||(en[D]=[]),en[D].push(()=>{k[Q]=zt[D],++W,W===O.length&&b(k)}))}),O.length===0&&b(k)}function Gn(l){switch(l){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${l}`)}}function ac(l,a,y={}){var b=a.name;if(l||ye(`type "${b}" must have a positive integer typeid pointer`),zt.hasOwnProperty(l)){if(y.tb)return;ye(`Cannot register type '${b}' twice`)}zt[l]=a,delete Wn[l],en.hasOwnProperty(l)&&(a=en[l],delete en[l],a.forEach(k=>k()))}function bt(l,a,y={}){if(!("argPackAdvance"in a))throw new TypeError("registerType registeredInstance requires argPackAdvance");ac(l,a,y)}function zr(l){ye(l.W.Z.X.name+" instance already deleted")}function Lt(){}function Wr(l,a,y){if(l[a].aa===void 0){var b=l[a];l[a]=function(){return l[a].aa.hasOwnProperty(arguments.length)||ye(`Function '${y}' called with an invalid number of arguments (${arguments.length}) - expects one of (${l[a].aa})!`),l[a].aa[arguments.length].apply(this,arguments)},l[a].aa=[],l[a].aa[b.ma]=b}}function Gr(l,a,y){v.hasOwnProperty(l)?((y===void 0||v[l].aa!==void 0&&v[l].aa[y]!==void 0)&&ye(`Cannot register public name '${l}' twice`),Wr(v,l,l),v.hasOwnProperty(y)&&ye(`Cannot register multiple overloads of a function with the same number of arguments (${y})!`),v[l].aa[y]=a):(v[l]=a,y!==void 0&&(v[l].Hb=y))}function cc(l,a,y,b,k,O,W,D){this.name=l,this.constructor=a,this.ga=y,this.ka=b,this.$=k,this.ob=O,this.ra=W,this.jb=D,this.Ra=[]}function Hn(l,a,y){for(;a!==y;)a.ra||ye(`Expected null or instance of ${y.name}, got an instance of ${a.name}`),l=a.ra(l),a=a.$;return l}function lc(l,a){return a===null?(this.Aa&&ye(`null is not a valid ${this.name}`),0):(a.W||ye(`Cannot pass "${Vr(a)}" as a ${this.name}`),a.W.Y||ye(`Cannot pass deleted object as a pointer of type ${this.name}`),Hn(a.W.Y,a.W.Z.X,this.X))}function uc(l,a){if(a===null){if(this.Aa&&ye(`null is not a valid ${this.name}`),this.ua){var y=this.Ba();return l!==null&&l.push(this.ka,y),y}return 0}if(a.W||ye(`Cannot pass "${Vr(a)}" as a ${this.name}`),a.W.Y||ye(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&a.W.Z.ta&&ye(`Cannot convert argument of type ${a.W.fa?a.W.fa.name:a.W.Z.name} to parameter type ${this.name}`),y=Hn(a.W.Y,a.W.Z.X,this.X),this.ua)switch(a.W.ca===void 0&&ye("Passing raw pointer to smart pointer is illegal"),this.Fb){case 0:a.W.fa===this?y=a.W.ca:ye(`Cannot convert argument of type ${a.W.fa?a.W.fa.name:a.W.Z.name} to parameter type ${this.name}`);break;case 1:y=a.W.ca;break;case 2:if(a.W.fa===this)y=a.W.ca;else{var b=a.clone();y=this.Bb(y,$t(function(){b.delete()})),l!==null&&l.push(this.ka,y)}break;default:ye("Unsupporting sharing policy")}return y}function dc(l,a){return a===null?(this.Aa&&ye(`null is not a valid ${this.name}`),0):(a.W||ye(`Cannot pass "${Vr(a)}" as a ${this.name}`),a.W.Y||ye(`Cannot pass deleted object as a pointer of type ${this.name}`),a.W.Z.ta&&ye(`Cannot convert argument of type ${a.W.Z.name} to parameter type ${this.name}`),Hn(a.W.Y,a.W.Z.X,this.X))}function It(l,a,y,b){this.name=l,this.X=a,this.Aa=y,this.ta=b,this.ua=!1,this.ka=this.Bb=this.Ba=this.Sa=this.Fb=this.Ab=void 0,a.$!==void 0?this.toWireType=uc:(this.toWireType=b?lc:dc,this.ea=null)}function vi(l,a,y){v.hasOwnProperty(l)||Dn("Replacing nonexistant public symbol"),v[l].aa!==void 0&&y!==void 0?v[l].aa[y]=a:(v[l]=a,v[l].ma=y)}var hc=(l,a)=>{var y=[];return function(){if(y.length=0,Object.assign(y,arguments),l.includes("j")){var b=v["dynCall_"+l];b=y&&y.length?b.apply(null,[a].concat(y)):b.call(null,a)}else b=re.get(a).apply(null,y);return b}};function et(l,a){l=Ue(l);var y=l.includes("j")?hc(l,a):re.get(a);return typeof y!="function"&&ye(`unknown function pointer with signature ${l}: ${a}`),y}var xi=void 0;function St(l,a){function y(O){k[O]||zt[O]||(Wn[O]?Wn[O].forEach(y):(b.push(O),k[O]=!0))}var b=[],k={};throw a.forEach(y),new xi(`${l}: `+b.map(hi).join([", "]))}function Vn(l,a,y,b,k){var O=a.length;2>O&&ye("argTypes array size mismatch! Must at least get return value and 'this' types!");var W=a[1]!==null&&y!==null,D=!1;for(y=1;y<a.length;++y)if(a[y]!==null&&a[y].ea===void 0){D=!0;break}var Q=a[0].name!=="void",X=O-2,ee=Array(X),ae=[],le=[];return function(){if(arguments.length!==X&&ye(`function ${l} called with ${arguments.length} arguments, expected ${X} args!`),le.length=0,ae.length=W?2:1,ae[0]=k,W){var fe=a[1].toWireType(le,this);ae[1]=fe}for(var te=0;te<X;++te)ee[te]=a[te+2].toWireType(le,arguments[te]),ae.push(ee[te]);if(te=b.apply(null,ae),D)bn(le);else for(var _e=W?1:2;_e<a.length;_e++){var Ge=_e===1?fe:ee[_e-2];a[_e].ea!==null&&a[_e].ea(Ge)}return fe=Q?a[0].fromWireType(te):void 0,fe}}function Xn(l,a){for(var y=[],b=0;b<l;b++)y.push(P[a+4*b>>2]);return y}function yi(l,a,y){return l instanceof Object||ye(`${y} with invalid "this": ${l}`),l instanceof a.X.constructor||ye(`${y} incompatible with "this" of type ${l.constructor.name}`),l.W.Y||ye(`cannot call emscripten binding method ${y} on deleted object`),Hn(l.W.Y,l.W.Z.X,a.X)}function Hr(l){l>=it.Ea&&--it.get(l).Ta===0&&it.Za(l)}function fc(l,a,y){switch(a){case 0:return function(b){return this.fromWireType((y?E:$)[b])};case 1:return function(b){return this.fromWireType((y?T:A)[b>>1])};case 2:return function(b){return this.fromWireType((y?F:P)[b>>2])};default:throw new TypeError("Unknown integer type: "+l)}}function Vr(l){if(l===null)return"null";var a=typeof l;return a==="object"||a==="array"||a==="function"?l.toString():""+l}function pc(l,a){switch(a){case 2:return function(y){return this.fromWireType(_[y>>2])};case 3:return function(y){return this.fromWireType(V[y>>3])};default:throw new TypeError("Unknown float type: "+l)}}function mc(l,a,y){switch(a){case 0:return y?function(b){return E[b]}:function(b){return $[b]};case 1:return y?function(b){return T[b>>1]}:function(b){return A[b>>1]};case 2:return y?function(b){return F[b>>2]}:function(b){return P[b>>2]};default:throw new TypeError("Unknown integer type: "+l)}}var bi=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,wi=(l,a,y)=>{var b=a+y;for(y=a;l[y]&&!(y>=b);)++y;if(16<y-a&&l.buffer&&bi)return bi.decode(l.subarray(a,y));for(b="";a<y;){var k=l[a++];if(k&128){var O=l[a++]&63;if((k&224)==192)b+=String.fromCharCode((k&31)<<6|O);else{var W=l[a++]&63;k=(k&240)==224?(k&15)<<12|O<<6|W:(k&7)<<18|O<<12|W<<6|l[a++]&63,65536>k?b+=String.fromCharCode(k):(k-=65536,b+=String.fromCharCode(55296|k>>10,56320|k&1023))}}else b+=String.fromCharCode(k)}return b},ji=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,gc=(l,a)=>{for(var y=l>>1,b=y+a/2;!(y>=b)&&A[y];)++y;if(y<<=1,32<y-l&&ji)return ji.decode($.subarray(l,y));for(y="",b=0;!(b>=a/2);++b){var k=T[l+2*b>>1];if(k==0)break;y+=String.fromCharCode(k)}return y},vc=(l,a,y)=>{if(y===void 0&&(y=2147483647),2>y)return 0;y-=2;var b=a;y=y<2*l.length?y/2:l.length;for(var k=0;k<y;++k)T[a>>1]=l.charCodeAt(k),a+=2;return T[a>>1]=0,a-b},xc=l=>2*l.length,yc=(l,a)=>{for(var y=0,b="";!(y>=a/4);){var k=F[l+4*y>>2];if(k==0)break;++y,65536<=k?(k-=65536,b+=String.fromCharCode(55296|k>>10,56320|k&1023)):b+=String.fromCharCode(k)}return b},bc=(l,a,y)=>{if(y===void 0&&(y=2147483647),4>y)return 0;var b=a;y=b+y-4;for(var k=0;k<l.length;++k){var O=l.charCodeAt(k);if(55296<=O&&57343>=O){var W=l.charCodeAt(++k);O=65536+((O&1023)<<10)|W&1023}if(F[a>>2]=O,a+=4,a+4>y)break}return F[a>>2]=0,a-b},wc=l=>{for(var a=0,y=0;y<l.length;++y){var b=l.charCodeAt(y);55296<=b&&57343>=b&&++y,a+=4}return a},jc={};function Yn(l){var a=jc[l];return a===void 0?Ue(l):a}var Zn=[];function Cc(l){var a=Zn.length;return Zn.push(l),a}function Ec(l,a){for(var y=Array(l),b=0;b<l;++b)y[b]=yn(P[a+4*b>>2],"parameter "+b);return y}var Ci=[],Xr={},Ei=()=>{if(!Yr){var l={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"},a;for(a in Xr)Xr[a]===void 0?delete l[a]:l[a]=Xr[a];var y=[];for(a in l)y.push(`${a}=${l[a]}`);Yr=y}return Yr},Yr,$c=[null,[],[]];Object.assign(Kt.prototype,{get(l){return this.ja[l]},has(l){return this.ja[l]!==void 0},Ya(l){var a=this.Oa.pop()||this.ja.length;return this.ja[a]=l,a},Za(l){this.ja[l]=void 0,this.Oa.push(l)}}),At=v.BindingError=class extends Error{constructor(l){super(l),this.name="BindingError"}},it.ja.push({value:void 0},{value:null},{value:!0},{value:!1}),it.Ea=it.ja.length,v.count_emval_handles=function(){for(var l=0,a=it.Ea;a<it.ja.length;++a)it.ja[a]!==void 0&&++l;return l},ui=v.PureVirtualError=li("PureVirtualError");for(var $i=Array(256),qn=0;256>qn;++qn)$i[qn]=String.fromCharCode(qn);di=$i,v.getInheritedInstanceCount=function(){return Object.keys(Rt).length},v.getLiveInheritedInstances=function(){var l=[],a;for(a in Rt)Rt.hasOwnProperty(a)&&l.push(Rt[a]);return l},v.flushPendingDeletes=Br,v.setDelayFunction=function(l){xn=l,vn.length&&xn&&xn(Br)},gi=v.InternalError=class extends Error{constructor(l){super(l),this.name="InternalError"}},Lt.prototype.isAliasOf=function(l){if(!(this instanceof Lt&&l instanceof Lt))return!1;var a=this.W.Z.X,y=this.W.Y,b=l.W.Z.X;for(l=l.W.Y;a.$;)y=a.ra(y),a=a.$;for(;b.$;)l=b.ra(l),b=b.$;return a===b&&y===l},Lt.prototype.clone=function(){if(this.W.Y||zr(this),this.W.pa)return this.W.count.value+=1,this;var l=Jt,a=Object,y=a.create,b=Object.getPrototypeOf(this),k=this.W;return l=l(y.call(a,b,{W:{value:{count:k.count,na:k.na,pa:k.pa,Y:k.Y,Z:k.Z,ca:k.ca,fa:k.fa}}})),l.W.count.value+=1,l.W.na=!1,l},Lt.prototype.delete=function(){this.W.Y||zr(this),this.W.na&&!this.W.pa&&ye("Object already scheduled for deletion"),Bn(this),fi(this.W),this.W.pa||(this.W.ca=void 0,this.W.Y=void 0)},Lt.prototype.isDeleted=function(){return!this.W.Y},Lt.prototype.deleteLater=function(){return this.W.Y||zr(this),this.W.na&&!this.W.pa&&ye("Object already scheduled for deletion"),vn.push(this),vn.length===1&&xn&&xn(Br),this.W.na=!0,this},It.prototype.pb=function(l){return this.Sa&&(l=this.Sa(l)),l},It.prototype.Ka=function(l){this.ka&&this.ka(l)},It.prototype.argPackAdvance=8,It.prototype.readValueFromPointer=wn,It.prototype.deleteObject=function(l){l!==null&&l.delete()},It.prototype.fromWireType=function(l){function a(){return this.ua?Un(this.X.ga,{Z:this.Ab,Y:y,fa:this,ca:l}):Un(this.X.ga,{Z:this,Y:l})}var y=this.pb(l);if(!y)return this.Ka(l),null;var b=oc(this.X,y);if(b!==void 0)return b.W.count.value===0?(b.W.Y=y,b.W.ca=l,b.clone()):(b=b.clone(),this.Ka(l),b);if(b=this.X.ob(y),b=mi[b],!b)return a.call(this);b=this.ta?b.fb:b.pointerType;var k=pi(y,this.X,b.X);return k===null?a.call(this):this.ua?Un(b.X.ga,{Z:b,Y:k,fa:this,ca:l}):Un(b.X.ga,{Z:b,Y:k})},xi=v.UnboundTypeError=li("UnboundTypeError");var Rc={I:function(l,a,y){l=Ue(l),a=yn(a,"wrapper"),y=Ot(y);var b=[].slice,k=a.X,O=k.ga,W=k.$.ga,D=k.$.constructor;l=Ut(l,function(){k.$.Ra.forEach(function(X){if(this[X]===W[X])throw new ui(`Pure virtual function ${X} must be implemented in JavaScript`)}.bind(this)),Object.defineProperty(this,"__parent",{value:O}),this.__construct.apply(this,b.call(arguments))}),O.__construct=function(){this===O&&ye("Pass correct 'this' to __construct");var X=D.implement.apply(void 0,[this].concat(b.call(arguments)));Bn(X);var ee=X.W;X.notifyOnDestruction(),ee.pa=!0,Object.defineProperties(this,{W:{value:ee}}),Jt(this),X=ee.Y,X=Dr(k,X),Rt.hasOwnProperty(X)?ye(`Tried to register registered instance: ${X}`):Rt[X]=this},O.__destruct=function(){this===O&&ye("Pass correct 'this' to __destruct"),Bn(this);var X=this.W.Y;X=Dr(k,X),Rt.hasOwnProperty(X)?delete Rt[X]:ye(`Tried to unregister unregistered instance: ${X}`)},l.prototype=Object.create(O);for(var Q in y)l.prototype[Q]=y[Q];return $t(l)},L:function(l){var a=zn[l];delete zn[l];var y=a.Ba,b=a.ka,k=a.Na,O=k.map(W=>W.sb).concat(k.map(W=>W.Db));at([l],O,W=>{var D={};return k.forEach((Q,X)=>{var ee=W[X],ae=Q.qb,le=Q.rb,fe=W[X+k.length],te=Q.Cb,_e=Q.Eb;D[Q.mb]={read:Ge=>ee.fromWireType(ae(le,Ge)),write:(Ge,me)=>{var we=[];te(_e,Ge,fe.toWireType(we,me)),bn(we)}}}),[{name:a.name,fromWireType:function(Q){var X={},ee;for(ee in D)X[ee]=D[ee].read(Q);return b(Q),X},toWireType:function(Q,X){for(var ee in D)if(!(ee in X))throw new TypeError(`Missing field: "${ee}"`);var ae=y();for(ee in D)D[ee].write(ae,X[ee]);return Q!==null&&Q.push(b,ae),ae},argPackAdvance:8,readValueFromPointer:wn,ea:b}]})},z:function(){},G:function(l,a,y,b,k){var O=Gn(y);a=Ue(a),bt(l,{name:a,fromWireType:function(W){return!!W},toWireType:function(W,D){return D?b:k},argPackAdvance:8,readValueFromPointer:function(W){if(y===1)var D=E;else if(y===2)D=T;else if(y===4)D=F;else throw new TypeError("Unknown boolean type size: "+a);return this.fromWireType(D[W>>O])},ea:null})},e:function(l,a,y,b,k,O,W,D,Q,X,ee,ae,le){ee=Ue(ee),O=et(k,O),D&&(D=et(W,D)),X&&(X=et(Q,X)),le=et(ae,le);var fe=gn(ee);Gr(fe,function(){St(`Cannot construct ${ee} due to unbound types`,[b])}),at([l,a,y],b?[b]:[],function(te){if(te=te[0],b)var _e=te.X,Ge=_e.ga;else Ge=Lt.prototype;te=Ut(fe,function(){if(Object.getPrototypeOf(this)!==me)throw new At("Use 'new' to construct "+ee);if(we.la===void 0)throw new At(ee+" has no accessible constructor");var ct=we.la[arguments.length];if(ct===void 0)throw new At(`Tried to invoke ctor of ${ee} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(we.la).toString()}) parameters instead!`);return ct.apply(this,arguments)});var me=Object.create(Ge,{constructor:{value:te}});te.prototype=me;var we=new cc(ee,te,me,le,_e,O,D,X);we.$&&(we.$.sa===void 0&&(we.$.sa=[]),we.$.sa.push(we)),_e=new It(ee,we,!0,!1),Ge=new It(ee+"*",we,!1,!1);var He=new It(ee+" const*",we,!1,!0);return mi[l]={pointerType:Ge,fb:He},vi(fe,te),[_e,Ge,He]})},k:function(l,a,y,b,k,O,W){var D=Xn(y,b);a=Ue(a),O=et(k,O),at([],[l],function(Q){function X(){St(`Cannot call ${ee} due to unbound types`,D)}Q=Q[0];var ee=`${Q.name}.${a}`;a.startsWith("@@")&&(a=Symbol[a.substring(2)]);var ae=Q.X.constructor;return ae[a]===void 0?(X.ma=y-1,ae[a]=X):(Wr(ae,a,ee),ae[a].aa[y-1]=X),at([],D,function(le){if(le=Vn(ee,[le[0],null].concat(le.slice(1)),null,O,W),ae[a].aa===void 0?(le.ma=y-1,ae[a]=le):ae[a].aa[y-1]=le,Q.X.sa)for(const fe of Q.X.sa)fe.constructor.hasOwnProperty(a)||(fe.constructor[a]=le);return[]}),[]})},s:function(l,a,y,b,k,O,W,D){a=Ue(a),O=et(k,O),at([],[l],function(Q){Q=Q[0];var X=`${Q.name}.${a}`,ee={get(){St(`Cannot access ${X} due to unbound types`,[y])},enumerable:!0,configurable:!0};return ee.set=D?()=>{St(`Cannot access ${X} due to unbound types`,[y])}:()=>{ye(`${X} is a read-only property`)},Object.defineProperty(Q.X.constructor,a,ee),at([],[y],function(ae){ae=ae[0];var le={get(){return ae.fromWireType(O(b))},enumerable:!0};return D&&(D=et(W,D),le.set=fe=>{var te=[];D(b,ae.toWireType(te,fe)),bn(te)}),Object.defineProperty(Q.X.constructor,a,le),[]}),[]})},o:function(l,a,y,b,k,O){var W=Xn(a,y);k=et(b,k),at([],[l],function(D){D=D[0];var Q=`constructor ${D.name}`;if(D.X.la===void 0&&(D.X.la=[]),D.X.la[a-1]!==void 0)throw new At(`Cannot register multiple constructors with identical number of parameters (${a-1}) for class '${D.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return D.X.la[a-1]=()=>{St(`Cannot construct ${D.name} due to unbound types`,W)},at([],W,function(X){return X.splice(1,0,null),D.X.la[a-1]=Vn(Q,X,null,k,O),[]}),[]})},a:function(l,a,y,b,k,O,W,D){var Q=Xn(y,b);a=Ue(a),O=et(k,O),at([],[l],function(X){function ee(){St(`Cannot call ${ae} due to unbound types`,Q)}X=X[0];var ae=`${X.name}.${a}`;a.startsWith("@@")&&(a=Symbol[a.substring(2)]),D&&X.X.Ra.push(a);var le=X.X.ga,fe=le[a];return fe===void 0||fe.aa===void 0&&fe.className!==X.name&&fe.ma===y-2?(ee.ma=y-2,ee.className=X.name,le[a]=ee):(Wr(le,a,ae),le[a].aa[y-2]=ee),at([],Q,function(te){return te=Vn(ae,te,X,O,W),le[a].aa===void 0?(te.ma=y-2,le[a]=te):le[a].aa[y-2]=te,[]}),[]})},d:function(l,a,y,b,k,O,W,D,Q,X){a=Ue(a),k=et(b,k),at([],[l],function(ee){ee=ee[0];var ae=`${ee.name}.${a}`,le={get(){St(`Cannot access ${ae} due to unbound types`,[y,W])},enumerable:!0,configurable:!0};return le.set=Q?()=>{St(`Cannot access ${ae} due to unbound types`,[y,W])}:()=>{ye(ae+" is a read-only property")},Object.defineProperty(ee.X.ga,a,le),at([],Q?[y,W]:[y],function(fe){var te=fe[0],_e={get(){var me=yi(this,ee,ae+" getter");return te.fromWireType(k(O,me))},enumerable:!0};if(Q){Q=et(D,Q);var Ge=fe[1];_e.set=function(me){var we=yi(this,ee,ae+" setter"),He=[];Q(X,we,Ge.toWireType(He,me)),bn(He)}}return Object.defineProperty(ee.X.ga,a,_e),[]}),[]})},F:function(l,a){a=Ue(a),bt(l,{name:a,fromWireType:function(y){var b=Ot(y);return Hr(y),b},toWireType:function(y,b){return $t(b)},argPackAdvance:8,readValueFromPointer:wn,ea:null})},l:function(l,a,y,b){function k(){}y=Gn(y),a=Ue(a),k.values={},bt(l,{name:a,constructor:k,fromWireType:function(O){return this.constructor.values[O]},toWireType:function(O,W){return W.value},argPackAdvance:8,readValueFromPointer:fc(a,y,b),ea:null}),Gr(a,k)},c:function(l,a,y){var b=yn(l,"enum");a=Ue(a),l=b.constructor,b=Object.create(b.constructor.prototype,{value:{value:y},constructor:{value:Ut(`${b.name}_${a}`,function(){})}}),l.values[y]=b,l[a]=b},u:function(l,a,y){y=Gn(y),a=Ue(a),bt(l,{name:a,fromWireType:function(b){return b},toWireType:function(b,k){return k},argPackAdvance:8,readValueFromPointer:pc(a,y),ea:null})},q:function(l,a,y,b,k,O){var W=Xn(a,y);l=Ue(l),k=et(b,k),Gr(l,function(){St(`Cannot call ${l} due to unbound types`,W)},a-1),at([],W,function(D){return vi(l,Vn(l,[D[0],null].concat(D.slice(1)),null,k,O),a-1),[]})},j:function(l,a,y,b,k){a=Ue(a),k===-1&&(k=4294967295),k=Gn(y);var O=D=>D;if(b===0){var W=32-8*y;O=D=>D<<W>>>W}y=a.includes("unsigned")?function(D,Q){return Q>>>0}:function(D,Q){return Q},bt(l,{name:a,fromWireType:O,toWireType:y,argPackAdvance:8,readValueFromPointer:mc(a,k,b!==0),ea:null})},g:function(l,a,y){function b(O){O>>=2;var W=P;return new k(W.buffer,W[O+1],W[O])}var k=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][a];y=Ue(y),bt(l,{name:y,fromWireType:b,argPackAdvance:8,readValueFromPointer:b},{tb:!0})},v:function(l,a){a=Ue(a);var y=a==="std::string";bt(l,{name:a,fromWireType:function(b){var k=P[b>>2],O=b+4;if(y)for(var W=O,D=0;D<=k;++D){var Q=O+D;if(D==k||$[Q]==0){if(W=W?wi($,W,Q-W):"",X===void 0)var X=W;else X+="\0",X+=W;W=Q+1}}else{for(X=Array(k),D=0;D<k;++D)X[D]=String.fromCharCode($[O+D]);X=X.join("")}return Tt(b),X},toWireType:function(b,k){k instanceof ArrayBuffer&&(k=new Uint8Array(k));var O,W=typeof k=="string";W||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int8Array||ye("Cannot pass non-string to std::string");var D;if(y&&W)for(O=D=0;O<k.length;++O){var Q=k.charCodeAt(O);127>=Q?D++:2047>=Q?D+=2:55296<=Q&&57343>=Q?(D+=4,++O):D+=3}else D=k.length;if(O=D,D=Zr(4+O+1),Q=D+4,P[D>>2]=O,y&&W){if(W=Q,Q=O+1,O=$,0<Q){Q=W+Q-1;for(var X=0;X<k.length;++X){var ee=k.charCodeAt(X);if(55296<=ee&&57343>=ee){var ae=k.charCodeAt(++X);ee=65536+((ee&1023)<<10)|ae&1023}if(127>=ee){if(W>=Q)break;O[W++]=ee}else{if(2047>=ee){if(W+1>=Q)break;O[W++]=192|ee>>6}else{if(65535>=ee){if(W+2>=Q)break;O[W++]=224|ee>>12}else{if(W+3>=Q)break;O[W++]=240|ee>>18,O[W++]=128|ee>>12&63}O[W++]=128|ee>>6&63}O[W++]=128|ee&63}}O[W]=0}}else if(W)for(W=0;W<O;++W)X=k.charCodeAt(W),255<X&&(Tt(Q),ye("String has UTF-16 code units that do not fit in 8 bits")),$[Q+W]=X;else for(W=0;W<O;++W)$[Q+W]=k[W];return b!==null&&b.push(Tt,D),D},argPackAdvance:8,readValueFromPointer:wn,ea:function(b){Tt(b)}})},t:function(l,a,y){if(y=Ue(y),a===2)var b=gc,k=vc,O=xc,W=()=>A,D=1;else a===4&&(b=yc,k=bc,O=wc,W=()=>P,D=2);bt(l,{name:y,fromWireType:function(Q){for(var X=P[Q>>2],ee=W(),ae,le=Q+4,fe=0;fe<=X;++fe){var te=Q+4+fe*a;(fe==X||ee[te>>D]==0)&&(le=b(le,te-le),ae===void 0?ae=le:(ae+="\0",ae+=le),le=te+a)}return Tt(Q),ae},toWireType:function(Q,X){typeof X!="string"&&ye(`Cannot pass non-string to C++ string type ${y}`);var ee=O(X),ae=Zr(4+ee+a);return P[ae>>2]=ee>>D,k(X,ae+4,ee+a),Q!==null&&Q.push(Tt,ae),ae},argPackAdvance:8,readValueFromPointer:wn,ea:function(Q){Tt(Q)}})},N:function(l,a,y,b,k,O){zn[l]={name:Ue(a),Ba:et(y,b),ka:et(k,O),Na:[]}},M:function(l,a,y,b,k,O,W,D,Q,X){zn[l].Na.push({mb:Ue(a),sb:y,qb:et(b,k),rb:O,Db:W,Cb:et(D,Q),Eb:X})},H:function(l,a){a=Ue(a),bt(l,{vb:!0,name:a,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},r:function(l,a,y){l=Ot(l),a=yn(a,"emval::as");var b=[],k=$t(b);return P[y>>2]=k,a.toWireType(b,l)},w:function(l,a,y,b,k){l=Zn[l],a=Ot(a),y=Yn(y);var O=[];return P[b>>2]=$t(O),l(a,y,O,k)},i:function(l,a,y,b){l=Zn[l],a=Ot(a),y=Yn(y),l(a,y,null,b)},f:Hr,h:function(l,a){var y=Ec(l,a),b=y[0];a=b.name+"_$"+y.slice(1).map(function(W){return W.name}).join("_")+"$";var k=Ci[a];if(k!==void 0)return k;var O=Array(l-1);return k=Cc((W,D,Q,X)=>{for(var ee=0,ae=0;ae<l-1;++ae)O[ae]=y[ae+1].readValueFromPointer(X+ee),ee+=y[ae+1].argPackAdvance;for(W=W[D].apply(W,O),ae=0;ae<l-1;++ae)y[ae+1].hb&&y[ae+1].hb(O[ae]);if(!b.vb)return b.toWireType(Q,W)}),Ci[a]=k},p:function(l){return l=Yn(l),$t(v[l])},K:function(l,a){return l=Ot(l),a=Ot(a),$t(l[a])},m:function(l){4<l&&(it.get(l).Ta+=1)},J:function(l){return $t(Yn(l))},n:function(l){var a=Ot(l);bn(a),Hr(l)},x:function(l,a){return l=yn(l,"_emval_take_value"),l=l.readValueFromPointer(a),$t(l)},b:()=>{Xe("")},A:l=>{var a=$.length;if(l>>>=0,2147483648<l)return!1;for(var y=1;4>=y;y*=2){var b=a*(1+.2/y);b=Math.min(b,l+100663296);var k=Math;b=Math.max(l,b);e:{k=k.min.call(k,2147483648,b+(65536-b%65536)%65536)-h.buffer.byteLength+65535>>>16;try{h.grow(k),ne();var O=1;break e}catch{}O=void 0}if(O)return!0}return!1},B:(l,a)=>{var y=0;return Ei().forEach(function(b,k){var O=a+y;for(k=P[l+4*k>>2]=O,O=0;O<b.length;++O)E[k++>>0]=b.charCodeAt(O);E[k>>0]=0,y+=b.length+1}),0},C:(l,a)=>{var y=Ei();P[l>>2]=y.length;var b=0;return y.forEach(function(k){b+=k.length+1}),P[a>>2]=b,0},D:()=>52,y:function(){return 70},E:(l,a,y,b)=>{for(var k=0,O=0;O<y;O++){var W=P[a>>2],D=P[a+4>>2];a+=8;for(var Q=0;Q<D;Q++){var X=$[W+Q],ee=$c[l];X===0||X===10?((l===1?ce:ue)(wi(ee,0)),ee.length=0):ee.push(X)}k+=D}return P[b>>2]=k,0}};(function(){function l(y){if(u=y=y.exports,h=u.O,ne(),re=u.U,pe.unshift(u.P),De--,v.monitorRunDependencies&&v.monitorRunDependencies(De),De==0&&$e){var b=$e;$e=null,b()}return y}var a={a:Rc};if(De++,v.monitorRunDependencies&&v.monitorRunDependencies(De),v.instantiateWasm)try{return v.instantiateWasm(a,l)}catch(y){ue("Module.instantiateWasm callback failed with error: "+y),z(y)}return Je(a,function(y){l(y.instance)}).catch(z),{}})();var Tt=l=>(Tt=u.Q)(l),Zr=l=>(Zr=u.R)(l),Ri=l=>(Ri=u.S)(l);v.__embind_initialize_bindings=()=>(v.__embind_initialize_bindings=u.T)(),v.dynCall_jiji=(l,a,y,b,k)=>(v.dynCall_jiji=u.V)(l,a,y,b,k);var Qn;$e=function l(){Qn||Ii(),Qn||($e=l)};function Ii(){function l(){if(!Qn&&(Qn=!0,v.calledRun=!0,!m)){if(yt(pe),S(v),v.onRuntimeInitialized&&v.onRuntimeInitialized(),v.postRun)for(typeof v.postRun=="function"&&(v.postRun=[v.postRun]);v.postRun.length;){var a=v.postRun.shift();dt.unshift(a)}yt(dt)}}if(!(0<De)){if(v.preRun)for(typeof v.preRun=="function"&&(v.preRun=[v.preRun]);v.preRun.length;)nt();yt(ve),0<De||(v.setStatus?(v.setStatus("Running..."),setTimeout(function(){setTimeout(function(){v.setStatus("")},1),l()},1)):l())}}if(v.preInit)for(typeof v.preInit=="function"&&(v.preInit=[v.preInit]);0<v.preInit.length;)v.preInit.pop()();return Ii(),R.ready}})();const w=f},d=>{d.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.1.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(d,x,p)=>{p.r(x),p.d(x,{registerTouchInteractions:()=>f.registerTouchInteractions});var f=p(4)},(d,x,p)=>{p.r(x),p.d(x,{registerTouchInteractions:()=>j});var f=void 0,w=function(R){var v,S;return["touchstart","touchmove"].indexOf(R.type)>-1&&(!((v=R.touches)===null||v===void 0)&&v.length)?(R.preventDefault(),{clientX:R.touches[0].clientX,clientY:R.touches[0].clientY}):R.type==="touchend"&&(!((S=R.changedTouches)===null||S===void 0)&&S.length)?{clientX:R.changedTouches[0].clientX,clientY:R.changedTouches[0].clientY}:{clientX:R.clientX,clientY:R.clientY}},j=function(R){var v=R.canvas,S=R.artboard,z=R.stateMachines,Z=z===void 0?[]:z,q=R.renderer,I=R.rive,B=R.fit,L=R.alignment;if(!v||!Z.length||!q||!I||!S||typeof window>"u")return null;var G=function(H){var ie=H.currentTarget.getBoundingClientRect(),se=w(H),ce=se.clientX,ue=se.clientY;if(!(!ce&&!ue)){var C=ce-ie.left,h=ue-ie.top,u=I.computeAlignment(B,L,{minX:0,minY:0,maxX:ie.width,maxY:ie.height},S.bounds),m=new I.Mat2D;u.invert(m);var E=new I.Vec2D(C,h),$=I.mapXY(m,E),T=$.x(),A=$.y();switch($.delete(),m.delete(),E.delete(),u.delete(),H.type){case"touchmove":case"mouseover":case"mouseout":case"mousemove":{for(var F=0,P=Z;F<P.length;F++){var _=P[F];_.pointerMove(T,A)}break}case"touchstart":case"mousedown":{for(var V=0,ne=Z;V<ne.length;V++){var _=ne[V];_.pointerDown(T,A)}break}case"touchend":case"mouseup":{for(var re=0,ve=Z;re<ve.length;re++){var _=ve[re];_.pointerUp(T,A)}break}}}},Y=G.bind(f);return v.addEventListener("mouseover",Y),v.addEventListener("mouseout",Y),v.addEventListener("mousemove",Y),v.addEventListener("mousedown",Y),v.addEventListener("mouseup",Y),v.addEventListener("touchmove",Y),v.addEventListener("touchstart",Y),v.addEventListener("touchend",Y),function(){v.removeEventListener("mouseover",Y),v.removeEventListener("mouseout",Y),v.removeEventListener("mousemove",Y),v.removeEventListener("mousedown",Y),v.removeEventListener("mouseup",Y),v.removeEventListener("touchmove",Y),v.removeEventListener("touchstart",Y),v.removeEventListener("touchend",Y)}}}],s={};function i(d){var x=s[d];if(x!==void 0)return x.exports;var p=s[d]={exports:{}};return r[d](p,p.exports,i),p.exports}i.d=(d,x)=>{for(var p in x)i.o(x,p)&&!i.o(d,p)&&Object.defineProperty(d,p,{enumerable:!0,get:x[p]})},i.o=(d,x)=>Object.prototype.hasOwnProperty.call(d,x),i.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var c={};return(()=>{i.r(c),i.d(c,{Alignment:()=>R,EventType:()=>L,Fit:()=>j,Layout:()=>v,LoopType:()=>G,Rive:()=>ie,RuntimeLoader:()=>S,StateMachineInput:()=>q,StateMachineInputType:()=>Z,Testing:()=>ue});var d=i(1),x=i(2),p=i(3),f=function(C,h,u,m){function E($){return $ instanceof u?$:new u(function(T){T($)})}return new(u||(u=Promise))(function($,T){function A(_){try{P(m.next(_))}catch(V){T(V)}}function F(_){try{P(m.throw(_))}catch(V){T(V)}}function P(_){_.done?$(_.value):E(_.value).then(A,F)}P((m=m.apply(C,h||[])).next())})},w=function(C,h){var u={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},m,E,$,T;return T={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function A(P){return function(_){return F([P,_])}}function F(P){if(m)throw new TypeError("Generator is already executing.");for(;T&&(T=0,P[0]&&(u=0)),u;)try{if(m=1,E&&($=P[0]&2?E.return:P[0]?E.throw||(($=E.return)&&$.call(E),0):E.next)&&!($=$.call(E,P[1])).done)return $;switch(E=0,$&&(P=[P[0]&2,$.value]),P[0]){case 0:case 1:$=P;break;case 4:return u.label++,{value:P[1],done:!1};case 5:u.label++,E=P[1],P=[0];continue;case 7:P=u.ops.pop(),u.trys.pop();continue;default:if($=u.trys,!($=$.length>0&&$[$.length-1])&&(P[0]===6||P[0]===2)){u=0;continue}if(P[0]===3&&(!$||P[1]>$[0]&&P[1]<$[3])){u.label=P[1];break}if(P[0]===6&&u.label<$[1]){u.label=$[1],$=P;break}if($&&u.label<$[2]){u.label=$[2],u.ops.push(P);break}$[2]&&u.ops.pop(),u.trys.pop();continue}P=h.call(C,u)}catch(_){P=[6,_],E=0}finally{m=$=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}},j;(function(C){C.Cover="cover",C.Contain="contain",C.Fill="fill",C.FitWidth="fitWidth",C.FitHeight="fitHeight",C.None="none",C.ScaleDown="scaleDown"})(j||(j={}));var R;(function(C){C.Center="center",C.TopLeft="topLeft",C.TopCenter="topCenter",C.TopRight="topRight",C.CenterLeft="centerLeft",C.CenterRight="centerRight",C.BottomLeft="bottomLeft",C.BottomCenter="bottomCenter",C.BottomRight="bottomRight"})(R||(R={}));var v=function(){function C(h){var u,m,E,$,T,A;this.fit=(u=h?.fit)!==null&&u!==void 0?u:j.Contain,this.alignment=(m=h?.alignment)!==null&&m!==void 0?m:R.Center,this.minX=(E=h?.minX)!==null&&E!==void 0?E:0,this.minY=($=h?.minY)!==null&&$!==void 0?$:0,this.maxX=(T=h?.maxX)!==null&&T!==void 0?T:0,this.maxY=(A=h?.maxY)!==null&&A!==void 0?A:0}return C.new=function(h){var u=h.fit,m=h.alignment,E=h.minX,$=h.minY,T=h.maxX,A=h.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new C({fit:u,alignment:m,minX:E,minY:$,maxX:T,maxY:A})},C.prototype.copyWith=function(h){var u=h.fit,m=h.alignment,E=h.minX,$=h.minY,T=h.maxX,A=h.maxY;return new C({fit:u??this.fit,alignment:m??this.alignment,minX:E??this.minX,minY:$??this.minY,maxX:T??this.maxX,maxY:A??this.maxY})},C.prototype.runtimeFit=function(h){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var u;return this.fit===j.Cover?u=h.Fit.cover:this.fit===j.Contain?u=h.Fit.contain:this.fit===j.Fill?u=h.Fit.fill:this.fit===j.FitWidth?u=h.Fit.fitWidth:this.fit===j.FitHeight?u=h.Fit.fitHeight:this.fit===j.ScaleDown?u=h.Fit.scaleDown:u=h.Fit.none,this.cachedRuntimeFit=u,u},C.prototype.runtimeAlignment=function(h){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var u;return this.alignment===R.TopLeft?u=h.Alignment.topLeft:this.alignment===R.TopCenter?u=h.Alignment.topCenter:this.alignment===R.TopRight?u=h.Alignment.topRight:this.alignment===R.CenterLeft?u=h.Alignment.centerLeft:this.alignment===R.CenterRight?u=h.Alignment.centerRight:this.alignment===R.BottomLeft?u=h.Alignment.bottomLeft:this.alignment===R.BottomCenter?u=h.Alignment.bottomCenter:this.alignment===R.BottomRight?u=h.Alignment.bottomRight:u=h.Alignment.center,this.cachedRuntimeAlignment=u,u},C}(),S=function(){function C(){}return C.loadRuntime=function(){d.default({locateFile:function(){return C.wasmURL}}).then(function(h){var u;for(C.runtime=h;C.callBackQueue.length>0;)(u=C.callBackQueue.shift())===null||u===void 0||u(C.runtime)})},C.getInstance=function(h){C.isLoading||(C.isLoading=!0,C.loadRuntime()),C.runtime?h(C.runtime):C.callBackQueue.push(h)},C.awaitInstance=function(){return new Promise(function(h){return C.getInstance(function(u){return h(u)})})},C.setWasmUrl=function(h){C.wasmURL=h},C.isLoading=!1,C.callBackQueue=[],C.wasmURL="https://unpkg.com/".concat(x.name,"@").concat(x.version,"/rive.wasm"),C}(),z=function(){function C(h,u,m,E){this.animation=h,this.artboard=u,this.playing=E,this.loopCount=0,this.scrubTo=null,this.instance=new m.LinearAnimationInstance(h,u)}return Object.defineProperty(C.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"time",{get:function(){return this.instance.time},set:function(h){this.instance.time=h},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),C.prototype.advance=function(h){this.scrubTo===null?this.instance.advance(h):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},C.prototype.apply=function(h){this.instance.apply(h)},Object.defineProperty(C.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),C.prototype.cleanup=function(){this.instance.delete()},C}(),Z;(function(C){C[C.Number=56]="Number",C[C.Trigger=58]="Trigger",C[C.Boolean=59]="Boolean"})(Z||(Z={}));var q=function(){function C(h,u){this.type=h,this.runtimeInput=u}return Object.defineProperty(C.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(h){this.runtimeInput.value=h},enumerable:!1,configurable:!0}),C.prototype.fire=function(){this.type===Z.Trigger&&this.runtimeInput.fire()},C}(),I=function(){function C(h,u,m,E){this.stateMachine=h,this.playing=m,this.artboard=E,this.inputs=[],this.instance=new u.StateMachineInstance(h,E),this.initInputs(u)}return Object.defineProperty(C.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statesChanged",{get:function(){for(var h=[],u=0;u<this.instance.stateChangedCount();u++)h.push(this.instance.stateChangedNameByIndex(u));return h},enumerable:!1,configurable:!0}),C.prototype.advance=function(h){this.instance.advance(h)},C.prototype.initInputs=function(h){for(var u=0;u<this.instance.inputCount();u++){var m=this.instance.input(u);this.inputs.push(this.mapRuntimeInput(m,h))}},C.prototype.mapRuntimeInput=function(h,u){if(h.type===u.SMIInput.bool)return new q(Z.Boolean,h.asBool());if(h.type===u.SMIInput.number)return new q(Z.Number,h.asNumber());if(h.type===u.SMIInput.trigger)return new q(Z.Trigger,h.asTrigger())},C.prototype.cleanup=function(){this.instance.delete()},C}(),B=function(){function C(h,u,m,E,$){E===void 0&&(E=[]),$===void 0&&($=[]),this.runtime=h,this.artboard=u,this.eventManager=m,this.animations=E,this.stateMachines=$}return C.prototype.add=function(h,u,m){if(m===void 0&&(m=!0),h=ce(h),h.length===0)this.animations.forEach(function(re){return re.playing=u}),this.stateMachines.forEach(function(re){return re.playing=u});else for(var E=this.animations.map(function(re){return re.name}),$=this.stateMachines.map(function(re){return re.name}),T=0;T<h.length;T++){var A=E.indexOf(h[T]),F=$.indexOf(h[T]);if(A>=0||F>=0)A>=0?this.animations[A].playing=u:this.stateMachines[F].playing=u;else{var P=this.artboard.animationByName(h[T]);if(P){var _=new z(P,this.artboard,this.runtime,u);_.advance(0),_.apply(1),this.animations.push(_)}else{var V=this.artboard.stateMachineByName(h[T]);if(V){var ne=new I(V,this.runtime,u,this.artboard);this.stateMachines.push(ne)}}}}return m&&(u?this.eventManager.fire({type:L.Play,data:this.playing}):this.eventManager.fire({type:L.Pause,data:this.paused})),u?this.playing:this.paused},C.prototype.play=function(h){return this.add(h,!0)},C.prototype.pause=function(h){return this.add(h,!1)},C.prototype.scrub=function(h,u){var m=this.animations.filter(function(E){return h.includes(E.name)});return m.forEach(function(E){return E.scrubTo=u}),m.map(function(E){return E.name})},Object.defineProperty(C.prototype,"playing",{get:function(){return this.animations.filter(function(h){return h.playing}).map(function(h){return h.name}).concat(this.stateMachines.filter(function(h){return h.playing}).map(function(h){return h.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"paused",{get:function(){return this.animations.filter(function(h){return!h.playing}).map(function(h){return h.name}).concat(this.stateMachines.filter(function(h){return!h.playing}).map(function(h){return h.name}))},enumerable:!1,configurable:!0}),C.prototype.stop=function(h){var u=this;h=ce(h);var m=[];if(h.length===0)m=this.animations.map(function(T){return T.name}).concat(this.stateMachines.map(function(T){return T.name})),this.animations.forEach(function(T){return T.cleanup()}),this.stateMachines.forEach(function(T){return T.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var E=this.animations.filter(function(T){return h.includes(T.name)});E.forEach(function(T){T.cleanup(),u.animations.splice(u.animations.indexOf(T),1)});var $=this.stateMachines.filter(function(T){return h.includes(T.name)});$.forEach(function(T){T.cleanup(),u.stateMachines.splice(u.stateMachines.indexOf(T),1)}),m=E.map(function(T){return T.name}).concat($.map(function(T){return T.name}))}return this.eventManager.fire({type:L.Stop,data:m}),m},Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(h,u){return h||u.playing},!1)||this.stateMachines.reduce(function(h,u){return h||u.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),C.prototype.atLeastOne=function(h,u){u===void 0&&(u=!0);var m;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([m=this.artboard.animationByIndex(0).name],h,u):this.artboard.stateMachineCount()>0&&this.add([m=this.artboard.stateMachineByIndex(0).name],h,u)),m},C.prototype.handleLooping=function(){for(var h=0,u=this.animations.filter(function(E){return E.playing});h<u.length;h++){var m=u[h];m.loopValue===0&&m.loopCount?(m.loopCount=0,this.stop(m.name)):m.loopValue===1&&m.loopCount?(this.eventManager.fire({type:L.Loop,data:{animation:m.name,type:G.Loop}}),m.loopCount=0):m.loopValue===2&&m.loopCount>1&&(this.eventManager.fire({type:L.Loop,data:{animation:m.name,type:G.PingPong}}),m.loopCount=0)}},C.prototype.handleStateChanges=function(){for(var h=[],u=0,m=this.stateMachines.filter(function($){return $.playing});u<m.length;u++){var E=m[u];h.push.apply(h,E.statesChanged)}h.length>0&&this.eventManager.fire({type:L.StateChange,data:h})},C.prototype.handleAdvancing=function(h){this.eventManager.fire({type:L.Advance,data:h})},C}(),L;(function(C){C.Load="load",C.LoadError="loaderror",C.Play="play",C.Pause="pause",C.Stop="stop",C.Loop="loop",C.Draw="draw",C.Advance="advance",C.StateChange="statechange"})(L||(L={}));var G;(function(C){C.OneShot="oneshot",C.Loop="loop",C.PingPong="pingpong"})(G||(G={}));var Y=function(){function C(h){h===void 0&&(h=[]),this.listeners=h}return C.prototype.getListeners=function(h){return this.listeners.filter(function(u){return u.type===h})},C.prototype.add=function(h){this.listeners.includes(h)||this.listeners.push(h)},C.prototype.remove=function(h){for(var u=0;u<this.listeners.length;u++){var m=this.listeners[u];if(m.type===h.type&&m.callback===h.callback){this.listeners.splice(u,1);break}}},C.prototype.removeAll=function(h){var u=this;h?this.listeners.filter(function(m){return m.type===h}).forEach(function(m){return u.remove(m)}):this.listeners.splice(0,this.listeners.length)},C.prototype.fire=function(h){var u=this.getListeners(h.type);u.forEach(function(m){return m.callback(h)})},C}(),H=function(){function C(h){this.eventManager=h,this.queue=[]}return C.prototype.add=function(h){this.queue.push(h)},C.prototype.process=function(){for(;this.queue.length>0;){var h=this.queue.shift();h?.action&&h.action(),h?.event&&this.eventManager.fire(h.event)}},C}(),ie=function(){function C(h){var u;this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=h.canvas,this.src=h.src,this.buffer=h.buffer,this.layout=(u=h.layout)!==null&&u!==void 0?u:new v,this.shouldDisableRiveListeners=!!h.shouldDisableRiveListeners,this.eventManager=new Y,h.onLoad&&this.on(L.Load,h.onLoad),h.onLoadError&&this.on(L.LoadError,h.onLoadError),h.onPlay&&this.on(L.Play,h.onPlay),h.onPause&&this.on(L.Pause,h.onPause),h.onStop&&this.on(L.Stop,h.onStop),h.onLoop&&this.on(L.Loop,h.onLoop),h.onStateChange&&this.on(L.StateChange,h.onStateChange),h.onAdvance&&this.on(L.Advance,h.onAdvance),h.onload&&!h.onLoad&&this.on(L.Load,h.onload),h.onloaderror&&!h.onLoadError&&this.on(L.LoadError,h.onloaderror),h.onplay&&!h.onPlay&&this.on(L.Play,h.onplay),h.onpause&&!h.onPause&&this.on(L.Pause,h.onpause),h.onstop&&!h.onStop&&this.on(L.Stop,h.onstop),h.onloop&&!h.onLoop&&this.on(L.Loop,h.onloop),h.onstatechange&&!h.onStateChange&&this.on(L.StateChange,h.onstatechange),this.taskQueue=new H(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:h.autoplay,animations:h.animations,stateMachines:h.stateMachines,artboard:h.artboard,useOffscreenRenderer:h.useOffscreenRenderer})}return C.new=function(h){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new C(h)},C.prototype.init=function(h){var u=this,m=h.src,E=h.buffer,$=h.animations,T=h.stateMachines,A=h.artboard,F=h.autoplay,P=F===void 0?!1:F,_=h.useOffscreenRenderer,V=_===void 0?!1:_;if(this.src=m,this.buffer=E,!this.src&&!this.buffer)throw new Error(C.missingErrorMessage);var ne=ce($),re=ce(T);this.loaded=!1,this.readyForPlaying=!1,S.awaitInstance().then(function(ve){u.runtime=ve,u.renderer=u.runtime.makeRenderer(u.canvas,V),u.canvas.width||u.canvas.height||u.resizeDrawingSurfaceToCanvas(),u.initData(A,ne,re,P).then(function(){return u.setupRiveListeners()}).catch(function(pe){console.error(pe)})}).catch(function(ve){console.error(ve)})},C.prototype.setupRiveListeners=function(){var h=this;if(!this.shouldDisableRiveListeners){var u=(this.animator.stateMachines||[]).filter(function(m){return m.playing&&h.runtime.hasListeners(m.instance)}).map(function(m){return m.instance});this.eventCleanup=(0,p.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:u,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime)})}},C.prototype.initData=function(h,u,m,E){var $;return f(this,void 0,void 0,function(){var T,A,F;return w(this,function(P){switch(P.label){case 0:return this.src?(T=this,[4,se(this.src)]):[3,2];case 1:T.buffer=P.sent(),P.label=2;case 2:return A=this,[4,this.runtime.load(new Uint8Array(this.buffer))];case 3:return A.file=P.sent(),this.file?(this.initArtboard(h,u,m,E),this.loaded=!0,this.eventManager.fire({type:L.Load,data:($=this.src)!==null&&$!==void 0?$:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(F="Problem loading file; may be corrupt!",console.warn(F),this.eventManager.fire({type:L.LoadError,data:F}),[2,Promise.reject(F)])}})})},C.prototype.initArtboard=function(h,u,m,E){var $=h?this.file.artboardByName(h):this.file.defaultArtboard();if(!$){var T="Invalid artboard name or no default artboard";console.warn(T),this.eventManager.fire({type:L.LoadError,data:T});return}if(this.artboard=$,this.artboard.animationCount()<1){var T="Artboard has no animations";throw this.eventManager.fire({type:L.LoadError,data:T}),T}this.animator=new B(this.runtime,this.artboard,this.eventManager);var A;u.length>0||m.length>0?(A=u.concat(m),this.animator.add(A,E,!1)):A=[this.animator.atLeastOne(E,!1)],this.taskQueue.add({event:{type:E?L.Play:L.Pause,data:A}})},C.prototype.drawFrame=function(){this.startRendering()},C.prototype.draw=function(h,u){var m=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=h),this.renderSecondTimer+=h-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,u?.());var E=(h-this.lastRenderTime)/1e3;this.lastRenderTime=h;for(var $=this.animator.animations.filter(function(pe){return pe.playing||pe.needsScrub}).sort(function(pe){return pe.needsScrub?-1:1}),T=0,A=$;T<A.length;T++){var F=A[T];F.advance(E),F.instance.didLoop&&(F.loopCount+=1),F.apply(1)}for(var P=this.animator.stateMachines.filter(function(pe){return pe.playing}),_=0,V=P;_<V.length;_++){var ne=V[_];ne.advance(E)}this.artboard.advance(E);var re=this.renderer;re.clear(),re.save(),this.alignRenderer(),this.artboard.draw(re),re.restore(),re.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(E),this.frameCount++;var ve=performance.now();for(this.frameTimes.push(ve),this.durations.push(ve-m);this.frameTimes[0]<=ve-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},C.prototype.alignRenderer=function(){var h=this,u=h.renderer,m=h.runtime,E=h._layout,$=h.artboard;u.align(E.runtimeFit(m),E.runtimeAlignment(m),{minX:E.minX,minY:E.minY,maxX:E.maxX,maxY:E.maxY},$.bounds)},Object.defineProperty(C.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(h,u){return h+u},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),C.prototype.cleanup=function(){var h,u;this.stopRendering(),this.cleanupInstances(),(h=this.renderer)===null||h===void 0||h.delete(),this.renderer=null,(u=this.file)===null||u===void 0||u.delete(),this.file=null},C.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},C.prototype.retrieveTextRun=function(h){var u;if(!h){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var m=this.artboard.textRun(h);if(!m){console.warn("Could not access a text run with name '".concat(h,"' in the '").concat((u=this.artboard)===null||u===void 0?void 0:u.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return m},C.prototype.getTextRunValue=function(h){var u=this.retrieveTextRun(h);return u?u.text:void 0},C.prototype.setTextRunValue=function(h,u){var m=this.retrieveTextRun(h);m&&(m.text=u)},C.prototype.play=function(h,u){var m=this;if(h=ce(h),!this.readyForPlaying){this.taskQueue.add({action:function(){return m.play(h,u)}});return}this.animator.play(h),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},C.prototype.pause=function(h){var u=this;if(h=ce(h),!this.readyForPlaying){this.taskQueue.add({action:function(){return u.pause(h)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(h)},C.prototype.scrub=function(h,u){var m=this;if(h=ce(h),!this.readyForPlaying){this.taskQueue.add({action:function(){return m.scrub(h,u)}});return}this.animator.scrub(h,u||0),this.drawFrame()},C.prototype.stop=function(h){var u=this;if(h=ce(h),!this.readyForPlaying){this.taskQueue.add({action:function(){return u.stop(h)}});return}this.animator.stop(h),this.eventCleanup&&this.eventCleanup()},C.prototype.reset=function(h){var u,m=h?.artboard,E=ce(h?.animations),$=ce(h?.stateMachines),T=(u=h?.autoplay)!==null&&u!==void 0?u:!1;this.cleanupInstances(),this.initArtboard(m,E,$,T),this.taskQueue.process()},C.prototype.load=function(h){this.stop(),this.init(h)},Object.defineProperty(C.prototype,"layout",{get:function(){return this._layout},set:function(h){this._layout=h,(!h.maxX||!h.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),C.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},C.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&window){var h=this.canvas.getBoundingClientRect(),u=h.width,m=h.height,E=window.devicePixelRatio||1;this.canvas.width=E*u,this.canvas.height=E*m,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(C.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var h=[],u=0;u<this.artboard.animationCount();u++)h.push(this.artboard.animationByIndex(u).name);return h},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var h=[],u=0;u<this.artboard.stateMachineCount();u++)h.push(this.artboard.stateMachineByIndex(u).name);return h},enumerable:!1,configurable:!0}),C.prototype.stateMachineInputs=function(h){if(this.loaded){var u=this.animator.stateMachines.find(function(m){return m.name===h});return u?.inputs}},Object.defineProperty(C.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(h){return h.playing}).map(function(h){return h.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(h){return h.playing}).map(function(h){return h.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(h){return!h.playing}).map(function(h){return h.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(h){return!h.playing}).map(function(h){return h.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),C.prototype.on=function(h,u){this.eventManager.add({type:h,callback:u})},C.prototype.off=function(h,u){this.eventManager.remove({type:h,callback:u})},C.prototype.unsubscribe=function(h,u){console.warn("This function is deprecated: please use `off()` instead."),this.off(h,u)},C.prototype.removeAllRiveEventListeners=function(h){this.eventManager.removeAll(h)},C.prototype.unsubscribeAll=function(h){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(h)},C.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},C.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},C.prototype.enableFPSCounter=function(h){this.runtime.enableFPSCounter(h)},C.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(C.prototype,"contents",{get:function(){if(this.loaded){for(var h={artboards:[]},u=0;u<this.file.artboardCount();u++){for(var m=this.file.artboardByIndex(u),E={name:m.name,animations:[],stateMachines:[]},$=0;$<m.animationCount();$++){var T=m.animationByIndex($);E.animations.push(T.name)}for(var A=0;A<m.stateMachineCount();A++){for(var F=m.stateMachineByIndex(A),P=F.name,_=new this.runtime.StateMachineInstance(F,m),V=[],ne=0;ne<_.inputCount();ne++){var re=_.input(ne);V.push({name:re.name,type:re.type})}E.stateMachines.push({name:P,inputs:V})}h.artboards.push(E)}return h}},enumerable:!1,configurable:!0}),C.missingErrorMessage="Rive source file or data buffer required",C}(),se=function(C){return f(void 0,void 0,void 0,function(){var h,u,m;return w(this,function(E){switch(E.label){case 0:return h=new Request(C),[4,fetch(h)];case 1:return u=E.sent(),[4,u.arrayBuffer()];case 2:return m=E.sent(),[2,m]}})})},ce=function(C){return typeof C=="string"?[C]:C instanceof Array?C:[]},ue={EventManager:Y,TaskQueueManager:H}})(),c})())})(qa);var lg=qa.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=g,r=lg;function s(I){return I&&typeof I=="object"&&"default"in I?I:{default:I}}var i=s(n),c=function(){return c=Object.assign||function(I){for(var B,L=1,G=arguments.length;L<G;L++)for(var Y in B=arguments[L])Object.prototype.hasOwnProperty.call(B,Y)&&(I[Y]=B[Y]);return I},c.apply(this,arguments)};function d(I,B){var L={};for(var G in I)Object.prototype.hasOwnProperty.call(I,G)&&B.indexOf(G)<0&&(L[G]=I[G]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function"){var Y=0;for(G=Object.getOwnPropertySymbols(I);Y<G.length;Y++)B.indexOf(G[Y])<0&&Object.prototype.propertyIsEnumerable.call(I,G[Y])&&(L[G[Y]]=I[G[Y]])}return L}function x(){var I=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,I),3)}typeof SuppressedError=="function"&&SuppressedError;var p=function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I}(),f=globalThis.ResizeObserver||p,w=globalThis.ResizeObserver!==void 0,j=!w;function R(I,B){B===void 0&&(B=!0);var L=n.useState({width:0,height:0}),G=L[0],Y=L[1];n.useEffect(function(){if(typeof window<"u"&&B){var ue=function(){Y({width:window.innerWidth,height:window.innerHeight})};return j&&(ue(),window.addEventListener("resize",ue)),function(){return window.removeEventListener("resize",ue)}}},[]);var H,ie,se,ce=n.useRef(new f((H=function(ue){w&&Y({width:ue[ue.length-1].contentRect.width,height:ue[ue.length-1].contentRect.height})},ie=0,se=0,function(){for(var ue=this,C=[],h=0;h<arguments.length;h++)C[h]=arguments[h];clearTimeout(se),se=window.setTimeout(function(){return H.apply(ue,C)},ie)})));return n.useEffect(function(){var ue=ce.current;if(B){var C=I.current;return I.current&&w&&ue.observe(I.current),function(){ue.disconnect(),C&&w&&ue.unobserve(C)}}ue.disconnect()},[I,ce]),G}var v={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function S(I){return Object.assign({},v,I)}function z(I){var B=I.riveLoaded,L=B!==void 0&&B,G=I.canvasRef,Y=I.containerRef,H=I.options,ie=H===void 0?{}:H,se=I.onCanvasHasResized,ce=I.artboardBounds,ue=S(ie),C=n.useState({height:0,width:0}),h=C[0],u=h.height,m=h.width,E=C[1],$=n.useState({height:0,width:0}),T=$[0],A=T.height,F=T.width,P=$[1],_=n.useState(!0),V=_[0],ne=_[1],re=ue.fitCanvasToArtboardHeight,ve=ue.shouldResizeCanvasToContainer,pe=ue.useDevicePixelRatio,dt=R(Y,ve),nt=function(){var Me=x(),ze=n.useState(Me),We=ze[0],rt=ze[1];return n.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var Qe=function(){var yt=x();rt(yt)},Je=window.matchMedia("screen and (resolution: ".concat(We,"dppx)"));return Je.hasOwnProperty("addEventListener")?Je.addEventListener("change",Qe):Je.addListener(Qe),function(){Je.hasOwnProperty("removeEventListener")?Je.removeEventListener("change",Qe):Je.removeListener(Qe)}}},[We]),We}(),De=ce??{},$e=De.maxX,Xe=De.maxY,Ke=n.useCallback(function(){var Me,ze,We,rt,Qe=(ze=(Me=Y.current)===null||Me===void 0?void 0:Me.clientWidth)!==null&&ze!==void 0?ze:0,Je=(rt=(We=Y.current)===null||We===void 0?void 0:We.clientHeight)!==null&&rt!==void 0?rt:0;return re&&ce?{width:Qe,height:Qe*(ce.maxY/ce.maxX)}:{width:Qe,height:Je}},[Y,re,$e,Xe]);n.useEffect(function(){if(ve&&Y.current&&L){var Me=Ke(),ze=Me.width,We=Me.height,rt=!1;if(G.current){var Qe=ze!==m||We!==u;if(ue.fitCanvasToArtboardHeight&&Qe&&(Y.current.style.height=We+"px",rt=!0),ue.useDevicePixelRatio){if(Qe||ze*nt!==F||We*nt!==A){var Je=nt*ze,yt=nt*We;G.current.width=Je,G.current.height=yt,G.current.style.width=ze+"px",G.current.style.height=We+"px",P({width:Je,height:yt}),rt=!0}}else Qe&&(G.current.width=ze,G.current.height=We,P({width:ze,height:We}),rt=!0);E({width:ze,height:We})}se&&(V||rt)&&se&&se(),V&&ne(!1)}},[G,Y,dt,nt,Ke,V,ne,A,F,u,m,se,ve,re,pe,L])}function Z(I){var B=I.setContainerRef,L=I.setCanvasRef,G=I.className,Y=G===void 0?"":G,H=I.style,ie=I.children,se=d(I,["setContainerRef","setCanvasRef","className","style","children"]),ce=c({width:"100%",height:"100%"},H);return i.default.createElement("div",c({ref:B,className:Y},!Y&&{style:ce}),i.default.createElement("canvas",c({ref:L,style:{verticalAlign:"top",width:0,height:0}},se),ie))}function q(I,B){B===void 0&&(B={});var L=n.useRef(null),G=n.useRef(null),Y=n.useState(null),H=Y[0],ie=Y[1],se=!!I,ce=S(B),ue=n.useCallback(function(){H&&(H.startRendering(),H.resizeToCanvas())},[H]);z({riveLoaded:!!H,canvasRef:L,containerRef:G,options:ce,onCanvasHasResized:ue,artboardBounds:H?.bounds});var C=n.useCallback(function(E){if(E&&I&&se){var $=ce.useOffscreenRenderer,T=new r.Rive(c(c({useOffscreenRenderer:$},I),{canvas:E}));T.on(r.EventType.Load,function(){L.current?ie(T):T.cleanup()})}else E===null&&L.current&&(L.current.height=0,L.current.width=0);L.current=E},[se]),h=n.useCallback(function(E){G.current=E},[]);n.useEffect(function(){var E=new IntersectionObserver(function($){$[0].isIntersecting?H&&H.startRendering():H&&H.stopRendering()});return L.current&&E.observe(L.current),function(){E.disconnect()}},[H]),n.useEffect(function(){return function(){H&&(H.cleanup(),ie(null))}},[H]);var u=I?.animations;n.useEffect(function(){H&&u&&(H.isPlaying?(H.stop(H.animationNames),H.play(u)):H.isPaused&&(H.stop(H.animationNames),H.pause(u)))},[u,H]);var m=n.useCallback(function(E){return i.default.createElement(Z,c({setContainerRef:h,setCanvasRef:C},E))},[C,h]);return{canvas:L.current,container:G.current,setCanvasRef:C,setContainerRef:h,rive:H,RiveComponent:m}}e.default=function(I){var B=I.src,L=I.artboard,G=I.animations,Y=I.stateMachines,H=I.layout,ie=I.useOffscreenRenderer,se=ie===void 0||ie,ce=I.shouldDisableRiveListeners,ue=ce!==void 0&&ce,C=I.shouldResizeCanvasToContainer,h=C===void 0||C,u=I.children,m=d(I,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","children"]),E=q({src:B,artboard:L,animations:G,layout:H,stateMachines:Y,autoplay:!0,shouldDisableRiveListeners:ue},{useOffscreenRenderer:se,shouldResizeCanvasToContainer:h}).RiveComponent;return i.default.createElement(E,c({},m),u)},e.useResizeCanvas=z,e.useRive=q,e.useStateMachineInput=function(I,B,L,G){var Y=n.useState(null),H=Y[0],ie=Y[1];return n.useEffect(function(){function se(){if(I&&B&&L||ie(null),I&&B&&L){var ce=I.stateMachineInputs(B);if(ce){var ue=ce.find(function(C){return C.name===L});G!==void 0&&ue&&(ue.value=G),ie(ue||null)}}else ie(null)}se(),I&&I.on(r.EventType.Play,function(){se()})},[I]),H},Object.keys(r).forEach(function(I){I==="default"||e.hasOwnProperty(I)||Object.defineProperty(e,I,{enumerable:!0,get:function(){return r[I]}})})})(Tn);const Vt=e=>{const{children:n,disabled:r,isProOnly:s,tooltipContent:i,...c}=e,d=oi();return t.jsx(Pe,{content:i,portalled:!1,side:"top",sideOffset:4,children:t.jsxs(U,{css:{position:"relative"},children:[!d&&s?t.jsx(U,{css:{position:"absolute",top:-2,left:o.space[4],pointerEvents:"none",zIndex:1},children:t.jsx(Ns,{color:o.colors.yellow500.value,css:{stroke:o.colors.primary500},size:18})}):null,t.jsx(Be,{disabled:r,type:"button",...c,children:n})]})})},ug=ut({"0%":{transform:"scale(0.95)",filter:"blur(2px)"},"50%":{transform:"scale(1.1)",filter:"blur(10px)"},"100%":{transform:"scale(0.95)",filter:"blur(2px)"}}),dg=xe(U,{position:"relative"}),hg=xe(U,{position:"absolute",top:-16,left:-8,transition:"opacity 0.2s ease-in-out",pointerEvents:"none"}),fg=xe(U,{position:"absolute",right:-12,bottom:-16,transition:"opacity 0.2s ease-in-out",pointerEvents:"none"}),pg=xe(U,{background:o.colors.green500,position:"absolute",top:"-3px",left:"-3px",width:"44x",height:"44px",pointerEvents:"none",borderRadius:"50%",transition:"opacity 0.2s ease-in-out"}),mg=xe(U,{animation:`3s ease-in-out 0s infinite normal both running ${ug}`,background:o.colors.green500,position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",pointerEvents:"none",transition:"opacity 0.2s ease-in-out",variants:{radius:{xs:{borderRadius:o.radii.xs},sm:{borderRadius:o.radii.sm},md:{borderRadius:o.radii.md},lg:{borderRadius:o.radii.lg},xl:{borderRadius:o.radii.xl},full:{borderRadius:o.radii.full}}},defaultVariants:{radius:"full"}}),gg="/assets/Dxy4avY8.svg",vg="/assets/Drjq9jS_.svg",xg=e=>{const{borderOpacity:n,children:r,css:s,greenGlowOpacity:i,radius:c,RiveComponent:d,sparkleOpacity:x,show:p=!0,...f}=e;return p?t.jsxs(dg,{css:{...s},...f,children:[t.jsx(hg,{style:{opacity:x},children:t.jsx("img",{src:gg,alt:"sparkle1"})}),t.jsx(mg,{radius:c,style:{opacity:i}}),t.jsx(pg,{style:{opacity:n}}),t.jsx(d,{style:{height:"56px",position:"absolute",top:"-12px",left:"-12px",width:"56px",zIndex:"foreground"}}),e.children,t.jsx(fg,{style:{opacity:x},children:t.jsx("img",{src:vg,alt:"sparkle1"})})]}):t.jsx(t.Fragment,{children:r})},yg="/assets/sP9YFOpT.mp4",bg=({isShowing:e,onConfirm:n})=>(g.useEffect(()=>{e&&setTimeout(()=>document.body.style.removeProperty("pointer-events"),0)},[e]),t.jsxs(ke,{container:sn(),"data-testid":"blur-modal",open:e,css:{width:"85vw",overflowY:"auto"},children:[t.jsx(ke.Title,{children:t.jsxs(M,{alignItems:"center",justifyContent:"center",gap:"2",children:["Secure Blur ",t.jsx(Il,{})]})}),t.jsxs(ke.Content,{alignItems:"center",as:M,direction:"column",children:[t.jsx(U,{as:"video",autoPlay:!0,css:{height:192,maxWidth:"100%"},controls:!1,loop:!0,src:yg}),t.jsxs(K,{as:"h2",size:"2",children:["To use Secure Blur please upgrade to"," ",t.jsx(K,{as:"a",css:{textDecoration:"underline"},onClick:()=>{Fe(Oe.UpgradeButtonClicked,{event_source:"Blur Explainer Modal"})},href:`${tt.webUrl}${Cr.replace("=unlimited","=privacy")}`,rel:"noreferrer",size:"2",target:"_blank",weight:"med",children:"Tango Pro"})]})]}),t.jsx(ke.Actions,{as:M,justifyContent:"center",children:t.jsx(be,{"data-testid":"live-blur-dismiss-button",onClick:n,variant:"primary",children:"Got it!"})})]})),Qa=({title:e,description:n,onConfirm:r,onCancel:s,isShowing:i,primaryCtaText:c="Confirm",variant:d="info"})=>{const x={info:"primary",danger:"danger"};return g.useEffect(()=>{i&&setTimeout(()=>document.body.style.removeProperty("pointer-events"),0)},[i]),t.jsxs(ke,{container:sn(),"data-testid":"prompt-modal",open:i,onClose:s,css:{overflowY:"auto","@media (max-width: 340px)":{width:"calc(100vw - 24px)"}},children:[t.jsx(ke.Title,{css:d==="danger"?{color:"$red500"}:{},children:e}),t.jsx(ke.Content,{children:t.jsx(ke.Description,{children:n})}),t.jsxs(ke.Actions,{children:[t.jsx(be,{"data-testid":"discard-button",variant:x[d],onClick:r,children:c}),s?t.jsx(be,{"data-testid":"cancel-button",variant:"text",onClick:s,children:"Cancel"}):null]})]})},wg=({isShowing:e,onConfirm:n,onCancel:r})=>t.jsx(Qa,{isShowing:e,onConfirm:n,onCancel:r,title:"Discard capture?",description:"Clicking Discard will delete all captured steps.",primaryCtaText:"Discard",variant:"danger"}),jg=({isShowing:e,onConfirm:n,onCancel:r})=>t.jsx(Qa,{isShowing:e,onConfirm:n,onCancel:r,title:"Restart capture?",description:"Clicking Restart will take you back to the beginning of the Workflow and delete all captured steps.",primaryCtaText:"Restart"}),Cg=({route:e,contentBlocks:n,isAddStepsMode:r})=>{const s=oi(),{canUseAutoBlur:i,enableAutoBlur:c,isAutoBlurEnabled:d,hasSecureBlurBeenInitialized:x}=Fr(),[p,f]=g.useState(0),[w,j]=g.useState(!1),[R,v]=g.useState(!1),S=mt(pt.SECURE_BLUR_V2),{RiveComponent:z,rive:Z}=Tn.useRive({src:"/capture_complete.riv",autoplay:!1,layout:new Tn.Layout({alignment:Tn.Alignment.Center,fit:Tn.Fit.Contain})}),q=e===je.Paused||e===je.Blurring,I=4,B=!tt.onboardingCompleted&&!r,L=e===je.Blurring||B&&n.length<I,G=g.useCallback(()=>{if(s){Eg(),i&&!x&&c(!0);return}Io(),f(4)},[s,c,i,x]),Y=g.useCallback(async()=>{const u=tt.onboardingCompleted&&!tt.secondCaptureCompleted;tt.onboardingCompleted||es(Kr.OnboardingCompleted,!0),u&&es(Kr.SecondCaptureCompleted,!0),n.length>0?de({name:oe.FinishRecording,secondCaptureCompleted:u}):window.alert("No steps captured!")},[n]),H=g.useCallback(()=>{f(1)},[]),ie=g.useCallback(()=>{f(2)},[]),se=g.useCallback(()=>{f(0)},[]),ce=()=>{B&&Fe(Oe.OnboardingFirstCaptureDroppedOff,{event_source:"Discard Capture",countent_blocks_count:n.length-1}),de({name:oe.DeleteWorkflow}),se()},ue=()=>{tt.onboardingCompleted||es(Kr.OnboardingCompleted,!0),de({name:oe.RestartWorkflow}),se()},C=()=>{So(),se()},h=()=>{c(!1),de({name:oe.ClearAllBlur}),Fe(Oe.ClearAllBlur,{event_source:"Pop Up"})};return t.jsxs(t.Fragment,{children:[t.jsx(wg,{isShowing:p===1,onConfirm:ce,onCancel:se}),t.jsx(jg,{isShowing:p===2,onConfirm:ue,onCancel:se}),t.jsx(bg,{isShowing:p===4,onConfirm:C}),t.jsx(M,{alignItems:"center",justifyContent:"center",direction:"row",gap:"2",css:{py:o.space[2],borderTop:"1px solid $gray100"},children:!S&&e===je.Blurring?t.jsxs(fn,{columns:"2",css:{width:"100%",px:o.space[5],py:o.space[4]},gap:"2",children:[t.jsx(U,{css:{gridColumn:"span 1"},children:t.jsx(be,{fullWidth:!0,onClick:h,variant:"tertiary","data-testid":"clear-all-blur-button",children:"Clear All Blur"})}),t.jsx(U,{css:{gridColumn:"span 1"},children:t.jsx(be,{fullWidth:!0,"aria-label":"Resume","data-testid":"toggle-blur-off",onClick:()=>de({name:oe.ToggleBlurOff}),children:"Resume Capture"})})]}):t.jsxs(t.Fragment,{children:[t.jsx(xg,{borderOpacity:w&&!R?.2:0,greenGlowOpacity:R?0:.8,RiveComponent:z,show:B&&n.length>3,sparkleOpacity:w&&!R?1:0,children:t.jsx(Vt,{"aria-label":"Complete",css:{borderRadius:o.radii.full,bg:o.colors.green600,"&:hover":{bg:o.colors.green500},"&:disabled":{bg:o.colors.gray200,cursor:"not-allowed"}},onClick:()=>{B?(v(!0),Z?.play(),Fe(Oe.OnboardingFirstCaptureCompleted,{event_source:"Capture Panel",content_blocks_count:n.length}),setTimeout(()=>{Y()},900)):Y()},onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),"data-testid":"complete-button",disabled:L,children:t.jsx(Er,{color:o.colors.white.value})})}),t.jsx(Vt,{"aria-label":"Pause","data-testid":"pause-button",onClick:q?So:Io,tooltipContent:q?"Resume":"Pause",children:q?t.jsx(Qs,{}):t.jsx(qs,{})}),t.jsx(Vt,{onClick:ie,"aria-label":"Restart","data-testid":"restart-button",tooltipContent:"Restart",disabled:n.length<2,children:t.jsx(nl,{})}),t.jsxs(U,{css:{position:"relative"},children:[t.jsx(Vt,{onClick:G,"aria-label":"Secure Blur","data-testid":"live-blur-button",isProOnly:!0,tooltipContent:"Secure Blur",css:{color:o.colors.purple700},children:t.jsx(Aa,{})}),d&&t.jsx(U,{css:{borderRadius:o.radii.full,height:8,width:8,top:8,right:8,bg:o.colors.orange500,position:"absolute"}})]}),t.jsx(Vt,{onClick:H,"aria-label":"Discard","data-testid":"discard-button",tooltipContent:"Discard",children:t.jsx(Bo,{})})]})})]})};function Io(){de({name:oe.PauseRecording})}function So(){de({name:oe.ContinueRecording})}function Eg(){de({name:oe.ToggleBlurOn})}const $g=({show:e,isAddStepsMode:n})=>(g.useEffect(()=>{e?(document.body.style.position="fixed",document.body.style.width="100%"):document.body.style.removeProperty("position")},[e]),t.jsx(Le,{children:e?t.jsx(U,{as:ge.div,css:{height:"100vh",width:"100vw",position:"fixed",top:0,left:0,background:o.colors.white,backdropFilter:"blur(64px)",opacity:.9,zIndex:o.zIndices.overlay,textAlign:"center"},initial:{opacity:.9},children:t.jsxs(M,{alignItems:"center",css:{height:"100%",width:"100%"},"data-testid":"finishing-overlay",direction:"column",gap:"7",justifyContent:"center",children:[t.jsx($r,{}),t.jsxs(K,{size:"4",children:["Tango is automagically ",n?"updating":"creating"," your Workflow âœ¨"]})]})}):null})),Rg="/assets/B0vOC8Io.svg",Ig=()=>t.jsx(M,{justifyContent:"start",alignItems:"center",css:{pt:o.space[4],pb:o.space[2],px:o.space[5],borderBottom:"1px solid $gray100"},children:t.jsx("img",{src:Rg,alt:"Tango"})}),Sg=e=>{const{show:n,text:r}=e,s=Qt(),i={hidden:{y:25,opacity:0,transition:{duration:s?.025:.3}},displayed:{y:0,opacity:1,transition:{delay:.1,duration:s?.05:.3}}};return t.jsx(Le,{children:n?t.jsx(U,{as:ge.div,css:{pb:o.space[4],px:o.space[2]},initial:"hidden",animate:"displayed",exit:"hidden",variants:i,"data-testid":"capture-panel-notification",children:r}):null})},Tg=({route:e,count:n})=>{const r=n>=_c;return g.useEffect(()=>{e===je.Recording&&r&&kg()},[e,r]),t.jsx(t.Fragment,{children:t.jsx(Sg,{show:r,text:t.jsx(Sl,{variant:"warning",children:t.jsxs(U,{children:[t.jsx("strong",{children:"Capture was paused because the Workflow step limit has been reached."}),t.jsx("br",{}),"Weâ€™ve found the most successful workflows are fewer than 100 steps. Consider creating multiple Tangos for unique tasks or delete steps to continue capturing."]})})})})};function kg(){de({name:oe.PauseRecording})}function _g({route:e,isAddStepsMode:n}){const r=cg();return t.jsxs(Nm,{route:e,children:[t.jsx($g,{show:e===je.Finishing,isAddStepsMode:n}),t.jsx(Ig,{}),t.jsx(og,{contentBlocks:r,bottom:t.jsx(Tg,{count:r.length,route:e}),isAddStepsMode:n,route:e}),t.jsx(Wm,{route:e}),t.jsx(Cg,{route:e,contentBlocks:r,isAddStepsMode:n})]})}const Ag=()=>(g.useEffect(()=>{const e=setTimeout(()=>{de({name:oe.NavigateTo,route:je.Actions})},300);return()=>clearTimeout(e)},[]),null),Og=()=>t.jsx(M,{alignItems:"center",css:{height:"100%",width:"100%"},direction:"column",justifyContent:"center",children:t.jsx($r,{})}),Lg=()=>(g.useEffect(()=>{setTimeout(()=>document.body.style.removeProperty("pointer-events"),0)},[]),t.jsxs(ke,{container:sn(),"data-testid":"screenshot-disabled-modal",open:!0,children:[t.jsx(ke.Title,{children:"Oops! Screenshot capabilities are disabled on your browser!"}),t.jsx(ke.Content,{children:t.jsxs(ke.Description,{children:["A policy set on your browser preventing is preventing Tango from taking screenshots of your steps. Contact your IT admin."," ",t.jsx(K,{as:"a",css:{textDecoration:"underline"},href:"https://app.tango.us/app/workflow/View-current-active-Chrome-policies-2ac3971409fc4c5a897af5d478e67d2f",target:"_blank",rel:"noreferrer",weight:"med",children:"Learn more."})]})}),t.jsx(ke.Actions,{children:t.jsx(be,{"data-testid":"got-it-button",onClick:()=>{de({name:oe.NavigateTo,route:je.Actions})},variant:"primary",children:"Got it!"})})]}));function Pg(){const{user:e,workspaces:n}=qe();return()=>{const s=n.some(i=>i.id===e?.currentWorkspaceId&&i.workspaceUser?.role==="ADMIN");window.open(tt.webUrl+Cr),Fe(Oe.UpgradeInfoViewed,{event_source:"Pop Up",event_context:s?"admin":"user"})}}const Mg=({workflowLimitReached:e,isUnauthorized:n})=>{const r=Pg();g.useEffect(()=>{setTimeout(()=>document.body.style.removeProperty("pointer-events"),0)},[]);const s=t.jsx(be,{"data-testid":"close-button",onClick:()=>{de({name:oe.NavigateTo,route:je.Actions})},variant:"text",children:"Cancel"});return e?t.jsxs(ke,{container:sn(),"data-testid":"workflow-creation-failed-modal",open:!0,children:[t.jsxs(ke.Title,{children:[t.jsx(ys,{}),"âš ï¸ Youâ€™ve hit your Workflow limit"]}),t.jsx(ke.Content,{children:t.jsx(ke.Description,{children:"Upgrade to get unlimited Workflows."})}),t.jsxs(ke.Actions,{children:[t.jsx(be,{"data-testid":"upgrade-button",onClick:r,variant:"primary",children:"Upgrade"}),s]})]}):n?t.jsxs(ke,{container:sn(),"data-testid":"workflow-creation-failed-modal",open:!0,children:[t.jsxs(ke.Title,{children:[t.jsx(ys,{}),"Oops! Your session has expired."]}),t.jsx(ke.Content,{children:t.jsx(ke.Description,{children:"Please sign in again to continue capturing Tangos."})}),t.jsxs(ke.Actions,{children:[t.jsx(be,{"data-testid":"sign-in-button",onClick:()=>{de({name:oe.SignIn})},variant:"primary",children:"Sign in"}),s]})]}):t.jsxs(ke,{container:sn(),"data-testid":"workflow-creation-failed-modal",open:!0,children:[t.jsxs(ke.Title,{children:[t.jsx(ys,{}),"Oops! We failed to start capture."]}),t.jsx(ke.Content,{children:t.jsx(ke.Description,{children:"Please retry capturing a Tango."})}),t.jsxs(ke.Actions,{children:[t.jsx(be,{"data-testid":"ok-button",onClick:()=>{de({name:oe.NavigateTo,route:je.Actions})},variant:"primary",children:"Ok"}),s]})]})},ys=()=>t.jsx(U,{css:{mb:o.space[4]},children:t.jsx(Zo,{})}),Ng=()=>(g.useEffect(()=>{de({name:oe.ClosePanel})},[]),null),ai=e=>t.jsx(kr,{icon:t.jsx("svg",{fill:"none",height:"100%",viewBox:"0 0 20 20",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{clipRule:"evenodd",d:"M14.3333 15.0556H5.66667C5.26944 15.0556 4.94444 14.7306 4.94444 14.3333V5.66667C4.94444 5.26944 5.26944 4.94444 5.66667 4.94444H9.27778C9.675 4.94444 10 4.61944 10 4.22222C10 3.825 9.675 3.5 9.27778 3.5H4.94444C4.14278 3.5 3.5 4.15 3.5 4.94444V15.0556C3.5 15.85 4.15 16.5 4.94444 16.5H15.0556C15.85 16.5 16.5 15.85 16.5 15.0556V10.7222C16.5 10.325 16.175 10 15.7778 10C15.3806 10 15.0556 10.325 15.0556 10.7222V14.3333C15.0556 14.7306 14.7306 15.0556 14.3333 15.0556ZM11.4444 4.22222C11.4444 4.61944 11.7694 4.94444 12.1667 4.94444H14.0372L7.44333 11.5383C7.16167 11.82 7.16167 12.275 7.44333 12.5567C7.725 12.8383 8.18 12.8383 8.46167 12.5567L15.0556 5.96278V7.83333C15.0556 8.23056 15.3806 8.55556 15.7778 8.55556C16.175 8.55556 16.5 8.23056 16.5 7.83333V4.22222C16.5 3.825 16.175 3.5 15.7778 3.5H12.1667C11.7694 3.5 11.4444 3.825 11.4444 4.22222Z",fill:"currentColor",fillRule:"evenodd"})}),...e});ai.displayName="IconNewWindow";const Fg=8;let bs;const ws=e=>{const n=Bg(e);bs&&JSON.stringify(bs)===JSON.stringify(n)||(bs=n,Fo({stepTrackingEvents:[{...n,eventTimestamp:new Date().toISOString()}]}))};function Bg(e){const n=Dg(e),r=e.trackAction?(e.completedStepIds.length+1)/e.totalNumberOfSteps*100:e.completedStepIds.length/e.totalNumberOfSteps*100,s={stepIndex:e.step.stepIndex||0,stepsCount:e.totalNumberOfSteps,stepId:e.step.id,workspaceId:e.workflow.workspaceId,workflowId:e.workflow.id,progress:r,isLastStep:e.step.stepIndex===e.totalNumberOfSteps-1};return{action:e.trackAction,eventType:e.eventType,channel:e.channel,contextId:e.guidanceSessionId,context:n,trackingId:e.trackingId,...s}}function Dg(e){let n={title:e.step.title,description:e.step.description,url:e.step.url};e.automatixAnalytics&&(n={...n,...e.automatixAnalytics});const r=e.trackAction===Os.MANUAL?"NEEDS_LABEL":e.trackAction?"LABELED":void 0;return JSON.stringify({id:e.guidanceSessionId,step:n,workflow:{name:e.workflow.name},viewerUrl:e.viewerUrl,automatixBuild:Fg,snapshotIdentifier:e.snapshotIdentifier,appName:e.step.app?.name,labelStatus:r})}function Ug(e,n,r,s,i){const c=e.contentBlocks.filter(_=>_.type===ft.Heading||_.type===ft.Step),d=s?null:c[0]?.id||null,x=c.flatMap(_=>_.children).filter(_=>_!=null),[p,f]=g.useState(!1),[w,j]=g.useState(d),[R,v]=g.useState(c[0]?.id||null),[S,z]=g.useState(null),[Z,q]=g.useState(!1),[I,B]=g.useState(new Set),[L,G]=g.useState(!1),[Y,H]=g.useState([]),{user:ie,workspaces:se}=qe(),ce=g.useMemo(()=>se?.some(({id:_})=>_===hr||_===fr),[se]),ue=e.workspaceId===hr||e.workspaceId===fr,C=!(ce&&!ue),h=c.filter(_t).length,u=[...I].filter(_=>_t(c.find(V=>V.id===_))),m=_=>{j(_);const V=c.find(ne=>ne.id===_);V&&_t(V)?v(V.children?.[0]?.id||null):v(null)},E=g.useCallback((_,V,ne,re,ve)=>{const pe=x.find($e=>$e.id===_);let dt=null;if(pe){const $e=c.find(Ke=>Ke.children?.includes(pe));if(!$e)throw new Error("No parent step found?");const Xe=$e.children.indexOf(pe);dt=$e.children[Xe+1],_=$e.id}const nt=c.findIndex($e=>$e.id===_),De=c[nt];if(_t(De)&&ne!==Os.MANUAL){const $e=c.slice(0,nt),Xe=Me=>_t(Me)&&(Me.classifications?.includes(Oc.Authentication)||Me.children?.some(Xe));$e.some(Xe)&&B(Me=>new Set([...Me,...$e.map(ze=>ze.id)]))}if(dt){v(dt.id);return}if(B($e=>{const Xe=new Set($e);return V?Xe.add(_):Xe.delete(_),Xe}),De.type===ft.Step&&H($e=>$e.concat({stepId:_,tabId:i,complete:V})),V){const $e=c[nt+1];m($e?$e.id:null),_t(De)&&ne&&C&&ie&&ws({eventType:Jr.StepCompletion,channel:r?Ht.Guidance:Ht.GuideMe,trackingId:ie.id,guidanceSessionId:n,step:De,workflow:e,trackAction:ne,viewerUrl:re,snapshotIdentifier:ve,completedStepIds:u,totalNumberOfSteps:h})}else m(_)},[c,C,i]),$=g.useCallback((_,V)=>{V?v(_):m(_)},[]),T=c.every(_=>I.has(_.id));g.useEffect(()=>{G(T),m(null)},[T]),g.useEffect(()=>{!s&&w===null&&m(d)},[s,w,d]),g.useEffect(()=>{f(!1),z(null),q(!1)},[w]),g.useEffect(()=>{if(s||!r||!w)return;const _=c.findIndex(ne=>ne.id===w),V=c[_];_t(V)&&C&&ie&&ws({eventType:Jr.StepView,channel:r?Ht.Guidance:Ht.GuideMe,trackingId:ie.id,guidanceSessionId:n,step:V,workflow:e,completedStepIds:u,totalNumberOfSteps:h})},[w,C]);const A=g.useCallback(()=>{B(new Set),m(c[0]?.id||null)},[c]);g.useEffect(()=>{de({name:oe.HighlightStep,stepId:R||w,finished:L&&!w,zoomScreenshot:!!p})},[w,R,p,L]);const F=g.useCallback((_,V,ne)=>{if(_.message.name===oe.MarkCompletedStep&&(E(_.message.stepId,!0,_.message.trackAction,V.url,_.message.snapshotIdentifier),ne()),_.message.name===oe.MarkFoundStep){const re=_.message.status,ve=V.frameId??0;z(pe=>re!=="success"&&ve>0&&pe?.frameId!==ve?pe:{status:re,scorecards:_.message.scorecards,searchTimedOut:_.message.timeout,frameId:ve,stepId:_.message.stepId,automatixAnalytics:_.message.data})}_.message.name===oe.MarkHasInteractedWithPage&&(q(!0),ne()),_.message.name===oe.ZoomScreenshotStep&&(f(_.message.value),ne()),_.message.name===oe.MarkHighlightStep&&(m(_.message.stepId),ne())},[E]);Et(F);const P=g.useCallback(_=>{f(_)},[]);return g.useEffect(()=>{Ac({name:oe.ZoomScreenshotStep,value:p})},[p]),g.useEffect(()=>{if(S&&Tl.includes(S.status)){const _=c.findIndex(ne=>ne.id===S.stepId),V=c[_];if(!V)return;_t(V)&&C&&ie&&ws({eventType:Jr.StepHighlight,channel:Ht.Guidance,trackingId:ie.id,guidanceSessionId:n,step:V,automatixAnalytics:S.automatixAnalytics,workflow:e,completedStepIds:u,totalNumberOfSteps:h})}},[S]),g.useEffect(()=>{if(!p)return;const _=V=>{V.key==="Escape"&&(V.preventDefault(),V.stopImmediatePropagation(),f(!1))};return document.addEventListener("keydown",_,!0),()=>document.removeEventListener("keydown",_,!0)},[p]),{workflowId:e.id,workspaceId:e.workspaceId,contentBlocks:e.contentBlocks,guidanceContentBlocks:c,guidanceSessionId:n,highlightedId:w,childHighlightedId:R,elementStatus:S?.status??null,elementScorecards:S?.scorecards??null,hasElementSearchTimedOut:S?.searchTimedOut??!1,hasInteractedWithPage:Z,toggleHighlightedStep:$,completedIds:I,toggleComplete:E,toggleZoomScreenshot:P,toggleFinished:_=>G(_),restart:A,finished:T,isPreview:s,stepLog:Y}}const Ka=g.createContext(void 0),zg=({children:e,workflow:n,guidanceSessionId:r,isLive:s,isPreview:i,tabId:c})=>{const d=Ug(n,r,s,!!i,c);return t.jsx(Ka.Provider,{value:d,children:e})},mn=()=>g.useContext(Ka),To=e=>!!e.url&&/^(http|https|ftp)/.test(e.url),Wg=(e,n,r)=>{const{contentBlocks:s,highlightedId:i,completedIds:c,toggleComplete:d,isPreview:x}=mn(),p=g.useRef(e||[]),f=g.useCallback((j,R=!1)=>!R&&p.current.includes(j.id)||!To(j)?!1:(de({name:oe.OpenContentBlockUrl,url:j.url,newTab:r}),p.current.push(j.id),!0),[r]),w=!!i&&c.has(i);return g.useEffect(()=>{if(!i||x||w)return;const j=s.find(v=>v.id===i);if(!j||!("url"in j)||!j.url)return;const R=()=>{f(j);const v=setTimeout(()=>{d(i,!0)},500);return()=>clearTimeout(v)};if(n){if(Ql(j))return R();if(j.index===0){f(j);return}}if(_t(j)&&j.eventType==="navigate")return R()},[i,w,x,d,s,n,f]),{openUrl:f,hasValidUrl:To}},Gg=xe(U,{$$backgroundColor:o.colors.gray100,$$color:o.colors.gray700,position:"relative",borderRadius:o.radii.sm,padding:o.space[2],display:"flex",alignItems:"start",gap:o.space[2],backgroundColor:"$$backgroundColor",color:"$$color",variants:{variant:{info:{$$backgroundColor:o.colors.blue100,$$color:o.colors.blue700},success:{$$backgroundColor:o.colors.green100,$$color:o.colors.green700},danger:{$$backgroundColor:o.colors.red100,$$color:o.colors.red700},warning:{$$backgroundColor:o.colors.yellow100,$$color:o.colors.yellow700}}}}),Hg=e=>{const{icon:n,variant:r}=e;return r==="danger"?t.jsx(kl,{color:o.colors.red500.value,css:{flexShrink:0},size:"28"}):r==="warning"?t.jsx(Vo,{color:o.colors.yellow500.value,css:{flexShrink:0},size:"28"}):r==="info"?t.jsx($s,{color:o.colors.blue500.value,css:{flexShrink:0},size:"28"}):r==="success"?t.jsx(qo,{color:o.colors.green500.value,css:{flexShrink:0},size:"28"}):n?t.jsx(U,{css:{fontSize:"20px",flexShrink:0,color:"black",display:"block",height:26,width:26,lineHeight:"24px",textAlign:"center",fontFamily:_l()?"Segoe UI Emoji, Segoe UI Symbol":void 0},children:n}):null},Vg=e=>{const{callout:n}=e;let r;switch(n.calloutType){case En.Error:r="danger";break;case En.Info:r="info";break;case En.Success:r="success";break;case En.Warning:r="warning";break;case En.Custom:break}return t.jsxs(Gg,{variant:r,children:[t.jsx(Hg,{icon:n.icon,variant:r}),t.jsx(gr,{css:{wordWrap:"break-word",color:"inherit",mt:5},value:n.text,size:"2"})]})},Xg=xe(M,{alignItems:"center",justifyContent:"center",textTransform:"uppercase",variants:{size:{xs:{width:16,height:16},sm:{width:20,height:20},md:{width:24,height:24},lg:{width:32,height:32},xl:{width:40,height:40},xxl:{width:64,height:64}}}}),Yg=({heading:e,size:n})=>{const r=new RegExp("^(?:https?:)?(?://)?(?:[^@\\n]+@)?(?:www.)?([^:/\\n?]+)","g"),s=e.url?r.exec(e.url):void 0,i=s?`https://icons.tango.us/${s[1]}`:void 0;return(e.icon?Kl.test(e.icon):!0)&&s?t.jsx(t.Fragment,{children:t.jsx(Ls,{apps:[{name:s[1],iconURL:i}],size:n})}):t.jsx(Xg,{size:n,children:t.jsx(Wo,{children:e.icon||"#"})})},Zg=e=>{const{heading:n}=e,r=n.text&&n.text.length>54;return t.jsxs(M,{css:{px:o.space[2],mb:o.space[2],mt:n.index===0?o.space[1]:o.space[5]},direction:"column",gap:"2",children:[t.jsxs(M,{alignItems:"start",justifyContent:"between",children:[t.jsxs(U,{css:{width:"100%"},children:[t.jsx(U,{css:{float:"left",mr:o.space[2]},children:t.jsx(Yg,{heading:n,size:"md"})}),t.jsx(K,{as:"p",css:{color:o.colors.gray700,m:0,mt:-2,wordWrap:"break-word"},size:r?"4":"3",weight:"reg",children:n.text})]}),n.url&&t.jsx(U,{"aria-hidden":"true",as:"a",css:{color:o.colors.gray500,alignSelf:"center"},href:n.url,rel:"noreferrer",target:"_blank",children:t.jsx(dn,{size:16})})]}),t.jsx(gr,{size:"2",value:n.description||""})]})},Ja=({step:e,childHighlightedId:n,onHighlight:r})=>{if(!e.children)return null;const s=e.children.findIndex(d=>d.id===n),i=e.children[s-1]?.id,c=e.children[s+1]?.id;return t.jsxs(M,{gap:"1",css:{position:"absolute",bottom:o.space[2],zIndex:1,left:"50%",transform:"translateX(-50%)",justifyContent:"center",alignItems:"center",background:o.colors.white,borderRadius:o.radii.sm,border:`1px solid ${o.colors.gray100}`,padding:o.space[1],boxShadow:"0px 4px 6px -1px rgba(37, 31, 45, 0.1), 0px 2px 4px -2px rgba(37, 31, 45, 0.1)"},children:[t.jsx(Be,{"aria-label":"Back","data-testid":"step-list-child-previous",size:"sm",onClick:d=>{d.stopPropagation(),r(i,!0)},disabled:!i,children:t.jsx(Vs,{})}),t.jsx(Al,{text:`${s+1} of ${e.children.length}`,css:{background:o.colors.white,height:"100%",width:52,display:"flex",justifyContent:"center",cursor:"default"}}),t.jsx(Be,{"aria-label":"Next","data-testid":"step-list-child-next",size:"sm",onClick:d=>{d.stopPropagation(),r(c,!0)},disabled:!c,children:t.jsx(Qo,{})})]})},qg=364,ec=({imageTitle:e,imageUrl:n,pixelHeight:r,pixelWidth:s,isBlurred:i})=>{const[c,d]=g.useState(!1),x=g.useRef(null),p=g.useMemo(()=>(x.current?.clientWidth||qg)*r/s,[x.current?.clientWidth,r,s]);return t.jsxs(U,{css:{width:"100%",height:"auto"},ref:x,style:{minHeight:p},children:[!c&&t.jsx(rl,{css:{width:"100%",borderRadius:"$sm"},style:{minHeight:p}}),t.jsx(U,{as:"img",css:{objectFit:"contain",width:"100%",overflow:"hidden",display:c?"block":"none",borderRadius:"$sm",border:`1px solid ${o.colors.gray200}`,filter:i?"blur(2px)":"none",transition:"filter 300ms ease-in-out","&:hover":{filter:"none"}},onLoad:()=>{d(!0)},src:n,alt:e})]})},Qg=ut({to:{"--animated-angle":"360deg"}}),Kg=xe(U,{"--border-color":"transparent",display:"flex",flexDirection:"column",cursor:"pointer",p:o.space[2],borderRadius:"$sm",transition:"border-color 0.3s ease-in-out, background 0.3s ease-in-out",border:"2px solid var(--border-color)",position:"relative",variants:{status:{"with-guidance":{bg:o.colors.primary100,"&:hover":{"--border-color":o.colors.purple300}},"without-guidance":{bg:o.colors.primary100,"&:hover":{"--border-color":o.colors.purple300}},"element-not-found":{background:"linear-gradient(to bottom, $purple100, $purple100) padding-box, linear-gradient(var(--animated-angle), $orange500 50%, $purple300, $purple300) border-box","--border-color":"transparent",animation:`${Qg} 3s infinite linear`},default:{"&:hover":{bg:o.colors.gray100,"--border-color":o.colors.gray200}}}}}),jr=xe(K,{opacity:0,transition:"opacity 0.2s ease",background:"#fff",fontSize:"$1!important",border:"1px solid $gray200",boxShadow:"$md, $md",position:"absolute",top:o.space[2],borderRadius:"$xs",px:12,py:o.space[1],left:"50%",transform:"translateX(-50%)",pointerEvents:"none",userSelect:"none",whiteSpace:"nowrap"}),Jg=e=>{const{step:n,childHighlightedId:r,isElementNotFound:s,onComplete:i,onHighlight:c,onReportStep:d,onZoom:x}=e,p=!!n.screenshot?.imgUrl;return t.jsx(U,{as:ge.div,initial:{opacity:0,scale:.85,x:"-50%"},animate:{opacity:1,scale:1,x:"-50%"},exit:{opacity:0,scale:.85,x:"-50%"},css:{cursor:"default",position:"absolute",top:"100%",left:"50%",height:"fit-content",width:"100%",maxWidth:262,zIndex:1},transition:{ease:"easeOut",duration:.3},children:t.jsxs(M,{css:{background:o.colors.white,border:`1px solid ${o.colors.gray200}`,borderRadius:o.radii.md,boxShadow:`
            0px 4px 6px -1px rgba(37, 31, 45, 0.1),
            0px 2px 4px -2px rgba(37, 31, 45, 0.1)`,padding:12},direction:"column",gap:"2",children:[p?t.jsxs(U,{css:{position:"relative",[`&:hover ${jr}`]:{opacity:1}},children:[t.jsx(jr,{children:"Expand screenshot"}),!!n.children&&n.children.length>1&&r!=null&&t.jsx(Ja,{step:n,childHighlightedId:r,onHighlight:c}),t.jsx(U,{css:{cursor:"zoom-in"},onClick:x,children:t.jsx(ec,{imageUrl:n.screenshot.imgUrl,imageTitle:n.screenshot.altText||n.title||"",pixelHeight:n.screenshot.pixelHeight,pixelWidth:n.screenshot.pixelWidth})})]}):null,t.jsxs(M,{alignItems:"center",gap:"2",children:[s?t.jsx(be,{css:{flex:1},"data-testid":"skip-to-next-step",onClick:i,size:"sm",variant:"tertiary",children:"Skip to next step"}):t.jsx(be,{css:{flex:1},"data-testid":"mark-as-completed",onClick:i,size:"sm",variant:"tertiary",children:"Mark as Complete"}),t.jsx(Pe,{content:"Report this step to Tango",side:"top",children:t.jsx(Be,{"aria-label":"Report Step","data-testid":"report-to-tango",onClick:d,size:"sm",variant:"outline",children:t.jsx(Ys,{})})})]})]})})},e1=({app:e})=>{const n=e?.iconURL?new URL(e.iconURL):null;return n?.searchParams.delete("size"),t.jsx(ge.div,{initial:{height:0,opacity:1},animate:{height:"auto"},exit:{height:0,opacity:0},transition:{duration:.3},style:{overflow:"hidden"},children:t.jsxs(U,{css:{display:"flex",flexDirection:"column",alignItems:"center",padding:o.space[5],gap:o.space[2],background:"radial-gradient(130.79% 100% at 50% 100%, rgba(127, 78, 195, 0.4) 0%, rgba(214, 198, 236, 0.274713) 28.61%, rgba(238, 231, 247, 0.24) 57.94%, rgba(255, 255, 255, 0.4) 100%), #FFFFFF",border:`1px solid ${o.colors.gray200}`,borderRadius:o.radii.lg,textAlign:"center",userSelect:"none"},children:[n?t.jsx(t1,{src:n.toString(),alt:""}):null,t.jsxs(K,{size:"3",weight:"med",children:[e?.name?`Log in to ${Jo(e.name,25)} `:"Log in ","or create an account to continue with on-screen highlights."]})]})})},t1=xe("img",{width:40,height:40,boxShadow:"0px 1px 2px -1px rgba(37, 31, 45, 0.1), 0px 1px 3px rgba(37, 31, 45, 0.1)",borderRadius:"50%",display:"block",padding:o.space[1]}),n1={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1}},r1=1500,s1=e=>{const{status:n,onClick:r}=e,[s,i]=g.useState(!1),c=mt(pt.OUT_OF_SEQUENCE);return g.useEffect(()=>{let d;return n==="differentDomain"||!c&&n==="accessRequired"?d=setTimeout(()=>i(!0),r1):i(!1),()=>clearTimeout(d)},[n,c]),t.jsx(t.Fragment,{children:s&&t.jsx(U,{initial:"hidden",exit:"hidden",animate:"visible",as:ge.button,onClick:r,css:{marginTop:o.space[2]},variants:n1,children:t.jsx(M,{alignItems:"center",css:{background:"#EDF3FF",py:10,px:o.space[2],border:"1px solid #C9DBFF",color:"#256EFF",borderRadius:o.radii.sm},justifyContent:"between",children:n==="differentDomain"?t.jsxs(t.Fragment,{children:[t.jsxs(M,{css:{textAlign:"left"},gap:"1",children:[t.jsx($s,{size:"16"}),t.jsx(K,{css:{color:"inherit"},size:"1",children:"This step is located on another webpage."})]}),t.jsxs(M,{css:{color:"inherit",flexShrink:0},gap:"1",children:[t.jsx(K,{css:{color:"inherit"},size:"1",weight:"med",children:"Go there"})," ",t.jsx(Qo,{size:"16"})]})]}):t.jsx(t.Fragment,{children:t.jsxs(M,{css:{textAlign:"left"},gap:"1",children:[t.jsx($s,{size:"16"}),t.jsx(K,{css:{color:"inherit"},size:"1",children:"Please sign in to complete this step."})]})})})})})},i1=({stepId:e,stepTitle:n,stepIndex:r,variant:s="outline"})=>{const{user:i}=qe(),[c,d]=g.useState(!1),x=g.useRef(null),{stepComments:p,addComment:f,deleteComment:w,loading:j,userPermissionLevel:R}=Fs(),v=g.useMemo(()=>(p[e]||[]).reverse(),[p,e]),S=v.length>0,z=g.useMemo(()=>S?v.length>1?"View comments":"View comment":"Add comment",[S,v]),Z=()=>{d(!1)},q=()=>{S||Z()},I=async L=>{await w(L,e)},B=async L=>{await f(L,e),setTimeout(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},500)};return t.jsxs(t.Fragment,{children:[t.jsx(Pe,{content:z,children:t.jsx(Be,{"aria-label":"Add comment","data-testid":"add-comment",onClick:()=>{d(!0),Fe(Oe.StepCommentButtonClicked,{step_id:e})},size:"sm",variant:s,children:t.jsx(Xs,{size:"16"})})}),t.jsxs(Zt,{css:{borderRadius:"24px 24px 0 0",overflowY:"auto",overflowX:"hidden",border:`1px solid ${o.colors.gray100}`,height:"auto"},"data-testid":"comment-drawer",open:c,onClose:Z,side:"bottom",children:[t.jsxs(M,{direction:"column",css:{py:o.space[4],pl:o.space[5],pr:o.space[4]},gap:"1",children:[t.jsx(K,{weight:"med",size:"4",children:"Comments"}),t.jsxs(K,{css:{color:o.colors.gray500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},size:"1",children:["Step ",(r||0)+1," Â· ",n]})]}),S?t.jsxs(t.Fragment,{children:[t.jsx(U,{css:{width:"110%",height:1,bg:o.colors.gray200}}),t.jsx(on.List,{ref:x,children:v.map(L=>t.jsx(on.Item,{comment:L,onDelete:I,showDelete:R===cn.Edit||R===cn.Owner?!0:L.userTrackingId===i?.id},L.id))})]}):null,t.jsx(U,{css:{width:"110%",height:1,bg:o.colors.gray200}}),t.jsx(on.Composer,{autoFocus:!S,isDisabled:j,onSubmit:B,onCancel:q,user:{firstName:i?.firstName,id:i?.id,lastName:i?.lastName,profilePictureURL:i?.profilePictureURL}})]})]})},o1="/assets/DTfWzTMm.svg",a1="We canâ€™t find that objectâ€¦",c1="due to edits that were made to this Tango (e.g. deleting a screenshot or moving the action box)",l1="because of AI inaccuracies or changes to the application where the process was captured.",u1="Is something wrong?",d1="Sorry about that, weâ€™re working hard to make improvements! Great partners let us know what we can do better.",h1=e=>{const n=e.map(r=>{const{elementFeatures:s,...i}=r;return s&&(s.attributes=JSON.parse(s.attributes),delete s.parent,delete s.labelledBy),{...i,elementFeatures:s}});return JSON.stringify(n)},f1=e=>{const{hasUserChanges:n}=e;return t.jsxs(t.Fragment,{children:[t.jsx("img",{src:o1,alt:"",width:158,style:{marginTop:12}}),t.jsxs(M,{gap:"1",direction:"column",children:[t.jsx(K,{size:"3",weight:"med",css:{textAlign:"center"},children:a1}),t.jsx(K,{size:"2",css:{color:"$gray600",textAlign:"center"},children:n?c1:l1})]})]})},p1=()=>t.jsxs(M,{gap:"1",direction:"column",children:[t.jsx(K,{size:"3",weight:"med",css:{textAlign:"center"},children:u1}),t.jsx(K,{size:"2",css:{color:"$gray600",textAlign:"center"},children:d1})]}),m1=({isElementNotFound:e,open:n,onClose:r,step:s,workflowId:i,workspaceId:c,guidanceSessionId:d,scorecards:x})=>{const{add:p}=ha(),{user:f}=qe(),w=!s.targetDetails||!!s.targetDetails.userAction,j=()=>{const{snapshotFileName:R}=Ko(i,s.id,pr.Guidance),v=x?h1(x):void 0;de({name:oe.CaptureGuidanceSnapshot,snapshotType:pr.Guidance,workflowId:i,workspaceId:c,stepId:s.id,fileName:R}),de({name:oe.Track,eventName:Oe.WorkflowStepReported,eventProperties:{workflow_id:i,workflow_step_id:s.id,workflow_step_index:s.stepIndex??void 0,workflow_author_id:f?.id,snapshot_id:R,guidance_session_id:d,action_box:e,scorecards:v}}),r(),p({variant:"success",title:"Got it - Weâ€™re on it! ",text:"Thanks for sharing your experience. Our support team will look into this.",delay:4e3,inverted:!1,size:"sm"})};return g.useEffect(()=>{n&&de({name:oe.Track,eventName:Oe.WorkflowReportStepDrawerOpened,eventProperties:{workflow_id:i,workflow_step_id:s.id,workflow_step_index:s.stepIndex??void 0,workflow_author_id:f?.id,event_context:w?"User Changes":"Not Found",action_box:e}})},[n]),t.jsxs(Zt,{"data-testid":"report-drawer",maxHeight:e?354:300,onClose:r,open:n,side:"bottom",css:{borderRadius:"24px 24px 0 0",border:"1px solid $gray100"},children:[t.jsxs(M,{direction:"column",gap:"1",css:{px:o.space[5],py:o.space[4],borderBottom:"1px solid $gray200"},children:[t.jsx(K,{css:{color:o.colors.gray700},size:"4",weight:"med",children:"Report this step"}),t.jsxs(K,{size:"1",css:{color:"$gray500"},children:["Step ",(s.stepIndex||0)+1," Â· ",Jo(s.title||"",39)]})]}),t.jsx(M,{direction:"column",gap:"5",css:{px:o.space[5],py:o.space[5]},alignItems:"center",children:e?t.jsx(f1,{hasUserChanges:w}):t.jsx(p1,{})}),t.jsx(M,{css:{m:o.space[2]},children:t.jsx(be,{size:"xl",fullWidth:!0,onClick:j,disabled:w,children:"Report this step to Tango"})})]})},g1=({step:e,workflowId:n,workspaceId:r,guidanceSessionId:s,showLink:i,hasElementSearchTimedOut:c,highlighted:d,childHighlightedId:x,onHighlight:p,isComplete:f,onComplete:w,elementStatus:j,elementScorecards:R,onZoom:v,isLive:S,expanded:z,onOpenUrl:Z})=>{const q=g.useRef(null),I=g.useRef(null),B=ma(),[L,G]=g.useState(!1),[Y,H]=g.useState(!1),[ie,se]=g.useState(null),ce=Qt(),ue=!!e.screenshot?.imgUrl,C=mt(pt.OUT_OF_SEQUENCE);C&&j===nn.AccessRequired&&(d=!1);const h=g.useCallback(F=>{F.message.name===oe.ReportStep&&(e.id===F.message.stepId&&G(!0),e.children&&e.children.some(P=>P.id===F.message.stepId)&&(G(!0),se(F.message.stepId)))},[e.children,e.id]),u=ie&&e.children?e.children.find(F=>F.id===ie):e;Et(h);const m=j===nn.NoTargetDetails,E=(j===nn.NoElements||j===nn.ScoreTooLow||j===nn.ElementHidden)&&c===!0,$=F=>{F.stopPropagation();const{snapshotIdentifier:P,snapshotFileName:_}=Ko(n,e.id,pr.Guidance);de({name:oe.CaptureGuidanceSnapshot,snapshotType:pr.Guidance,workflowId:n,workspaceId:r,stepId:e.id,fileName:_}),w(e.id,!f,Os.MANUAL,void 0,P)},T=g.useCallback(()=>{q.current?.scrollIntoView({behavior:ce?"auto":"smooth",block:"center"})},[ce]);g.useEffect(()=>{d&&setTimeout(()=>T(),300)},[d,T]),g.useEffect(()=>{z||d&&E?B.start({height:I.current?.scrollHeight,opacity:1,transition:{duration:ce?0:.3,ease:"easeInOut"}}):B.start({height:0,opacity:0,transition:{duration:.3,ease:"easeInOut"}})},[B,z,d,E,ce]);const A=()=>d?E?"element-not-found":m?"without-guidance":"with-guidance":"default";return t.jsxs(t.Fragment,{children:[t.jsx(Le,{children:C&&j===nn.AccessRequired&&t.jsx(e1,{app:e.app})}),t.jsxs(Kg,{"data-testid":`step-list-item-${e.stepIndex}`,ref:q,onClick:()=>{p(e.id,!1)},onMouseEnter:()=>H(!0),onMouseLeave:()=>H(!1),status:A(),children:[t.jsx(Le,{children:Y&&!E&&!L&&!f&&S?t.jsx(Jg,{childHighlightedId:x,isElementNotFound:E,onComplete:$,onHighlight:p,onReportStep:()=>G(!0),onZoom:v,step:e}):null}),t.jsxs(M,{alignItems:"start",css:{width:"100%"},gap:"2",justifyContent:"between",children:[t.jsxs(M,{alignItems:"start",children:[t.jsx(U,{as:"button",css:{size:24,mr:o.space[2]},"data-testid":`step-number-${e.stepIndex}`,onClick:$,children:f?t.jsx(qo,{color:o.colors.green500.value,css:{flexShrink:0,ml:-2,mt:-2},size:"28"}):t.jsx(Za,{variant:d?"primary":"outline",children:(e.stepIndex||0)+1})}),t.jsx(v1,{step:e,showLink:i,highlighted:d,childHighlightedId:x})]}),d&&t.jsx(i1,{stepId:e.id,stepIndex:e.stepIndex||0,stepTitle:e.title,variant:"outline"}),e.url&&i&&t.jsx("a",{onClick:F=>{F.stopPropagation()},"aria-hidden":"true",href:e.url,rel:"noreferrer",target:"_blank",children:t.jsx(Be,{"aria-label":"Open link","data-testid":"open-link",children:t.jsx(dn,{})})})]}),t.jsx(Le,{initial:!1,children:S&&d?t.jsx(s1,{onClick:()=>Z(e,!0),status:j}):null}),Oi(e.description)&&!(z||d||f)?t.jsx(U,{css:{mt:o.space[2],"@supports (-webkit-line-clamp: 3)":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"initial",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"}},children:t.jsx(gr,{css:{color:o.colors.gray600},value:e.description,size:"2"})}):null,t.jsx(U,{animate:{height:d||z||ce?"auto":0,opacity:d||z?1:.5,transitionEnd:{display:d||z?"initial":"none",overflow:"visible"},transition:{duration:.3}},style:{overflow:"hidden"},as:ge.div,children:Oi(e.description)&&t.jsx(U,{css:{mt:o.space[2]},children:t.jsx(gr,{css:{color:o.colors.gray600},value:e.description,size:"2"})})}),t.jsxs(M,{ref:I,as:ge.div,animate:B,initial:{height:0,opacity:0},direction:"column",gap:"2",style:{overflow:"hidden"},children:[ue&&t.jsxs(U,{css:{position:"relative",mt:o.space[2],[`&:hover ${jr}`]:{opacity:1}},children:[t.jsx(jr,{children:"Expand screenshot"}),!!e.children&&e.children.length>1&&x!=null&&t.jsx(Ja,{step:e,childHighlightedId:x,onHighlight:p}),t.jsx(U,{css:{cursor:"zoom-in"},onClick:v,children:t.jsx(ec,{imageUrl:e.screenshot.imgUrl,imageTitle:e.screenshot.altText||e.title||"",pixelHeight:e.screenshot.pixelHeight,pixelWidth:e.screenshot.pixelWidth})})]}),t.jsxs(M,{alignItems:"center",gap:"2",children:[t.jsx(be,{StartIcon:t.jsx(Er,{size:"16"}),"data-testid":"mark-as-completed",css:{flex:1},onClick:$,size:"sm",variant:d?"secondary":"tertiary",children:"Mark as Complete"}),E&&t.jsx(Pe,{content:"Report this step to Tango",side:"top",children:t.jsx(Be,{"aria-label":"Report Step","data-testid":"report-to-tango",onClick:()=>G(!0),size:"sm",variant:"outline",children:t.jsx(Ys,{})})})]})]}),t.jsx(m1,{isElementNotFound:m,scorecards:R,step:u,open:L,onClose:()=>G(!1),workflowId:n,workspaceId:r,guidanceSessionId:s})]})]})},v1=({step:e,showLink:n,highlighted:r,childHighlightedId:s})=>t.jsx(K,{css:{color:o.colors.gray700,textDecorationLine:n?"underline":"none",wordWrap:"break-word",whiteSpace:"pre-wrap",mt:3},size:"2",weight:r?"med":"reg",children:e.children?.length?t.jsx(t.Fragment,{children:e.children.map((i,c)=>t.jsxs("span",{style:{color:r?s===i.id?o.colors.purple500.value:o.colors.gray600.value:"inherit",transition:"color 200ms ease"},children:[String.fromCharCode(65+c%26),". ",i.title,t.jsx("br",{})]},i.id))}):e.title}),x1=({isLive:e,initialOpenedUrlContentBlockIds:n,newTab:r})=>{const s=g.useRef(null),{workflowId:i,workspaceId:c,contentBlocks:d,highlightedId:x,childHighlightedId:p,toggleHighlightedStep:f,completedIds:w,toggleComplete:j,toggleZoomScreenshot:R,elementStatus:v,elementScorecards:S,hasElementSearchTimedOut:z,guidanceSessionId:Z}=mn(),{openUrl:q,hasValidUrl:I}=Wg(n,e,r),B=d.some(L=>L.type===ft.Heading);return t.jsx(M,{css:{pl:o.space[4],pr:o.space[2]},direction:"column",ref:s,gap:"2",children:d.sort((L,G)=>L.index-G.index).map(L=>{switch(L.type){case ft.Heading:{const Y=L;return t.jsx(Zg,{heading:Y},L.id)}case ft.Step:{const Y=L,H=x===Y.id;return t.jsx(g1,{elementStatus:H?v:null,elementScorecards:H?S:null,hasElementSearchTimedOut:H?z:null,expanded:e?!1:!w.has(Y.id),highlighted:H,childHighlightedId:p,isComplete:w.has(Y.id),onComplete:j,isLive:e,onHighlight:f,onZoom:()=>R(!0),onOpenUrl:q,showLink:!B&&!I(Y)&&Y.eventType==="navigate",step:Y,workflowId:i,workspaceId:c,guidanceSessionId:Z},Y.id)}case ft.Callout:const G=L;return t.jsx(Vg,{callout:G},L.id);default:return null}})})},y1=xe(U,{position:"relative",height:"32px",width:"52px",'&[data-disabled="true"]':{"--color":o.colors.gray300},'&[data-toggled="true"]':{"--color":o.colors.orange500,"--d-o":"0.3s","--d-t":"0.6s","--d-t-e":"cubic-bezier(0.2, 0.85, 0.32, 1.2)","--x":"24px"}}),b1=xe("input",{appearance:"none",flexShrink:0,display:"inline-block",margin:0,cursor:"pointer",height:"100%",width:"100%",borderRadius:"100px",background:o.colors.gray500,transition:"background 0.3s, border-color 0.3s, box-shadow 0.2s","&:after":{content:"",display:"block",position:"absolute",left:2,top:2,borderRadius:"50%",width:"28px",height:"28px",background:o.colors.white,transition:"transform var(--d-t, 0.3s) var(--d-t-e, ease), opacity var(--d-o, 0.2s), box-shadow 0.2s",transform:"translateX(var(--x, 0))"},"&:checked":{background:o.colors.orange500,"&:after":{left:-2}},"&:disabled":{background:o.colors.gray300,cursor:"not-allowed",opacity:"0.65"}}),w1=xe(U,{position:"absolute",pointerEvents:"none",top:8,left:4,color:`var(--color, ${o.colors.gray600})`,transition:"transform var(--d-t, 0.3s) var(--d-t-e, ease), opacity var(--d-o, 0.2s), color 0.3s",transform:"translateX(var(--x, 3px))"}),j1=e=>{const{toggled:n,id:r,label:s,ThumbIcon:i,disabled:c,...d}=e;return t.jsxs(y1,{"data-toggled":n,"data-disabled":c,children:[t.jsx(b1,{id:r,type:"checkbox",checked:n,disabled:c,"aria-checked":n,role:"switch",...d}),i?t.jsx(w1,{children:i}):null]})},C1=e=>{const{workflow:n,paused:r,isLive:s,isGuidanceAvailable:i,onGuidanceToggle:c,onHelpToggle:d}=e;qe(),mn();const x=i?s?"Guide Me is on":"Guide Me is off":"Guide Me Live is not compatible for this Tango",p=()=>{const w=r===Nt.Auto||r===Nt.Manual?Nt.None:Nt.Manual;de({name:oe.NavigateTo,route:je.Viewing,params:{workflow:n,paused:w}}),Fe(Oe.WorkflowViewPaused,{paused:w===Nt.Manual,workflow_id:n?.id||void 0})},f=()=>{de({name:oe.ClosePanel}),Fe(Oe.WorkflowViewClosed,{workflow_id:n?.id||void 0})};return t.jsxs(M,{alignItems:"center",justifyContent:"between",direction:"row",css:{p:o.space[2],borderTop:"1px solid $gray100",background:o.colors.white,zIndex:2},children:[t.jsx(M,{gap:"4",alignItems:"center",children:t.jsx(be,{onClick:f,variant:"tertiary",children:"Close"})}),t.jsxs(M,{alignItems:"center",gap:"2",children:[!1,t.jsx(Vt,{"aria-label":"Help","data-testid":"help-button",onClick:d,tooltipContent:"Help",children:t.jsx(Pa,{size:20})}),s&&t.jsx(Vt,{"aria-label":"Pause","data-testid":"pause-button",onClick:p,tooltipContent:r===Nt.None?"Pause":"Resume",children:r===Nt.None?t.jsx(qs,{size:20}):t.jsx(Qs,{size:20})}),t.jsx(Pe,{content:x,children:t.jsx("span",{tabIndex:-1,children:t.jsx(j1,{ThumbIcon:t.jsx(un,{size:16}),"aria-label":x,disabled:!i,id:"guidance-toggle",toggled:s,onChange:c})})})]})]})},E1=()=>t.jsxs(M,{css:{background:"linear-gradient(90deg, rgba(221, 198, 255, 0.7) -1.55%, rgba(232, 216, 255, 0.7) 29.29%, rgba(246, 223, 241, 0.7) 67.91%, rgba(255, 227, 216, 0.7) 108.09%)",width:"100%",height:42,position:"fixed",top:0,alignItems:"center",justifyContent:"center",gap:o.space[1],zIndex:2,userSelect:"none",backdropFilter:"blur(2px)"},children:[t.jsx(K,{as:"div",css:{color:"$purple700"},size:"2",children:"Preview mode"}),t.jsx(Pe,{content:"Previewing shows you how viewers will experience this Tango",side:"bottom",portalled:!1,css:{maxWidth:227},children:t.jsx(U,{children:t.jsx(Zs,{size:16,css:{color:"#4A435457!important"}})})})]});let or=!1;const ko="data-blur",ci="data-allow-blur",$1=`[${ci}]`,R1=`[${ci}="true"]`,_o=e=>{e.target instanceof HTMLElement&&e.target.closest(R1)&&(e.preventDefault(),e.stopImmediatePropagation(),tc(!1))};function tc(e){if(or===e)return;or=e;const n=document.querySelectorAll($1);for(const r of n)or&&r.getAttribute(ci)==="true"?r.setAttribute(ko,"true"):r.removeAttribute(ko);document.removeEventListener("click",_o,!0),or&&document.addEventListener("click",_o,!0)}const I1={initial:{scale:1},hover:{scale:1.8}},S1={initial:{opacity:0},hover:{opacity:1}},T1=()=>t.jsxs("svg",{fill:"none",height:"44",viewBox:"0 0 88 88",width:"44",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("g",{filter:"url(#filter0_f_5076_77751)",children:t.jsx("circle",{cx:"44",cy:"44",fill:"#FFB733",r:"16"})}),t.jsx("defs",{children:t.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"88",id:"filter0_f_5076_77751",width:"88",x:"0",y:"0",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),t.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_5076_77751",stdDeviation:"14"})]})})]}),k1=e=>{const{emoji:n,onClick:r,isSelected:s}=e;return t.jsxs(M,{alignItems:"center",as:ge.button,css:{fontSize:o.fontSizes[5],borderRadius:o.radii.xs,size:o.space[6],position:"relative","&:focus-visible":{outline:`2px solid ${o.colors.purple300}`,outlineOffset:"0px"}},initial:"initial",justifyItems:"center",onClick:()=>r(n),style:{backgroundColor:s?o.colors.yellow300.value:"transparent"},transition:{ease:"easeInOut",duration:.2},variants:I1,whileFocus:s?"initial":"hover",whileHover:s?"initial":"hover",children:[t.jsx(U,{as:ge.div,css:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},variants:S1,children:t.jsx(T1,{})}),t.jsx(U,{as:"span",css:{zIndex:1},children:n})]})},_1=[{label:"heart",key:"heart",value:"ðŸ˜"},{label:"smiling",key:"smiling",value:"ðŸ˜ƒ"},{label:"thinking",key:"thinking",value:"ðŸ¤”"},{label:"neutral",key:"neutral",value:"ðŸ˜"},{label:"weary",key:"weary",value:"ðŸ˜©"}],A1=e=>{const{user:n}=qe(),{workflowId:r,workspaceId:s}=e,{workflowReactions:i,deleteComment:c}=Fs(),d=g.useMemo(()=>i.filter(j=>!!j.emoji),[i]),x=g.useMemo(()=>d.filter(j=>j.user?.id===n?.id),[d,n]),[p,f]=g.useState(null),w=async j=>{f(j),x.length>0&&await c(x[0].id),await de({name:oe.AddComment,comment:{workspaceId:s,workflowId:r,firstName:n?.firstName,lastName:n?.lastName,userTrackingId:n?.id,text:"",emoji:j}}),Fe(Oe.WorkflowReactionSent,{workflow_id:r||void 0,emoji:j,has_comment:!1})};return t.jsx(M,{css:{gap:10},children:_1.map(j=>t.jsx(k1,{emoji:j.value,isSelected:x?.some(R=>R.emoji===j.value)||p===j.value,onClick:w},j.key))})},O1=({triggerConfetti:e})=>{const[n,r]=g.useState(!1),s=()=>{r(!1)};return g.useEffect(()=>{r(!!e)},[e]),t.jsxs(M,{alignItems:"center",css:{overflow:"hidden",position:"relative",bg:"linear-gradient(90deg, rgba(221, 198, 255, 0.70) -1.55%, rgba(232, 216, 255, 0.70) 29.29%, rgba(246, 223, 241, 0.70) 67.91%, rgba(255, 227, 216, 0.70) 108.09%), #FFFFFF;",py:o.space[7],borderRadius:o.radii.sm,width:"100%"},justifyContent:"center",children:[t.jsx(K,{css:{color:o.colors.primary700},font:"serif",size:"7",children:"Well done!"}),t.jsx(Zd,{active:n,css:{position:"absolute",width:"100%",height:"100%"},onSettle:s})]})},L1=({workflowId:e})=>{const{user:n}=qe(),[r,s]=g.useState(!1),i=g.useRef(null),{workflowReactions:c,addComment:d,deleteComment:x,loading:p,userPermissionLevel:f}=Fs(),w=g.useMemo(()=>c.filter(q=>!!q.text).reverse(),[c]),j=w.length>0,R=g.useMemo(()=>j?w.length>1?"View comments":"View comment":"Add comment",[j,w]),v=()=>{s(!1)},S=()=>{j||v()},z=async q=>{await x(q)},Z=async q=>{await d(q),setTimeout(()=>{i.current&&(i.current.scrollTop=i.current.scrollHeight)},500)};return t.jsxs(t.Fragment,{children:[t.jsx(Pe,{content:R,children:t.jsxs(be,{"aria-label":"Add comment","data-testid":"add-comment",onClick:()=>{s(!0),Fe(Oe.WorkflowCommentButtonClicked,{workflow_id:e})},size:"sm",variant:"text",children:[t.jsx(Xs,{size:"16"}),j?t.jsx(K,{css:{ml:o.space[1]},size:"2",children:w.length}):null]})}),t.jsxs(Zt,{css:{borderRadius:"24px 24px 0 0",overflowY:"auto",overflowX:"hidden",border:`1px solid ${o.colors.gray100}`,height:"auto"},"data-testid":"comment-drawer",open:r,onClose:v,side:"bottom",children:[t.jsxs(M,{direction:"column",css:{pt:o.space[4],pl:o.space[5],pr:o.space[4],pb:o.space[4]},gap:"1",children:[t.jsx(K,{weight:"med",size:"4",children:"Comments"}),t.jsx(K,{css:{color:o.colors.gray500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},size:"1",children:"Was this Tango helpful?"})]}),j?t.jsxs(t.Fragment,{children:[t.jsx(U,{css:{width:"110%",height:1,bg:o.colors.gray200}}),t.jsx(on.List,{ref:i,children:w.map(q=>t.jsx(on.Item,{comment:q,onDelete:z,showDelete:f===cn.Edit||f===cn.Owner?!0:q.userTrackingId===n?.id},q.id))})]}):null,t.jsx(U,{css:{width:"110%",height:1,bg:o.colors.gray200}}),t.jsx(on.Composer,{autoFocus:!j,isDisabled:p,onSubmit:Z,onCancel:S,user:{firstName:n?.firstName,id:n?.id,lastName:n?.lastName,profilePictureURL:n?.profilePictureURL}})]})]})},P1=({workflow:e,isWorkflowOwner:n})=>{const{isFirstGuidance:r}=e,{finished:s,toggleFinished:i}=mn(),[c,d]=Uo(3e3),x={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.5}}},p={hidden:{height:0},visible:{height:"auto",transition:{delay:1,duration:.3}}},f=()=>{de({name:oe.ClosePanel}),Fe(Oe.WorkflowViewClosed,{workflow_id:e.id||void 0})},w=async()=>{f();const{id:z}=e,[Z]=await Xl(z);if(!Z){await chrome.tabs.create({url:Li(z),active:!0});return}await Yl(Z.id)},j=Vl.bgWorkspacesCache.workspaces?.find(z=>z.id===e.workspaceId),R=Jl(e),v=j?.tier===Po.Enterprise&&R.isGuidanceCompatible,S=Li(e.id).concat(v?Lc:"");return g.useEffect(()=>{s&&tc(!1)},[s]),n&&!r?t.jsxs(t.Fragment,{children:[t.jsx(U,{css:{height:275}}),t.jsx(Zt,{css:{borderRadius:"24px 24px 0 0",overflowY:"auto",overflowX:"hidden",border:`1px solid ${o.colors.gray100}`,height:"auto"},"data-testid":"comment-drawer",open:s&&n,onClose:()=>i(!1),side:"bottom",children:t.jsxs(M,{css:{px:o.space[4],py:o.space[5],textAlign:"center"},direction:"column",gap:"5",children:[t.jsxs(U,{children:[t.jsx(K,{as:"p",css:{m:0,color:o.colors.gray700},size:"4",weight:"med",children:"How'd it look? ðŸ¤”"}),t.jsx(K,{as:"p",css:{mt:o.space[1],mb:0,color:o.colors.gray600},children:"You created this Tango. Give it a real test by sending it to someone."})]}),t.jsxs(M,{direction:"column",gap:"2",children:[t.jsx(be,{StartIcon:t.jsx(Cs,{}),onClick:()=>d(S),variant:"primary",children:c?"Copied!":"Copy link"}),t.jsx(be,{onClick:f,variant:"text",children:"Done"})]})]})})]}):t.jsxs(U,{animate:s?"visible":"hidden",as:ge.div,css:{px:o.space[4],py:o.space[5]},initial:"hidden",variants:x,children:[t.jsx(O1,{triggerConfetti:s}),t.jsx(M,{as:ge.div,css:{width:"100%",mt:o.space[5],overflow:"hidden"},direction:"column",gap:"5",variants:p,children:r?t.jsx(Zt,{css:{borderRadius:"24px 24px 0 0",overflowY:"auto",overflowX:"hidden",border:`1px solid ${o.colors.gray100}`,height:"auto"},"data-testid":"first-guidance-drawer",open:s,onClose:()=>i(!1),side:"bottom",children:t.jsxs(M,{css:{px:o.space[4],py:o.space[5],textAlign:"center"},direction:"column",children:[t.jsx(K,{css:{color:o.colors.gray700,textAlign:"center"},size:"4",weight:"med",children:"That's the magic of Guide Me âœ¨"}),t.jsx(K,{as:"p",css:{mt:o.space[1],mb:o.space[5],color:o.colors.gray600},children:"Now, head back to your Workflow to discover more ways to Tango."}),t.jsx(be,{fullWidth:!0,onClick:w,children:"Back to Tango"})]})}):t.jsxs(t.Fragment,{children:[t.jsxs(M,{alignItems:"center",css:{width:"100%",gap:12},direction:"column",children:[t.jsx(K,{css:{color:o.colors.gray700},size:"3",children:"How helpful was this Tango?"}),t.jsxs(M,{alignItems:"center",children:[t.jsx(A1,{workflowId:e.id,workspaceId:e.workspaceId}),t.jsx(L1,{workflowId:e.id})]})]}),t.jsx(be,{StartIcon:t.jsx(Cs,{}),onClick:()=>d(S),variant:"text",children:c?"Copied!":"Copy link"})]})})]})};function M1({workflowWorkspaceId:e}){const{workspaces:n}=qe(),r=n?.find(({id:s})=>s===e);return t.jsx(Le,{children:r?.workspaceUser?.role!==an.Guest?null:t.jsx(ge.div,{animate:{y:0},initial:{y:-100},transition:{ease:"easeIn"},children:t.jsxs(M,{css:{width:"100%",py:o.space[2],px:o.space[4],background:"linear-gradient(90deg, rgba(221, 198, 255, 0.70) -1.55%, rgba(232, 216, 255, 0.70) 29.29%, rgba(246, 223, 241, 0.70) 67.91%, rgba(255, 227, 216, 0.70) 108.09%);"},justifyContent:"between",alignItems:"center",children:[t.jsxs(M,{alignItems:"center",gap:"2",children:[t.jsx(K,{size:2,children:"Guide Me trial"}),t.jsx(Pe,{content:`Workspace members get unlimited guided views. As a Guest, you can try Guide Me ${Pc} times.`,children:t.jsx("span",{children:t.jsx(Zs,{color:o.colors["gray300-a"].value})})})]}),t.jsx(Yo,{workspace:r,inverted:!0})]})})})}const N1=xe(U,{position:"absolute",top:0,left:0,height:"80dvh",width:"100%",backdropFilter:"blur(3px)",zIndex:1}),F1=xe(U,{bottom:10,right:5,width:58,height:34,boxShadow:"0 0 9999px 9999px hsla(270, 100%, 100%, 90%)",borderRadius:o.radii.full,position:"absolute"}),B1=()=>t.jsxs(U,{as:"svg",css:{position:"absolute",bottom:-1,width:"200%",height:380,left:-156,overflow:"visible"},width:"320",height:"366",viewBox:"0 0 320 366",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M637 -199H-320V707H637V-199ZM268 321C258.059 321 250 329.059 250 339C250 348.941 258.059 357 268 357H288C297.941 357 306 348.941 306 339C306 329.059 297.941 321 288 321H268Z",fill:"url(#pattern0)"}),t.jsxs("defs",{children:[t.jsx("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:t.jsx("use",{xlinkHref:"#image0_9797_72056",transform:"scale(0.000522466 0.000551876)"})}),t.jsx("image",{id:"image0_9797_72056",width:"1914",height:"1812",xlinkHref:"/glow-background.png"})]})]}),D1=()=>t.jsxs(U,{as:"svg",css:{position:"absolute",bottom:60,right:0,width:"100%"},width:"320",height:"359",viewBox:"0 0 320 359",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("g",{style:{mixBlendMode:"multiply"},filter:"url(#filter0_f_9797_72128)",children:t.jsx("circle",{cx:"124.697",cy:"29.357",r:"24.8883",fill:"url(#paint0_diamond_9797_72128)",fillOpacity:"0.6"})}),t.jsx("g",{filter:"url(#filter1_f_9797_72128)",children:t.jsx("path",{d:"M152.393 29.3567C124.696 29.3567 124.696 29.3567 124.696 57.053C124.696 29.3567 124.696 29.3567 97 29.3567C124.696 29.3567 124.696 29.3567 124.696 1.6604C124.696 29.3567 124.696 29.3567 152.393 29.3567Z",fill:"white"})}),t.jsx("g",{filter:"url(#filter2_f_9797_72128)",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M148.189 5.96227L125.268 29.8284L101.402 52.7491L101.226 52.5734L124.222 28.7821L148.013 5.7866L148.189 5.96227Z",fill:"white"})}),t.jsx("g",{filter:"url(#filter3_f_9797_72128)",children:t.jsx("circle",{cx:"21.0009",cy:"161.001",r:"24.2626",fill:"url(#paint1_diamond_9797_72128)",fillOpacity:"0.6"})}),t.jsx("g",{filter:"url(#filter4_f_9797_72128)",children:t.jsx("path",{d:"M48 161C21 161 21 161 21 188C21 161 21 161 -6 161C21 161 21 161 21 134C21 161 21 161 48 161Z",fill:"white"})}),t.jsx("g",{style:{mixBlendMode:"multiply"},filter:"url(#filter5_f_9797_72128)",children:t.jsx("circle",{cx:"35.7681",cy:"35.7681",r:"35.7681",transform:"matrix(-1 0 0 1 342.963 275.036)",fill:"url(#paint2_diamond_9797_72128)",fillOpacity:"0.6"})}),t.jsx("g",{filter:"url(#filter6_f_9797_72128)",children:t.jsx("path",{d:"M267.393 310.803C307.197 310.803 307.197 310.803 307.197 350.607C307.197 310.803 307.197 310.803 347 310.803C307.197 310.803 307.197 310.803 307.197 271C307.197 310.803 307.197 310.803 267.393 310.803Z",fill:"white"})}),t.jsx("g",{filter:"url(#filter7_f_9797_72128)",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M273.434 277.182L306.375 311.481L340.674 344.422L340.926 344.169L307.878 309.978L273.687 276.93L273.434 277.182Z",fill:"white"})}),t.jsx("g",{filter:"url(#filter8_f_9797_72128)",children:t.jsx("circle",{cx:"15.5629",cy:"15.5629",r:"15.5629",transform:"matrix(-1 0 0 1 295.434 323.021)",fill:"url(#paint3_diamond_9797_72128)",fillOpacity:"0.8"})}),t.jsx("g",{filter:"url(#filter9_f_9797_72128)",children:t.jsx("path",{d:"M262.552 338.584C279.871 338.584 279.871 338.584 279.871 355.902C279.871 338.584 279.871 338.584 297.189 338.584C279.871 338.584 279.871 338.584 279.871 321.265C279.871 338.584 279.871 338.584 262.552 338.584Z",fill:"white"})}),t.jsx("g",{filter:"url(#filter11_f_9797_72128)",children:t.jsx("circle",{cx:"202.263",cy:"76.2626",r:"24.2626",fill:"url(#paint4_diamond_9797_72128)",fillOpacity:"0.6"})}),t.jsx("g",{filter:"url(#filter12_f_9797_72128)",children:t.jsx("circle",{cx:"201.734",cy:"76.1757",r:"14.1382",fill:"url(#paint5_diamond_9797_72128)",fillOpacity:"0.6"})}),t.jsx("g",{filter:"url(#filter13_f_9797_72128)",children:t.jsx("path",{d:"M220.47 76.735C201.735 76.735 201.735 76.735 201.735 95.47C201.735 76.735 201.735 76.735 183 76.735C201.735 76.735 201.735 76.735 201.735 58C201.735 76.735 201.735 76.735 220.47 76.735Z",fill:"white"})}),t.jsxs("defs",{children:[t.jsxs("filter",{id:"filter0_f_9797_72128",x:"95.8086",y:"0.468628",width:"57.7773",height:"57.7767",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter1_f_9797_72128",x:"96",y:"0.6604",width:"57.3926",height:"57.3926",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter2_f_9797_72128",x:"100.227",y:"4.78662",width:"48.9629",height:"48.9625",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter3_f_9797_72128",x:"-7.26172",y:"132.738",width:"56.5254",height:"56.5253",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter4_f_9797_72128",x:"-7",y:"133",width:"56",height:"56",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter5_f_9797_72128",x:"267.426",y:"271.036",width:"79.5371",height:"79.5361",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter6_f_9797_72128",x:"266.393",y:"270",width:"81.6074",height:"81.6069",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter7_f_9797_72128",x:"272.434",y:"275.93",width:"69.4922",height:"69.4917",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter8_f_9797_72128",x:"260.309",y:"319.021",width:"39.125",height:"39.1259",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter9_f_9797_72128",x:"261.553",y:"320.265",width:"36.6367",height:"36.6375",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter10_dd_9797_72128",x:"133",y:"31",width:"54",height:"54",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feOffset",{dy:"1"}),t.jsx("feGaussianBlur",{stdDeviation:"1.5"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.145098 0 0 0 0 0.121569 0 0 0 0 0.176471 0 0 0 0.1 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_9797_72128"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feMorphology",{radius:"1",operator:"erode",in:"SourceAlpha",result:"effect2_dropShadow_9797_72128"}),t.jsx("feOffset",{dy:"1"}),t.jsx("feGaussianBlur",{stdDeviation:"1"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.145098 0 0 0 0 0.121569 0 0 0 0 0.176471 0 0 0 0.1 0"}),t.jsx("feBlend",{mode:"normal",in2:"effect1_dropShadow_9797_72128",result:"effect2_dropShadow_9797_72128"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_9797_72128",result:"shape"})]}),t.jsxs("filter",{id:"filter11_f_9797_72128",x:"174",y:"48",width:"56.5254",height:"56.5253",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter12_f_9797_72128",x:"183.596",y:"58.0374",width:"36.2773",height:"36.2765",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("filter",{id:"filter13_f_9797_72128",x:"182",y:"57",width:"39.4707",height:"39.47",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"effect1_foregroundBlur_9797_72128"})]}),t.jsxs("radialGradient",{id:"paint0_diamond_9797_72128",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(124.697 29.357) rotate(90) scale(26.4586)",children:[t.jsx("stop",{stopColor:"#E8D8FF"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),t.jsxs("radialGradient",{id:"paint1_diamond_9797_72128",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.0009 161.001) rotate(90) scale(25.7934)",children:[t.jsx("stop",{stopColor:"#E8D8FF"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),t.jsxs("radialGradient",{id:"paint2_diamond_9797_72128",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(35.7681 35.7681) rotate(90) scale(38.0247)",children:[t.jsx("stop",{stopColor:"#E8D8FF"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),t.jsxs("radialGradient",{id:"paint3_diamond_9797_72128",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(15.5629 15.5629) rotate(90) scale(12.9372)",children:[t.jsx("stop",{offset:"0.580221",stopColor:"#F0DCE7"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),t.jsxs("radialGradient",{id:"paint4_diamond_9797_72128",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(202.263 76.2626) rotate(90) scale(25.7934)",children:[t.jsx("stop",{stopColor:"#E8D8FF"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),t.jsxs("radialGradient",{id:"paint5_diamond_9797_72128",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(201.734 76.1757) rotate(90) scale(15.0302)",children:[t.jsx("stop",{stopColor:"#E8D8FF"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]}),U1=e=>{const{children:n,css:r}=e;return t.jsx(U,{css:{position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",...r},children:t.jsxs(M,{alignItems:"center",css:{position:"relative",textAlign:"center",width:288},direction:"column",gap:"2",children:[t.jsx(M,{alignItems:"center",css:{p:o.space[1],borderRadius:o.radii.full,bg:o.colors.white,boxShadow:"0px 1px 3px 0px rgba(37, 31, 45, 0.1), 0px 1px 2px -1px rgba(37, 31, 45, 0.1)"},justifyContent:"center",children:t.jsx(Zo,{size:"lg",variant:"icon"})}),t.jsx(qt,{children:"We've glown up. Guidance is here."}),t.jsx(K,{css:{color:o.colors.gray600},children:n})]})})},z1=({isPreview:e,isWorkflowOwner:n})=>{const[r,s]=g.useState(!e),i="This Tango was created before we launched Guide Me. Recapture it to turn it into an interactive walkthrough.",c=`Unfortunately, this Tango was created before we launched Guide Me. You can get an interactive
    walkthrough if the creator recaptures the process; in the meantime, manually mark steps as
    complete in the side panel.`,d=()=>{s(!1)};return g.useEffect(()=>{r&&setTimeout(d,1e4)},[r]),t.jsx(Le,{children:r?t.jsxs(U,{as:ge.div,css:{zIndex:1},initial:!1,animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeInOut"},children:[t.jsx(N1,{}),t.jsxs(U,{css:{position:"absolute",height:"100dvh",width:"100dvw",top:0,left:0,zIndex:1},children:[t.jsx(F1,{}),t.jsx(B1,{}),t.jsx(D1,{}),t.jsx(U1,{css:{height:n?350:400},children:n?i:c}),t.jsx(U,{css:{position:"absolute",right:16,bottom:375},children:t.jsx(Be,{"aria-label":"Dismiss",onClick:d,"data-testid":"dismiss-out-of-date-guidance",children:t.jsx(Ir,{})})}),t.jsx(U,{css:{position:"absolute",bottom:18,left:"50%",transform:"translateX(-50%)"},children:t.jsx(K,{css:{color:o.colors.gray500},size:"1",children:"Guide Me Live is unavailable"})})]})]}):null})},W1=e=>{const{email:n,onClose:r,workflowId:s}=e,{highlightedId:i}=mn();return t.jsxs(M,{css:{pt:o.space[4],pl:o.space[5],pr:o.space[4],pb:o.space[1],"@media(max-width: 350px)":{px:o.space[4]}},direction:"column",gap:"5",children:[t.jsxs(M,{alignItems:"center",justifyContent:"between",children:[t.jsx(Wo,{children:"Help"}),t.jsx(Be,{"aria-label":"Close","data-testid":"help-close-button",onClick:r,css:{marginRight:-14},children:t.jsx(Ir,{})})]}),t.jsxs(U,{children:[t.jsx(Ao,{children:"Support Resources"}),t.jsxs(M,{direction:"column",gap:"4",children:[t.jsxs(M,{alignItems:"center",as:"a",css:{textDecoration:"none"},gap:"2",href:"https://help.tango.us/en/articles/7885328-guidance-isn-t-working-on-my-tango",rel:"noreferrer noopener",target:"_blank",children:[t.jsx(js,{}),t.jsx(K,{children:"Guidance Live compatibility"})]}),t.jsxs(M,{alignItems:"center",as:"a",css:{textDecoration:"none"},gap:"2",href:"https://help.tango.us/en/articles/7885279-what-is-guidance",rel:"noreferrer noopener",target:"_blank",children:[t.jsx(js,{}),t.jsx(K,{children:"Learn about Guidance"})]}),t.jsxs(M,{alignItems:"center",as:"a",css:{textDecoration:"none"},gap:"2",href:"https://help.tango.us/en/articles/7885343-can-i-comment-on-a-tango",rel:"noreferrer noopener",target:"_blank",children:[t.jsx(js,{}),t.jsx(K,{children:"How comments work"})]})]})]}),t.jsxs(U,{children:[t.jsx(Ao,{children:"Need more help?"}),t.jsxs(M,{direction:"column",gap:"2",children:[t.jsxs(M,{alignItems:"center",as:"a",css:{borderRadius:o.radii.sm,border:`1px solid ${o.colors.gray100}`,px:o.space[4],py:o.space[2],textDecoration:"none"},href:`https://coda.io/form/Submit-Feedback_dnLlPQj51AF?issue%20type=General%20feedback&email=${encodeURIComponent(n)}&wid=${s}`,justifyContent:"between",rel:"noopener noreferrer",target:"_blank",children:[t.jsxs(U,{children:[t.jsx(K,{as:"p",css:{m:0},size:"3",weight:"med",children:"Send Tango feedback"}),t.jsx(K,{as:"p",color:o.colors.gray700.value,css:{m:0},size:"2",children:"We'd love to hear what you think!"})]}),t.jsx(dn,{color:o.colors.gray700.value,size:"16"})]}),t.jsxs(M,{alignItems:"center",as:"a",css:{borderRadius:o.radii.sm,border:`1px solid ${o.colors.gray100}`,px:o.space[4],py:o.space[2],textDecoration:"none"},href:`https://coda.io/form/Report-an-issue_dkj4cJwtEnc?email=${encodeURIComponent(n)}&wid=${s}&sid=${i}`,justifyContent:"between",rel:"noreferrer noopener",target:"_blank",children:[t.jsxs(U,{children:[t.jsx(K,{as:"p",css:{m:0},size:"3",weight:"med",children:"Report an issue to Tango"}),t.jsx(K,{as:"p",css:{color:o.colors.gray700,m:0},size:"2",children:"Let us know if something isnâ€™t right"})]}),t.jsx(dn,{color:o.colors.gray700.value,size:"16"})]})]})]})]})},Ao=({children:e})=>t.jsx(K,{as:"h4",css:{m:0,mb:o.space[4],fontSize:o.fontSizes[4],fontWeight:500},children:e}),js=()=>t.jsx(M,{alignItems:"center",css:{size:32,borderRadius:o.radii.full,bg:o.colors.gray100,flexShrink:0,color:o.colors.primary700},justifyContent:"center",children:t.jsx(Es,{size:"16"})}),G1=()=>t.jsxs("svg",{width:"47",height:"46",viewBox:"0 0 47 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsxs("g",{filter:"url(#filter0_dd_1032_172504)",children:[t.jsx("path",{d:"M3.5 22C3.5 10.9543 12.4543 2 23.5 2C34.5457 2 43.5 10.9543 43.5 22C43.5 33.0457 34.5457 42 23.5 42C12.4543 42 3.5 33.0457 3.5 22Z",fill:"white",shapeRendering:"crispEdges"}),t.jsx("path",{d:"M39.5 22C39.5 30.8366 32.3366 38 23.5 38C14.6634 38 7.5 30.8366 7.5 22C7.5 13.1634 14.6634 6 23.5 6C32.3366 6 39.5 13.1634 39.5 22Z",fill:"white"}),t.jsx("path",{d:"M23.5 38C32.3366 38 39.5 30.8366 39.5 22C39.5 13.1634 32.3366 6 23.5 6C14.6634 6 7.5 13.1634 7.5 22C7.5 27.16 9.94263 31.7495 13.7347 34.6753C14.8934 32.127 16.8912 28.267 19.8729 22.7911C20.1585 22.2673 20.3592 21.8992 20.441 21.7422C20.7738 21.106 20.8403 20.515 19.9327 20.515L19.2054 20.5205C17.9021 20.526 16.0965 20.5331 14.8377 20.5331C13.6434 20.5331 11.839 20.5331 11.839 18.6852C11.839 16.8589 13.8932 16.8589 14.5682 16.8589L33.0952 16.8474C34.3839 16.8474 35.1534 17.7192 35.1534 18.5622C35.1757 18.7961 35.1489 19.0321 35.0746 19.2549C35.0004 19.4777 34.8803 19.6823 34.7222 19.8555C34.3053 20.2829 33.6467 20.4821 32.6491 20.4821C31.9627 20.4821 29.7623 20.499 28.195 20.5111C27.3282 20.5177 26.655 20.5229 26.5389 20.5229C25.3172 20.5229 25.0794 21.0056 24.8433 21.485C24.8372 21.4972 24.8312 21.5094 24.8252 21.5216C24.7292 21.7161 24.6258 21.9253 24.5097 22.1471L24.1443 22.8414C20.7507 29.276 18.3893 33.9137 17.1021 36.6696C19.0614 37.5253 21.2253 38 23.5 38Z",fill:"#FF7442"})]}),t.jsx("defs",{children:t.jsxs("filter",{id:"filter0_dd_1032_172504",x:"0.5",y:"0",width:"46",height:"46",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feOffset",{dy:"1"}),t.jsx("feGaussianBlur",{stdDeviation:"1.5"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.145098 0 0 0 0 0.121569 0 0 0 0 0.176471 0 0 0 0.1 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1032_172504"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feMorphology",{radius:"1",operator:"erode",in:"SourceAlpha",result:"effect2_dropShadow_1032_172504"}),t.jsx("feOffset",{dy:"1"}),t.jsx("feGaussianBlur",{stdDeviation:"1"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.145098 0 0 0 0 0.121569 0 0 0 0 0.176471 0 0 0 0.1 0"}),t.jsx("feBlend",{mode:"normal",in2:"effect1_dropShadow_1032_172504",result:"effect2_dropShadow_1032_172504"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_1032_172504",result:"shape"})]})})]});function H1({currentTabId:e,currentTabUrl:n,onToggleGuidance:r,workflow:s}){const{stepLog:i,contentBlocks:c,highlightedId:d}=mn(),[x]=g.useState(e),p=i.at(-1),f=p?.tabId,w=f??x,j=c.find(Z=>Z.id===d),R=!p||p.tabId===e,v=j?.type===ft.Step&&j.url&&f&&n;if(p&&(R||!v))return null;const S=Mi(n,s.contentBlocks[0].url);if(i.length===0&&S)return null;const z=v&&Mi(n,j.url);return t.jsx(U,{style:{position:"relative"},children:t.jsxs(U,{css:{position:"absolute",bottom:0,zIndex:1,display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center",justifyContent:"center",width:"100%",height:"316px",textAlign:"center",paddingInline:"calc((100% - 255px) / 2)","&:before":{content:"",position:"absolute",zIndex:-1,top:0,left:0,height:"100%",width:"100%",background:"linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.85) 14.69%, rgba(255, 255, 255, 0.95) 31.71%, #FFFFFF 100%), radial-gradient(119.53% 90.1% at 50% 100%, rgba(232, 216, 255, 0.2) 0%, rgba(232, 216, 255, 0.2) 28.43%, rgba(232, 216, 255, 0) 72.61%)"}},children:[t.jsx(G1,{}),t.jsx(U,{css:{fontSize:"17px",fontWeight:500,lineHeight:1.6},children:"Get back to it"}),t.jsx(U,{css:{fontSize:"15px",lineHeight:1.6},children:"Thereâ€™s a lot to do - we get it. Pickup where you left off in this process when youâ€™re ready."}),t.jsx(be,{variant:"tertiary",onClick:()=>{de({name:oe.SetActiveTab,tabId:w})},children:"Switch to the tab you were using"}),z&&t.jsxs(U,{css:{display:"flex",flexDirection:"row"},children:[t.jsx(be,{StartIcon:t.jsx(un,{size:20}),"data-testid":"multitask-current-tab",onClick:()=>{r({newTab:!1,guidanceSessionId:crypto.randomUUID(),enableGuidance:!0})},css:{flexGrow:1,borderTopRightRadius:0,borderBottomRightRadius:0,alignItems:"stretch"},children:"Restart Tango in this tab"}),t.jsx(Pe,{content:"Restart in new tab",children:t.jsx(Be,{variant:"filled","aria-label":"Restart in new tab","data-testid":"multitask-new-tab",onClick:()=>{r({newTab:!0,guidanceSessionId:crypto.randomUUID(),enableGuidance:!0})},css:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:`2px solid ${o.colors.purple600}`,paddingInline:"0.5rem",width:"auto",height:"auto"},children:t.jsx(ai,{})})})]})]})})}const V1=(e,n,r)=>{const s={workflowId:r.id,workspaceId:r.workspaceId,eventTimestamp:new Date().toISOString()};Fo({workflowTrackingEvents:[{eventType:e,...s,...n}]})},X1=({workflow:e,paused:n,guidanceSessionId:r,areWorkflowDomainsGuidanceAllowed:s,isWorkflowCompatibleWithGuidance:i,isPreview:c,redirectToSearch:d,searchQuery:x,eventSource:p,initialOpenedUrlContentBlockIds:f,newTab:w,currentTabId:j,currentTabUrl:R})=>{const v=i&&s,[S,z]=g.useState(!c&&v),[Z,q]=g.useState(!1),{user:I,workspaces:B}=qe(),L=e.createdBy?.id===I?.id,G=({newTab:u,guidanceSessionId:m,enableGuidance:E})=>{Fe(Oe.WorkflowViewedFromExtension,{workflow_id:e.id,event_source:p}),de({name:oe.NavigateTo,route:je.Viewing,params:{workflow:e,isGuidanceEnabled:E,preview:!1,newTab:u,guidanceSessionId:m}}),E!==void 0&&z(E)},Y=()=>{de({name:oe.NavigateTo,route:je.Actions,params:{view:d?"search":"default",searchQuery:x}})},H=()=>{q(u=>!u)},ie=g.useMemo(()=>B?.some(({id:u})=>u===hr||u===fr),[B]),se=e.workspaceId===hr||e.workspaceId===fr,ce=!(ie&&!se),ue=e?.userPermissionLevel===cn.Edit||e?.userPermissionLevel===cn.Owner,C=mt(pt.OUT_OF_SEQUENCE),h=mt(pt.OUT_OF_SEQUENCE_MULTITASKING);return g.useEffect(()=>{c||ce&&I&&V1(Mc.WorkflowView,{contextId:r,context:JSON.stringify({id:r,workflow:{name:e.name}}),channel:S?Ht.Guidance:Ht.GuideMe,trackingId:I.id||""},e)},[ce,c,S]),t.jsx(Ol,{user:I,workflow:e,children:t.jsxs(zg,{guidanceSessionId:r,isPreview:c,isLive:S,workflow:e,tabId:j,children:[!v&&t.jsx(z1,{isPreview:c,isWorkflowOwner:L}),t.jsx(M1,{workflowWorkspaceId:e.workspaceId}),L&&v&&!c&&t.jsx(E1,{}),t.jsxs(U,{as:ge.div,layout:!0,css:{position:"relative",overflow:"hidden auto",flex:1,pt:o.space[5],pb:o.space[5],scrollbarGutter:"stable"},children:[t.jsx(Le,{initial:!1,children:c?t.jsx(U,{as:ge.div,animate:{height:24,opacity:1},exit:{height:0,opacity:0},css:{pl:o.space[4],pr:o.space[2],mb:o.space[2]},transition:{duration:.3,ease:"easeInOut"},children:t.jsx(be,{StartIcon:t.jsx(Vs,{size:12}),css:{pl:o.space[2]},onClick:Y,size:"sm",variant:"text",children:"Go back"})}):null}),t.jsx(Ll,{workflow:e}),t.jsx(Le,{initial:!1,children:v&&c?t.jsxs(U,{as:ge.div,animate:{height:ue?100:70,opacity:1},exit:{height:0,opacity:0},css:{pl:o.space[4],pr:o.space[2]},transition:{duration:.3,ease:"easeInOut"},children:[t.jsx(U,{css:{display:"flex",flexDirection:"row"},children:C?t.jsxs(t.Fragment,{children:[t.jsx(be,{StartIcon:t.jsx(un,{size:20}),"data-testid":"guide-me-button",onClick:()=>G({newTab:!1,enableGuidance:!0}),css:{flexGrow:1,borderTopRightRadius:0,borderBottomRightRadius:0,alignItems:"stretch"},children:"Start in current tab"}),t.jsx(Pe,{content:"Open in new tab",children:t.jsx(Be,{variant:"filled","aria-label":"Open in new tab","data-testid":"guide-me-button",onClick:()=>{G({newTab:!0,enableGuidance:!0})},css:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:`2px solid ${o.colors.purple600}`,paddingInline:"0.5rem",width:"auto",height:"auto"},children:t.jsx(ai,{})})})]}):t.jsx(be,{StartIcon:t.jsx(un,{size:20}),"data-testid":"guide-me-button",fullWidth:!0,onClick:()=>G({newTab:"auto",enableGuidance:!0}),children:"Start"})}),ue&&t.jsx(be,{css:{mt:o.space[2]},fullWidth:!0,onClick:()=>{de({name:oe.OpenNewTab,path:Nc.replace(":id",e.id)}),de({name:oe.ClosePanel})},variant:"tertiary",children:"View on Tango.us"})]}):null}),t.jsx(x1,{isLive:S,initialOpenedUrlContentBlockIds:f,newTab:w}),t.jsx(P1,{isWorkflowOwner:L,workflow:e})]}),t.jsx(Zt,{css:{borderRadius:"24px 24px 0 0",overflowY:"auto",scrollbarGutter:"stable",border:`1px solid ${o.colors.gray100}`},"data-testid":"help-drawer",maxHeight:490,onClose:()=>q(!1),open:Z,side:"bottom",children:t.jsx(W1,{email:I?.email,onClose:H,workflowId:e.id})}),t.jsxs(U,{children:[h&&t.jsx(H1,{currentTabId:j,currentTabUrl:R,onToggleGuidance:G,workflow:e}),t.jsx(Le,{children:S&&n!==Nt.None&&t.jsx(dr,{name:"pause-notification",children:t.jsx(wr,{text:"Guide Me is paused"})})}),t.jsx(C1,{isGuidanceAvailable:!c&&v,isLive:S,onHelpToggle:H,onGuidanceToggle:()=>G({newTab:!1,enableGuidance:!S}),paused:n,workflow:e})]})]})})},nc=e=>t.jsx(kr,{icon:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:t.jsx("path",{fill:"currentColor",d:"M20 3.333C10.8 3.333 3.333 10.8 3.333 20c0 9.2 7.467 16.667 16.667 16.667 9.2 0 16.667-7.467 16.667-16.667C36.667 10.8 29.2 3.333 20 3.333Zm0 25c-.917 0-1.667-.75-1.667-1.666V20c0-.917.75-1.667 1.667-1.667s1.667.75 1.667 1.667v6.667c0 .916-.75 1.666-1.667 1.666ZM21.667 14a1 1 0 0 1-1 1h-1.334a1 1 0 0 1-1-1v-1.333a1 1 0 0 1 1-1h1.334a1 1 0 0 1 1 1V14Z"})}),...e});nc.displayName="IconInfoCircle";const rc=e=>t.jsx(kr,{icon:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:t.jsx("path",{fill:"currentColor",d:"M30 14.167h-1.667v-3.334C28.333 6.233 24.6 2.5 20 2.5a8.336 8.336 0 0 0-8.333 8.333v3.334H10A3.343 3.343 0 0 0 6.667 17.5v16.667C6.667 36 8.167 37.5 10 37.5h20c1.833 0 3.333-1.5 3.333-3.333V17.5c0-1.833-1.5-3.333-3.333-3.333Zm-10 15a3.343 3.343 0 0 1-3.333-3.334c0-1.833 1.5-3.333 3.333-3.333 1.833 0 3.333 1.5 3.333 3.333 0 1.834-1.5 3.334-3.333 3.334Zm-5-15v-3.334c0-2.766 2.233-5 5-5s5 2.234 5 5v3.334H15Z"})}),...e});rc.displayName="IconLock";const sc=e=>t.jsx(kr,{icon:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.333 20C3.333 10.8 10.8 3.333 20 3.333c9.2 0 16.667 7.467 16.667 16.667 0 9.2-7.467 16.667-16.667 16.667C10.8 36.667 3.333 29.2 3.333 20Zm17.684-9.933a6.67 6.67 0 0 0-7.384 4.65c-.3.966.434 1.95 1.45 1.95h.334c.683 0 1.233-.484 1.466-1.117.534-1.483 2.117-2.5 3.834-2.133 1.583.333 2.75 1.883 2.616 3.5-.098 1.317-1.02 2.025-2.042 2.812-.712.547-1.473 1.133-2.041 1.988 0 .008-.004.012-.008.016-.005.005-.009.009-.009.017-.008.017-.016.03-.025.042l-.025.041c-.15.25-.3.534-.416.834a.33.33 0 0 1-.034.066.33.33 0 0 0-.033.067c-.01.019-.014.037-.018.06a.53.53 0 0 1-.015.057 5.694 5.694 0 0 0-.265 1.086c-.079.547.379.997.931.997h1.334c.552 0 .983-.456 1.133-.988a3.572 3.572 0 0 1 .375-.87 4.601 4.601 0 0 1 .508-.725.229.229 0 0 0 .025-.034 5.857 5.857 0 0 1 .575-.6c.249-.235.51-.464.774-.694 1.436-1.252 2.923-2.55 2.543-5.239-.4-2.9-2.683-5.35-5.583-5.783Zm-1.684 16.6h1.334a1 1 0 0 1 1 1V29a1 1 0 0 1-1 1h-1.334a1 1 0 0 1-1-1v-1.333a1 1 0 0 1 1-1Z",clipRule:"evenodd"})}),...e});sc.displayName="IconQuestionCircle";const Y1=({reason:e})=>{g.useEffect(()=>{setTimeout(()=>document.body.style.removeProperty("pointer-events"),0)},[]);const r=(()=>{const s={color:o.colors.orange500.value,size:24};switch(e){case Pi.NotFound:return{icon:t.jsx(sc,{...s}),title:"Oops, something went wrong.",description:"This Workflow doesn't exist or has been deleted. If you think this is a mistake you can try again."};case Pi.Private:return{icon:t.jsx(rc,{...s}),title:"This Tango is either private or not yet published.",description:"Please contact an admin to invite you to it."};default:return{icon:t.jsx(nc,{...s}),title:"Oops, something went wrong.",description:"An unknown error occured opening the workflow."}}})();return t.jsx(M,{css:{p:`${o.space[7]} ${o.space[5]}`},"data-testid":"view-workflow-error",children:t.jsxs(M,{animate:{y:0,opacity:1},as:ge.div,direction:"column",gap:"4",initial:{y:-10,opacity:0},children:[t.jsx(M,{alignItems:"center",css:{width:56,height:56,backgroundColor:o.colors.orange100,borderRadius:o.radii.full},justifyContent:"center",children:r.icon}),t.jsx(qt,{css:{maxWidth:288},children:r.title}),t.jsx(M,{children:t.jsx(K,{children:r.description})}),t.jsxs(M,{direction:"column",gap:"2",children:[t.jsx(be,{"data-testid":"back-home-button",fullWidth:!0,onClick:()=>{de({name:oe.NavigateTo,route:je.Actions})},variant:"primary",children:"Back to home"}),t.jsx(be,{"data-testid":"close-panel-button",fullWidth:!0,onClick:()=>{de({name:oe.ClosePanel})},variant:"tertiary",children:"Close"})]})]})})};function Z1(){const{route:e,params:n}=Ml(),r=g.useCallback(s=>{s.message.name===oe.ClosePanelInternal&&window.close()},[]);if(Et(r),!e)return null;switch(e){case je.Countdown:case je.Recording:case je.Blurring:case je.Paused:case je.Finishing:return t.jsx(_g,{route:e,isAddStepsMode:n?.isAddStepsMode??!1});case je.Viewing:return t.jsx(X1,{workflow:n.workflow,paused:n.paused,guidanceSessionId:n.guidanceSessionId,areWorkflowDomainsGuidanceAllowed:n.areWorkflowDomainsGuidanceAllowed,isWorkflowCompatibleWithGuidance:n.isWorkflowCompatibleWithGuidance,isPreview:n.preview,redirectToSearch:n?.redirectToSearch,searchQuery:n?.searchQuery,eventSource:n?.eventSource,initialOpenedUrlContentBlockIds:n.initialOpenedUrlContentBlockIds,newTab:n.newTab,currentTabId:n.currentTabId,currentTabUrl:n.currentTabUrl},n.guidanceSessionId);case je.ViewingError:return t.jsx(Y1,{reason:n?.reason});case je.Loading:return t.jsx(Og,{});case je.PendingSignIn:case je.Actions:return t.jsx(Om,{defaultView:n?.view,searchQuery:n?.searchQuery,isForceInstalled:n?.isForceInstalled,signInRedirect:n?.signInRedirect,eventSource:n?.eventSource});case je.WorkflowCreationFailed:return t.jsx(Mg,{...n});case je.ScreenshotDisabled:return t.jsx(Lg,{});case je.NewPin:return t.jsx(Ng,{});default:return t.jsx(Ag,{})}}function q1(){return cl(),t.jsx(Ul,{children:t.jsx(Pl,{children:t.jsx(zl,{children:t.jsx(sl,{...il,children:t.jsxs(Hu,{children:[t.jsx(Pe.Provider,{disableHoverableContent:!0,children:t.jsx(M,{direction:"column",css:{height:"100vh"},children:t.jsx(Z1,{})})}),t.jsx(rf,{size:"sm"})]})})})})})}Dc();const Q1=Sc(document.getElementById("tango-sidekick"));Uc().then(()=>{Q1.render(t.jsx(q1,{}))});let Oo;function ic(){Oo=chrome.runtime.connect({name:Fc}),Oo.onDisconnect.addListener(ic)}ic();export{Va as u};
//# sourceMappingURL=CgWlxSK2.js.map
