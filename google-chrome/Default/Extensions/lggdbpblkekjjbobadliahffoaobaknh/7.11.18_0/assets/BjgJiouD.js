import{O as He,u as vo,M as Lp,E as qa,aq as Ga}from"./SHnOzo4l.js";import{r as De}from"./bVFUYZgl.js";import{g as Pp}from"./Cpj98o6Y.js";var Fp=(e=>(e.Callout="CALLOUT",e.Step="STEP",e.Heading="HEADING",e))(Fp||{}),$p=(e=>(e.Guidance="GUIDANCE",e.Capture="CAPTURE",e))($p||{}),Hp=(e=>(e.CREATE="create",e.DISPLAY="display",e))(Hp||{}),zo=(e=>(e.prod="prod",e.dev="dev",e.int="int",e.unit="unit",e))(zo||{});const Bp={[He.WebUrl]:vo?vo===zo.int?"https://int.tango.us/":vo===zo.prod?"https://app.tango.us/":"http://localhost:8000/":"https://app.tango.us/",[He.ShowedPauseTip]:!1,[He.HighlighterColor]:"#ffa601",[He.LastViewedAnnouncement]:null,[He.IsDeveloper]:!1,[He.OnboardingCompleted]:!1,[He.SecondCaptureCompleted]:!1,[He.ActionBoxOnboardingCompleted]:!1,[He.ActionBoxOnboardingRepeat]:!1,[He.ShowKL]:!0,[He.ToolbarPosition]:{x:99.9,y:50},[He.AnonymousTrackingId]:null},qo={...Bp};async function wT(){const e=await chrome.storage.local.get(Object.values(He));return Object.assign(qo,e),qo}async function IT(e,t){Object.assign(qo,{[e]:t});const n=await chrome.storage.local.set({[e]:t});return typeof window<"u"&&chrome.runtime.sendMessage({message:{name:Lp.ReloadOptions}}),n}const nl=Object.prototype.toString;function gt(e){switch(nl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return bt(e,Error)}}function qn(e,t){return nl.call(e)===`[object ${t}]`}function rl(e){return qn(e,"ErrorEvent")}function Ya(e){return qn(e,"DOMError")}function Up(e){return qn(e,"DOMException")}function _t(e){return qn(e,"String")}function Di(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Li(e){return e===null||Di(e)||typeof e!="object"&&typeof e!="function"}function nn(e){return qn(e,"Object")}function Bs(e){return typeof Event<"u"&&bt(e,Event)}function Wp(e){return typeof Element<"u"&&bt(e,Element)}function jp(e){return qn(e,"RegExp")}function kr(e){return!!(e&&e.then&&typeof e.then=="function")}function zp(e){return nn(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function bt(e,t){try{return e instanceof t}catch{return!1}}function sl(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Dt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function wo(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let o=Math.min(s+140,r);return o>r-5&&(o=r),o===r&&(s=Math.max(o-140,0)),n=n.slice(s,o),s>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function gs(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{sl(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function qp(e,t,n=!1){return _t(e)?jp(t)?t.test(e):_t(t)?n?e===t:e.includes(t):!1:!1}function Lt(e,t=[],n=!1){return t.some(r=>qp(e,r,n))}function Gp(e,t,n=250,r,s,o,i){if(!o.exception||!o.exception.values||!i||!bt(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=Yp(Go(e,t,s,i.originalException,r,o.exception.values,a,0),n))}function Go(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(bt(r[s],Error)){Va(i,a);const u=e(t,r[s]),d=c.length;Xa(u,s,d,a),c=Go(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(bt(u,Error)){Va(i,a);const l=e(t,u),f=c.length;Xa(l,`errors[${d}]`,f,a),c=Go(e,t,n,u,s,[l,...c],l,f)}}),c}function Va(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Xa(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Yp(e,t){return e.map(n=>(n.value&&(n.value=Dt(n.value,t)),n))}const yt="8.30.0",L=globalThis;function Cr(e,t,n){const r=n||L,s=r.__SENTRY__=r.__SENTRY__||{},o=s[yt]=s[yt]||{};return o[e]||(o[e]=t())}const xn=L,Vp=80;function Et(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,i=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Vp;for(;n&&o++<r&&(u=Xp(n,d),!(u==="html"||o>1&&i+s.length*c+u.length>=l));)s.push(u),i+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function Xp(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(xn.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(s&&s.length)s.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&_t(i)){const a=i.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const o=["aria-label","type","name","title","alt"];for(const i of o){const a=n.getAttribute(i);a&&r.push(`[${i}="${a}"]`)}return r.join("")}function Pi(){try{return xn.document.location.href}catch{return""}}function Kp(e){return xn.document&&xn.document.querySelector?xn.document.querySelector(e):null}function ol(e){if(!xn.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const Gn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Jp="Sentry Logger ",_s=["debug","info","warn","error","log","assert","trace"],ys={};function un(e){if(!("console"in L))return e();const t=L.console,n={},r=Object.keys(ys);r.forEach(s=>{const o=ys[s];n[s]=t[s],t[s]=o});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function Zp(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Gn?_s.forEach(n=>{t[n]=(...r)=>{e&&un(()=>{L.console[n](`${Jp}[${n}]:`,...r)})}}):_s.forEach(n=>{t[n]=()=>{}}),t}const g=Cr("logger",Zp),Qp=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function eh(e){return e==="http"||e==="https"}function ln(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${i}`}function il(e){const t=Qp.exec(e);if(!t){un(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",o="",i="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return al({host:o,pass:s,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function al(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function th(e){if(!Gn)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(g.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?eh(r)?t&&isNaN(parseInt(t,10))?(g.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(g.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(g.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function cl(e){const t=typeof e=="string"?il(e):al(e);if(!(!t||!th(t)))return t}class ot extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function Pe(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&ul(s,r),e[t]=s}function $e(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Gn&&g.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function ul(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,$e(e,"__sentry_original__",t)}catch{}}function Fi(e){return e.__sentry_original__}function nh(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function ll(e){if(gt(e))return{message:e.message,name:e.name,stack:e.stack,...Ja(e)};if(Bs(e)){const t={type:e.type,target:Ka(e.target),currentTarget:Ka(e.currentTarget),...Ja(e)};return typeof CustomEvent<"u"&&bt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Ka(e){try{return Wp(e)?Et(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ja(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function rh(e,t=40){const n=Object.keys(ll(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Dt(r,t);for(let s=n.length;s>0;s--){const o=n.slice(0,s).join(", ");if(!(o.length>t))return s===n.length?o:Dt(o,t)}return""}function Se(e){return Yo(e,new Map)}function Yo(e,t){if(sh(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.keys(e))typeof e[s]<"u"&&(r[s]=Yo(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(Yo(s,t))}),r}return e}function sh(e){if(!nn(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const dl=50,ct="?",Za=/\(error: (.*)\)/,Qa=/captureMessage|captureException/;function fl(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],i=n.split(`
`);for(let a=r;a<i.length;a++){const c=i[a];if(c.length>1024)continue;const u=Za.test(c)?c.replace(Za,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){o.push(l);break}}if(o.length>=dl+s)break}}return ih(o.slice(s))}}function oh(e){return Array.isArray(e)?fl(...e):e}function ih(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Hr(t).function||"")&&t.pop(),t.reverse(),Qa.test(Hr(t).function||"")&&(t.pop(),Qa.test(Hr(t).function||"")&&t.pop()),t.slice(0,dl).map(n=>({...n,filename:n.filename||Hr(t).filename,function:n.function||ct}))}function Hr(e){return e[e.length-1]||{}}const Io="<anonymous>";function vt(e){try{return!e||typeof e!="function"?Io:e.name||Io}catch{return Io}}function Vo(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const ns={},ec={};function $t(e,t){ns[e]=ns[e]||[],ns[e].push(t)}function Ht(e,t){ec[e]||(t(),ec[e]=!0)}function Ye(e,t){const n=e&&ns[e];if(n)for(const r of n)try{r(t)}catch(s){Gn&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${vt(r)}
Error:`,s)}}function pl(e){const t="console";$t(t,e),Ht(t,ah)}function ah(){"console"in L&&_s.forEach(function(e){e in L.console&&Pe(L.console,e,function(t){return ys[e]=t,function(...n){Ye("console",{args:n,level:e});const s=ys[e];s&&s.apply(L.console,n)}})})}const Ss=L;function hl(){if(!("fetch"in Ss))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Xo(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ml(){if(typeof EdgeRuntime=="string")return!0;if(!hl())return!1;if(Xo(Ss.fetch))return!0;let e=!1;const t=Ss.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Xo(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Gn&&g.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function ch(){return"ReportingObserver"in Ss}const gl=1e3;function xr(){return Date.now()/gl}function uh(){const{performance:e}=L;if(!e||!e.now)return xr;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/gl}const ce=uh(),xe=(()=>{const{performance:e}=L;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=s<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+n-r):t,u=c<t;return o||u?s<=c?e.timeOrigin:i:r})();function $i(e,t){const n="fetch";$t(n,e),Ht(n,()=>_l(void 0,t))}function lh(e){const t="fetch-body-resolved";$t(t,e),Ht(t,()=>_l(fh))}function _l(e,t=!1){t&&!ml()||Pe(L,"fetch",function(n){return function(...r){const{method:s,url:o}=ph(r),i={args:r,fetchData:{method:s,url:o},startTimestamp:ce()*1e3};e||Ye("fetch",{...i});const a=new Error().stack;return n.apply(L,r).then(async c=>(e?e(c):Ye("fetch",{...i,endTimestamp:ce()*1e3,response:c}),c),c=>{throw Ye("fetch",{...i,endTimestamp:ce()*1e3,error:c}),gt(c)&&c.stack===void 0&&(c.stack=a,$e(c,"framesToPop",1)),c})}})}async function dh(e,t){if(e&&e.body&&e.body.getReader){const n=e.body.getReader();async function r({done:s}){if(s)return Promise.resolve();try{const o=await Promise.race([n.read(),new Promise(i=>{setTimeout(()=>{i({done:!0})},5e3)})]);await r(o)}catch{}}return n.read().then(r).then(t).catch(()=>{})}}async function fh(e){let t;try{t=e.clone()}catch{return}await dh(t,()=>{Ye("fetch-body-resolved",{endTimestamp:ce()*1e3,response:e})})}function Ko(e,t){return!!e&&typeof e=="object"&&!!e[t]}function tc(e){return typeof e=="string"?e:e?Ko(e,"url")?e.url:e.toString?e.toString():"":""}function ph(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:tc(n),method:Ko(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:tc(t),method:Ko(t,"method")?String(t.method).toUpperCase():"GET"}}let Br=null;function yl(e){const t="error";$t(t,e),Ht(t,hh)}function hh(){Br=L.onerror,L.onerror=function(e,t,n,r,s){return Ye("error",{column:r,error:s,line:n,msg:e,url:t}),Br&&!Br.__SENTRY_LOADER__?Br.apply(this,arguments):!1},L.onerror.__SENTRY_INSTRUMENTED__=!0}let Ur=null;function Sl(e){const t="unhandledrejection";$t(t,e),Ht(t,mh)}function mh(){Ur=L.onunhandledrejection,L.onunhandledrejection=function(e){return Ye("unhandledrejection",e),Ur&&!Ur.__SENTRY_LOADER__?Ur.apply(this,arguments):!0},L.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function gh(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function _h(){return"npm"}function yh(){return!gh()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Jo(){return typeof window<"u"&&(!yh()||Sh())}function Sh(){return L.process!==void 0&&L.process.type==="renderer"}function bh(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let o=0;o<t.length;o++)if(t[o]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let o=0;o<t.length;o++)if(t[o]===s){t.splice(o,1);break}}return[n,r]}function ae(){const e=L,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function bl(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Ct(e){const{message:t,event_id:n}=e;if(t)return t;const r=bl(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Zo(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function rn(e,t){const n=bl(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const o={...s&&s.data,...t.data};n.mechanism.data=o}}function Eh(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map(i=>wo(i,0));const o=Math.min(r-1,s);t.context_line=wo(e[o],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map(i=>wo(i,0))}function nc(e){if(e&&e.__sentry_captured__)return!0;try{$e(e,"__sentry_captured__",!0)}catch{}return!1}function El(e){return Array.isArray(e)?e:[e]}function Qe(e,t=100,n=1/0){try{return Qo("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function vl(e,t=3,n=100*1024){const r=Qe(e,t);return Th(r)>n?vl(e,t-1,n):r}function Qo(e,t,n=1/0,r=1/0,s=bh()){const[o,i]=s;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const a=vh(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return Qo("",p,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=ll(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}const h=f[p];d[p]=Qo(p,h,c-1,r,s),l++}return i(t),d}function vh(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(sl(t))return"[VueViewModel]";if(zp(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${vt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=wh(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function wh(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function Ih(e){return~-encodeURI(e).split(/%..|./).length}function Th(e){return Ih(JSON.stringify(e))}function kh(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const Ch=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function xh(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=Ch.exec(t);return n?n.slice(1):[]}function rc(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=kh(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function sc(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Rh(e,t){e=rc(e).slice(1),t=rc(t).slice(1);const n=sc(e.split("/")),r=sc(t.split("/")),s=Math.min(n.length,r.length);let o=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){o=a;break}let i=[];for(let a=o;a<n.length;a++)i.push("..");return i=i.concat(r.slice(o)),i.join("/")}function Mh(e,t){let n=xh(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var ht;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ht||(ht={}));function wt(e){return new Ge(t=>{t(e)})}function bs(e){return new Ge((t,n)=>{n(e)})}class Ge{constructor(t){Ge.prototype.__init.call(this),Ge.prototype.__init2.call(this),Ge.prototype.__init3.call(this),Ge.prototype.__init4.call(this),this._state=ht.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Ge((r,s)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(i){s(i)}},o=>{if(!n)s(o);else try{r(n(o))}catch(i){s(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Ge((n,r)=>{let s,o;return this.then(i=>{o=!1,s=i,t&&t()},i=>{o=!0,s=i,t&&t()}).then(()=>{if(o){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(ht.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ht.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ht.PENDING){if(kr(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ht.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ht.RESOLVED&&n[1](this._value),this._state===ht.REJECTED&&n[2](this._value),n[0]=!0)})}}}function Ah(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return bs(new ot("Not adding Promise because buffer limit was reached."));const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(i){return new Ge((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(l=>{wt(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:o}}function Kt(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Nh(e){return e.split(/[?#]/,1)[0]}function oc(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}const Oh=["fatal","error","warning","log","info","debug"];function wl(e){return e==="warn"?"warning":Oh.includes(e)?e:"log"}const ei="baggage",Il="sentry-",Dh=/^sentry-/,Lh=8192;function Tl(e){const t=Ph(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,o])=>{if(s.match(Dh)){const i=s.slice(Il.length);r[i]=o}return r},{});if(Object.keys(n).length>0)return n}function Hi(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${Il}${r}`]=s),n),{});return Fh(t)}function Ph(e){if(!(!e||!_t(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=ic(n);return Object.entries(r).forEach(([s,o])=>{t[s]=o}),t},{}):ic(e)}function ic(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Fh(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=s===0?o:`${t},${o}`;return i.length>Lh?(Gn&&g.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}const $h=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Hh(e){if(!e)return;const t=e.match($h);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function kl(e,t){const n=Hh(e),r=Tl(t),{traceId:s,parentSpanId:o,parentSampled:i}=n||{};return n?{traceId:s||ae(),parentSpanId:o||ae().substring(16),spanId:ae().substring(16),sampled:i,dsc:r||{}}:{traceId:s||ae(),spanId:ae().substring(16)}}function Bi(e=ae(),t=ae().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Tt(e,t=[]){return[e,t]}function Bh(e,t){const[n,r]=e;return[n,[...r,t]]}function sn(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function ac(e,t){return sn(e,(n,r)=>t.includes(r))}function Es(e){return L.__SENTRY__&&L.__SENTRY__.encodePolyfill?L.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function Uh(e){return L.__SENTRY__&&L.__SENTRY__.decodePolyfill?L.__SENTRY__.decodePolyfill(e):new TextDecoder().decode(e)}function ti(e){const[t,n]=e;let r=JSON.stringify(t);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[Es(r),o]:r.push(typeof o=="string"?Es(o):o)}for(const o of n){const[i,a]=o;if(s(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Qe(a))}s(c)}}return typeof r=="string"?r:Wh(r)}function Wh(e){const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function jh(e){let t=typeof e=="string"?Es(e):e;function n(i){const a=t.subarray(0,i);return t=t.subarray(i+1),a}function r(){let i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse(Uh(n(i)))}const s=r(),o=[];for(;t.length;){const i=r(),a=typeof i.length=="number"?i.length:void 0;o.push([i,a?n(a):r()])}return[s,o]}function zh(e){return[{type:"span"},e]}function qh(e){const t=typeof e.data=="string"?Es(e.data):e.data;return[Se({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Gh={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function cc(e){return Gh[e]}function Ui(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Cl(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:ln(r)},...s&&{trace:Se({...s})}}}function Yh(e,t,n){const r=[{type:"client_report"},{timestamp:n||xr(),discarded_events:e}];return Tt(t?{dsn:t}:{},[r])}const Vh=60*1e3;function xl(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Vh:r-t}function Xh(e,t){return e[t]||e.all||0}function Rl(e,t,n=Date.now()){return Xh(e,t)>n}function Ml(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else i?s.all=r+xl(i,r):t===429&&(s.all=r+60*1e3);return s}function Kh(e,t){return e??t()}function Me(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function _r(){return{traceId:ae(),spanId:ae().substring(16)}}const Wr=L;function Jh(){const e=Wr.chrome,t=e&&e.app&&e.app.runtime,n="history"in Wr&&!!Wr.history.pushState&&!!Wr.history.replaceState;return!t&&n}const D=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function dn(){return Wi(L),L}function Wi(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||yt,t[yt]=t[yt]||{}}function Zh(e){const t=ce(),n={sid:ae(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>em(n)};return e&&An(n,e),n}function An(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ce(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ae()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Qh(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),An(e,n)}function em(e){return Se({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const ni="_sentrySpan";function on(e,t){t?$e(e,ni,t):delete e[ni]}function vs(e){return e[ni]}const tm=100;class ji{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=_r()}clone(){const t=new ji;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,on(t,vs(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&An(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof ut?[n.getScopeData(),n.getRequestSession()]:nn(n)?[t,t.requestSession]:[],{tags:o,extra:i,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:l}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),l&&(this._propagationContext=l),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,on(this,void 0),this._attachments=[],this._propagationContext=_r(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:tm;if(r<=0)return this;const s={timestamp:xr(),...t},o=this._breadcrumbs;return o.push(s),this._breadcrumbs=o.length>r?o.slice(-r):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:vs(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:ae();if(!this._client)return g.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:ae();if(!this._client)return g.warn("No client configured on scope - will not capture message!"),s;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:ae();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(g.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const ut=ji;function nm(){return Cr("defaultCurrentScope",()=>new ut)}function rm(){return Cr("defaultIsolationScope",()=>new ut)}class sm{constructor(t,n){let r;t?r=t:r=new ut;let s;n?s=n:s=new ut,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return kr(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Nn(){const e=dn(),t=Wi(e);return t.stack=t.stack||new sm(nm(),rm())}function om(e){return Nn().withScope(e)}function im(e,t){const n=Nn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function uc(e){return Nn().withScope(()=>e(Nn().getIsolationScope()))}function am(){return{withIsolationScope:uc,withScope:om,withSetScope:im,withSetIsolationScope:(e,t)=>uc(t),getCurrentScope:()=>Nn().getScope(),getIsolationScope:()=>Nn().getIsolationScope()}}function Yn(e){const t=Wi(e);return t.acs?t.acs:am()}function W(){const e=dn();return Yn(e).getCurrentScope()}function ve(){const e=dn();return Yn(e).getIsolationScope()}function Us(){return Cr("globalScope",()=>new ut)}function Ve(...e){const t=dn(),n=Yn(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function cm(...e){const t=dn(),n=Yn(t);if(e.length===2){const[r,s]=e;return r?n.withSetIsolationScope(r,s):n.withIsolationScope(s)}return n.withIsolationScope(e[0])}function R(){return W().getClient()}const ri="_sentryMetrics";function si(e){const t=e[ri];if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(Se(s));return n}function um(e,t,n,r,s,o,i){const c=e[ri]||(e[ri]=new Map),u=`${t}:${n}@${s}`,d=c.get(i);if(d){const[,l]=d;c.set(i,[u,{min:Math.min(l.min,r),max:Math.max(l.max,r),count:l.count+=1,sum:l.sum+=r,tags:l.tags}])}else c.set(i,[u,{min:r,max:r,count:1,sum:r,tags:o}])}const be="sentry.source",zi="sentry.sample_rate",Ae="sentry.op",K="sentry.origin",oi="sentry.idle_span_finish_reason",Ws="sentry.measurement_unit",js="sentry.measurement_value",lm="sentry.profile_id",qi="sentry.exclusive_time",dm=0,Al=1,we=2;function Nl(e){if(e<400&&e>=100)return{code:Al};if(e>=400&&e<500)switch(e){case 401:return{code:we,message:"unauthenticated"};case 403:return{code:we,message:"permission_denied"};case 404:return{code:we,message:"not_found"};case 409:return{code:we,message:"already_exists"};case 413:return{code:we,message:"failed_precondition"};case 429:return{code:we,message:"resource_exhausted"};case 499:return{code:we,message:"cancelled"};default:return{code:we,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:we,message:"unimplemented"};case 503:return{code:we,message:"unavailable"};case 504:return{code:we,message:"deadline_exceeded"};default:return{code:we,message:"internal_error"}}return{code:we,message:"unknown_error"}}function Gi(e,t){e.setAttribute("http.response.status_code",t);const n=Nl(t);n.message!=="unknown_error"&&e.setStatus(n)}const Ol=0,Dl=1;function fm(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:i,origin:a}=F(e);return Se({parent_span_id:o,span_id:t,trace_id:n,data:r,op:s,status:i,origin:a})}function pm(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=F(e);return Se({parent_span_id:r,span_id:t,trace_id:n})}function Yi(e){const{traceId:t,spanId:n}=e.spanContext(),r=fn(e);return Bi(t,n,r)}function Jt(e){return typeof e=="number"?lc(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?lc(e.getTime()):ce()}function lc(e){return e>9999999999?e/1e3:e}function F(e){if(mm(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(hm(e)){const{attributes:r,startTime:s,name:o,endTime:i,parentSpanId:a,status:c}=e;return Se({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:Jt(s),timestamp:Jt(i)||void 0,status:Ll(c),op:r[Ae],origin:r[K],_metrics_summary:si(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function hm(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function mm(e){return typeof e.getSpanJSON=="function"}function fn(e){const{traceFlags:t}=e.spanContext();return t===Dl}function Ll(e){if(!(!e||e.code===dm))return e.code===Al?"ok":e.message||"unknown_error"}const Zt="_sentryChildSpans",ii="_sentryRootSpan";function Pl(e,t){const n=e[ii]||e;$e(t,ii,n),e[Zt]?e[Zt].add(t):$e(e,Zt,new Set([t]))}function gm(e,t){e[Zt]&&e[Zt].delete(t)}function lr(e){const t=new Set;function n(r){if(!t.has(r)&&fn(r)){t.add(r);const s=r[Zt]?Array.from(r[Zt]):[];for(const o of s)n(o)}}return n(e),Array.from(t)}function he(e){return e[ii]||e}function ye(){const e=dn(),t=Yn(e);return t.getActiveSpan?t.getActiveSpan():vs(W())}function _m(e,t,n,r,s,o){const i=ye();i&&um(i,e,t,n,r,s,o)}let dc=!1;function Vi(){dc||(dc=!0,yl(ai),Sl(ai))}function ai(){const e=ye(),t=e&&he(e);if(t){const n="internal_error";D&&g.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:we,message:n})}}ai.tag="sentry_tracingErrorCallback";const Fl="_sentryScope",$l="_sentryIsolationScope";function ym(e,t,n){e&&($e(e,$l,n),$e(e,Fl,t))}function fc(e){return{scope:e[Fl],isolationScope:e[$l]}}function Sm(){Vi()}function Ft(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=R(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Bt{constructor(t={}){this._traceId=t.traceId||ae(),this._spanId=t.spanId||ae().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Ol}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Xi(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return bm(r,t,n)}function bm(e,t,n){return kr(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}const zs="production",Hl="_frozenDsc";function pc(e,t){$e(e,Hl,t)}function qs(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=Se({environment:n.environment||zs,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function Ut(e){const t=R();if(!t)return{};const n=qs(F(e).trace_id||"",t),r=he(e),s=r[Hl];if(s)return s;const o=r.spanContext().traceState,i=o&&o.get("sentry.dsc"),a=i&&Tl(i);if(a)return a;const c=F(r),u=c.data||{},d=u[zi];d!=null&&(n.sample_rate=`${d}`);const l=u[be],f=c.description;return l!=="url"&&f&&(n.transaction=f),n.sampled=String(fn(r)),t.emit("createDsc",n,r),n}function Em(e){const t=Ut(e);return Hi(t)}function vm(e){if(!D)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=F(e),{spanId:s}=e.spanContext(),o=fn(e),i=he(e),a=i===e,c=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=F(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}g.log(`${c}
  ${u.join(`
  `)}`)}function wm(e){if(!D)return;const{description:t="< unknown name >",op:n="< unknown op >"}=F(e),{spanId:r}=e.spanContext(),o=he(e)===e,i=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;g.log(i)}function ws(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){D&&g.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function Im(e,t){if(!Ft(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=ws(n);return r===void 0?(D&&g.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(D&&g.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(D&&g.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function Tm(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function km(e,t,n,r){const s=Ui(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:ln(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Tt(o,[i])}function Cm(e,t,n,r){const s=Ui(n),o=e.type&&e.type!=="replay_event"?e.type:"event";Tm(e,n&&n.sdk);const i=Cl(e,s,r,t);return delete e.sdkProcessingMetadata,Tt(i,[[{type:o},e]])}function xm(e,t){function n(d){return!!d.trace_id&&!!d.public_key}const r=Ut(e[0]),s=t&&t.getDsn(),o=t&&t.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:ln(s)}},a=t&&t.getOptions().beforeSendSpan,c=a?d=>a(F(d)):d=>F(d),u=[];for(const d of e){const l=c(d);l&&u.push(zh(l))}return Tt(i,u)}function Bl(e,t,n,r=ye()){const s=r&&he(r);s&&s.addEvent(e,{[js]:t,[Ws]:n})}function hc(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[Ws],o=r[js];typeof s=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:s})}),t}const mc=1e3;class Ki{constructor(t={}){this._traceId=t.traceId||ae(),this._spanId=t.spanId||ae().substring(16),this._startTime=t.startTimestamp||ce(),this._attributes={},this.setAttributes({[K]:"manual",[Ae]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Dl:Ol}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Jt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=Jt(t),wm(this),this._onSpanEnded())}getSpanJSON(){return Se({data:this._attributes,description:this._name,op:this._attributes[Ae],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Ll(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[K],_metrics_summary:si(this),profile_id:this._attributes[lm],exclusive_time:this._attributes[qi],measurements:hc(this._events),is_segment:this._isStandaloneSpan&&he(this)===this||void 0,segment_id:this._isStandaloneSpan?he(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){D&&g.log("[Tracing] Adding an event to span:",t);const s=gc(n)?n:r||ce(),o=gc(n)?{}:n||{},i={name:t,time:Jt(s),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=R();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===he(this)))return;if(this._isStandaloneSpan){this._sampled?Mm(xm([this],t)):(D&&g.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(fc(this).scope||W()).captureEvent(r)}_convertSpanToTransaction(){if(!_c(F(this)))return;this._name||(D&&g.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=fc(this),s=(t||W()).getClient()||R();if(this._sampled!==!0){D&&g.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),s&&s.recordDroppedEvent("sample_rate","transaction");return}const i=lr(this).filter(l=>l!==this&&!Rm(l)).map(l=>F(l)).filter(_c),a=this._attributes[be],c={contexts:{trace:fm(this)},spans:i.length>mc?i.sort((l,f)=>l.start_timestamp-f.start_timestamp).slice(0,mc):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...Se({dynamicSamplingContext:Ut(this)})},_metrics_summary:si(this),...a&&{transaction_info:{source:a}}},u=hc(this._events);return u&&Object.keys(u).length&&(D&&g.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),c.measurements=u),c}}function gc(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function _c(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Rm(e){return e instanceof Ki&&e.isStandaloneSpan()}function Mm(e){const t=R();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}const r=t.getTransport();r&&r.send(e).then(null,s=>{D&&g.error("Error while sending span:",s)})}const Ul="__SENTRY_SUPPRESS_TRACING__";function Am(e,t){const n=Gs();if(n.startSpan)return n.startSpan(e,t);const r=Zi(e),{forceTransaction:s,parentSpan:o}=e;return Ve(e.scope,()=>jl(o)(()=>{const a=W(),c=Qi(a),d=e.onlyIfParent&&!c?new Bt:Ji({parentSpan:c,spanArguments:r,forceTransaction:s,scope:a});return on(a,d),Xi(()=>t(d),()=>{const{status:l}=F(d);d.isRecording()&&(!l||l==="ok")&&d.setStatus({code:we,message:"internal_error"})},()=>d.end())}))}function Wl(e,t){const n=Gs();if(n.startSpanManual)return n.startSpanManual(e,t);const r=Zi(e),{forceTransaction:s,parentSpan:o}=e;return Ve(e.scope,()=>jl(o)(()=>{const a=W(),c=Qi(a),d=e.onlyIfParent&&!c?new Bt:Ji({parentSpan:c,spanArguments:r,forceTransaction:s,scope:a});on(a,d);function l(){d.end()}return Xi(()=>t(d,l),()=>{const{status:f}=F(d);d.isRecording()&&(!f||f==="ok")&&d.setStatus({code:we,message:"internal_error"})})}))}function Fe(e){const t=Gs();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Zi(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?i=>Ve(e.scope,i):s!==void 0?i=>an(s,i):i=>i())(()=>{const i=W(),a=Qi(i);return e.onlyIfParent&&!a?new Bt:Ji({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}const Nm=({sentryTrace:e,baggage:t},n)=>Ve(r=>{const s=kl(e,t);return r.setPropagationContext(s),n()});function an(e,t){const n=Gs();return n.withActiveSpan?n.withActiveSpan(e,t):Ve(r=>(on(r,e||void 0),t(r)))}function Om(e){return Ve(t=>(t.setPropagationContext(_r()),D&&g.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),an(null,e)))}function Ji({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Ft())return new Bt;const s=ve();let o;if(e&&!n)o=Dm(e,r,t),Pl(e,o);else if(e){const i=Ut(e),{traceId:a,spanId:c}=e.spanContext(),u=fn(e);o=yc({traceId:a,parentSpanId:c,...t},r,u),pc(o,i)}else{const{traceId:i,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};o=yc({traceId:i,parentSpanId:c,...t},r,u),a&&pc(o,a)}return vm(o),ym(o,r,s),o}function Zi(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Jt(e.startTime),delete r.startTime,r}return n}function Gs(){const e=dn();return Yn(e)}function yc(e,t,n){const r=R(),s=r&&r.getOptions()||{},{name:o="",attributes:i}=e,[a,c]=t.getScopeData().sdkProcessingMetadata[Ul]?[!1]:Im(s,{name:o,parentSampled:n,attributes:i,transactionContext:{name:o,parentSampled:n}}),u=new Ki({...e,attributes:{[be]:"custom",...e.attributes},sampled:a});return c!==void 0&&u.setAttribute(zi,c),r&&r.emit("spanStart",u),u}function Dm(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[Ul]?!1:fn(e),i=o?new Ki({...n,parentSpanId:r,traceId:s,sampled:o}):new Bt({traceId:s});Pl(e,i);const a=R();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function Qi(e){const t=vs(e);if(!t)return;const n=R();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?he(t):t}function jl(e){return e!==void 0?t=>an(e,t):t=>t()}const rs={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Lm="heartbeatFailed",Pm="idleTimeout",Fm="finalTimeout",$m="externalFinish";function zl(e,t={}){const n=new Map;let r=!1,s,o=$m,i=!t.disableAutoFinish;const a=[],{idleTimeout:c=rs.idleTimeout,finalTimeout:u=rs.finalTimeout,childSpanTimeout:d=rs.childSpanTimeout,beforeSpanEnd:l}=t,f=R();if(!f||!Ft())return new Bt;const p=W(),h=ye(),m=Hm(e);m.end=new Proxy(m.end,{apply(w,b,x){l&&l(m);const[v,...y]=x,I=v||ce(),T=Jt(I),U=lr(m).filter(H=>H!==m);if(!U.length)return M(T),Reflect.apply(w,b,[T,...y]);const Y=U.map(H=>F(H).timestamp).filter(H=>!!H),j=Y.length?Math.max(...Y):void 0,A=F(m).start_timestamp,le=Math.min(A?A+u/1e3:1/0,Math.max(A||-1/0,Math.min(T,j||1/0)));return M(le),Reflect.apply(w,b,[le,...y])}});function S(){s&&(clearTimeout(s),s=void 0)}function _(w){S(),s=setTimeout(()=>{!r&&n.size===0&&i&&(o=Pm,m.end(w))},c)}function E(w){s=setTimeout(()=>{!r&&i&&(o=Lm,m.end(w))},d)}function N(w){S(),n.set(w,!0);const b=ce();E(b+d/1e3)}function C(w){if(n.has(w)&&n.delete(w),n.size===0){const b=ce();_(b+c/1e3)}}function M(w){r=!0,n.clear(),a.forEach(T=>T()),on(p,h);const b=F(m),{start_timestamp:x}=b;if(!x)return;(b.data||{})[oi]||m.setAttribute(oi,o),g.log(`[Tracing] Idle span "${b.op}" finished`);const y=lr(m).filter(T=>T!==m);let I=0;y.forEach(T=>{T.isRecording()&&(T.setStatus({code:we,message:"cancelled"}),T.end(w),D&&g.log("[Tracing] Cancelling span since span ended early",JSON.stringify(T,void 0,2)));const U=F(T),{timestamp:Y=0,start_timestamp:j=0}=U,A=j<=w,le=(u+c)/1e3,H=Y-j<=le;if(D){const te=JSON.stringify(T,void 0,2);A?H||g.log("[Tracing] Discarding span since it finished after idle span final timeout",te):g.log("[Tracing] Discarding span since it happened after idle span was finished",te)}(!H||!A)&&(gm(m,T),I++)}),I>0&&m.setAttribute("sentry.idle_span_discarded_spans",I)}return a.push(f.on("spanStart",w=>{if(r||w===m||F(w).timestamp)return;lr(m).includes(w)&&N(w.spanContext().spanId)})),a.push(f.on("spanEnd",w=>{r||C(w.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",w=>{w===m&&(i=!0,_(),n.size&&E())})),t.disableAutoFinish||_(),setTimeout(()=>{r||(m.setStatus({code:we,message:"deadline_exceeded"}),o=Fm,m.end())},u),m}function Hm(e){const t=Fe(e);return on(W(),t),D&&g.log("[Tracing] Started span is an idle span"),t}function ci(e,t,n,r=0){return new Ge((s,o)=>{const i=e[r];if(t===null||typeof i!="function")s(t);else{const a=i({...t},n);D&&i.id&&a===null&&g.log(`Event processor "${i.id}" dropped event`),kr(a)?a.then(c=>ci(e,c,n,r+1).then(s)).then(null,o):ci(e,a,n,r+1).then(s).then(null,o)}})}function Bm(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;Um(e,t),r&&zm(e,r),qm(e,n),Wm(e,s),jm(e,o)}function Sc(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:h}=t;or(e,"extra",n),or(e,"tags",r),or(e,"user",s),or(e,"contexts",o),or(e,"sdkProcessingMetadata",a),i&&(e.level=i),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function or(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function Um(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:a}=t,c=Se(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=Se(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=Se(s);d&&Object.keys(d).length&&(e.user={...d,...e.user});const l=Se(o);l&&Object.keys(l).length&&(e.contexts={...l,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function Wm(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function jm(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function zm(e,t){e.contexts={trace:pm(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Ut(t),...e.sdkProcessingMetadata};const n=he(t),r=F(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function qm(e,t){e.fingerprint=e.fingerprint?El(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function ql(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||ae(),timestamp:t.timestamp||xr()},u=n.integrations||e.integrations.map(S=>S.name);Gm(c,e),Xm(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&Ym(c,e.stackParser);const d=Jm(r,n.captureContext);n.mechanism&&rn(c,n.mechanism);const l=s?s.getEventProcessors():[],f=Us().getScopeData();if(o){const S=o.getScopeData();Sc(f,S)}if(d){const S=d.getScopeData();Sc(f,S)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),Bm(c,f);const h=[...l,...f.eventProcessors];return ci(h,c,n).then(S=>(S&&Vm(S),typeof i=="number"&&i>0?Km(S,i,a):S))}function Gm(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:zs),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=Dt(e.message,o));const i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=Dt(i.value,o));const a=e.request;a&&a.url&&(a.url=Dt(a.url,o))}const bc=new WeakMap;function Ym(e,t){const n=L._sentryDebugIds;if(!n)return;let r;const s=bc.get(t);s?r=s:(r=new Map,bc.set(t,r));const o=Object.entries(n).reduce((i,[a,c])=>{let u;const d=r.get(a);d?u=d:(u=t(a),r.set(a,u));for(let l=u.length-1;l>=0;l--){const f=u[l];if(f.filename){i[f.filename]=c;break}}return i},{});try{e.exception.values.forEach(i=>{i.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=o[a.filename])})})}catch{}}function Vm(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function Xm(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Km(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:Qe(s.data,t,n)}}))},...e.user&&{user:Qe(e.user,t,n)},...e.contexts&&{contexts:Qe(e.contexts,t,n)},...e.extra&&{extra:Qe(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Qe(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>({...s,...s.data&&{data:Qe(s.data,t,n)}}))),r}function Jm(e,t){if(!t)return e;const n=e?e.clone():new ut;return n.update(t),n}function Zm(e){if(e)return Qm(e)?{captureContext:e}:tg(e)?{captureContext:e}:e}function Qm(e){return e instanceof ut||typeof e=="function"}const eg=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function tg(e){return Object.keys(e).some(t=>eg.includes(t))}function Vn(e,t){return W().captureException(e,Zm(t))}function Is(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return W().captureMessage(e,n,r)}function Xn(e,t){return W().captureEvent(e,t)}function Ys(e,t){ve().setContext(e,t)}function Gl(e){ve().setExtras(e)}function Yl(e,t){ve().setExtra(e,t)}function Vl(e){ve().setTags(e)}function ea(e,t){ve().setTag(e,t)}function Xl(e){ve().setUser(e)}function Kl(){return ve().lastEventId()}async function ng(e){const t=R();return t?t.flush(e):(D&&g.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function rg(e){const t=R();return t?t.close(e):(D&&g.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function sg(){return!!R()}function Jl(e){ve().addEventProcessor(e)}function Ts(e){const t=R(),n=ve(),r=W(),{release:s,environment:o=zs}=t&&t.getOptions()||{},{userAgent:i}=L.navigator||{},a=Zh({release:s,environment:o,user:r.getUser()||n.getUser(),...i&&{userAgent:i},...e}),c=n.getSession();return c&&c.status==="ok"&&An(c,{status:"exited"}),yr(),n.setSession(a),r.setSession(a),a}function yr(){const e=ve(),t=W(),n=t.getSession()||e.getSession();n&&Qh(n),Zl(),e.setSession(),t.setSession()}function Zl(){const e=ve(),t=W(),n=R(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function ui(e=!1){if(e){yr();return}Zl()}const og="7";function Ql(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function ig(e){return`${Ql(e)}${e.projectId}/envelope/`}function ag(e,t){return nh({sentry_key:e.publicKey,sentry_version:og,...t&&{sentry_client:`${t.name}/${t.version}`}})}function ed(e,t,n){return t||`${ig(e)}?${ag(e,n)}`}function cg(e,t){const n=cl(e);if(!n)return"";const r=`${Ql(n)}embed/error-page/`;let s=`dsn=${ln(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const i=t.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${s}`}const Ec=[];function ug(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function lg(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=El(n(t)):r=t;const s=ug(r),o=s.findIndex(i=>i.name==="Debug");if(o>-1){const[i]=s.splice(o,1);s.push(i)}return s}function dg(e,t){const n={};return t.forEach(r=>{r&&td(e,r,n)}),n}function vc(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function td(e,t,n){if(n[t.name]){D&&g.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Ec.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Ec.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((o,i)=>r(o,i,e),{id:t.name});e.addEventProcessor(s)}D&&g.log(`Integration installed: ${t.name}`)}function fg(e){const t=R();if(!t){D&&g.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}const wc="Not capturing exception because it's already been captured.";class pg{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=cl(t.dsn):D&&g.warn("No DSN provided, client will not send events."),this._dsn){const n=ed(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const s=ae();if(nc(t))return D&&g.log(wc),s;const o={event_id:s,...n};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,r))),o.event_id}captureMessage(t,n,r,s){const o={event_id:ae(),...r},i=Di(t)?t:String(t),a=Li(t)?this.eventFromMessage(i,n,o):this.eventFromException(t,o);return this._process(a.then(c=>this._captureEvent(c,o,s))),o.event_id}captureEvent(t,n,r){const s=ae();if(n&&n.originalException&&nc(n.originalException))return D&&g.log(wc),s;const o={event_id:s,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,a||r)),o.event_id}captureSession(t){typeof t.release!="string"?D&&g.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),An(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):wt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];td(this,t,this._integrations),n||vc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Cm(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=Bh(r,qh(o));const s=this.sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const n=km(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,o=`${t}:${n}`;D&&g.log(`Recording outcome: "${o}"${s>1?` (${s} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(D&&g.error("Error while sending event:",n),n)):(D&&g.error("Transport disabled"),wt({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=dg(this,t),vc(this,t)}_updateSessionFromEvent(t,n){let r=!1,s=!1;const o=n.exception&&n.exception.values;if(o){s=!0;for(const c of o){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(An(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ge(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s=ve()){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),ql(o,t,n,r,this,s).then(a=>{if(a===null)return a;const c={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&c){const{traceId:d,spanId:l,parentSpanId:f,dsc:p}=c;a.contexts={trace:Se({trace_id:d,span_id:l,parent_span_id:f}),...a.contexts};const h=p||qs(d,this);a.sdkProcessingMetadata={dynamicSamplingContext:h,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{if(D){const o=s;o.logLevel==="log"?g.log(o.message):g.warn(o)}})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:o}=s,i=rd(t),a=nd(t),c=t.type||"error",u=`before send for type \`${c}\``,d=typeof o>"u"?void 0:ws(o);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),bs(new ot(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l=c==="replay_event"?"replay":c,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",l,t),new ot("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;const S=mg(this,s,h,n);return hg(S,u)}).then(h=>{if(h===null){if(this.recordDroppedEvent("before_send",l,t),i){const E=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",E)}throw new ot(`${u} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!i&&m&&this._updateSessionFromEvent(m,h),i){const _=h.sdkProcessingMetadata&&h.sdkProcessingMetadata.spanCountBeforeProcessing||0,E=h.spans?h.spans.length:0,N=_-E;N>0&&this.recordDroppedEvent("before_send","span",N)}const S=h.transaction_info;if(i&&S&&h.transaction!==t.transaction){const _="custom";h.transaction_info={...S,source:_}}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof ot?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new ot(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){D&&g.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){D&&g.log("No outcomes to send");return}if(!this._dsn){D&&g.log("No dsn provided, will not send outcomes");return}D&&g.log("Sending outcomes:",t);const n=Yh(t,this._options.tunnel&&ln(this._dsn));this.sendEnvelope(n)}}function hg(e,t){const n=`${t} must return \`null\` or a valid event.`;if(kr(e))return e.then(r=>{if(!nn(r)&&r!==null)throw new ot(n);return r},r=>{throw new ot(`${t} rejected with ${r}`)});if(!nn(e)&&e!==null)throw new ot(n);return e}function mg(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i}=t;if(nd(n)&&s)return s(n,r);if(rd(n)){if(n.spans&&i){const a=[];for(const c of n.spans){const u=i(c);u?a.push(u):e.recordDroppedEvent("before_send","span")}n.spans=a}if(o){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return o(n,r)}}return n}function nd(e){return e.type===void 0}function rd(e){return e.type==="transaction"}function gg(e,t){t.debug===!0&&(D?g.enable():un(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),W().update(t.initialScope);const r=new e(t);return sd(r),r.init(),r}function sd(e){W().setClient(e)}const _g=64;function od(e,t,n=Ah(e.bufferSize||_g)){let r={};const s=i=>n.drain(i);function o(i){const a=[];if(sn(i,(l,f)=>{const p=cc(f);if(Rl(r,p)){const h=Ic(l,f);e.recordDroppedEvent("ratelimit_backoff",p,h)}else a.push(l)}),a.length===0)return wt({});const c=Tt(i[0],a),u=l=>{sn(c,(f,p)=>{const h=Ic(f,p);e.recordDroppedEvent(l,cc(p),h)})},d=()=>t({body:ti(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&D&&g.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Ml(r,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof ot)return D&&g.error("Skipped sending event because buffer is full."),u("queue_overflow"),wt({});throw l})}return{send:o,flush:s}}function Ic(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const Tc=100,kc=5e3,yg=36e5;function Sg(e){function t(...n){D&&g.info("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const s=n.createStore(n);let o=kc,i;function a(l,f,p){return ac(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const f=await s.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof i!="number"&&i.unref&&i.unref()}function u(){i||(c(o),o=Math.min(o*2,yg))}async function d(l,f=!1){if(!f&&ac(l,["replay_event","replay_recording"]))return await s.push(l),c(Tc),{};try{const p=await r.send(l);let h=Tc;if(p){if(p.headers&&p.headers["retry-after"])h=xl(p.headers["retry-after"]);else if(p.headers&&p.headers["x-sentry-rate-limits"])h=6e4;else if((p.statusCode||0)>=400)return p}return c(h),o=kc,p}catch(p){if(await a(l,p,o))return f?await s.unshift(l):await s.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>r.flush(l)}}}function id(e,t){let n;return sn(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function bg(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const o=id(s,["event","transaction","profile","replay_event"]);return o&&(o.release=t),r.send(s)}}}}function Eg(e,t){return Tt(t?{...e[0],dsn:t}:e[0],e[1])}function vg(e,t){return n=>{const r=e(n),s=new Map;function o(c,u){const d=u?`${c}:${u}`:c;let l=s.get(d);if(!l){const f=il(c);if(!f)return;const p=ed(f,n.tunnel);l=u?bg(e,u)({...n,url:p}):e({...n,url:p}),s.set(d,l)}return[c,l]}async function i(c){function u(p){const h=p&&p.length?p:["event"];return id(c,h)}const d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?o(p,void 0):o(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,h])=>h.send(Eg(c,p)))))[0]}async function a(c){const u=[...s.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:i,flush:a}}}function ad(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return Ig(e,n)||wg(e,r)}function wg(e,t){return t?Cc(e)===Cc(t):!1}function Ig(e,t){return t?e.includes(t.host):!1}function Cc(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Tg(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function cd(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:yt})),version:yt}),e._metadata=s}const kg=100;function tt(e,t){const n=R(),r=ve();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=kg}=n.getOptions();if(o<=0)return;const a={timestamp:xr(),...e},c=s?un(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,o))}let xc;const Cg="FunctionToString",Rc=new WeakMap,xg=()=>({name:Cg,setupOnce(){xc=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Fi(this),n=Rc.has(R())&&t!==void 0?t:this;return xc.apply(n,e)}}catch{}},setup(e){Rc.set(e,!0)}}),ud=xg,Rg=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Mg="InboundFilters",Ag=(e={})=>({name:Mg,processEvent(t,n,r){const s=r.getOptions(),o=Ng(e,s);return Og(t,o)?null:t}}),ld=Ag;function Ng(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Rg],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Og(e,t){return t.ignoreInternal&&Hg(e)?(D&&g.warn(`Event dropped due to being internal Sentry Error.
Event: ${Ct(e)}`),!0):Dg(e,t.ignoreErrors)?(D&&g.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ct(e)}`),!0):Ug(e)?(D&&g.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ct(e)}`),!0):Lg(e,t.ignoreTransactions)?(D&&g.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ct(e)}`),!0):Pg(e,t.denyUrls)?(D&&g.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ct(e)}.
Url: ${ks(e)}`),!0):Fg(e,t.allowUrls)?!1:(D&&g.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ct(e)}.
Url: ${ks(e)}`),!0)}function Dg(e,t){return e.type||!t||!t.length?!1:$g(e).some(n=>Lt(n,t))}function Lg(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Lt(n,t):!1}function Pg(e,t){if(!t||!t.length)return!1;const n=ks(e);return n?Lt(n,t):!1}function Fg(e,t){if(!t||!t.length)return!0;const n=ks(e);return n?Lt(n,t):!0}function $g(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function Hg(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Bg(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function ks(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Bg(t):null}catch{return D&&g.error(`Cannot extract url for event ${Ct(e)}`),null}}function Ug(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const dd=new Map,Mc=new Set;function Wg(e){if(L._sentryModuleMetadata)for(const t of Object.keys(L._sentryModuleMetadata)){const n=L._sentryModuleMetadata[t];if(Mc.has(t))continue;Mc.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){dd.set(s.filename,n);break}}}function jg(e,t){return Wg(e),dd.get(t)}function fd(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const s=jg(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function pd(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const zg=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{sn(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(pd(s),n[1]=s)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;fd(n,t)})}}),qg="CaptureConsole",Gg=(e={})=>{const t=e.levels||_s;return{name:qg,setup(n){"console"in L&&pl(({args:r,level:s})=>{R()!==n||!t.includes(s)||Vg(r,s)})}}},Yg=Gg;function Vg(e,t){const n={level:wl(t),extra:{arguments:e}};Ve(r=>{if(r.addEventProcessor(i=>(i.logger="console",rn(i,{handled:!1,type:"console"}),i)),t==="assert"){if(!e[0]){const i=`Assertion failed: ${gs(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),Is(i,n)}return}const s=e.find(i=>i instanceof Error);if(s){Vn(s,n);return}const o=gs(e," ");Is(o,n)})}const Xg="Debug",Kg=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:Xg,setup(n){n.on("beforeSendEvent",(r,s)=>{if(t.debugger)debugger;un(()=>{t.stringify?(console.log(JSON.stringify(r,null,2)),s&&Object.keys(s).length&&console.log(JSON.stringify(s,null,2))):(console.log(r),s&&Object.keys(s).length&&console.log(s))})})}}},Jg=Kg,Zg="Dedupe",Qg=()=>{let e;return{name:Zg,processEvent(t){if(t.type)return t;try{if(e_(t,e))return D&&g.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},hd=Qg;function e_(e,t){return t?!!(t_(e,t)||n_(e,t)):!1}function t_(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!gd(e,t)||!md(e,t))}function n_(e,t){const n=Ac(t),r=Ac(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!gd(e,t)||!md(e,t))}function md(e,t){let n=Vo(e),r=Vo(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function gd(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Ac(e){return e.exception&&e.exception.values&&e.exception.values[0]}const r_="ExtraErrorData",s_=(e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:r_,processEvent(r,s,o){const{maxValueLength:i=250}=o.getOptions();return i_(r,s,t,n,i)}}},o_=s_;function i_(e,t={},n,r,s){if(!t.originalException||!gt(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=a_(t.originalException,r,s);if(i){const a={...e.contexts},c=Qe(i,n);return nn(c)&&($e(c,"__sentry_skip_normalization__",!0),a[o]=c),{...e,contexts:a}}return e}function a_(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],s={};for(const o of Object.keys(e)){if(r.indexOf(o)!==-1)continue;const i=e[o];s[o]=gt(i)||typeof i=="string"?Dt(`${i}`,n):i}if(t&&e.cause!==void 0&&(s.cause=gt(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){const o=e.toJSON();for(const i of Object.keys(o)){const a=o[i];s[i]=gt(a)?a.toString():a}}return s}catch(r){D&&g.error("Unable to extract extra data from the Error object:",r)}return null}const c_="RewriteFrames",u_=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in L&&L.window!==void 0,s=e.iteratee||l_({isBrowser:r,root:t,prefix:n});function o(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:i(c.stacktrace)}}))}}}catch{return a}}function i(a){return{...a,frames:a&&a.frames&&a.frames.map(c=>s(c))}}return{name:c_,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=o(c)),c}}};function l_({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const s=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(e){if(t){const i=r.filename;i.indexOf(t)===0&&(r.filename=i.replace(t,n))}}else if(s||o){const i=s?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?Rh(t,i):Mh(i);r.filename=`${n}${a}`}return r}}const d_="SessionTiming",f_=()=>{const e=ce()*1e3;return{name:d_,processEvent(t){const n=ce()*1e3;return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}},p_=f_,h_=10,m_="ZodErrors";function g_(e){return gt(e)&&e.name==="ZodError"&&Array.isArray(e.errors)}function __(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function y_(e){const t=new Set;for(const r of e.issues)r.path&&r.path[0]&&t.add(r.path[0]);const n=Array.from(t);return`Failed to validate keys: ${Dt(n.join(", "),100)}`}function S_(e,t,n){return!t.exception||!t.exception.values||!n||!n.originalException||!g_(n.originalException)||n.originalException.issues.length===0?t:{...t,exception:{...t.exception,values:[{...t.exception.values[0],value:y_(n.originalException)},...t.exception.values.slice(1)]},extra:{...t.extra,"zoderror.issues":n.originalException.errors.slice(0,e).map(__)}}}const b_=(e={})=>{const t=e.limit||h_;return{name:m_,processEvent(n,r){return S_(t,n,r)}}},E_=b_,v_=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{sn(n,(r,s)=>{if(s==="event"){const o=Array.isArray(r)?r[1]:void 0;o&&(pd(o),r[1]=o)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;fd(r,n)})},processEvent(t){const n=w_(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](o=>!o.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function w_(e){const t=Vo(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(Nc)).map(r=>r.slice(Nc.length)):[])}const Nc="_sentryBundlerPluginAppKey:",_d="c",yd="g",ta="s",Sd="d",I_=5e3;function bd(e,t){const n=Cr("globalMetricsAggregators",()=>new WeakMap),r=n.get(e);if(r)return r;const s=new t(e);return e.on("flush",()=>s.flush()),e.on("close",()=>s.close()),n.set(e,s),s}function Vs(e,t,n,r,s={}){const o=s.client||R();if(!o)return;const i=ye(),a=i?he(i):void 0,c=a&&F(a).description,{unit:u,tags:d,timestamp:l}=s,{release:f,environment:p}=o.getOptions(),h={};f&&(h.release=f),p&&(h.environment=p),c&&(h.transaction=c),D&&g.log(`Adding value of ${r} to ${t} metric ${n}`),bd(o,e).add(t,n,r,u,{...h,...d},l)}function T_(e,t,n=1,r){Vs(e,_d,t,na(n),r)}function li(e,t,n,r){Vs(e,Sd,t,na(n),r)}function k_(e,t,n,r="second",s){if(typeof n=="function"){const o=ce();return Wl({op:"metrics.timing",name:t,startTime:o,onlyIfParent:!0},i=>Xi(()=>n(),()=>{},()=>{const a=ce(),c=a-o;li(e,t,c,{...s,unit:"second"}),i.end(a)}))}li(e,t,n,{...s,unit:r})}function C_(e,t,n,r){Vs(e,ta,t,n,r)}function x_(e,t,n,r){Vs(e,yd,t,na(n),r)}const Rr={increment:T_,distribution:li,set:C_,gauge:x_,timing:k_,getMetricsAggregatorForClient:bd};function na(e){return typeof e=="string"?parseInt(e):e}function R_(e,t,n,r){const s=Object.entries(Se(r)).sort((o,i)=>o[0].localeCompare(i[0]));return`${e}${t}${n}${s}`}function M_(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function A_(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([o,i])=>`${o}:${i}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function N_(e){return e.replace(/[^\w]+/gi,"_")}function O_(e){return e.replace(/[^\w\-.]+/gi,"_")}function D_(e){return e.replace(/[^\w\-./]+/gi,"")}const L_=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function P_(e){for(const[t,n]of L_)if(e===t)return n;return e}function F_(e){return[...e].reduce((t,n)=>t+P_(n),"")}function $_(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=D_(n);t[r]=F_(String(e[n]))}return t}function H_(e,t){g.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=e.getDsn(),r=e.getSdkMetadata(),s=e.getOptions().tunnel,o=B_(t,n,r,s);e.sendEnvelope(o)}function B_(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=ln(t));const o=U_(e);return Tt(s,[o])}function U_(e){const t=A_(e);return[{type:"statsd",length:t.length},t]}class W_{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class j_{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class z_{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class q_{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?M_(t):t).join(":")}}const G_={[_d]:W_,[yd]:j_,[Sd]:z_,[ta]:q_};class Mr{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),I_)}add(t,n,r,s="none",o={},i=ce()){const a=Math.floor(i),c=O_(n),u=$_(o),d=N_(s),l=R_(t,c,d,u);let f=this._buckets.get(l);const p=f&&t===ta?f.metric.weight:0;f?(f.metric.add(r),f.timestamp<a&&(f.timestamp=a)):(f={metric:new G_[t](r),timestamp:a,metricType:t,name:c,unit:d,tags:u},this._buckets.set(l,f));const h=typeof r=="string"?f.metric.weight-p:r;_m(t,c,h,d,o,l)}flush(){if(this._buckets.size===0)return;const t=Array.from(this._buckets.values());H_(this._client,t),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}function Y_(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const o=Ft()&&t(e.fetchData.url);if(e.endTimestamp&&o){const h=e.fetchData.__span;if(!h)return;const m=r[h];m&&(K_(m,e),delete r[h]);return}const i=W(),a=R(),{method:c,url:u}=e.fetchData,d=X_(u),l=d?Kt(d).host:void 0,f=!!ye(),p=o&&f?Fe({name:`${c} ${u}`,attributes:{url:u,type:"fetch","http.method":c,"http.url":d,"server.address":l,[K]:s,[Ae]:"http.client"}}):new Bt;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&a){const h=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=V_(h,a,i,m,Ft()&&f?p:void 0)}return p}function V_(e,t,n,r,s){const o=ve(),{traceId:i,spanId:a,sampled:c,dsc:u}={...o.getPropagationContext(),...n.getPropagationContext()},d=s?Yi(s):Bi(i,a,c),l=Hi(u||(s?Ut(s):qs(i,t))),f=r.headers||(typeof Request<"u"&&bt(e,Request)?e.headers:void 0);if(f)if(typeof Headers<"u"&&bt(f,Headers)){const p=new Headers(f);return p.append("sentry-trace",d),l&&p.append(ei,l),p}else if(Array.isArray(f)){const p=[...f,["sentry-trace",d]];return l&&p.push([ei,l]),p}else{const p="baggage"in f?f.baggage:void 0,h=[];return Array.isArray(p)?h.push(...p):p&&h.push(p),l&&h.push(l),{...f,"sentry-trace":d,baggage:h.length>0?h.join(","):void 0}}else return{"sentry-trace":d,baggage:l}}function X_(e){try{return new URL(e).href}catch{return}}function K_(e,t){if(t.response){Gi(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:we,message:"internal_error"});e.end()}function Ed(e,t={},n=W()){const{message:r,name:s,email:o,url:i,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:Se({contact_email:o,name:s,message:r,url:i,source:a,associated_event_id:c})},type:"feedback",level:"info",tags:u},l=n&&n.getClient()||R();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}function J_(){return{bindClient(e){W().setClient(e)},withScope:Ve,getClient:()=>R(),getScope:W,getIsolationScope:ve,captureException:(e,t)=>W().captureException(e,t),captureMessage:(e,t,n)=>W().captureMessage(e,t,n),captureEvent:Xn,addBreadcrumb:tt,setUser:Xl,setTags:Vl,setTag:ea,setExtra:Yl,setExtras:Gl,setContext:Ys,getIntegration(e){const t=R();return t&&t.getIntegrationByName(e.id)||null},startSession:Ts,endSession:yr,captureSession(e){if(e)return yr();Q_()}}}const Z_=J_;function Q_(){const e=W(),t=R(),n=e.getSession();t&&n&&t.captureSession(n)}const k=L;let di=0;function vd(){return di>0}function ey(){di++,setTimeout(()=>{di--})}function On(e,t={},n){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return s;if(Fi(e))return e}catch{return e}const r=function(){const s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const o=s.map(i=>On(i,t));return e.apply(this,o)}catch(o){throw ey(),Ve(i=>{i.addEventProcessor(a=>(t.mechanism&&(Zo(a,void 0,void 0),rn(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Vn(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}ul(r,e),$e(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const q=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Xs(e,t){const n=ra(e,t),r={type:t&&t.name,value:oy(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function ty(e,t,n,r){const s=R(),o=s&&s.getOptions().normalizeDepth,i=cy(t),a={__serialized__:vl(t,o)};if(i)return{exception:{values:[Xs(e,i)]},extra:a};const c={exception:{values:[{type:Bs(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:iy(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=ra(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function To(e,t){return{exception:{values:[Xs(e,t)]}}}function ra(e,t){const n=t.stacktrace||t.stack||"",r=ry(t),s=sy(t);try{return e(n,r,s)}catch{}return[]}const ny=/Minified React error #\d+;/i;function ry(e){return e&&ny.test(e.message)?1:0}function sy(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function oy(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function wd(e,t,n,r){const s=n&&n.syntheticException||void 0,o=sa(e,t,s,r);return rn(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),wt(o)}function Id(e,t,n="info",r,s){const o=r&&r.syntheticException||void 0,i=fi(e,t,o,s);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),wt(i)}function sa(e,t,n,r,s){let o;if(rl(t)&&t.error)return To(e,t.error);if(Ya(t)||Up(t)){const i=t;if("stack"in t)o=To(e,t);else{const a=i.name||(Ya(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=fi(e,c,n,r),Zo(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return gt(t)?To(e,t):nn(t)||Bs(t)?(o=ty(e,t,n,s),rn(o,{synthetic:!0}),o):(o=fi(e,t,n,r),Zo(o,`${t}`,void 0),rn(o,{synthetic:!0}),o)}function fi(e,t,n,r){const s={};if(r&&n){const o=ra(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(Di(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function iy(e,{isUnhandledRejection:t}){const n=rh(e),r=t?"promise rejection":"exception";return rl(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Bs(e)?`Event \`${ay(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function ay(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function cy(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function Td(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:ln(r)}},o=uy(e);return Tt(s,[o])}function uy(e){return[{type:"user_report"},e]}class oa extends pg{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=k.SENTRY_SDK_SOURCE||_h();cd(n,"browser",["browser"],r),super(n),n.sendClientReports&&k.document&&k.document.addEventListener("visibilitychange",()=>{k.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return wd(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Id(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){q&&g.warn("SDK not enabled, will not capture user feedback.");return}const n=Td(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const We=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ly=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Kn=(e,t,n,r)=>{let s,o;return i=>{t.value>=0&&(i||r)&&(o=t.value-(s||0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=ly(t.value,n),e(t)))}},$=L,dy=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Ar=()=>$.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Ks=()=>{const e=Ar();return e&&e.activationStart||0},Jn=(e,t)=>{const n=Ar();let r="navigate";return n&&($.document&&$.document.prerendering||Ks()>0?r="prerender":$.document&&$.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:dy(),navigationType:r}},pn=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Nr=e=>{const t=n=>{(n.type==="pagehide"||$.document&&$.document.visibilityState==="hidden")&&e(n)};$.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},ia=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let Sr=-1;const fy=()=>{Sr=$.document.visibilityState==="hidden"&&!$.document.prerendering?0:1/0},Cs=e=>{$.document.visibilityState==="hidden"&&Sr>-1&&(Sr=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",Cs,!0),removeEventListener("prerenderingchange",Cs,!0))},py=()=>{addEventListener("visibilitychange",Cs,!0),addEventListener("prerenderingchange",Cs,!0)},Js=()=>($.document&&Sr<0&&(fy(),py()),{get firstHiddenTime(){return Sr}}),Or=e=>{$.document&&$.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},hy=[1800,3e3],my=(e,t={})=>{Or(()=>{const n=Js(),r=Jn("FCP");let s;const i=pn("paint",a=>{a.forEach(c=>{c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Ks(),0),r.entries.push(c),s(!0)))})});i&&(s=Kn(e,r,hy,t.reportAllChanges))})},gy=[.1,.25],_y=(e,t={})=>{my(ia(()=>{const n=Jn("CLS",0);let r,s=0,o=[];const i=c=>{c.forEach(u=>{if(!u.hadRecentInput){const d=o[0],l=o[o.length-1];s&&d&&l&&u.startTime-l.startTime<1e3&&u.startTime-d.startTime<5e3?(s+=u.value,o.push(u)):(s=u.value,o=[u])}}),s>n.value&&(n.value=s,n.entries=o,r())},a=pn("layout-shift",i);a&&(r=Kn(e,n,gy,t.reportAllChanges),Nr(()=>{i(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},yy=[100,300],Sy=(e,t={})=>{Or(()=>{const n=Js(),r=Jn("FID");let s;const o=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),s(!0))},i=c=>{c.forEach(o)},a=pn("first-input",i);s=Kn(e,r,yy,t.reportAllChanges),a&&Nr(ia(()=>{i(a.takeRecords()),a.disconnect()}))})};let kd=0,ko=1/0,jr=0;const by=e=>{e.forEach(t=>{t.interactionId&&(ko=Math.min(ko,t.interactionId),jr=Math.max(jr,t.interactionId),kd=jr?(jr-ko)/7+1:0)})};let pi;const Ey=()=>pi?kd:performance.interactionCount||0,vy=()=>{"interactionCount"in performance||pi||(pi=pn("event",by,{type:"event",buffered:!0,durationThreshold:0}))},wy=[200,500],Iy=0,Cd=()=>Ey()-Iy,Oc=10,mt=[],Co={},Dc=e=>{const t=mt[mt.length-1],n=Co[e.interactionId];if(n||mt.length<Oc||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Co[r.id]=r,mt.push(r)}mt.sort((r,s)=>s.latency-r.latency),mt.splice(Oc).forEach(r=>{delete Co[r.id]})}},Ty=()=>{const e=Math.min(mt.length-1,Math.floor(Cd()/50));return mt[e]},ky=(e,t={})=>{Or(()=>{vy();const n=Jn("INP");let r;const s=i=>{i.forEach(c=>{c.interactionId&&Dc(c),c.entryType==="first-input"&&!mt.some(d=>d.entries.some(l=>c.duration===l.duration&&c.startTime===l.startTime))&&Dc(c)});const a=Ty();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},o=pn("event",s,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=Kn(e,n,wy,t.reportAllChanges),o&&("PerformanceEventTiming"in $&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),Nr(()=>{s(o.takeRecords()),n.value<0&&Cd()>0&&(n.value=0,n.entries=[]),r(!0)}))})},Cy=[2500,4e3],Lc={},xy=(e,t={})=>{Or(()=>{const n=Js(),r=Jn("LCP");let s;const o=a=>{const c=a[a.length-1];c&&c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Ks(),0),r.entries=[c],s())},i=pn("largest-contentful-paint",o);if(i){s=Kn(e,r,Cy,t.reportAllChanges);const a=ia(()=>{Lc[r.id]||(o(i.takeRecords()),i.disconnect(),Lc[r.id]=!0,s(!0))});["keydown","click"].forEach(c=>{$.document&&addEventListener(c,()=>setTimeout(a,0),!0)}),Nr(a)}})},Ry=[800,1800],hi=e=>{$.document&&$.document.prerendering?Or(()=>hi(e)):$.document&&$.document.readyState!=="complete"?addEventListener("load",()=>hi(e),!0):setTimeout(e,0)},My=(e,t={})=>{const n=Jn("TTFB"),r=Kn(e,n,Ry,t.reportAllChanges);hi(()=>{const s=Ar();if(s){const o=s.responseStart;if(o<=0||o>performance.now())return;n.value=Math.max(o-Ks(),0),n.entries=[s],r(!0)}})},dr={},xs={};let xd,Rd,Md,Ad,Nd;function aa(e,t=!1){return Dr("cls",e,Ny,xd,t)}function Od(e,t=!1){return Dr("lcp",e,Dy,Md,t)}function Dd(e){return Dr("fid",e,Oy,Rd)}function Ay(e){return Dr("ttfb",e,Ly,Ad)}function Ld(e){return Dr("inp",e,Py,Nd)}function Dn(e,t){return Pd(e,t),xs[e]||(Fy(e),xs[e]=!0),Fd(e,t)}function Zn(e,t){const n=dr[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){We&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${vt(r)}
Error:`,s)}}function Ny(){return _y(e=>{Zn("cls",{metric:e}),xd=e},{reportAllChanges:!0})}function Oy(){return Sy(e=>{Zn("fid",{metric:e}),Rd=e})}function Dy(){return xy(e=>{Zn("lcp",{metric:e}),Md=e},{reportAllChanges:!0})}function Ly(){return My(e=>{Zn("ttfb",{metric:e}),Ad=e})}function Py(){return ky(e=>{Zn("inp",{metric:e}),Nd=e})}function Dr(e,t,n,r,s=!1){Pd(e,t);let o;return xs[e]||(o=n(),xs[e]=!0),r&&t({metric:r}),Fd(e,t,s?o:void 0)}function Fy(e){const t={};e==="event"&&(t.durationThreshold=0),pn(e,n=>{Zn(e,{entries:n})},t)}function Pd(e,t){dr[e]=dr[e]||[],dr[e].push(t)}function Fd(e,t,n){return()=>{n&&n();const r=dr[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function $y(e){return"duration"in e}function xo(e){return typeof e=="number"&&isFinite(e)}function Ln(e,t,n,{...r}){const s=F(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),an(e,()=>{const o=Fe({startTime:t,...r});return o&&o.end(n),o})}function $d(e){const t=R();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:o}=e,{release:i,environment:a}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c&&c.getReplayId(),d=W(),l=d.getUser(),f=l!==void 0?l.email||l.id||l.ip_address:void 0;let p;try{p=d.getScopeData().contexts.profile.profile_id}catch{}const h={release:i,environment:a,user:f||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":$.navigator&&$.navigator.userAgent,...s};return Fe({name:n,attributes:h,startTime:o,experimental:{standalone:!0}})}function ca(){return $&&$.addEventListener&&$.performance}function Ee(e){return e/1e3}function Hy(){let e=0,t,n;if(!Uy())return;let r=!1;function s(){r||(r=!0,n&&By(e,t,n),o())}const o=aa(({metric:i})=>{const a=i.entries[i.entries.length-1];a&&(e=i.value,t=a)},!0);Nr(()=>{s()}),setTimeout(()=>{const i=R(),a=Me([i,"optionalAccess",l=>l.on,"call",l=>l("startNavigationSpan",()=>{s(),a&&a()})]),c=ye(),u=c&&he(c),d=u&&F(u);d&&d.op==="pageload"&&(n=u.spanContext().spanId)},0)}function By(e,t,n){We&&g.log(`Sending CLS span (${e})`);const r=Ee((xe||0)+(Me([t,"optionalAccess",c=>c.startTime])||0)),s=W().getScopeData().transactionName,o=t?Et(Me([t,"access",c=>c.sources,"access",c=>c[0],"optionalAccess",c=>c.node])):"Layout shift",i=Se({[K]:"auto.http.browser.cls",[Ae]:"ui.webvital.cls",[qi]:Me([t,"optionalAccess",c=>c.duration])||0,"sentry.pageload.span_id":n}),a=$d({name:o,transaction:s,attributes:i,startTime:r});Me([a,"optionalAccess",c=>c.addEvent,"call",c=>c("cls",{[Ws]:"",[js]:e})]),Me([a,"optionalAccess",c=>c.end,"call",c=>c(r)])}function Uy(){try{return Me([PerformanceObserver,"access",e=>e.supportedEntryTypes,"optionalAccess",e=>e.includes,"call",e=>e("layout-shift")])}catch{return!1}}const Wy=2147483647;let Pc=0,Ce={},st,fr;function jy({recordClsStandaloneSpans:e}){const t=ca();if(t&&xe){t.mark&&$.performance.mark("sentry-tracing-init");const n=Xy(),r=Vy(),s=Ky(),o=e?Hy():Yy();return()=>{n(),r(),s(),o&&o()}}return()=>{}}function zy(){Dn("longtask",({entries:e})=>{if(ye())for(const t of e){const n=Ee(xe+t.startTime),r=Ee(t.duration),s=Fe({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[K]:"auto.ui.browser.metrics"}});s&&s.end(n+r)}})}function qy(){new PerformanceObserver(t=>{if(ye())for(const n of t.getEntries()){if(!n.scripts[0])continue;const r=Ee(xe+n.startTime),s=Ee(n.duration),o={[K]:"auto.ui.browser.metrics"},i=n.scripts[0],{invoker:a,invokerType:c,sourceURL:u,sourceFunctionName:d,sourceCharPosition:l}=i;o["browser.script.invoker"]=a,o["browser.script.invoker_type"]=c,u&&(o["code.filepath"]=u),d&&(o["code.function"]=d),l!==-1&&(o["browser.script.source_char_position"]=l);const f=Fe({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:r,attributes:o});f&&f.end(r+s)}}).observe({type:"long-animation-frame",buffered:!0})}function Gy(){Dn("event",({entries:e})=>{if(ye()){for(const t of e)if(t.name==="click"){const n=Ee(xe+t.startTime),r=Ee(t.duration),s={name:Et(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[K]:"auto.ui.browser.metrics"}},o=ol(t.target);o&&(s.attributes["ui.component_name"]=o);const i=Fe(s);i&&i.end(n+r)}}})}function Yy(){return aa(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(We&&g.log(`[Measurements] Adding CLS ${e.value}`),Ce.cls={value:e.value,unit:""},fr=t)},!0)}function Vy(){return Od(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(We&&g.log("[Measurements] Adding LCP"),Ce.lcp={value:e.value,unit:"millisecond"},st=t)},!0)}function Xy(){return Dd(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Ee(xe),r=Ee(t.startTime);We&&g.log("[Measurements] Adding FID"),Ce.fid={value:e.value,unit:"millisecond"},Ce["mark.fid"]={value:n+r,unit:"second"}})}function Ky(){return Ay(({metric:e})=>{e.entries[e.entries.length-1]&&(We&&g.log("[Measurements] Adding TTFB"),Ce.ttfb={value:e.value,unit:"millisecond"})})}function Jy(e,t){const n=ca();if(!n||!$.performance.getEntries||!xe)return;We&&g.log("[Tracing] Adding & adjusting spans using Performance API");const r=Ee(xe),s=n.getEntries(),{op:o,start_timestamp:i}=F(e);if(s.slice(Pc).forEach(a=>{const c=Ee(a.startTime),u=Ee(Math.max(0,a.duration));if(!(o==="navigation"&&i&&r+c<i))switch(a.entryType){case"navigation":{Qy(e,a,r);break}case"mark":case"paint":case"measure":{Zy(e,a,c,u,r);const d=Js(),l=a.startTime<d.firstHiddenTime;a.name==="first-paint"&&l&&(We&&g.log("[Measurements] Adding FP"),Ce.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&l&&(We&&g.log("[Measurements] Adding FCP"),Ce.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{tS(e,a,a.name,c,u,r);break}}}),Pc=Math.max(s.length-1,0),nS(e),o==="pageload"){sS(Ce);const a=Ce["mark.fid"];a&&Ce.fid&&(Ln(e,a.value,a.value+Ee(Ce.fid.value),{name:"first input delay",op:"ui.action",attributes:{[K]:"auto.ui.browser.metrics"}}),delete Ce["mark.fid"]),(!("fcp"in Ce)||!t.recordClsOnPageloadSpan)&&delete Ce.cls,Object.entries(Ce).forEach(([c,u])=>{Bl(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",r),rS(e)}st=void 0,fr=void 0,Ce={}}function Zy(e,t,n,r,s){const o=Ar(),i=Ee(o?o.requestStart:0),a=s+Math.max(n,i),c=s+n,u=c+r,d={[K]:"auto.resource.browser.metrics"};return a!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=a),Ln(e,a,u,{name:t.name,op:t.entryType,attributes:d}),a}function Qy(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{zr(e,t,r,n)}),zr(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),zr(e,t,"fetch",n,"cache","domainLookupStart"),zr(e,t,"domainLookup",n,"DNS"),eS(e,t,n)}function zr(e,t,n,r,s,o){const i=o?t[o]:t[`${n}End`],a=t[`${n}Start`];!a||!i||Ln(e,r+Ee(a),r+Ee(i),{op:"browser",name:s||n,attributes:{[K]:"auto.ui.browser.metrics"}})}function eS(e,t,n){const r=n+Ee(t.requestStart),s=n+Ee(t.responseEnd),o=n+Ee(t.responseStart);t.responseEnd&&(Ln(e,r,s,{op:"browser",name:"request",attributes:{[K]:"auto.ui.browser.metrics"}}),Ln(e,o,s,{op:"browser",name:"response",attributes:{[K]:"auto.ui.browser.metrics"}}))}function tS(e,t,n,r,s,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const i=Kt(n),a={[K]:"auto.resource.browser.metrics"};Ro(a,t,"transferSize","http.response_transfer_size"),Ro(a,t,"encodedBodySize","http.response_content_length"),Ro(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),i.protocol&&(a["url.scheme"]=i.protocol.split(":").pop()),i.host&&(a["server.address"]=i.host),a["url.same_origin"]=n.includes($.location.origin);const c=o+r,u=c+s;Ln(e,c,u,{name:n.replace($.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function nS(e){const t=$.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),xo(n.rtt)&&(Ce["connection.rtt"]={value:n.rtt,unit:"millisecond"})),xo(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),xo(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function rS(e){st&&(We&&g.log("[Measurements] Adding LCP Data"),st.element&&e.setAttribute("lcp.element",Et(st.element)),st.id&&e.setAttribute("lcp.id",st.id),st.url&&e.setAttribute("lcp.url",st.url.trim().slice(0,200)),e.setAttribute("lcp.size",st.size)),fr&&fr.sources&&(We&&g.log("[Measurements] Adding CLS Data"),fr.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Et(t.node))))}function Ro(e,t,n,r){const s=t[n];s!=null&&s<Wy&&(e[r]=s)}function sS(e){const t=Ar();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(We&&g.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const oS=1e3;let Fc,mi,gi;function Hd(e){const t="dom";$t(t,e),Ht(t,iS)}function iS(){if(!$.document)return;const e=Ye.bind(null,"dom"),t=$c(e,!0);$.document.addEventListener("click",t,!1),$.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=$[n]&&$[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Pe(r,"addEventListener",function(s){return function(o,i,a){if(o==="click"||o=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const l=$c(e);d.handler=l,s.call(this,o,l,a)}d.refCount++}catch{}return s.call(this,o,i,a)}}),Pe(r,"removeEventListener",function(s){return function(o,i,a){if(o==="click"||o=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(s.call(this,o,d.handler,a),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,o,i,a)}}))})}function aS(e){if(e.type!==mi)return!1;try{if(!e.target||e.target._sentryId!==gi)return!1}catch{}return!0}function cS(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function $c(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=uS(n);if(cS(n.type,r))return;$e(n,"_sentryCaptured",!0),r&&!r._sentryId&&$e(r,"_sentryId",ae());const s=n.type==="keypress"?"input":n.type;aS(n)||(e({event:n,name:s,global:t}),mi=n.type,gi=r?r._sentryId:void 0),clearTimeout(Fc),Fc=$.setTimeout(()=>{gi=void 0,mi=void 0},oS)}}function uS(e){try{return e.target}catch{return null}}let qr;function Zs(e){const t="history";$t(t,e),Ht(t,lS)}function lS(){if(!Jh())return;const e=$.onpopstate;$.onpopstate=function(...n){const r=$.location.href,s=qr;if(qr=r,Ye("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const o=qr,i=String(s);qr=i,Ye("history",{from:o,to:i})}return n.apply(this,r)}}Pe($.history,"pushState",t),Pe($.history,"replaceState",t)}const ss={};function Bd(e){const t=ss[e];if(t)return t;let n=$[e];if(Xo(n))return ss[e]=n.bind($);const r=$.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){We&&g.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(ss[e]=n.bind($))}function Hc(e){ss[e]=void 0}function Pn(...e){return Bd("setTimeout")(...e)}const Nt="__sentry_xhr_v3__";function ua(e){const t="xhr";$t(t,e),Ht(t,dS)}function dS(){if(!$.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=ce()*1e3,o=_t(r[0])?r[0].toUpperCase():void 0,i=fS(r[1]);if(!o||!i)return t.apply(n,r);n[Nt]={method:o,url:i,request_headers:{}},o==="POST"&&i.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const a=()=>{const c=n[Nt];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const u={endTimestamp:ce()*1e3,startTimestamp:s,xhr:n};Ye("xhr",u)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,u,d){return a(),c.apply(u,d)}}):n.addEventListener("readystatechange",a),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,u,d){const[l,f]=d,p=u[Nt];return p&&_t(l)&&_t(f)&&(p.request_headers[l.toLowerCase()]=f),c.apply(u,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[Nt];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:ce()*1e3,xhr:n};return Ye("xhr",o),t.apply(n,r)}})}function fS(e){if(_t(e))return e;try{return e.toString()}catch{}}const Mo=[],os=new Map;function pS(){if(ca()&&xe){const t=hS();return()=>{t()}}return()=>{}}const Bc={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function hS(){return Ld(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(h=>h.duration===e.value&&Bc[h.name]);if(!t)return;const{interactionId:n}=t,r=Bc[t.name],s=Ee(xe+t.startTime),o=Ee(e.value),i=ye(),a=i?he(i):void 0,u=(n!=null?os.get(n):void 0)||a,d=u?F(u).description:W().getScopeData().transactionName,l=Et(t.target),f=Se({[K]:"auto.http.browser.inp",[Ae]:`ui.interaction.${r}`,[qi]:t.duration}),p=$d({name:l,transaction:d,attributes:f,startTime:s});Me([p,"optionalAccess",h=>h.addEvent,"call",h=>h("inp",{[Ws]:"millisecond",[js]:e.value})]),Me([p,"optionalAccess",h=>h.end,"call",h=>h(s+o)])})}function mS(e){const t=({entries:n})=>{const r=ye(),s=r&&he(r);n.forEach(o=>{if(!$y(o)||!s)return;const i=o.interactionId;if(i!=null&&!os.has(i)){if(Mo.length>10){const a=Mo.shift();os.delete(a)}Mo.push(i),os.set(i,s)}})};Dn("event",t),Dn("first-input",t)}function Qs(e,t=Bd("fetch")){let n=0,r=0;function s(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Hc("fetch"),bs("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=i,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Hc("fetch"),n-=i,r--,bs(c)}}return od(e,s)}const gS=10,_S=20,yS=30,SS=40,bS=50;function Fn(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?ct:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const ES=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,vS=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,wS=/\((\S*)(?::(\d+))(?::(\d+))\)/,IS=e=>{const t=ES.exec(e);if(t){const[,r,s,o]=t;return Fn(r,ct,+s,+o)}const n=vS.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=wS.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[s,o]=zd(n[1]||ct,n[2]);return Fn(o,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Ud=[yS,IS],TS=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,kS=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,CS=e=>{const t=TS.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=kS.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||ct;return[s,r]=zd(s,r),Fn(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Wd=[bS,CS],xS=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,RS=e=>{const t=xS.exec(e);return t?Fn(t[2],t[1]||ct,+t[3],t[4]?+t[4]:void 0):void 0},MS=[SS,RS],AS=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,NS=e=>{const t=AS.exec(e);return t?Fn(t[2],t[3]||ct,+t[1]):void 0},OS=[gS,NS],DS=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,LS=e=>{const t=DS.exec(e);return t?Fn(t[5],t[3]||t[4]||ct,+t[1],+t[2]):void 0},PS=[_S,LS],jd=[Ud,Wd],la=fl(...jd),zd=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:ct,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Gr=1024,FS="Breadcrumbs",$S=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:FS,setup(n){t.console&&pl(US(n)),t.dom&&Hd(BS(n,t.dom)),t.xhr&&ua(WS(n)),t.fetch&&$i(jS(n)),t.history&&Zs(zS(n)),t.sentry&&n.on("beforeSendEvent",HS(n))}}},qd=$S;function HS(e){return function(n){R()===e&&tt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ct(n)},{event:n})}}function BS(e,t){return function(r){if(R()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Gr&&(q&&g.warn(`\`dom.maxStringLength\` cannot exceed ${Gr}, but a value of ${a} was configured. Sentry will use ${Gr} instead.`),a=Gr),typeof i=="string"&&(i=[i]);try{const u=r.event,d=qS(u)?u.target:u;s=Et(d,{keyAttrs:i,maxStringLength:a}),o=ol(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};o&&(c.data={"ui.component_name":o}),tt(c,{event:r.event,name:r.name,global:r.global})}}function US(e){return function(n){if(R()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:wl(n.level),message:gs(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${gs(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;tt(r,{input:n.args,level:n.level})}}function WS(e){return function(n){if(R()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[Nt];if(!r||!s||!o)return;const{method:i,url:a,status_code:c,body:u}=o,d={method:i,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s};tt({category:"xhr",data:d,type:"http"},l)}}function jS(e){return function(n){if(R()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};tt({category:"fetch",data:o,level:"error",type:"http"},i)}else{const o=n.response,i={...n.fetchData,status_code:o&&o.status},a={input:n.args,response:o,startTimestamp:r,endTimestamp:s};tt({category:"fetch",data:i,type:"http"},a)}}}function zS(e){return function(n){if(R()!==e)return;let r=n.from,s=n.to;const o=Kt(k.location.href);let i=r?Kt(r):void 0;const a=Kt(s);(!i||!i.path)&&(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),tt({category:"navigation",data:{from:r,to:s}})}}function qS(e){return!!e&&!!e.target}const GS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],YS="BrowserApiErrors",VS=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:YS,setupOnce(){t.setTimeout&&Pe(k,"setTimeout",Uc),t.setInterval&&Pe(k,"setInterval",Uc),t.requestAnimationFrame&&Pe(k,"requestAnimationFrame",XS),t.XMLHttpRequest&&"XMLHttpRequest"in k&&Pe(XMLHttpRequest.prototype,"send",KS);const n=t.eventTarget;n&&(Array.isArray(n)?n:GS).forEach(JS)}}},Gd=VS;function Uc(e){return function(...t){const n=t[0];return t[0]=On(n,{mechanism:{data:{function:vt(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function XS(e){return function(t){return e.apply(this,[On(t,{mechanism:{data:{function:"requestAnimationFrame",handler:vt(e)},handled:!1,type:"instrument"}})])}}function KS(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Pe(n,s,function(o){const i={mechanism:{data:{function:s,handler:vt(o)},handled:!1,type:"instrument"}},a=Fi(o);return a&&(i.mechanism.data.handler=vt(a)),On(o,i)})}),e.apply(this,t)}}function JS(e){const t=k,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Pe(n,"addEventListener",function(r){return function(s,o,i){try{typeof o.handleEvent=="function"&&(o.handleEvent=On(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:vt(o),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,On(o,{mechanism:{data:{function:"addEventListener",handler:vt(o),target:e},handled:!1,type:"instrument"}}),i])}}),Pe(n,"removeEventListener",function(r){return function(s,o,i){const a=o;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,s,c,i)}catch{}return r.call(this,s,a,i)}}))}const ZS="GlobalHandlers",QS=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:ZS,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(eb(n),Wc("onerror")),t.onunhandledrejection&&(tb(n),Wc("onunhandledrejection"))}}},Yd=QS;function eb(e){yl(t=>{const{stackParser:n,attachStacktrace:r}=Vd();if(R()!==e||vd())return;const{msg:s,url:o,line:i,column:a,error:c}=t,u=sb(sa(n,c||s,void 0,r,!1),o,i,a);u.level="error",Xn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function tb(e){Sl(t=>{const{stackParser:n,attachStacktrace:r}=Vd();if(R()!==e||vd())return;const s=nb(t),o=Li(s)?rb(s):sa(n,s,void 0,r,!0);o.level="error",Xn(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function nb(e){if(Li(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function rb(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function sb(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,l=_t(t)&&t.length>0?t:Pi();return c.length===0&&c.push({colno:u,filename:l,function:ct,in_app:!0,lineno:d}),e}function Wc(e){q&&g.log(`Global Handler attached: ${e}`)}function Vd(){const e=R();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Xd=()=>({name:"HttpContext",preprocessEvent(e){if(!k.navigator&&!k.location&&!k.document)return;const t=e.request&&e.request.url||k.location&&k.location.href,{referrer:n}=k.document||{},{userAgent:r}=k.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:s};e.request=o}}),ob="cause",ib=5,ab="LinkedErrors",cb=(e={})=>{const t=e.limit||ib,n=e.key||ob;return{name:ab,preprocessEvent(r,s,o){const i=o.getOptions();Gp(Xs,i.stackParser,i.maxValueLength,n,t,r,s)}}},Kd=cb;function da(e){return[ld(),ud(),Gd(),qd(),Yd(),Kd(),hd(),Xd()]}function ub(e={}){const t={defaultIntegrations:da(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:k.SENTRY_RELEASE&&k.SENTRY_RELEASE.id?k.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function lb(){const e=typeof k.window<"u"&&k;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,s=k.location&&k.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],i=!!r&&k===k.top&&o.some(c=>s.startsWith(`${c}//`)),a=typeof e.nw<"u";return!!r&&!i&&!a}function db(e={}){const t=ub(e);if(lb()){un(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}q&&(hl()||g.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:oh(t.stackParser||la),integrations:lg(t),transport:t.transport||Qs},r=gg(oa,n);return t.autoSessionTracking&&hb(),r}function _i(e={}){if(!k.document){q&&g.error("Global document not defined in showReportDialog call");return}const t=W(),n=t.getClient(),r=n&&n.getDsn();if(!r){q&&g.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=Kl();a&&(e.eventId=a)}const s=k.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=cg(r,e),e.onLoad&&(s.onload=e.onLoad);const{onClose:o}=e;if(o){const a=c=>{if(c.data==="__sentry_reportdialog_closed__")try{o()}finally{k.removeEventListener("message",a)}};k.addEventListener("message",a)}const i=k.document.head||k.document.body;i?i.appendChild(s):q&&g.error("Not injecting report dialog. No injection point found in HTML")}function fb(){}function pb(e){e()}function hb(){if(typeof k.document>"u"){q&&g.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}Ts({ignoreDuration:!0}),ui(),Zs(({from:e,to:t})=>{e!==void 0&&e!==t&&(Ts({ignoreDuration:!0}),ui())})}function mb(e){const t=R();t&&t.captureUserFeedback(e)}const gb={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling"},jc=k;async function fa(e,t){const n=gb[e],r=jc.Sentry=jc.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const s=r[e];if(typeof s=="function"&&!("_isShim"in s))return s;const o=_b(n),i=k.document.createElement("script");i.src=o,i.crossOrigin="anonymous",i.referrerPolicy="origin",t&&i.setAttribute("nonce",t);const a=new Promise((u,d)=>{i.addEventListener("load",()=>u()),i.addEventListener("error",d)});k.document.body.appendChild(i);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const c=r[e];if(typeof c!="function")throw new Error(`Could not load integration: ${e}`);return c}function _b(e){const t=R(),n=t&&t.getOptions(),r=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${yt}/${e}.min.js`,r).toString()}const yb=L,Sb="ReportingObserver",zc=new WeakMap,bb=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(zc.has(R()))for(const s of r)Ve(o=>{o.setExtra("url",s.url);const i=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(o.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}Is(`${i}: ${a}`)})}return{name:Sb,setupOnce(){if(!ch())return;new yb.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){zc.set(r,!0)}}},Eb=bb,vb="HttpClient",wb=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:vb,setup(n){Nb(n,t),Ob(n,t)}}},Ib=wb;function Tb(e,t,n,r){if(Zd(e,n.status,n.url)){const s=Db(t,r);let o,i,a,c;ef()&&([o,a]=qc("Cookie",s),[i,c]=qc("Set-Cookie",n));const u=Qd({url:s.url,method:s.method,status:n.status,requestHeaders:o,responseHeaders:i,requestCookies:a,responseCookies:c});Xn(u)}}function qc(e,t){const n=xb(t.headers);let r;try{const s=n[e]||n[e.toLowerCase()]||void 0;s&&(r=Jd(s))}catch{q&&g.log(`Could not extract cookies from header ${e}`)}return[n,r]}function kb(e,t,n,r){if(Zd(e,t.status,t.responseURL)){let s,o,i;if(ef()){try{const c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(o=Jd(c))}catch{q&&g.log("Could not extract cookies from response headers")}try{i=Rb(t)}catch{q&&g.log("Could not extract headers from response")}s=r}const a=Qd({url:t.responseURL,method:n,status:t.status,requestHeaders:s,responseHeaders:i,responseCookies:o});Xn(a)}}function Cb(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Jd(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return r&&s&&(t[r]=s),t},{})}function xb(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Rb(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return s&&o&&(n[s]=o),n},{}):{}}function Mb(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function Ab(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function Nb(e,t){ml()&&$i(n=>{if(R()!==e)return;const{response:r,args:s}=n,[o,i]=s;r&&Tb(t,o,r,i)})}function Ob(e,t){"XMLHttpRequest"in L&&ua(n=>{if(R()!==e)return;const r=n.xhr,s=r[Nt];if(!s)return;const{method:o,request_headers:i}=s;try{kb(t,r,o,i)}catch(a){q&&g.warn("Error while extracting response event form XHR response",a)}})}function Zd(e,t,n){return Ab(e.failedRequestStatusCodes,t)&&Mb(e.failedRequestTargets,n)&&!ad(n,R())}function Qd(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:Cb(e.responseHeaders)}}};return rn(n,{type:"http.client",handled:!1}),n}function Db(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function ef(){const e=R();return e?!!e.getOptions().sendDefaultPii:!1}const Ao=L,Lb=7,Pb="ContextLines",Fb=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:Lb;return{name:Pb,processEvent(n){return Hb(n,t)}}},$b=Fb;function Hb(e,t){const n=Ao.document,r=Ao.location&&Nh(Ao.location.href);if(!n||!r)return e;const s=e.exception&&e.exception.values;if(!s||!s.length)return e;const o=n.documentElement.innerHTML;if(!o)return e;const i=["<!DOCTYPE html>","<html>",...o.split(`
`),"</html>"];return s.forEach(a=>{const c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>Bb(u,i,r,t)))}),e}function Bb(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Eh(t,e,r),e}const ie=L,pa="sentryReplaySession",Ub="replay_event",ha="Unable to send Replay",Wb=3e5,jb=9e5,zb=5e3,qb=5500,Gb=6e4,Yb=5e3,Vb=3,Gc=15e4,Yr=5e3,Xb=3e3,Kb=300,ma=2e7,Jb=4999,Zb=15e3,Yc=36e5;function yi(e,t){return e??t()}function br(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}var Ie;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Ie||(Ie={}));function Qb(e){return e.nodeType===e.ELEMENT_NODE}function pr(e){const t=br([e,"optionalAccess",n=>n.host]);return br([t,"optionalAccess",n=>n.shadowRoot])===e}function hr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function eE(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function tE(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Rs(e){try{const t=e.rules||e.cssRules;return t?eE(Array.from(t,tf).join("")):null}catch{return null}}function tf(e){let t;if(rE(e))try{t=Rs(e.styleSheet)||tE(e)}catch{}else if(sE(e)&&e.selectorText.includes(":"))return nE(e.cssText);return t||e.cssText}function nE(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function rE(e){return"styleSheet"in e}function sE(e){return"selectorText"in e}class nf{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=br([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return yi(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function oE(){return new nf}function eo({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Er({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function $n(e){return e.toLowerCase()}function Si(e){return e.toUpperCase()}const Vc="__rrweb_original__";function iE(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=Vc in o?o[Vc]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function ga(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?$n(t):null}function Ms(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function rf(e,t){let n;try{n=new URL(e,yi(t,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return yi(br([s,"optionalAccess",o=>o[1]]),()=>null)}const Xc={};function sf(e){const t=Xc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Xc[e]=r.bind(window)}function bi(...e){return sf("setTimeout")(...e)}function of(...e){return sf("clearTimeout")(...e)}let aE=1;const cE=new RegExp("[^a-z0-9-_:]"),vr=-2;function _a(){return aE++}function uE(e){if(e instanceof HTMLFormElement)return"form";const t=$n(e.tagName);return cE.test(t)?"div":t}function lE(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let yn,Kc;const dE=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,fE=/^(?:[a-z+]+:)?\/\//i,pE=/^www\..*/i,hE=/^(data:)([^,]*),(.*)/i;function As(e,t){return(e||"").replace(dE,(n,r,s,o,i,a)=>{const c=s||i||a,u=r||o||"";if(!c)return n;if(fE.test(c)||pE.test(c))return`url(${u}${c}${u})`;if(hE.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${lE(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const mE=/^[^ \t\n\r\u000c]+/,gE=/^[, \t\n\r\u000c]+/;function _E(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const a=o.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const s=[];for(;r(gE),!(n>=t.length);){let o=r(mE);if(o.slice(-1)===",")o=wn(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=wn(e,o);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((o+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((o+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return s.join(", ")}function wn(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function yE(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function ya(){const e=document.createElement("a");return e.href="",e.href}function af(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?wn(e,r):n==="srcset"?_E(e,r):n==="style"?As(r,ya()):t==="object"&&n==="data"?wn(e,r):typeof o=="function"?o(n,r,s):r)}function cf(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function SE(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function bE(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Vt(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Vt(e.parentNode,t,n,r+1)}function In(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(bE(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Hn(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(o){if(c=Vt(i,In(r,s)),c<0)return!0;a=Vt(i,In(t,n),c>=0?c:1/0)}else{if(a=Vt(i,In(t,n)),a<0)return!1;c=Vt(i,In(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function EE(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=bi(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{of(a),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return bi(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function vE(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=bi(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{of(o),r=!0,t()})}function wE(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:m,maskInputFn:S,dataURLOptions:_={},inlineImages:E,recordCanvas:N,keepIframeSrcFn:C,newlyAddedElement:M=!1}=t,w=IE(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ie.Document,childNodes:[],compatMode:e.compatMode}:{type:Ie.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ie.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return kE(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:S,dataURLOptions:_,inlineImages:E,recordCanvas:N,keepIframeSrcFn:C,newlyAddedElement:M,rootId:w,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return TE(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:h,maskInputFn:S,rootId:w});case e.CDATA_SECTION_NODE:return{type:Ie.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:Ie.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function IE(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function TE(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,m=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||br([e,"access",_=>_.parentNode,"access",_=>_.sheet,"optionalAccess",_=>_.cssRules])&&(f=Rs(e.parentNode.sheet))}catch(_){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${_}`,e)}f=As(f,ya())}h&&(f="SCRIPT_PLACEHOLDER");const S=Hn(e,r,o,s,i,n);if(!p&&!h&&!m&&f&&S&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),m&&f&&(c.textarea||S)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const _=eo({type:null,tagName:l,maskInputOptions:c});f=Er({isMasked:Hn(e,r,o,s,i,_),element:e,value:f,maskInputFn:u})}return{type:Ie.Text,textContent:f||"",isStyle:p,rootId:d}}function kE(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:m,maskAllText:S,maskTextClass:_,unmaskTextClass:E,maskTextSelector:N,unmaskTextSelector:C}=t,M=SE(e,r,s,o),w=uE(e);let b={};const x=e.attributes.length;for(let y=0;y<x;y++){const I=e.attributes[y];I.name&&!cf(w,I.name,I.value)&&(b[I.name]=af(n,w,$n(I.name),I.value,e,c))}if(w==="link"&&i){const y=Array.from(n.styleSheets).find(T=>T.href===e.href);let I=null;y&&(I=Rs(y)),I&&(delete b.rel,delete b.href,b._cssText=As(I,y.href))}if(w==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const y=Rs(e.sheet);y&&(b._cssText=As(y,ya()))}if(w==="input"||w==="textarea"||w==="select"||w==="option"){const y=e,I=ga(y),T=Ms(y,Si(w),I),U=y.checked;if(I!=="submit"&&I!=="button"&&T){const Y=Hn(y,_,N,E,C,eo({type:I,tagName:Si(w),maskInputOptions:a}));b.value=Er({isMasked:Y,element:y,value:T,maskInputFn:u})}U&&(b.checked=U)}if(w==="option"&&(e.selected&&!a.select?b.selected=!0:delete b.selected),w==="canvas"&&f){if(e.__context==="2d")iE(e)||(b.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const y=e.toDataURL(d.type,d.quality),I=document.createElement("canvas");I.width=e.width,I.height=e.height;const T=I.toDataURL(d.type,d.quality);y!==T&&(b.rr_dataURL=y)}}if(w==="img"&&l){yn||(yn=n.createElement("canvas"),Kc=yn.getContext("2d"));const y=e,I=y.crossOrigin;y.crossOrigin="anonymous";const T=()=>{y.removeEventListener("load",T);try{yn.width=y.naturalWidth,yn.height=y.naturalHeight,Kc.drawImage(y,0,0),b.rr_dataURL=yn.toDataURL(d.type,d.quality)}catch(U){console.warn(`Cannot inline img src=${y.currentSrc}! Error: ${U}`)}I?b.crossOrigin=I:y.removeAttribute("crossorigin")};y.complete&&y.naturalWidth!==0?T():y.addEventListener("load",T)}if((w==="audio"||w==="video")&&(b.rr_mediaState=e.paused?"paused":"played",b.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),M){const{width:y,height:I}=e.getBoundingClientRect();b={class:b.class,rr_width:`${y}px`,rr_height:`${I}px`}}w==="iframe"&&!p(b.src)&&(!M&&!e.contentDocument&&(b.rr_src=b.src),delete b.src);let v;try{customElements.get(w)&&(v=!0)}catch{}return{type:Ie.Element,tagName:w,attributes:b,childNodes:[],isSVG:yE(e)||void 0,needBlock:M,rootId:m,isCustom:v}}function oe(e){return e==null?"":e.toLowerCase()}function CE(e,t){if(t.comment&&e.type===Ie.Comment)return!0;if(e.type===Ie.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&rf(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(oe(e.attributes.name).match(/^msapplication-tile(image|color)$/)||oe(e.attributes.name)==="application-name"||oe(e.attributes.rel)==="icon"||oe(e.attributes.rel)==="apple-touch-icon"||oe(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&oe(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(oe(e.attributes.property).match(/^(og|twitter|fb):/)||oe(e.attributes.name).match(/^(og|twitter):/)||oe(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(oe(e.attributes.name)==="robots"||oe(e.attributes.name)==="googlebot"||oe(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(oe(e.attributes.name)==="author"||oe(e.attributes.name)==="generator"||oe(e.attributes.name)==="framework"||oe(e.attributes.name)==="publisher"||oe(e.attributes.name)==="progid"||oe(e.attributes.property).match(/^article:/)||oe(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(oe(e.attributes.name)==="google-site-verification"||oe(e.attributes.name)==="yandex-verification"||oe(e.attributes.name)==="csrf-token"||oe(e.attributes.name)==="p:domain_verify"||oe(e.attributes.name)==="verify-v1"||oe(e.attributes.name)==="verification"||oe(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Tn(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:N={},inlineImages:C=!1,recordCanvas:M=!1,onSerialize:w,onIframeLoad:b,iframeLoadTimeout:x=5e3,onStylesheetLoad:v,stylesheetLoadTimeout:y=5e3,keepIframeSrcFn:I=()=>!1,newlyAddedElement:T=!1}=t;let{preserveWhiteSpace:U=!0}=t;const Y=wE(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,dataURLOptions:N,inlineImages:C,recordCanvas:M,keepIframeSrcFn:I,newlyAddedElement:T});if(!Y)return console.warn(e,"not serialized"),null;let j;r.hasNode(e)?j=r.getId(e):CE(Y,E)||!U&&Y.type===Ie.Text&&!Y.isStyle&&!Y.textContent.replace(/^\s+|\s+$/gm,"").length?j=vr:j=_a();const A=Object.assign(Y,{id:j});if(r.add(e,A),j===vr)return null;w&&w(e);let le=!f;if(A.type===Ie.Element){le=le&&!A.needBlock,delete A.needBlock;const H=e.shadowRoot;H&&hr(H)&&(A.isShadowHost=!0)}if((A.type===Ie.Document||A.type===Ie.Element)&&le){E.headWhitespace&&A.type===Ie.Element&&A.tagName==="head"&&(U=!1);const H={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:N,inlineImages:C,recordCanvas:M,preserveWhiteSpace:U,onSerialize:w,onIframeLoad:b,iframeLoadTimeout:x,onStylesheetLoad:v,stylesheetLoadTimeout:y,keepIframeSrcFn:I};for(const te of Array.from(e.childNodes)){const Re=Tn(te,H);Re&&A.childNodes.push(Re)}if(Qb(e)&&e.shadowRoot)for(const te of Array.from(e.shadowRoot.childNodes)){const Re=Tn(te,H);Re&&(hr(e.shadowRoot)&&(Re.isShadow=!0),A.childNodes.push(Re))}}return e.parentNode&&pr(e.parentNode)&&hr(e.parentNode)&&(A.isShadow=!0),A.type===Ie.Element&&A.tagName==="iframe"&&EE(e,()=>{const H=e.contentDocument;if(H&&b){const te=Tn(H,{doc:H,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:N,inlineImages:C,recordCanvas:M,preserveWhiteSpace:U,onSerialize:w,onIframeLoad:b,iframeLoadTimeout:x,onStylesheetLoad:v,stylesheetLoadTimeout:y,keepIframeSrcFn:I});te&&b(e,te)}},x),A.type===Ie.Element&&A.tagName==="link"&&typeof A.attributes.rel=="string"&&(A.attributes.rel==="stylesheet"||A.attributes.rel==="preload"&&typeof A.attributes.href=="string"&&rf(A.attributes.href)==="css")&&vE(e,()=>{if(v){const H=Tn(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:N,inlineImages:C,recordCanvas:M,preserveWhiteSpace:U,onSerialize:w,onIframeLoad:b,iframeLoadTimeout:x,onStylesheetLoad:v,stylesheetLoadTimeout:y,keepIframeSrcFn:I});H&&v(e,H)}},y),A}function xE(e,t){const{mirror:n=new nf,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOM:E=!1,dataURLOptions:N,preserveWhiteSpace:C,onSerialize:M,onIframeLoad:w,iframeLoadTimeout:b,onStylesheetLoad:x,stylesheetLoadTimeout:v,keepIframeSrcFn:y=()=>!1}=t||{};return Tn(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:N,inlineImages:f,recordCanvas:p,preserveWhiteSpace:C,onSerialize:M,onIframeLoad:w,iframeLoadTimeout:b,onStylesheetLoad:x,stylesheetLoadTimeout:v,keepIframeSrcFn:y,newlyAddedElement:!1})}function xt(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function Oe(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const bn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Jc={map:{},getId(){return console.error(bn),-1},getNode(){return console.error(bn),null},removeNodeFromMap(){console.error(bn)},has(){return console.error(bn),!1},reset(){console.error(bn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Jc=new Proxy(Jc,{get(e,t,n){return t==="map"&&console.error(bn),Reflect.get(e,t,n)}}));function wr(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(LE(r),r=null),s=i,e.apply(c,o)):!r&&n.trailing!==!1&&(r=to(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,o)},a))}}function uf(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){to(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>uf(e,t,o||{},!0)}function Sa(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Ns=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ns=()=>new Date().getTime());function lf(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:xt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||xt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||xt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:xt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||xt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||xt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function df(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ff(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function pf(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Be(e,t,n,r,s){if(!e)return!1;const o=pf(e);if(!o)return!1;const i=In(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=Vt(o,i);let c=-1;return a<0?!1:(r&&(c=Vt(o,In(null,r))),a>-1&&c<0?!0:a<c)}function RE(e,t){return t.getId(e)!==-1}function No(e,t){return t.getId(e)===vr}function hf(e,t){if(pr(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?hf(e.parentNode,t):!0:!0}function Ei(e){return!!e.changedTouches}function ME(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function mf(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function gf(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function vi(e){return!!xt([e,"optionalAccess",t=>t.shadowRoot])}class AE{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return Kh(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function _f(e){let t=null;return xt([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function NE(e){let t=e,n;for(;n=_f(t);)t=n;return t}function OE(e){const t=e.ownerDocument;if(!t)return!1;const n=NE(e);return t.contains(n)}function yf(e){const t=e.ownerDocument;return t?t.contains(e)||OE(e):!1}const Zc={};function ba(e){const t=Zc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Zc[e]=r.bind(window)}function DE(...e){return ba("requestAnimationFrame")(...e)}function to(...e){return ba("setTimeout")(...e)}function LE(...e){return ba("clearTimeout")(...e)}var z=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(z||{}),B=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(B||{}),Ne=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ne||{}),ft=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(ft||{});function PE(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function Qc(e){return"__ln"in e}class FE{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=PE([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Qc(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Qc(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const eu=(e,t)=>`${e}@${t}`;class $E{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new FE,s=c=>{let u=c,d=vr;for(;d===vr;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=c=>{if(!c.parentNode||!yf(c))return;const u=pr(c.parentNode)?this.mirror.getId(_f(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return r.addNode(c);const l=Tn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{mf(f,this.mirror)&&!Be(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),gf(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),vi(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{Be(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)tu(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(const c of this.addedSet)!nu(this.droppedSet,c)&&!tu(this.removes,c,this.mirror)||nu(this.movedSet,c)?o(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=s(i.value);u!==-1&&d!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){c=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),o(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!No(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Be(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Hn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,pf(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=ga(n),a=n.tagName;s=Ms(n,a,i);const c=eo({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=Hn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Er({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Be(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!n.contentDocument)r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!cf(n.tagName,r)&&(o.attributes[r]=af(this.doc,$n(n.tagName),$n(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?o.styleDiff[a]=c:o.styleDiff[a]=[c,u]:o._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(Be(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=pr(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Be(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||No(n,this.mirror)||!RE(n,this.mirror)||(this.addedSet.has(n)?(wi(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||hf(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[eu(r,s)]?wi(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:pr(t.target)&&hr(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(No(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[eu(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Be(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),vi(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function wi(e,t){e.delete(t),t.childNodes.forEach(n=>wi(e,n))}function tu(e,t,n){return e.length===0?!1:Sf(e,t,n)}function Sf(e,t,n){const{parentNode:r}=t;if(!r)return!1;const s=n.getId(r);return e.some(o=>o.id===s)?!0:Sf(e,r,n)}function nu(e,t){return e.size===0?!1:bf(e,t)}function bf(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:bf(e,n):!1}let mr;function HE(e){mr=e}function BE(){mr=void 0}const X=e=>mr?(...n)=>{try{return e(...n)}catch(r){if(mr&&mr(r)===!0)return()=>{};throw r}}:e;function et(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}const kn=[];function Lr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Ef(e,t){const n=new $E;kn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=et([window,"optionalAccess",i=>i.Zone,"optionalAccess",i=>i.__symbol__,"optionalCall",i=>i("MutationObserver")]);s&&window[s]&&(r=window[s]);const o=new r(X(i=>{e.onMutation&&e.onMutation(i)===!1||n.processMutations.bind(n)(i)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function UE({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=wr(X(l=>{const f=Date.now()-a;e(i.map(p=>(p.timeOffset-=f,p)),l),i=[],a=null}),o),u=X(wr(X(l=>{const f=Lr(l),{clientX:p,clientY:h}=Ei(l)?l.changedTouches[0]:l;a||(a=Ns()),i.push({x:p,y:h,id:r.getId(f),timeOffset:Ns()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?B.Drag:l instanceof MouseEvent?B.MouseMove:B.TouchMove)}),s,{trailing:!1})),d=[Oe("mousemove",u,n),Oe("touchmove",u,n),Oe("drag",u,n)];return X(()=>{d.forEach(l=>l())})}function WE({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const d=l=>f=>{const p=Lr(f);if(Be(p,r,s,o,!0))return;let h=null,m=l;if("pointerType"in f){switch(f.pointerType){case"mouse":h=ft.Mouse;break;case"touch":h=ft.Touch;break;case"pen":h=ft.Pen;break}h===ft.Touch?Ne[l]===Ne.MouseDown?m="TouchStart":Ne[l]===Ne.MouseUp&&(m="TouchEnd"):ft.Pen}else Ei(f)&&(h=ft.Touch);h!==null?(u=h,(m.startsWith("Touch")&&h===ft.Touch||m.startsWith("Mouse")&&h===ft.Mouse)&&(h=null)):Ne[l]===Ne.Click&&(h=u,u=null);const S=Ei(f)?f.changedTouches[0]:f;if(!S)return;const _=n.getId(p),{clientX:E,clientY:N}=S;X(e)({type:Ne[m],id:_,x:E,y:N,...h!==null&&{pointerType:h}})};return Object.keys(Ne).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=$n(l);const p=d(l);if(window.PointerEvent)switch(Ne[l]){case Ne.MouseDown:case Ne.MouseUp:f=f.replace("mouse","pointer");break;case Ne.TouchStart:case Ne.TouchEnd:return}c.push(Oe(f,p,t))}),X(()=>{c.forEach(l=>l())})}function vf({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const a=X(wr(X(c=>{const u=Lr(c);if(!u||Be(u,r,s,o,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=lf(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return Oe("scroll",a,t)}function jE({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=X(wr(X(()=>{const o=df(),i=ff();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return Oe("resize",s,t)}const zE=["INPUT","TEXTAREA","SELECT"],ru=new WeakMap;function qE({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:m}){function S(b){let x=Lr(b);const v=b.isTrusted,y=x&&Si(x.tagName);if(y==="OPTION"&&(x=x.parentElement),!x||!y||zE.indexOf(y)<0||Be(x,r,s,o,!0))return;const I=x;if(I.classList.contains(i)||a&&I.matches(a))return;const T=ga(x);let U=Ms(I,y,T),Y=!1;const j=eo({maskInputOptions:c,tagName:y,type:T}),A=Hn(x,f,h,p,m,j);(T==="radio"||T==="checkbox")&&(Y=x.checked),U=Er({isMasked:A,element:x,value:U,maskInputFn:u}),_(x,l?{text:U,isChecked:Y,userTriggered:v}:{text:U,isChecked:Y});const le=x.name;T==="radio"&&le&&Y&&t.querySelectorAll(`input[type="radio"][name="${le}"]`).forEach(H=>{if(H!==x){const te=Er({isMasked:A,element:H,value:Ms(H,y,T),maskInputFn:u});_(H,l?{text:te,isChecked:!Y,userTriggered:!1}:{text:te,isChecked:!Y})}})}function _(b,x){const v=ru.get(b);if(!v||v.text!==x.text||v.isChecked!==x.isChecked){ru.set(b,x);const y=n.getId(b);X(e)({...x,id:y})}}const N=(d.input==="last"?["change"]:["input","change"]).map(b=>Oe(b,X(S),t)),C=t.defaultView;if(!C)return()=>{N.forEach(b=>b())};const M=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),w=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];return M&&M.set&&N.push(...w.map(b=>uf(b[0],b[1],{set(){X(S)({target:this,isTrusted:!1})}},!1,C))),X(()=>{N.forEach(b=>b())})}function Os(e){const t=[];function n(r,s){if(Vr("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Vr("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Vr("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Vr("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function Rt(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function GE({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:X((d,l,f)=>{const[p,h]=f,{id:m,styleId:S}=Rt(l,t,n.styleMirror);return(m&&m!==-1||S&&S!==-1)&&e({id:m,styleId:S,adds:[{rule:p,index:h}]}),d.apply(l,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:X((d,l,f)=>{const[p]=f,{id:h,styleId:m}=Rt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:p}]}),d.apply(l,f)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:X((d,l,f)=>{const[p]=f,{id:h,styleId:m}=Rt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:X((d,l,f)=>{const[p]=f,{id:h,styleId:m}=Rt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:p}),d.apply(l,f)})}));const c={};Xr("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Xr("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Xr("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Xr("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:X((f,p,h)=>{const[m,S]=h,{id:_,styleId:E}=Rt(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||E&&E!==-1)&&e({id:_,styleId:E,adds:[{rule:m,index:[...Os(p),S||0]}]}),f.apply(p,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:X((f,p,h)=>{const[m]=h,{id:S,styleId:_}=Rt(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||_&&_!==-1)&&e({id:S,styleId:_,removes:[{index:[...Os(p),m]}]}),f.apply(p,h)})})}),X(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function wf({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?et([n,"access",i=>i.defaultView,"optionalAccess",i=>i.Document]):et([n,"access",i=>i.ownerDocument,"optionalAccess",i=>i.defaultView,"optionalAccess",i=>i.ShadowRoot]),o=et([s,"optionalAccess",i=>i.prototype])?Object.getOwnPropertyDescriptor(et([s,"optionalAccess",i=>i.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return et([o,"access",i=>i.get,"optionalAccess",i=>i.call,"call",i=>i(this)])},set(i){const a=et([o,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,i)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(i,r)}catch{}return a}}),X(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function YE({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:X((a,c,u)=>{const[d,l,f]=u;if(n.has(d))return o.apply(c,[d,l,f]);const{id:p,styleId:h}=Rt(et([c,"access",m=>m.parentRule,"optionalAccess",m=>m.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:d,value:l,priority:f},index:Os(c.parentRule)}),a.apply(c,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:X((a,c,u)=>{const[d]=u;if(n.has(d))return i.apply(c,[d]);const{id:l,styleId:f}=Rt(et([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:Os(c.parentRule)}),a.apply(c,u)})}),X(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function VE({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=X(u=>wr(X(d=>{const l=Lr(d);if(!l||Be(l,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:m}=l;e({type:u,id:s.getId(l),currentTime:f,volume:p,muted:h,playbackRate:m})}),o.media||500)),c=[Oe("play",a(0),i),Oe("pause",a(1),i),Oe("seeked",a(2),i),Oe("volumechange",a(3),i),Oe("ratechange",a(4),i)];return X(()=>{c.forEach(u=>u())})}function XE({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(c,u,d){const l=new o(c,u,d);return s.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=Sa(t.fonts,"add",function(a){return function(c){return to(X(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=o}),r.push(i),X(()=>{r.forEach(a=>a())})}function KE(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=X(()=>{const u=t.getSelection();if(!u||a&&et([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const p=u.getRangeAt(f),{startContainer:h,startOffset:m,endContainer:S,endOffset:_}=p;Be(h,r,s,o,!0)||Be(S,r,s,o,!0)||d.push({start:n.getId(h),startOffset:m,end:n.getId(S),endOffset:_})}i({ranges:d})});return c(),Oe("selectionchange",c)}function JE({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Sa(n.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function ZE(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Ef(e,e.doc));const s=UE(e),o=WE(e),i=vf(e),a=jE(e,{win:n}),c=qE(e),u=VE(e);let d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=GE(e,{win:n}),l=wf(e,e.doc),f=YE(e,{win:n}),e.collectFonts&&(p=XE(e)));const h=KE(e),m=JE(e),S=[];for(const _ of e.plugins)S.push(_.observer(_.callback,n,_.options));return X(()=>{kn.forEach(_=>_.reset()),et([r,"optionalAccess",_=>_.disconnect,"call",_=>_()]),s(),o(),i(),a(),c(),u(),d(),l(),f(),p(),h(),m(),S.forEach(_=>_())})}function Vr(e){return typeof window[e]<"u"}function Xr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Ii{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function su(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}class QE{constructor(){this.crossOriginIframeMirror=new Ii(_a),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class ev{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ii(_a),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ii(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),su([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case z.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:z.IncrementalSnapshot,data:{source:B.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case z.Meta:case z.Load:case z.DomContentLoaded:return!1;case z.Plugin:return n;case z.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case z.IncrementalSnapshot:switch(n.data.source){case B.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case B.Drag:case B.TouchMove:case B.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case B.ViewportResize:return!1;case B.MediaInteraction:case B.MouseInteraction:case B.Scroll:case B.CanvasMutation:case B.Input:return this.replaceIds(n.data,t,["id"]),n;case B.StyleSheetRule:case B.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case B.Font:return n;case B.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case B.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),su([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Ie.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class tv{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class nv{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!hr(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Ef({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(vf({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),to(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(wf({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Sa(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&yf(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class ou{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class rv{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new AE,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:tf(a),index:c}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class sv{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){DE(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let _e,Ds;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=Me([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Ze=oE();function St(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:S,slimDOMOptions:_,maskAttributeFn:E,maskInputFn:N,maskTextFn:C,maxCanvasSize:M=null,packFn:w,sampling:b={},dataURLOptions:x={},mousemoveWait:v,recordDOM:y=!0,recordCanvas:I=!1,recordCrossOriginIframes:T=!1,recordAfter:U=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:Y=!1,collectFonts:j=!1,inlineImages:A=!1,plugins:le,keepIframeSrcFn:H=()=>!1,ignoreCSSAttributes:te=new Set([]),errorHandler:Re,onMutation:Xe,getCanvasManager:Wt}=e;HE(Re);const nr=T?window.parent===window:!0;let nt=!1;if(!nr)try{window.parent.document&&(nt=!1)}catch{nt=!0}if(nr&&!t)throw new Error("emit function is required");v!==void 0&&b.mousemove===void 0&&(b.mousemove=v),Ze.reset();const ze=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},lt=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};ME();let mn,gn=0;const rr=J=>{for(const Je of le||[])Je.eventProcessor&&(J=Je.eventProcessor(J));return w&&!nt&&(J=w(J)),J};_e=(J,Je)=>{const V=J;if(V.timestamp=Ns(),Me([kn,"access",fe=>fe[0],"optionalAccess",fe=>fe.isFrozen,"call",fe=>fe()])&&V.type!==z.FullSnapshot&&!(V.type===z.IncrementalSnapshot&&V.data.source===B.Mutation)&&kn.forEach(fe=>fe.unfreeze()),nr)Me([t,"optionalCall",fe=>fe(rr(V),Je)]);else if(nt){const fe={type:"rrweb",event:rr(V),origin:window.location.origin,isCheckout:Je};window.parent.postMessage(fe,"*")}if(V.type===z.FullSnapshot)mn=V,gn=0;else if(V.type===z.IncrementalSnapshot){if(V.data.source===B.Mutation&&V.data.isAttachIframe)return;gn++;const fe=r&&gn>=r,Z=n&&mn&&V.timestamp-mn.timestamp>n;(fe||Z)&&sr(!0)}};const jt=J=>{_e({type:z.IncrementalSnapshot,data:{source:B.Mutation,...J}})},_n=J=>_e({type:z.IncrementalSnapshot,data:{source:B.Scroll,...J}}),ne=J=>_e({type:z.IncrementalSnapshot,data:{source:B.CanvasMutation,...J}}),me=J=>_e({type:z.IncrementalSnapshot,data:{source:B.AdoptedStyleSheet,...J}}),Te=new rv({mutationCb:jt,adoptedStyleSheetCb:me}),ue=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new QE:new ev({mirror:Ze,mutationCb:jt,stylesheetManager:Te,recordCrossOriginIframes:T,wrappedEmit:_e});for(const J of le||[])J.getMirror&&J.getMirror({nodeMirror:Ze,crossOriginIframeMirror:ue.crossOriginIframeMirror,crossOriginIframeStyleMirror:ue.crossOriginIframeStyleMirror});const ge=new sv,zt=iv(Wt,{mirror:Ze,win:window,mutationCb:J=>_e({type:z.IncrementalSnapshot,data:{source:B.CanvasMutation,...J}}),recordCanvas:I,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:M,sampling:b.canvas,dataURLOptions:x,errorHandler:Re}),Ke=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new tv:new nv({mutationCb:jt,scrollCb:_n,bypassOptions:{onMutation:Xe,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:ze,dataURLOptions:x,maskAttributeFn:E,maskTextFn:C,maskInputFn:N,recordCanvas:I,inlineImages:A,sampling:b,slimDOMOptions:lt,iframeManager:ue,stylesheetManager:Te,canvasManager:zt,keepIframeSrcFn:H,processedNodeManager:ge},mirror:Ze}),sr=(J=!1)=>{if(!y)return;_e({type:z.Meta,data:{href:window.location.href,width:ff(),height:df()}},J),Te.reset(),Ke.init(),kn.forEach(V=>V.lock());const Je=xE(document,{mirror:Ze,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:ze,maskAttributeFn:E,maskInputFn:N,maskTextFn:C,slimDOM:lt,dataURLOptions:x,recordCanvas:I,inlineImages:A,onSerialize:V=>{mf(V,Ze)&&ue.addIframe(V),gf(V,Ze)&&Te.trackLinkElement(V),vi(V)&&Ke.addShadowRoot(V.shadowRoot,document)},onIframeLoad:(V,fe)=>{ue.attachIframe(V,fe),V.contentWindow&&zt.addWindow(V.contentWindow),Ke.observeAttachShadow(V)},onStylesheetLoad:(V,fe)=>{Te.attachLinkElement(V,fe)},keepIframeSrcFn:H});if(!Je)return console.warn("Failed to snapshot the document");_e({type:z.FullSnapshot,data:{node:Je,initialOffset:lf(window)}}),kn.forEach(V=>V.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Te.adoptStyleSheets(document.adoptedStyleSheets,Ze.getId(document))};Ds=sr;try{const J=[],Je=fe=>X(ZE)({onMutation:Xe,mutationCb:jt,mousemoveCb:(Z,qt)=>_e({type:z.IncrementalSnapshot,data:{source:qt,positions:Z}}),mouseInteractionCb:Z=>_e({type:z.IncrementalSnapshot,data:{source:B.MouseInteraction,...Z}}),scrollCb:_n,viewportResizeCb:Z=>_e({type:z.IncrementalSnapshot,data:{source:B.ViewportResize,...Z}}),inputCb:Z=>_e({type:z.IncrementalSnapshot,data:{source:B.Input,...Z}}),mediaInteractionCb:Z=>_e({type:z.IncrementalSnapshot,data:{source:B.MediaInteraction,...Z}}),styleSheetRuleCb:Z=>_e({type:z.IncrementalSnapshot,data:{source:B.StyleSheetRule,...Z}}),styleDeclarationCb:Z=>_e({type:z.IncrementalSnapshot,data:{source:B.StyleDeclaration,...Z}}),canvasMutationCb:ne,fontCb:Z=>_e({type:z.IncrementalSnapshot,data:{source:B.Font,...Z}}),selectionCb:Z=>{_e({type:z.IncrementalSnapshot,data:{source:B.Selection,...Z}})},customElementCb:Z=>{_e({type:z.IncrementalSnapshot,data:{source:B.CustomElement,...Z}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:ze,inlineStylesheet:h,sampling:b,recordDOM:y,recordCanvas:I,inlineImages:A,userTriggeredOnInput:Y,collectFonts:j,doc:fe,maskAttributeFn:E,maskInputFn:N,maskTextFn:C,keepIframeSrcFn:H,blockSelector:o,unblockSelector:i,slimDOMOptions:lt,dataURLOptions:x,mirror:Ze,iframeManager:ue,stylesheetManager:Te,shadowDomManager:Ke,processedNodeManager:ge,canvasManager:zt,ignoreCSSAttributes:te,plugins:Me([le,"optionalAccess",Z=>Z.filter,"call",Z=>Z(qt=>qt.observer),"optionalAccess",Z=>Z.map,"call",Z=>Z(qt=>({observer:qt.observer,options:qt.options,callback:Dp=>_e({type:z.Plugin,data:{plugin:qt.name,payload:Dp}})}))])||[]},{});ue.addLoadListener(fe=>{try{J.push(Je(fe.contentDocument))}catch(Z){console.warn(Z)}});const V=()=>{sr(),J.push(Je(document))};return document.readyState==="interactive"||document.readyState==="complete"?V():(J.push(Oe("DOMContentLoaded",()=>{_e({type:z.DomContentLoaded,data:{}}),U==="DOMContentLoaded"&&V()})),J.push(Oe("load",()=>{_e({type:z.Load,data:{}}),U==="load"&&V()},window))),()=>{J.forEach(fe=>fe()),ge.destroy(),Ds=void 0,BE()}}catch(J){console.warn(J)}}function ov(e){if(!Ds)throw new Error("please take full snapshot after start recording");Ds(e)}St.mirror=Ze;St.takeFullSnapshot=ov;function iv(e,t){try{return e?e(t):new ou}catch{return console.warn("Unable to initialize CanvasManager"),new ou}}const O=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,iu=["info","warn","error","log"],is="[Replay] ";function Oo(e,t="info"){tt({category:"console",data:{logger:"replay"},level:t,message:`${is}${e}`},{level:t})}function av(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return O?(iu.forEach(r=>{n[r]=(...s)=>{g[r](is,...s),t&&Oo(s[0])}}),n.exception=(r,...s)=>{n.error&&n.error(...s),g.error(is,r),e?Vn(r):t&&Oo(r)},n.infoTick=(...r)=>{g.info(is,...r),t&&setTimeout(()=>Oo(r[0]),0)}):iu.forEach(r=>{n[r]=()=>{}}),n}const P=av(),cv=3,uv=5;function Ea(e){return e>9999999999?e:e*1e3}function Do(e){return e>9999999999?e/1e3:e}function Pr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:z.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Qe(t,10,1e3)}}),t.category==="console")))}const lv="button,a";function If(e){return e.closest(lv)||e}function Tf(e){const t=kf(e);return!t||!(t instanceof Element)?t:If(t)}function kf(e){return dv(e)?e.target:e}function dv(e){return typeof e=="object"&&!!e&&"target"in e}let Mt;function fv(e){return Mt||(Mt=[],pv()),Mt.push(e),()=>{const t=Mt?Mt.indexOf(e):-1;t>-1&&Mt.splice(t,1)}}function pv(){Pe(ie,"open",function(e){return function(...t){if(Mt)try{Mt.forEach(n=>n())}catch{}return e.apply(ie,t)}})}const hv=new Set([B.Mutation,B.StyleSheetRule,B.StyleDeclaration,B.AdoptedStyleSheet,B.CanvasMutation,B.Selection,B.MediaInteraction]);function mv(e,t,n){e.handleClick(t,n)}class gv{constructor(t,n,r=Pr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=fv(()=>{this._lastMutation=au()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(yv(n,this._ignoreSelector)||!Sv(t))return;const r={timestamp:Do(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Do(t)}registerScroll(t=Date.now()){this._lastScroll=Do(t)}registerClick(t){const n=If(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=au();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:ie.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:ie.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Pn(()=>this._checkClicks(),1e3)}}const _v=["A","BUTTON","INPUT"];function yv(e,t){return!!(!_v.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Sv(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function au(){return Date.now()/1e3}function bv(e,t){try{if(!Ev(t))return;const{source:n}=t.data;if(hv.has(n)&&e.registerMutation(t.timestamp),n===B.Scroll&&e.registerScroll(t.timestamp),vv(t)){const{type:r,id:s}=t.data,o=St.mirror.getNode(s);o instanceof HTMLElement&&r===Ne.Click&&e.registerClick(o)}}catch{}}function Ev(e){return e.type===cv}function vv(e){return e.data.source===B.MouseInteraction}function it(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ls;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Ls||(Ls={}));const wv=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Iv(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(wv.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const Tv=e=>t=>{if(!e.isEnabled())return;const n=kv(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&mv(e.clickDetector,n,Tf(t.event)),Pr(e,n)};function Cf(e,t){const n=St.mirror.getId(e),r=n&&St.mirror.getNode(n),s=r&&St.mirror.getMeta(r),o=s&&xv(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===Ls.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:Iv(o.attributes)}}:{}}}function kv(e){const{target:t,message:n}=Cv(e);return it({category:`ui.${e.name}`,...Cf(t,n)})}function Cv(e){const t=e.name==="click";let n,r=null;try{r=t?Tf(e.event):kf(e.event),n=Et(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function xv(e){return e.type===Ls.Element}function Rv(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=Mv(t);n&&Pr(e,n)}function Mv(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||Av(i)||!o)return null;const a=t||r||s,c=o.length===1;if(!a&&c)return null;const u=Et(i,{maxStringLength:200})||"<unknown>",d=Cf(i,u);return it({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function Av(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Nv={resource:Fv,paint:Lv,navigation:Pv};function Kr(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Ov(e){return e.map(Dv).filter(Boolean)}function Dv(e){const t=Nv[e.entryType];return t?t(e):null}function Bn(e){return((xe||ie.performance.timeOrigin)+e)/1e3}function Lv(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=Bn(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function Pv(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:h,type:m}=e;return s===0?null:{type:`${t}.${m}`,start:Bn(p),end:Bn(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:f}}}function Fv(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Bn(o),end:Bn(s),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function $v(e){const t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return no(e,"largest-contentful-paint",n)}function Hv(e){return e.sources!==void 0}function Bv(e){const t=[],n=[];for(const r of e.entries)if(Hv(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const i=St.mirror.getId(o.node);i&&s.push(i)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return no(e,"cumulative-layout-shift",n,t)}function Uv(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return no(e,"first-input-delay",n)}function Wv(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return no(e,"interaction-to-next-paint",n)}function no(e,t,n,r){const s=e.value,o=e.rating,i=Bn(s);return{type:"web-vital",name:t,start:i,end:i,data:{value:s,size:s,rating:o,nodeIds:n?n.map(a=>St.mirror.getId(a)):void 0,attributions:r}}}function jv(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Dn(s,n))}),r.push(Od(Kr($v,e)),aa(Kr(Bv,e)),Dd(Kr(Uv,e)),Ld(Kr(Wv,e))),()=>{r.forEach(s=>s())}}const zv='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function qv(){const e=new Blob([zv]);return URL.createObjectURL(e)}class va extends Error{constructor(){super(`Event buffer exceeded maximum size of ${ma}.`)}}class xf{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>ma)throw new va;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Ea(t):null}}class Gv{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){O&&P.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){O&&P.error("Error in compression worker: ",c.response),o(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Yv{constructor(t){this._worker=new Gv(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Ea(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>ma?Promise.reject(new va):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{O&&P.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Vv{constructor(t){this._fallback=new xf,this._compression=new Yv(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){O&&P.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n}=this._fallback,r=[];for(const s of t)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(s){O&&P.exception(s,"Failed to add events when switching buffers.")}}}function Xv({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=Kv(t);if(n)return n}return O&&P.info("Using simple buffer"),new xf}function Kv(e){try{const t=e||Jv();if(!t)return;O&&P.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Vv(n)}catch(t){O&&P.exception(t,"Failed to create compression worker")}}function Jv(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?qv():""}function wa(){try{return"sessionStorage"in ie&&!!ie.sessionStorage}catch{return!1}}function Zv(e){Qv(),e.session=void 0}function Qv(){if(wa())try{ie.sessionStorage.removeItem(pa)}catch{}}function Rf(e){return e===void 0?!1:Math.random()<e}function Mf(e){const t=Date.now(),n=e.id||ae(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function Ia(e){if(wa())try{ie.sessionStorage.setItem(pa,JSON.stringify(e))}catch{}}function e0(e,t){return Rf(e)?"session":t?"buffer":!1}function cu({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=e0(e,t),o=Mf({sampled:s,previousSessionId:r});return n&&Ia(o),o}function t0(){if(!wa())return null;try{const e=ie.sessionStorage.getItem(pa);if(!e)return null;const t=JSON.parse(e);return O&&P.infoTick("Loading existing session"),Mf(t)}catch{return null}}function Ti(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Af(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Ti(e.started,t,r)||Ti(e.lastActivity,n,r)}function Nf(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Af(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Lo({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&t0();return s?Nf(s,{sessionIdleExpire:e,maxReplayDuration:t})?(O&&P.infoTick("Session in sessionStorage is expired, creating new one..."),cu(r,{previousSessionId:s.id})):s:(O&&P.infoTick("Creating new session"),cu(r,{previousSessionId:n}))}function n0(e){return e.type===z.Custom}function Ta(e,t,n){return Df(e,t)?(Of(e,t,n),!0):!1}function r0(e,t,n){return Df(e,t)?Of(e,t,n):Promise.resolve(null)}async function Of(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=e.getOptions(),s=s0(t,r.beforeAddRecordingEvent);return s?await e.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof va?"addEventSizeExceeded":"addEvent";e.handleException(r),await e.stop({reason:s});const o=R();o&&o.recordDroppedEvent("internal_sdk_error","replay")}}function Df(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Ea(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(O&&P.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function s0(e,t){try{if(typeof t=="function"&&n0(e))return t(e)}catch(n){return O&&P.exception(n,"An error occured in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function ka(e){return!e.type}function ki(e){return e.type==="transaction"}function o0(e){return e.type==="replay_event"}function uu(e){return e.type==="feedback"}function i0(e){return(t,n)=>{if(!e.isEnabled()||!ka(t)&&!ki(t))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(ki(t)){a0(e,t);return}c0(e,t)}}}function a0(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function c0(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Pn(()=>{e.sendBufferedReplayOrFlush()})}function u0(e){return t=>{!e.isEnabled()||!ka(t)||l0(e,t)}}function l0(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=it({category:"replay.hydrate-error",data:{url:Pi()}});Pr(e,r)}}function d0(e){const t=R();t&&t.on("beforeAddBreadcrumb",n=>f0(e,n))}function f0(e,t){if(!e.isEnabled()||!Lf(t))return;const n=p0(t);n&&Pr(e,n)}function p0(e){return!Lf(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?h0(e):it(e)}function h0(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return it(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Yr?(n=!0,`${s.slice(0,Yr)}`):s;if(typeof s=="object")try{const o=Qe(s,7);return JSON.stringify(o).length>Yr?(n=!0,`${JSON.stringify(o,null,2).slice(0,Yr)}`):o}catch{}return s});return it({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Lf(e){return!!e.category}function m0(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function g0(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:z.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function _0(e,t){return e.recordingMode!=="buffer"||t.message===ha||!t.exception||t.type?!1:Rf(e.getOptions().errorSampleRate)}function y0(e){return Object.assign((t,n)=>e.isEnabled()?o0(t)?(delete t.breadcrumbs,t):!ka(t)&&!ki(t)&&!uu(t)||!e.checkAndHandleExpiredSession()?t:uu(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),g0(e,t),t):m0(t,n)&&!e.getOptions()._experiments.captureExceptions?(O&&P.log("Ignoring error from rrweb internals",t),null):((_0(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):t,{id:"Replay"})}function ro(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=e.throttledAddEvent({type:z.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function S0(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function b0(e){return t=>{if(!e.isEnabled())return;const n=S0(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(ro(e,[n]),!1)))}}function E0(e,t){return O&&e.getOptions()._experiments.traceInternals?!1:ad(t,R())}function Pf(e,t){e.isEnabled()&&t!==null&&(E0(e,t.name)||e.addUpdate(()=>(ro(e,[t]),!0)))}function so(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Bf(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Ff(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function $f(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Bf(e)];if(!e)return[void 0]}catch(t){return O&&P.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return O&&P.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ps(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Hf(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:Se({method:o,statusCode:i,request:a,response:c})}}function Ir(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Pt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=v0(n);return r.body=s,o&&o.length>0&&(r._meta={warnings:o}),r}function Ci(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function Bf(e){return new URLSearchParams(e).toString()}function v0(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Gc,n=w0(e);if(t){const r=e.slice(0,Gc);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function w0(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Fs(e,t){const n=I0(e);return Lt(n,t)}function I0(e,t=ie.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ie.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function T0(e,t,n){try{const r=await C0(e,t,n),s=Hf("resource.fetch",r);Pf(n.replay,s)}catch(r){O&&P.exception(r,"Failed to capture fetch breadcrumb")}}function k0(e,t){const{input:n,response:r}=t,s=n?Uf(n):void 0,o=so(s),i=r?Ff(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}async function C0(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=Fs(i,n.networkDetailAllowUrls)&&!Fs(i,n.networkDetailDenyUrls),f=l?x0(n,t.input,u):Ir(u),p=await R0(l,n,t.response,d);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:f,response:p}}function x0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?N0(n,t):{};if(!e)return Pt(s,r,void 0);const o=Uf(n),[i,a]=$f(o),c=Pt(s,r,i);return a?Ps(c,a):c}async function R0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return Ir(s);const o=r?Wf(r.headers,n):{};if(!r||!t&&s!==void 0)return Pt(o,s,void 0);const[i,a]=await A0(r),c=M0(i,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return a?Ps(c,a):c}function M0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e&&e.length&&n===void 0?so(e):n;return r?t?Pt(s,o,e):Pt(s,o,void 0):Ir(o)}catch(o){return O&&P.exception(o,"Failed to serialize response body"),Pt(s,n,void 0)}}async function A0(e){const t=O0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await D0(t)]}catch(n){return O&&P.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"]}}function Uf(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Wf(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function N0(e,t){return e.length===1&&typeof e[0]!="string"?lu(e[0],t):e.length===2?lu(e[1],t):{}}function lu(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Wf(n,t):Array.isArray(n)?{}:Ci(n,t):{}}function O0(e){try{return e.clone()}catch(t){O&&P.exception(t,"Failed to clone response body")}}function D0(e){return new Promise((t,n)=>{const r=Pn(()=>n(new Error("Timeout while trying to read response body")),500);L0(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function L0(e){return await e.text()}async function P0(e,t,n){try{const r=$0(e,t,n),s=Hf("resource.xhr",r);Pf(n.replay,s)}catch(r){O&&P.exception(r,"Failed to capture xhr breadcrumb")}}function F0(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=so(r),o=n.getResponseHeader("content-length")?Ff(n.getResponseHeader("content-length")):W0(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function $0(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!Fs(c,n.networkDetailAllowUrls)||Fs(c,n.networkDetailDenyUrls)){const w=Ir(l),b=Ir(f);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:w,response:b}}const p=a[Nt],h=p?Ci(p.request_headers,n.networkRequestHeaders):{},m=Ci(H0(a),n.networkResponseHeaders),[S,_]=n.networkCaptureBodies?$f(i):[void 0],[E,N]=n.networkCaptureBodies?B0(a):[void 0],C=Pt(h,l,S),M=Pt(m,f,E);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:_?Ps(C,_):C,response:N?Ps(M,N):M}}function H0(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}function B0(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return U0(e.response,e.responseType)}catch(n){t.push(n)}return O&&P.warn("Failed to get xhr response body",...t),[void 0]}function U0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return O&&P.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return O&&P.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function W0(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return so(n)}catch{return}}function j0(e){const t=R();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(c,u)=>z0(a,c,u))}catch{}}function z0(e,t,n){if(t.data)try{q0(t)&&Y0(n)&&(F0(t,n),P0(t,n,e)),G0(t)&&V0(n)&&(k0(t,n),T0(t,n,e))}catch(r){O&&P.exception(r,"Error when enriching network breadcrumb")}}function q0(e){return e.category==="xhr"}function G0(e){return e.category==="fetch"}function Y0(e){return e&&e.xhr}function V0(e){return e&&e.response}function X0(e){const t=R();Hd(Tv(e)),Zs(b0(e)),d0(e),j0(e);const n=y0(e);Jl(n),t&&(t.on("beforeSendEvent",u0(e)),t.on("afterSendEvent",i0(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,s)=>{const o=e.getSessionId();s&&s.includeReplay&&e.isEnabled()&&o&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=o)}))}async function K0(e){try{return Promise.all(ro(e,[J0(ie.performance.memory)]))}catch{return[]}}function J0(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Z0(e,t,n){let r,s,o;const i=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function u(){return s!==void 0||o!==void 0?a():r}function d(){return s&&clearTimeout(s),s=Pn(a,t),i&&o===void 0&&(o=Pn(a,i)),r}return d.cancel=c,d.flush=u,d}function Q0(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){O&&P.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&bv(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Ta(e,n,s))return!0;if(!s)return!1;if(tw(e,s),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){const o=e.eventBuffer.getEarliestTimestamp();o&&(O&&P.info(`Updating session start time to earliest event in buffer to ${new Date(o)}`),e.session.started=o,e.getOptions().stickySession&&Ia(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function ew(e){const t=e.getOptions();return{type:z.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function tw(e,t){!t||!e.session||e.session.segmentId!==0||Ta(e,ew(e),!1)}function nw(e,t,n,r){return Tt(Cl(e,Ui(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function rw({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function sw({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const i=await ql(e.getOptions(),r,o,t,e,ve());if(!i)return null;i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},i}async function ow({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=rw({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=R(),f=W(),p=l&&l.getTransport(),h=l&&l.getDsn();if(!l||!p||!h||!o.sampled)return wt({});const m={type:Ub,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},S=await sw({scope:f,client:l,replayId:t,event:m});if(!S)return l.recordDroppedEvent("event_processor","replay",m),O&&P.info("An event processor returned `null`, will not send event."),wt({});delete S.sdkProcessingMetadata;const _=nw(S,i,h,l.getOptions().tunnel);let E;try{E=await p.send(_)}catch(C){const M=new Error(ha);try{M.cause=C}catch{}throw M}if(typeof E.statusCode=="number"&&(E.statusCode<200||E.statusCode>=300))throw new jf(E.statusCode);const N=Ml({},E);if(Rl(N,"replay"))throw new zf(N);return E}class jf extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class zf extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function qf(e,t={count:0,interval:Yb}){const{recordingData:n,options:r}=e;if(n.length)try{return await ow(e),!0}catch(s){if(s instanceof jf||s instanceof zf)throw s;if(Ys("Replays",{_retryCount:t.count}),O&&r._experiments&&r._experiments.captureExceptions&&Vn(s),t.count>=Vb){const o=new Error(`${ha} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{Pn(async()=>{try{await qf(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}const Gf="__THROTTLED",iw="__SKIPPED";function aw(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},o=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),o()>=t){const d=i;return i=!0,d?iw:Gf}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class At{constructor({options:t,recordingOptions:n}){At.prototype.__init.call(this),At.prototype.__init2.call(this),At.prototype.__init3.call(this),At.prototype.__init4.call(this),At.prototype.__init5.call(this),At.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Wb,sessionIdleExpire:jb},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Z0(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=aw((i,a)=>r0(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(Xb,r),timeout:r,scrollTimeout:Kb,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new gv(this,o)),O){const i=t._experiments;P.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){O&&P.exception(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){O&&P.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",O&&P.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){O&&P.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){O&&P.info("Buffering is in progress, call `flush()` to save the replay");return}O&&P.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Lo({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){O&&P.info("Buffering is in progress, call `flush()` to save the replay");return}O&&P.infoTick("Starting replay in buffer mode");const t=Lo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=St({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:Gb},emit:Q0(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{O&&P.info(`Stopping Replay${n?` triggered by ${n}`:""}`),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Zv(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),O&&P.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),O&&P.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();O&&P.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Ti(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${ie.location.pathname}${ie.location.hash}${ie.location.search}`,n=`${ie.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===Gf){const s=it({category:"replay.throttled"});this.addUpdate(()=>!Ta(this,{type:uv,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||ye(),n=t&&he(t),s=(n&&F(n).data||{})[be];if(!(!n||!s||!["route","custom"].includes(s)))return F(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Xv({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Lo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Nf(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{ie.document.addEventListener("visibilitychange",this._handleVisibilityChange),ie.addEventListener("blur",this._handleWindowBlur),ie.addEventListener("focus",this._handleWindowFocus),ie.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(X0(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=jv(this)}_removeListeners(){try{ie.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ie.removeEventListener("blur",this._handleWindowBlur),ie.removeEventListener("focus",this._handleWindowFocus),ie.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{ie.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=it({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=it({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{Rv(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Af(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){O&&P.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:z.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=Ov(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(ro(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){O&&P.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await K0(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await qf({replayId:t,recordingData:o,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=R();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){O&&P.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){O&&P.info(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&O&&P.info("Flushing initial segment without checkout."),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){O&&P.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ia(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>s||o){const i=it({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(i)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function ir(e,t){return[...e,...t].join(",")}function cw({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=['base[href="/"]'],i=ir(e,[".sentry-mask","[data-sentry-mask]"]),a=ir(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:ir(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:ir(r,[]),ignoreSelector:ir(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function uw({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const du='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',lw=["content-length","content-type","accept"];let fu=!1;const dw=e=>new oo(e);class oo{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=zb,flushMaxDelay:n=qb,minReplayDuration:r=Jb,maxReplayDuration:s=Yc,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:_=[],networkCaptureBodies:E=!0,networkRequestHeaders:N=[],networkResponseHeaders:C=[],mask:M=[],maskAttributes:w=["title","placeholder"],unmask:b=[],block:x=[],unblock:v=[],ignore:y=[],maskFn:I,beforeAddRecordingEvent:T,beforeErrorSampling:U}={}){this.name=oo.id;const Y=cw({mask:M,unmask:b,block:x,unblock:v,ignore:y});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(j,A,le)=>uw({maskAttributes:w,maskAllText:u,privacyOptions:Y,key:j,value:A,el:le}),...Y,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:j=>{try{j.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Zb),maxReplayDuration:Math.min(s,Yc),stickySession:o,useCompression:i,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:m,networkDetailAllowUrls:S,networkDetailDenyUrls:_,networkCaptureBodies:E,networkRequestHeaders:pu(N),networkResponseHeaders:pu(C),beforeAddRecordingEvent:T,beforeErrorSampling:U,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${du}`:du),this._isInitialized&&Jo())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return fu}set _isInitialized(t){fu=t}afterAllSetup(t){!Jo()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=fw(this._initialOptions,t);this._replay=new At({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}oo.__initStatic();function fw(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Se(e)},s=ws(n.replaysSessionSampleRate),o=ws(n.replaysOnErrorSampleRate);return s==null&&o==null&&un(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function pu(e){return[...lw,...e.map(t=>t.toLowerCase())]}function pw(){const e=R();return e&&e.getIntegrationByName("Replay")}var hu;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(hu||(hu={}));function hw(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function xi(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:xi(e.parentNode,t,n,r+1)}function mu(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(hw(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const En=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let gu={map:{},getId(){return console.error(En),-1},getNode(){return console.error(En),null},removeNodeFromMap(){console.error(En)},has(){return console.error(En),!1},reset(){console.error(En)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(gu=new Proxy(gu,{get(e,t,n){return t==="map"&&console.error(En),Reflect.get(e,t,n)}}));function Ca(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){Vf(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>Ca(e,t,o||{},!0)}function xa(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function mw(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function io(e,t,n,r,s){if(!e)return!1;const o=mw(e);if(!o)return!1;const i=mu(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=xi(o,i);let c=-1;return a<0?!1:(r&&(c=xi(o,mu(null,r))),a>-1&&c<0?!0:a<c)}const _u={};function Yf(e){const t=_u[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return _u[e]=r.bind(window)}function Gt(...e){return Yf("requestAnimationFrame")(...e)}function Vf(...e){return Yf("setTimeout")(...e)}var Un=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Un||{});let as;function gw(e){as=e}const Po=e=>as?(...n)=>{try{return e(...n)}catch(r){if(as&&as(r)===!0)return()=>{};throw r}}:e;var Cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_w=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jr=0;Jr<Cn.length;Jr++)_w[Cn.charCodeAt(Jr)]=Jr;var yw=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=Cn[t[n]>>2],s+=Cn[(t[n]&3)<<4|t[n+1]>>4],s+=Cn[(t[n+1]&15)<<2|t[n+2]>>6],s+=Cn[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const yu=new Map;function Sw(e,t){let n=yu.get(e);return n||(n=new Map,yu.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const Xf=(e,t,n)=>{if(!e||!(Jf(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=Sw(n,r);let o=s.indexOf(e);return o===-1&&(o=s.length,s.push(e)),o};function cs(e,t,n){if(e instanceof Array)return e.map(r=>cs(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=yw(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[cs(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[cs(e.data,t,n),e.width,e.height]};if(Jf(e,t)||typeof e=="object"){const r=e.constructor.name,s=Xf(e,t,n);return{rr_type:r,index:s}}}}return e}const Kf=(e,t,n)=>e.map(r=>cs(r,t,n)),Jf=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function bw(e,t,n,r,s){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=xa(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return io(this.canvas,n,r,s,!0)||Vf(()=>{const l=Kf(d,t,this);e(this.canvas,{type:Un["2D"],property:a,args:l})},0),u.apply(this,d)}});o.push(c)}catch{const u=Ca(t.CanvasRenderingContext2D.prototype,a,{set(d){e(this.canvas,{type:Un["2D"],property:a,args:[d],setter:!0})}});o.push(u)}return()=>{o.forEach(a=>a())}}function Ew(e){return e==="experimental-webgl"?"webgl":e}function Su(e,t,n,r,s){const o=[];try{const i=xa(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!io(this,t,n,r,!0)){const d=Ew(c);if("__context"in this||(this.__context=d),s&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}function bu(e,t,n,r,s,o,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=xa(e,d,function(f){return function(...p){const h=f.apply(this,p);if(Xf(h,a,this),"tagName"in this.canvas&&!io(this.canvas,r,s,o,!0)){const m=Kf(p,a,this),S={type:t,property:d,args:m};n(this.canvas,S)}return h}});c.push(l)}catch{const f=Ca(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(f)}return c}function vw(e,t,n,r,s,o){const i=[];return i.push(...bu(t.WebGLRenderingContext.prototype,Un.WebGL,e,n,r,s,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...bu(t.WebGL2RenderingContext.prototype,Un.WebGL2,e,n,r,s,o,t)),()=>{i.forEach(a=>a())}}var ww='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function Iw(){const e=new Blob([ww]);return URL.createObjectURL(e)}class Tw{reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,Me([this,"access",t=>t.worker,"optionalAccess",t=>t.terminate,"call",t=>t()]),this.worker=null,this.snapshotInProgressMap=new Map,(this.options.recordCanvas&&typeof this.options.sampling=="number"||this.options.enableManualSnapshot)&&(this.worker=this.initFPSWorker())}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};const{sampling:n="all",win:r,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&gw(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&Po(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,s,o,i,a,{dataURLOptions:u})})()}addWindow(t){const{sampling:n="all",blockClass:r,blockSelector:s,unblockSelector:o,recordCanvas:i,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}Po(()=>{if(i&&n==="all"&&this.initCanvasMutationObserver(t,r,s,o),i&&typeof n=="number"){const c=Su(t,r,s,o,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){const t=new Worker(Iw());return t.onmessage=n=>{const r=n.data,{id:s}=r;if(this.snapshotInProgressMap.set(s,!1),!("base64"in r))return;const{base64:o,type:i,width:a,height:c}=r;this.mutationCb({id:s,type:Un["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:o}],type:i}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,s,o,i){const a=this.takeSnapshot(!1,t,n,r,s,o,i.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,s){const o=Su(t,n,r,s,!1),i=bw(this.processMutation.bind(this),t,n,r,s),a=vw(this.processMutation.bind(this),t,n,r,s,this.mirror);this.restoreHandlers.push(()=>{o(),i(),a()})}snapshot(t){const{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,s,o,i,a,c){const u=1e3/n;let d=0,l;const f=h=>{if(h)return[h];const m=[],S=_=>{_.querySelectorAll("canvas").forEach(E=>{io(E,r,s,o,!0)||m.push(E)})};for(const _ of this.windows){const E=_.deref();E&&S(E.document)}for(const _ of this.shadowDoms){const E=_.deref();E&&S(E)}return m},p=h=>{if(this.windows.length){if(d&&h-d<u){l=Gt(p);return}d=h,f(c).forEach(m=>{if(!this.mirror.hasNode(m))return;const S=this.mirror.getId(m);if(!this.snapshotInProgressMap.get(S)&&!(!m.width||!m.height)){if(this.snapshotInProgressMap.set(S,!0),!t&&["webgl","webgl2"].includes(m.__context)){const _=m.getContext(m.__context);Me([_,"optionalAccess",E=>E.getContextAttributes,"call",E=>E(),"optionalAccess",E=>E.preserveDrawingBuffer])===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(m).then(_=>{Me([this,"access",E=>E.worker,"optionalAccess",E=>E.postMessage,"call",E=>E({id:S,bitmap:_,width:m.width,height:m.height,dataURLOptions:a,maxCanvasSize:i},[_])])}).catch(_=>{Po(()=>{throw _})()})}}),t||(l=Gt(p))}};return l=Gt(p),l}startPendingCanvasMutationFlusher(){Gt(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,Gt(t)};Gt(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Gt(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(i=>{const{type:a,...c}=i;return c}),{type:o}=r[0];this.mutationCb({id:n,type:o,commands:s}),this.pendingCanvasMutations.delete(t)}}const Eu={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},kw="ReplayCanvas",Zr=1280,Cw=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Zr):Zr,n?Math.min(n,Zr):Zr]};let s;const o=new Promise(i=>s=i);return{name:kw,getOptions(){const{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new Tw({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return s(d),d},...Eu[i||"medium"]||Eu.medium}},async snapshot(i){(await o).snapshot(i)}}},xw=Cw,at=L,Q=at.document,cr=at.navigator,Zf="Report a Bug",Rw="Cancel",Mw="Send Bug Report",Aw="Confirm",Nw="Report a Bug",Ow="your.email@example.org",Dw="Email",Lw="What's the bug? What did you expect?",Pw="Description",Fw="Your Name",$w="Name",Hw="Thank you for your report!",Bw="(required)",Uw="Add a screenshot",Ww="Remove screenshot",jw="widget",zw="api",qw=5e3,Qf=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=R();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&W().setTags(e.tags);const r=Ed({source:zw,url:Pi(),...e},t);return new Promise((s,o)=>{const i=setTimeout(()=>o("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(i),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300&&s(r),u&&typeof u.statusCode=="number"&&u.statusCode===0?o("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?o("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):o("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},us=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Gw(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(cr.userAgent)||/Macintosh/i.test(cr.userAgent)&&cr.maxTouchPoints&&cr.maxTouchPoints>1||!isSecureContext)}function Qr(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen&&t.onFormOpen(),e.onFormOpen&&e.onFormOpen()},onFormClose:()=>{t.onFormClose&&t.onFormClose(),e.onFormClose&&e.onFormClose()},onSubmitSuccess:n=>{t.onSubmitSuccess&&t.onSubmitSuccess(n),e.onSubmitSuccess&&e.onSubmitSuccess(n)},onSubmitError:n=>{t.onSubmitError&&t.onSubmitError(n),e.onSubmitError&&e.onSubmitError(n)},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted(),e.onFormSubmitted&&e.onFormSubmitted()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Yw(e){const t=Q.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function Ue(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const Sn=20,Vw="http://www.w3.org/2000/svg";function Xw(){const e=a=>at.document.createElementNS(Vw,a),t=Ue(e("svg"),{width:`${Sn}`,height:`${Sn}`,viewBox:`0 0 ${Sn} ${Sn}`,fill:"var(--foreground)"}),n=Ue(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Ue(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=Ue(e("clipPath"),{id:"clip0_57_80"}),i=Ue(e("rect"),{width:`${Sn}`,height:`${Sn}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),t}function Kw({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const s=Q.createElement("button");if(s.type="button",s.className="widget__actor",s.ariaHidden="false",s.ariaLabel=t||e||Zf,s.appendChild(Xw()),e){const i=Q.createElement("span");i.appendChild(Q.createTextNode(e)),s.appendChild(i)}const o=Yw(r);return{el:s,appendToDom(){n.appendChild(o),n.appendChild(s)},removeFromDom(){n.removeChild(s),n.removeChild(o)},show(){s.ariaHidden="false"},hide(){s.ariaHidden="true"}}}const ep="rgba(88, 74, 192, 1)",Jw={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:ep,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},vu={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:ep,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function wu(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function Zw({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const s=Q.createElement("style");return s.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${wu(e==="dark"?{...vu,...t}:{...Jw,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${wu({...vu,...t})}
  }
}`:""}
}
`,r&&s.setAttribute("nonce",r),s}const tp=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:s="sentry-feedback",autoInject:o=!0,showBranding:i=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:h,scriptNonce:m,colorScheme:S="system",themeLight:_={},themeDark:E={},addScreenshotButtonLabel:N=Uw,cancelButtonLabel:C=Rw,confirmButtonLabel:M=Aw,emailLabel:w=Dw,emailPlaceholder:b=Ow,formTitle:x=Nw,isRequiredLabel:v=Bw,messageLabel:y=Pw,messagePlaceholder:I=Lw,nameLabel:T=$w,namePlaceholder:U=Fw,removeScreenshotButtonLabel:Y=Ww,submitButtonLabel:j=Mw,successMessageText:A=Hw,triggerLabel:le=Zf,triggerAriaLabel:H="",onFormOpen:te,onFormClose:Re,onSubmitSuccess:Xe,onSubmitError:Wt,onFormSubmitted:nr}={})=>{const nt={id:s,autoInject:o,showBranding:i,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:h,scriptNonce:m,colorScheme:S,themeDark:E,themeLight:_,triggerLabel:le,triggerAriaLabel:H,cancelButtonLabel:C,submitButtonLabel:j,confirmButtonLabel:M,formTitle:x,emailLabel:w,emailPlaceholder:b,messageLabel:y,messagePlaceholder:I,nameLabel:T,namePlaceholder:U,successMessageText:A,isRequiredLabel:v,addScreenshotButtonLabel:N,removeScreenshotButtonLabel:Y,onFormClose:Re,onFormOpen:te,onSubmitError:Wt,onSubmitSuccess:Xe,onFormSubmitted:nr};let ze=null,lt=[];const mn=ne=>{if(!ze){const me=Q.createElement("div");me.id=String(ne.id),Q.body.appendChild(me),ze=me.attachShadow({mode:"open"}),ze.appendChild(Zw(ne))}return ze},gn=async(ne,me,Te)=>{const ue=R(),ge=ue&&ue.getIntegrationByName(ne);if(ge)return ge;const Ke=(me&&me()||await e(Te,m))();return ue&&ue.addIntegration(Ke),Ke},rr=async ne=>{const me=ne.enableScreenshot&&Gw(),[Te,ue]=await Promise.all([gn("FeedbackModal",t,"feedbackModalIntegration"),me?gn("FeedbackScreenshot",n,"feedbackScreenshotIntegration"):void 0]);if(!Te)throw us&&g.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");me&&!ue&&us&&g.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.");const ge=Te.createDialog({options:{...ne,onFormClose:()=>{ge&&ge.close(),ne.onFormClose&&ne.onFormClose()},onFormSubmitted:()=>{ge&&ge.close(),ne.onFormSubmitted&&ne.onFormSubmitted()}},screenshotIntegration:me?ue:void 0,sendFeedback:Qf,shadow:mn(ne)});return ge},jt=(ne,me={})=>{const Te=Qr(nt,me),ue=typeof ne=="string"?Q.querySelector(ne):typeof ne.addEventListener=="function"?ne:null;if(!ue)throw us&&g.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ge=null;const zt=async()=>{ge||(ge=await rr({...Te,onFormSubmitted:()=>{ge&&ge.removeFromDom(),Te.onFormSubmitted&&Te.onFormSubmitted()}})),ge.appendToDom(),ge.open()};ue.addEventListener("click",zt);const Ke=()=>{lt=lt.filter(sr=>sr!==Ke),ge&&ge.removeFromDom(),ge=null,ue.removeEventListener("click",zt)};return lt.push(Ke),Ke},_n=(ne={})=>{const me=Qr(nt,ne),Te=mn(me),ue=Kw({triggerLabel:me.triggerLabel,triggerAriaLabel:me.triggerAriaLabel,shadow:Te,styleNonce:h});return jt(ue.el,{...me,onFormOpen(){ue.hide()},onFormClose(){ue.show()},onFormSubmitted(){ue.show()}}),ue};return{name:"Feedback",setupOnce(){!Jo()||!nt.autoInject||(Q.readyState==="loading"?Q.addEventListener("DOMContentLoaded",()=>_n().appendToDom()):_n().appendToDom())},attachTo:jt,createWidget(ne={}){const me=_n(Qr(nt,ne));return me.appendToDom(),me},async createForm(ne={}){return rr(Qr(nt,ne))},remove(){ze&&(ze.parentElement&&ze.parentElement.remove(),ze=null),lt.forEach(ne=>ne()),lt=[]}}};function Qw(){const e=R();return e&&e.getIntegrationByName("Feedback")}var ao,se,np,Yt,Iu,rp,Ri,Tr={},Ra=[],e1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ma=Array.isArray;function Ot(e,t){for(var n in t)e[n]=t[n];return e}function sp(e){var t=e.parentNode;t&&t.removeChild(e)}function G(e,t,n){var r,s,o,i={};for(o in t)o=="key"?r=t[o]:o=="ref"?s=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?ao.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)i[o]===void 0&&(i[o]=e.defaultProps[o]);return ls(e,i,r,s,null)}function ls(e,t,n,r,s){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++np,__i:-1,__u:0};return s==null&&se.vnode!=null&&se.vnode(o),o}function Fr(e){return e.children}function ds(e,t){this.props=e,this.context=t}function Wn(e,t){if(t==null)return e.__?Wn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Wn(e):null}function t1(e,t,n){var r,s=e.__v,o=s.__e,i=e.__P;if(i)return(r=Ot({},s)).__v=s.__v+1,se.vnode&&se.vnode(r),Aa(i,r,s,e.__n,i.ownerSVGElement!==void 0,32&s.__u?[o]:null,t,o??Wn(s),!!(32&s.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&op(r),r}function op(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return op(e)}}function Tu(e){(!e.__d&&(e.__d=!0)&&Yt.push(e)&&!$s.__r++||Iu!==se.debounceRendering)&&((Iu=se.debounceRendering)||rp)($s)}function $s(){var e,t,n,r=[],s=[];for(Yt.sort(Ri);e=Yt.shift();)e.__d&&(n=Yt.length,t=t1(e,r,s)||t,n===0||Yt.length>n?(Mi(r,t,s),s.length=r.length=0,t=void 0,Yt.sort(Ri)):t&&se.__c&&se.__c(t,Ra));t&&Mi(r,t,s),$s.__r=0}function ip(e,t,n,r,s,o,i,a,c,u,d){var l,f,p,h,m,S=r&&r.__k||Ra,_=t.length;for(n.__d=c,n1(n,t,S),c=n.__d,l=0;l<_;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?Tr:S[p.__i]||Tr,p.__i=l,Aa(e,p,f,s,o,i,a,c,u,d),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&Na(f.ref,null,p),d.push(p.ref,p.__c||h,p)),m==null&&h!=null&&(m=h),65536&p.__u||f.__k===p.__k?c=ap(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=m}function n1(e,t,n){var r,s,o,i,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(s=e.__k[r]=(s=t[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ls(null,s,null,null,s):Ma(s)?ls(Fr,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?ls(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,a=r1(s,n,i=r+l,d),s.__i=a,o=null,a!==-1&&(d--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&l--,typeof s.type!="function"&&(s.__u|=65536)):a!==i&&(a===i+1?l++:a>i?d>c-i?l+=a-i:l--:l=a<i&&a==i-1?a-i:0,a!==r+l&&(s.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=Wn(o)),Ai(o,o,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=Wn(o)),Ai(o,o))}function ap(e,t,n){var r,s;if(typeof e.type=="function"){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=ap(r[s],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function r1(e,t,n,r){var s=e.key,o=e.type,i=n-1,a=n+1,c=t[n];if(c===null||c&&s==c.key&&o===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;i>=0||a<t.length;){if(i>=0){if((c=t[i])&&!(131072&c.__u)&&s==c.key&&o===c.type)return i;i--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&s==c.key&&o===c.type)return a;a++}}return-1}function ku(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||e1.test(t)?n:n+"px"}function es(e,t,n,r,s){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ku(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ku(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?xu:Cu,o)):e.removeEventListener(t,o?xu:Cu,o);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Cu(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(se.event?se.event(e):e)}}function xu(e){if(this.l)return this.l[e.type+!0](se.event?se.event(e):e)}function Aa(e,t,n,r,s,o,i,a,c,u){var d,l,f,p,h,m,S,_,E,N,C,M,w,b,x,v=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=se.__b)&&d(t);e:if(typeof v=="function")try{if(_=t.props,E=(d=v.contextType)&&r[d.__c],N=d?E?E.props.value:d.__:r,n.__c?S=(l=t.__c=n.__c).__=l.__E:("prototype"in v&&v.prototype.render?t.__c=l=new v(_,N):(t.__c=l=new ds(_,N),l.constructor=v,l.render=o1),E&&E.sub(l),l.props=_,l.state||(l.state={}),l.context=N,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),v.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Ot({},l.__s)),Ot(l.__s,v.getDerivedStateFromProps(_,l.__s))),p=l.props,h=l.state,l.__v=t,f)v.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(v.getDerivedStateFromProps==null&&_!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(_,N),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(_,l.__s,N)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=_,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(y){y&&(y.__=t)}),C=0;C<l._sb.length;C++)l.__h.push(l._sb[C]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(_,l.__s,N),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,h,m)})}if(l.context=N,l.props=_,l.__P=e,l.__e=!1,M=se.__r,w=0,"prototype"in v&&v.prototype.render){for(l.state=l.__s,l.__d=!1,M&&M(t),d=l.render(l.props,l.state,l.context),b=0;b<l._sb.length;b++)l.__h.push(l._sb[b]);l._sb=[]}else do l.__d=!1,M&&M(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++w<25);l.state=l.__s,l.getChildContext!=null&&(r=Ot(Ot({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(p,h)),ip(e,Ma(x=d!=null&&d.type===Fr&&d.key==null?d.props.children:d)?x:[x],t,n,r,s,o,i,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),S&&(l.__E=l.__=null)}catch(y){t.__v=null,c||o!=null?(t.__e=a,t.__u|=c?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),se.__e(y,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=s1(n.__e,t,n,r,s,o,i,c,u);(d=se.diffed)&&d(t)}function Mi(e,t,n){for(var r=0;r<n.length;r++)Na(n[r],n[++r],n[++r]);se.__c&&se.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){se.__e(o,s.__v)}})}function s1(e,t,n,r,s,o,i,a,c){var u,d,l,f,p,h,m,S=n.props,_=t.props,E=t.type;if(E==="svg"&&(s=!0),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!E&&(E?p.localName===E:p.nodeType===3)){e=p,o[u]=null;break}}if(e==null){if(E===null)return document.createTextNode(_);e=s?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,_.is&&_),o=null,a=!1}if(E===null)S===_||a&&e.data===_||(e.data=_);else{if(o=o&&ao.call(e.childNodes),S=n.props||Tr,!a&&o!=null)for(S={},u=0;u<e.attributes.length;u++)S[(p=e.attributes[u]).name]=p.value;for(u in S)p=S[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in _||es(e,u,null,p,s));for(u in _)p=_[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?h=p:u=="checked"?m=p:u==="key"||a&&typeof p!="function"||S[u]===p||es(e,u,p,S[u],s);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),ip(e,Ma(f)?f:[f],t,n,r,s&&E!=="foreignObject",o,i,o?o[0]:n.__k&&Wn(n,0),a,c),o!=null)for(u=o.length;u--;)o[u]!=null&&sp(o[u]);a||(u="value",h!==void 0&&(h!==e[u]||E==="progress"&&!h||E==="option"&&h!==S[u])&&es(e,u,h,S[u],!1),u="checked",m!==void 0&&m!==e[u]&&es(e,u,m,S[u],!1))}return e}function Na(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){se.__e(r,n)}}function Ai(e,t,n){var r,s;if(se.unmount&&se.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Na(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){se.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&Ai(r[s],t,n||typeof e.type!="function");n||e.__e==null||sp(e.__e),e.__=e.__e=e.__d=void 0}function o1(e,t,n){return this.constructor(e,n)}function i1(e,t,n){var r,s,o,i;se.__&&se.__(e,t),s=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],i=[],Aa(t,e=(!r&&n||t).__k=G(Fr,null,[e]),s||Tr,Tr,t.ownerSVGElement!==void 0,!r&&n?[n]:s?null:t.firstChild?ao.call(t.childNodes):null,o,!r&&n?n:s?s.__e:t.firstChild,r,i),e.__d=void 0,Mi(o,e,i)}ao=Ra.slice,se={__e:function(e,t,n,r){for(var s,o,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),i=s.__d),i)return s.__E=s}catch(a){e=a}throw e}},np=0,ds.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ot({},this.state),typeof e=="function"&&(e=e(Ot({},n),this.props)),e&&Ot(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Tu(this))},ds.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Tu(this))},ds.prototype.render=Fr,Yt=[],rp=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ri=function(e,t){return e.__v.__b-t.__v.__b},$s.__r=0;var It,re,Fo,Ru,jn=0,cp=[],fs=[],pe=se,Mu=pe.__b,Au=pe.__r,Nu=pe.diffed,Ou=pe.__c,Du=pe.unmount,Lu=pe.__;function hn(e,t){pe.__h&&pe.__h(re,e,jn||t),jn=0;var n=re.__H||(re.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:fs}),n.__[e]}function Rn(e){return jn=1,up(dp,e)}function up(e,t,n){var r=hn(It++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):dp(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=re,!re.u)){var s=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!o||o.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!o||o.call(this,a,c,u))};re.u=!0;var o=re.shouldComponentUpdate,i=re.componentWillUpdate;re.componentWillUpdate=function(a,c,u){if(this.__e){var d=o;o=void 0,s(a,c,u),o=d}i&&i.call(this,a,c,u)},re.shouldComponentUpdate=s}return r.__N||r.__}function a1(e,t){var n=hn(It++,3);!pe.__s&&Oa(n.__H,t)&&(n.__=e,n.i=t,re.__H.__h.push(n))}function lp(e,t){var n=hn(It++,4);!pe.__s&&Oa(n.__H,t)&&(n.__=e,n.i=t,re.__h.push(n))}function c1(e){return jn=5,$r(function(){return{current:e}},[])}function u1(e,t,n){jn=6,lp(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function $r(e,t){var n=hn(It++,7);return Oa(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Mn(e,t){return jn=8,$r(function(){return e},t)}function l1(e){var t=re.context[e.__c],n=hn(It++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(re)),t.props.value):e.__}function d1(e,t){pe.useDebugValue&&pe.useDebugValue(t?t(e):e)}function f1(e){var t=hn(It++,10),n=Rn();return t.__=e,re.componentDidCatch||(re.componentDidCatch=function(r,s){t.__&&t.__(r,s),n[1](r)}),[n[0],function(){n[1](void 0)}]}function p1(){var e=hn(It++,11);if(!e.__){for(var t=re.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function h1(){for(var e;e=cp.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ps),e.__H.__h.forEach(Ni),e.__H.__h=[]}catch(t){e.__H.__h=[],pe.__e(t,e.__v)}}pe.__b=function(e){re=null,Mu&&Mu(e)},pe.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Lu&&Lu(e,t)},pe.__r=function(e){Au&&Au(e),It=0;var t=(re=e.__c).__H;t&&(Fo===re?(t.__h=[],re.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=fs,n.__N=n.i=void 0})):(t.__h.forEach(ps),t.__h.forEach(Ni),t.__h=[],It=0)),Fo=re},pe.diffed=function(e){Nu&&Nu(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(cp.push(t)!==1&&Ru===pe.requestAnimationFrame||((Ru=pe.requestAnimationFrame)||m1)(h1)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==fs&&(n.__=n.__V),n.i=void 0,n.__V=fs})),Fo=re=null},pe.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ps),n.__h=n.__h.filter(function(r){return!r.__||Ni(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],pe.__e(r,n.__v)}}),Ou&&Ou(e,t)},pe.unmount=function(e){Du&&Du(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ps(r)}catch(s){t=s}}),n.__H=void 0,t&&pe.__e(t,n.__v))};var Pu=typeof requestAnimationFrame=="function";function m1(e){var t,n=function(){clearTimeout(r),Pu&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Pu&&(t=requestAnimationFrame(n))}function ps(e){var t=re,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),re=t}function Ni(e){var t=re;e.__c=e.__(),re=t}function Oa(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function dp(e,t){return typeof t=="function"?t(e):t}const g1={__proto__:null,useCallback:Mn,useContext:l1,useDebugValue:d1,useEffect:a1,useErrorBoundary:f1,useId:p1,useImperativeHandle:u1,useLayoutEffect:lp,useMemo:$r,useReducer:up,useRef:c1,useState:Rn},_1="http://www.w3.org/2000/svg";function y1(){const e=r=>Q.createElementNS(_1,r),t=Ue(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=Ue(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}const Fu="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function S1({options:e}){const t=$r(()=>({__html:y1().outerHTML}),[]);return G("h2",{class:"dialog__header",__self:this,__source:{fileName:Fu,lineNumber:16}},e.formTitle,e.showBranding?G("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t,__self:this,__source:{fileName:Fu,lineNumber:19}}):null)}function b1(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}const de="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function $o(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function E1({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:s,onSubmitSuccess:o,onSubmitError:i,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:m,isEmailRequired:S,isNameRequired:_,messageLabel:E,messagePlaceholder:N,nameLabel:C,namePlaceholder:M,submitButtonLabel:w,isRequiredLabel:b}=e,[x,v]=Rn(null),[y,I]=Rn(!1),T=u&&u.input,[U,Y]=Rn(null),j=Mn(H=>{Y(H),I(!1)},[]),A=Mn(H=>{const te=b1(H,{emailLabel:h,isEmailRequired:S,isNameRequired:_,messageLabel:E,nameLabel:C});return te.length>0?v(`Please enter in the following required fields: ${te.join(", ")}`):v(null),te.length===0},[h,S,_,E,C]),le=Mn(async H=>{try{if(H.preventDefault(),!(H.target instanceof HTMLFormElement))return;const te=new FormData(H.target),Re=await(u&&y?u.value():void 0),Xe={name:$o(te,"name"),email:$o(te,"email"),message:$o(te,"message"),attachments:Re?[Re]:void 0};if(!A(Xe))return;try{await s({name:Xe.name,email:Xe.email,message:Xe.message,source:jw,tags:d},{attachments:Xe.attachments}),o(Xe)}catch(Wt){us&&g.error(Wt),v(Wt),i(Wt)}}catch{}},[u&&y,o,i]);return G("form",{class:"form",onSubmit:le,__self:this,__source:{fileName:de,lineNumber:144}},T&&y?G(T,{onError:j,__self:this,__source:{fileName:de,lineNumber:146}}):null,G("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:de,lineNumber:149}},G("div",{class:"form__top",__self:this,__source:{fileName:de,lineNumber:150}},x?G("div",{class:"form__error-container",__self:this,__source:{fileName:de,lineNumber:151}},x):null,c?G("label",{for:"name",class:"form__label",__self:this,__source:{fileName:de,lineNumber:154}},G(Ho,{label:C,isRequiredLabel:b,isRequired:_,__self:this,__source:{fileName:de,lineNumber:155}}),G("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:M,required:_,type:"text",__self:this,__source:{fileName:de,lineNumber:156}})):G("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden",__self:this,__source:{fileName:de,lineNumber:167}}),a?G("label",{for:"email",class:"form__label",__self:this,__source:{fileName:de,lineNumber:171}},G(Ho,{label:h,isRequiredLabel:b,isRequired:S,__self:this,__source:{fileName:de,lineNumber:172}}),G("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:S,type:"email",__self:this,__source:{fileName:de,lineNumber:173}})):G("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden",__self:this,__source:{fileName:de,lineNumber:184}}),G("label",{for:"message",class:"form__label",__self:this,__source:{fileName:de,lineNumber:187}},G(Ho,{label:E,isRequiredLabel:b,isRequired:!0,__self:this,__source:{fileName:de,lineNumber:188}}),G("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:N,required:!0,rows:5,__self:this,__source:{fileName:de,lineNumber:189}})),T?G("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:de,lineNumber:201}},G("button",{class:"btn btn--default",type:"button",onClick:()=>{Y(null),I(H=>!H)},__self:this,__source:{fileName:de,lineNumber:202}},y?f:l),U?G("div",{class:"form__error-container",__self:this,__source:{fileName:de,lineNumber:212}},U.message):null):null),G("div",{class:"btn-group",__self:this,__source:{fileName:de,lineNumber:216}},G("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:de,lineNumber:217}},w),G("button",{class:"btn btn--default",type:"button",onClick:r,__self:this,__source:{fileName:de,lineNumber:220}},p))))}function Ho({label:e,isRequired:t,isRequiredLabel:n}){return G("span",{class:"form__label__text",__self:this,__source:{fileName:de,lineNumber:239}},e,t&&G("span",{class:"form__label__text--required",__self:this,__source:{fileName:de,lineNumber:241}},n))}const ts=16,$u=17,v1="http://www.w3.org/2000/svg";function w1(){const e=c=>at.document.createElementNS(v1,c),t=Ue(e("svg"),{width:`${ts}`,height:`${$u}`,viewBox:`0 0 ${ts} ${$u}`,fill:"inherit"}),n=Ue(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Ue(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=Ue(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=Ue(e("clipPath"),{id:"clip0_57_156"}),a=Ue(e("rect"),{width:`${ts}`,height:`${ts}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),t}const dt="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function I1({open:e,onFormSubmitted:t,...n}){const r=n.options,s=$r(()=>({__html:w1().outerHTML}),[]),[o,i]=Rn(null),a=Mn(()=>{o&&(clearTimeout(o),i(null)),t()},[o]),c=Mn(u=>{n.onSubmitSuccess(u),i(setTimeout(()=>{t(),i(null)},qw))},[t]);return G(Fr,{__self:this,__source:{fileName:dt,lineNumber:48}},o?G("div",{class:"success__position",onClick:a,__self:this,__source:{fileName:dt,lineNumber:50}},G("div",{class:"success__content",__self:this,__source:{fileName:dt,lineNumber:51}},r.successMessageText,G("span",{class:"success__icon",dangerouslySetInnerHTML:s,__self:this,__source:{fileName:dt,lineNumber:53}}))):G("dialog",{class:"dialog",onClick:r.onFormClose,open:e,__self:this,__source:{fileName:dt,lineNumber:57}},G("div",{class:"dialog__position",__self:this,__source:{fileName:dt,lineNumber:58}},G("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()},__self:this,__source:{fileName:dt,lineNumber:59}},G(S1,{options:r,__self:this,__source:{fileName:dt,lineNumber:66}}),G(E1,{...n,onSubmitSuccess:c,__self:this,__source:{fileName:dt,lineNumber:67}})))))}const T1=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}
`,k1=`
.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}

.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,C1=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  flex: 0 0 var(--form-width, 272px);
  width: var(--form-width, 272px);
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
}

@media (max-width: 600px) {
  .form__right {
    width: auto;
  }
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,x1=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,R1=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function M1(e){const t=Q.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${T1}
${k1}
${C1}
${x1}
${R1}
`,e&&t.setAttribute("nonce",e),t}const A1="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx";function N1(){const e=W().getUser(),t=ve().getUser(),n=Us().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const O1=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const s=r,o=e.useSentryUser,i=N1(),a=Q.createElement("div"),c=M1(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!s.contains(c)&&!s.contains(a)&&(s.appendChild(c),s.appendChild(a))},removeFromDom(){s.removeChild(a),s.removeChild(c),Q.body.style.overflow=u},open(){f(!0),e.onFormOpen&&e.onFormOpen(),u=Q.body.style.overflow,Q.body.style.overflow="hidden"},close(){f(!1),Q.body.style.overflow=u}},l=t&&t.createInput({h:G,hooks:g1,dialog:d,options:e}),f=p=>{i1(G(I1,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&i&&i[o.name]||"",defaultEmail:o&&i&&i[o.email]||"",onFormClose:()=>{f(!1),e.onFormClose&&e.onFormClose()},onSubmit:n,onSubmitSuccess:h=>{f(!1),e.onSubmitSuccess&&e.onSubmitSuccess(h)},onSubmitError:h=>{e.onSubmitError&&e.onSubmitError(h)},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted()},open:p,__self:void 0,__source:{fileName:A1,lineNumber:67}}),a)};return d}}),D1="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/CropCorner.tsx";function L1({h:e}){return function({top:n,left:r,corner:s,onGrabButton:o}){return e("button",{class:`editor__crop-corner editor__crop-corner--${s} `,style:{top:n,left:r},onMouseDown:i=>{i.preventDefault(),o(i,s)},onClick:i=>{i.preventDefault()},__self:this,__source:{fileName:D1,lineNumber:22}})}}function P1(e){const t=Q.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  flex-grow: 1;

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container canvas {
  object-fit: contain;
  position: relative;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-primary-background, var(--background));
  width: 175px;
  position: absolute;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
`,e&&t.setAttribute("nonce",e),t}function F1({hooks:e}){return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:s,onError:o}){e.useEffect(()=>{(async()=>{n();const a=await cr.mediaDevices.getDisplayMedia({video:{width:at.innerWidth*at.devicePixelRatio,height:at.innerHeight*at.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),c=Q.createElement("video");await new Promise((u,d)=>{c.srcObject=a,c.onloadedmetadata=()=>{r(c),a.getTracks().forEach(l=>l.stop()),u()},c.play().catch(d)}),s()})().catch(o)},[])}}const qe="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",ur=30,pt=3,kt=ur+pt,Le=at.devicePixelRatio,ar=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),Bo=e=>{const t=e.clientHeight,n=e.clientWidth,r=e.width/e.height;let s=t*r,o=t;s>n&&(s=n,o=n/r);const i=(n-s)/2,a=(t-o)/2;return{startX:i,startY:a,endX:s+i,endY:o+a}};function $1({h:e,hooks:t,imageBuffer:n,dialog:r,options:s}){const o=F1({hooks:t});return function({onError:a}){const c=t.useMemo(()=>({__html:P1(s.styleNonce).innerText}),[]),u=L1({h:e}),d=t.useRef(null),l=t.useRef(null),f=t.useRef(null),[p,h]=t.useState({startX:0,startY:0,endX:0,endY:0}),[m,S]=t.useState(!1),[_,E]=t.useState(!1);t.useEffect(()=>{at.addEventListener("resize",N,!1)},[]);function N(){const v=f.current,y=ar(Bo(n));if(v){v.width=y.width*Le,v.height=y.height*Le,v.style.width=`${y.width}px`,v.style.height=`${y.height}px`;const T=v.getContext("2d");T&&T.scale(Le,Le)}const I=l.current;I&&(I.style.width=`${y.width}px`,I.style.height=`${y.height}px`),h({startX:0,startY:0,endX:y.width,endY:y.height})}t.useEffect(()=>{const v=f.current;if(!v)return;const y=v.getContext("2d");if(!y)return;const I=ar(Bo(n)),T=ar(p);y.clearRect(0,0,I.width,I.height),y.fillStyle="rgba(0, 0, 0, 0.5)",y.fillRect(0,0,I.width,I.height),y.clearRect(T.x,T.y,T.width,T.height),y.strokeStyle="#ffffff",y.lineWidth=3,y.strokeRect(T.x+1,T.y+1,T.width-2,T.height-2),y.strokeStyle="#000000",y.lineWidth=1,y.strokeRect(T.x+3,T.y+3,T.width-6,T.height-6)},[p]);function C(v,y){S(!1),E(!0);const I=M(y),T=()=>{Q.removeEventListener("mousemove",I),Q.removeEventListener("mouseup",T),S(!0),E(!1)};Q.addEventListener("mouseup",T),Q.addEventListener("mousemove",I)}const M=t.useCallback(v=>function(y){if(!f.current)return;const I=f.current,T=I.getBoundingClientRect(),U=y.clientX-T.x,Y=y.clientY-T.y;switch(v){case"top-left":h(j=>({...j,startX:Math.min(Math.max(0,U),j.endX-kt),startY:Math.min(Math.max(0,Y),j.endY-kt)}));break;case"top-right":h(j=>({...j,endX:Math.max(Math.min(U,I.width/Le),j.startX+kt),startY:Math.min(Math.max(0,Y),j.endY-kt)}));break;case"bottom-left":h(j=>({...j,startX:Math.min(Math.max(0,U),j.endX-kt),endY:Math.max(Math.min(Y,I.height/Le),j.startY+kt)}));break;case"bottom-right":h(j=>({...j,endX:Math.max(Math.min(U,I.width/Le),j.startX+kt),endY:Math.max(Math.min(Y,I.height/Le),j.startY+kt)}));break}},[]),w=t.useRef({initialX:0,initialY:0});function b(v){if(_)return;w.current={initialX:v.clientX,initialY:v.clientY};const y=T=>{const U=f.current;if(!U)return;const Y=T.clientX-w.current.initialX,j=T.clientY-w.current.initialY;h(A=>{const le=Math.max(0,Math.min(A.startX+Y,U.width/Le-(A.endX-A.startX))),H=Math.max(0,Math.min(A.startY+j,U.height/Le-(A.endY-A.startY))),te=le+(A.endX-A.startX),Re=H+(A.endY-A.startY);return w.current.initialX=T.clientX,w.current.initialY=T.clientY,{startX:le,startY:H,endX:te,endY:Re}})},I=()=>{Q.removeEventListener("mousemove",y),Q.removeEventListener("mouseup",I)};Q.addEventListener("mousemove",y),Q.addEventListener("mouseup",I)}function x(){const v=Q.createElement("canvas"),y=ar(Bo(n)),I=ar(p);v.width=I.width*Le,v.height=I.height*Le;const T=v.getContext("2d");T&&n&&T.drawImage(n,I.x/y.width*n.width,I.y/y.height*n.height,I.width/y.width*n.width,I.height/y.height*n.height,0,0,v.width,v.height);const U=n.getContext("2d");U&&(U.clearRect(0,0,n.width,n.height),n.width=v.width,n.height=v.height,n.style.width=`${I.width}px`,n.style.height=`${I.height}px`,U.drawImage(v,0,0),N())}return o({onBeforeScreenshot:t.useCallback(()=>{r.el.style.display="none"},[]),onScreenshot:t.useCallback(v=>{const y=n.getContext("2d");if(!y)throw new Error("Could not get canvas context");n.width=v.videoWidth,n.height=v.videoHeight,n.style.width="100%",n.style.height="100%",y.drawImage(v,0,0)},[n]),onAfterScreenshot:t.useCallback(()=>{r.el.style.display="block";const v=d.current;v&&v.appendChild(n),N()},[]),onError:t.useCallback(v=>{r.el.style.display="block",a(v)},[])}),e("div",{class:"editor",__self:this,__source:{fileName:qe,lineNumber:315}},e("style",{nonce:s.styleNonce,dangerouslySetInnerHTML:c,__self:this,__source:{fileName:qe,lineNumber:316}}),e("div",{class:"editor__canvas-container",ref:d,__self:this,__source:{fileName:qe,lineNumber:317}},e("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:l,__self:this,__source:{fileName:qe,lineNumber:318}},e("canvas",{onMouseDown:b,style:{position:"absolute",cursor:m?"move":"auto"},ref:f,__self:this,__source:{fileName:qe,lineNumber:319}}),e(u,{left:p.startX-pt,top:p.startY-pt,onGrabButton:C,corner:"top-left",__self:this,__source:{fileName:qe,lineNumber:324}}),e(u,{left:p.endX-ur+pt,top:p.startY-pt,onGrabButton:C,corner:"top-right",__self:this,__source:{fileName:qe,lineNumber:330}}),e(u,{left:p.startX-pt,top:p.endY-ur+pt,onGrabButton:C,corner:"bottom-left",__self:this,__source:{fileName:qe,lineNumber:336}}),e(u,{left:p.endX-ur+pt,top:p.endY-ur+pt,onGrabButton:C,corner:"bottom-right",__self:this,__source:{fileName:qe,lineNumber:342}}),e("div",{style:{left:Math.max(0,p.endX-191),top:Math.max(0,p.endY+8),display:m?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:qe,lineNumber:348}},e("button",{onClick:v=>{v.preventDefault(),f.current&&h({startX:0,startY:0,endX:f.current.width/Le,endY:f.current.height/Le}),S(!1)},class:"btn btn--default",__self:this,__source:{fileName:qe,lineNumber:356}},s.cancelButtonLabel),e("button",{onClick:v=>{v.preventDefault(),x(),S(!1)},class:"btn btn--primary",__self:this,__source:{fileName:qe,lineNumber:373}},s.confirmButtonLabel)))))}}const H1=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const s=Q.createElement("canvas");return{input:$1({h:e,hooks:t,imageBuffer:s,dialog:n,options:r}),value:async()=>{const o=await new Promise(i=>{s.toBlob(i,"image/png")});if(o)return{data:new Uint8Array(await o.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),B1=tp({lazyLoadIntegration:fa}),Hu=tp({lazyLoadIntegration:fa,getModalIntegration:()=>O1,getScreenshotIntegration:()=>H1});function U1(e,t=1,n){Rr.increment(Mr,e,t,n)}function W1(e,t,n){Rr.distribution(Mr,e,t,n)}function j1(e,t,n){Rr.set(Mr,e,t,n)}function z1(e,t,n){Rr.gauge(Mr,e,t,n)}function q1(e,t,n="second",r){return Rr.timing(Mr,e,t,n,r)}const G1={increment:U1,distribution:W1,set:j1,gauge:z1,timing:q1},Bu=new WeakMap,Uo=new Map,Hs={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function fp(e,t){const{traceFetch:n,traceXHR:r,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:i}={traceFetch:Hs.traceFetch,traceXHR:Hs.traceXHR,...t},a=typeof s=="function"?s:d=>!0,c=d=>K1(d,i),u={};n&&(e.addEventProcessor(d=>(d.type==="transaction"&&d.spans&&d.spans.forEach(l=>{if(l.op==="http.client"){const f=Uo.get(l.span_id);f&&(l.timestamp=f/1e3,Uo.delete(l.span_id))}}),d)),lh(d=>{if(d.response){const l=Bu.get(d.response);l&&d.endTimestamp&&Uo.set(l,d.endTimestamp)}}),$i(d=>{const l=Y_(d,a,c,u);if(d.response&&d.fetchData.__span&&Bu.set(d.response,d.fetchData.__span),l){const f=pp(d.fetchData.url),p=f?Kt(f).host:void 0;l.setAttributes({"http.url":f,"server.address":p})}o&&l&&Uu(l)})),r&&ua(d=>{const l=J1(d,a,c,u);o&&l&&Uu(l)})}function Y1(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Uu(e){const{url:t}=F(e).data||{};if(!t||typeof t!="string")return;const n=Dn("resource",({entries:r})=>{r.forEach(s=>{Y1(s)&&s.name.endsWith(t)&&(X1(s).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function V1(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function rt(e=0){return((xe||performance.timeOrigin)+e)/1e3}function X1(e){const{name:t,version:n}=V1(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),xe?[...r,["http.request.redirect_start",rt(e.redirectStart)],["http.request.fetch_start",rt(e.fetchStart)],["http.request.domain_lookup_start",rt(e.domainLookupStart)],["http.request.domain_lookup_end",rt(e.domainLookupEnd)],["http.request.connect_start",rt(e.connectStart)],["http.request.secure_connection_start",rt(e.secureConnectionStart)],["http.request.connection_end",rt(e.connectEnd)],["http.request.request_start",rt(e.requestStart)],["http.request.response_start",rt(e.responseStart)],["http.request.response_end",rt(e.responseEnd)]]:r}function K1(e,t){const n=k.location&&k.location.href;if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return t?Lt(r.toString(),t)||o&&Lt(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?Lt(e,t):r}}function J1(e,t,n,r){const s=e.xhr,o=s&&s[Nt];if(!s||s.__sentry_own_request__||!o)return;const i=Ft()&&t(o.url);if(e.endTimestamp&&i){const f=s.__sentry_xhr_span_id__;if(!f)return;const p=r[f];p&&o.status_code!==void 0&&(Gi(p,o.status_code),p.end(),delete r[f]);return}const a=pp(o.url),c=a?Kt(a).host:void 0,u=!!ye(),d=i&&u?Fe({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":a,url:o.url,"server.address":c,[K]:"auto.http.browser",[Ae]:"http.client"}}):new Bt;s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d;const l=R();return s.setRequestHeader&&n(o.url)&&l&&Z1(s,l,Ft()&&u?d:void 0),d}function Z1(e,t,n){const r=W(),s=ve(),{traceId:o,spanId:i,sampled:a,dsc:c}={...s.getPropagationContext(),...r.getPropagationContext()},u=n&&Ft()?Yi(n):Bi(o,i,a),d=Hi(c||(n?Ut(n):qs(o,t)));Q1(e,u,d)}function Q1(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(ei,n)}catch{}}function pp(e){try{return new URL(e,k.location.origin).href}catch{return}}function eI(){k&&k.document?k.document.addEventListener("visibilitychange",()=>{const e=ye();if(!e)return;const t=he(e);if(k.document.hidden&&t){const n="cancelled",{op:r,status:s}=F(t);q&&g.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:we,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):q&&g.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const tI="BrowserTracing",nI={...rs,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...Hs},Qn=(e={})=>{Vi();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:s,enableStandaloneClsSpans:o},beforeStartSpan:i,idleTimeout:a,finalTimeout:c,childSpanTimeout:u,markBackgroundSpan:d,traceFetch:l,traceXHR:f,shouldCreateSpanForRequest:p,enableHTTPTimings:h,instrumentPageLoad:m,instrumentNavigation:S}={...nI,...e},_=jy({recordClsStandaloneSpans:o||!1});t&&pS(),r&&L.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?qy():n&&zy(),s&&Gy();const E={name:void 0,source:void 0};function N(C,M){const w=M.op==="pageload",b=i?i(M):M,x=b.attributes||{};M.name!==b.name&&(x[be]="custom",b.attributes=x),E.name=b.name,E.source=x[be];const v=zl(b,{idleTimeout:a,finalTimeout:c,childSpanTimeout:u,disableAutoFinish:w,beforeSpanEnd:I=>{_(),Jy(I,{recordClsOnPageloadSpan:!o})}});function y(){["interactive","complete"].includes(k.document.readyState)&&C.emit("idleSpanEnableAutoFinish",v)}return w&&k.document&&(k.document.addEventListener("readystatechange",()=>{y()}),y()),v}return{name:tI,afterAllSetup(C){let M,w=k.location&&k.location.href;C.on("startNavigationSpan",b=>{R()===C&&(M&&!F(M).timestamp&&(q&&g.log(`[Tracing] Finishing current root span with op: ${F(M).op}`),M.end()),M=N(C,{op:"navigation",...b}))}),C.on("startPageLoadSpan",(b,x={})=>{if(R()!==C)return;M&&!F(M).timestamp&&(q&&g.log(`[Tracing] Finishing current root span with op: ${F(M).op}`),M.end());const v=x.sentryTrace||Wu("sentry-trace"),y=x.baggage||Wu("baggage"),I=kl(v,y);W().setPropagationContext(I),M=N(C,{op:"pageload",...b})}),C.on("spanEnd",b=>{const x=F(b).op;if(b!==he(b)||x!=="navigation"&&x!=="pageload")return;const v=W(),y=v.getPropagationContext();v.setPropagationContext({...y,sampled:y.sampled!==void 0?y.sampled:fn(b),dsc:y.dsc||Ut(b)})}),k.location&&(m&&er(C,{name:k.location.pathname,startTime:xe?xe/1e3:void 0,attributes:{[be]:"url",[K]:"auto.pageload.browser"}}),S&&Zs(({to:b,from:x})=>{if(x===void 0&&w&&w.indexOf(b)!==-1){w=void 0;return}x!==b&&(w=void 0,tr(C,{name:k.location.pathname,attributes:{[be]:"url",[K]:"auto.navigation.browser"}}))})),d&&eI(),s&&rI(a,c,u,E),t&&mS(),fp(C,{traceFetch:l,traceXHR:f,tracePropagationTargets:C.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:p,enableHTTPTimings:h})}}};function er(e,t,n){e.emit("startPageLoadSpan",t,n),W().setTransactionName(t.name);const r=ye();return(r&&F(r).op)==="pageload"?r:void 0}function tr(e,t){ve().setPropagationContext(_r()),W().setPropagationContext(_r()),e.emit("startNavigationSpan",t),W().setTransactionName(t.name);const n=ye();return(n&&F(n).op)==="navigation"?n:void 0}function Wu(e){const t=Kp(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function rI(e,t,n,r){let s;const o=()=>{const i="ui.action.click",a=ye(),c=a&&he(a);if(c){const u=F(c).op;if(["navigation","pageload"].includes(u)){q&&g.warn(`[Tracing] Did not create ${i} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(oi,"interactionInterrupted"),s.end(),s=void 0),!r.name){q&&g.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`);return}s=zl({name:r.name,op:i,attributes:{[be]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};k.document&&addEventListener("click",o,{once:!1,capture:!0})}function zn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function sI(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=zn(n);return s=>r.then(o=>s(o.transaction(t,"readwrite").objectStore(t)))}function Da(e){return zn(e.getAllKeys())}function oI(e,t,n){return e(r=>Da(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),zn(r.transaction)}))}function iI(e,t,n){return e(r=>Da(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.min(...s,0)-1),zn(r.transaction)}))}function aI(e){return e(t=>Da(t).then(n=>{const r=n[0];if(r!=null)return zn(t.get(r)).then(s=>(t.delete(r),zn(t.transaction).then(()=>s)))}))}function cI(e){let t;function n(){return t==null&&(t=sI(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const s=await ti(r);await oI(n(),s,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const s=await ti(r);await iI(n(),s,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await aI(n());if(r)return jh(r)}catch{}}}}function uI(e){return t=>e({...t,createStore:cI})}function lI(e=Qs){return uI(Sg(e))}const ju=1e6,hs=String(0),dI="main";let hp="",mp="",gp="",Oi=k.navigator&&k.navigator.userAgent||"",_p="";const fI=k.navigator&&k.navigator.language||k.navigator&&k.navigator.languages&&k.navigator.languages[0]||"";function pI(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const zu=k.navigator&&k.navigator.userAgentData;pI(zu)&&zu.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(hp=e.platform||"",gp=e.architecture||"",_p=e.model||"",mp=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];Oi=`${t.brand} ${t.version}`}}).catch(e=>{});function hI(e){return!("thread_metadata"in e)}function mI(e){return hI(e)?yI(e):e}function gI(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&q&&g.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function _I(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=gI(r),o=mI(n),i=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:ce()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:ce()*1e3;return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||zs,runtime:{name:"javascript",version:k.navigator.userAgent},os:{name:hp,version:mp,build_number:Oi},device:{locale:fI,model:_p,manufacturer:Oi,architecture:gp,is_emulator:!1},debug_meta:{images:EI(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||ae(),trace_id:s,active_thread_id:hs,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function yp(e){return F(e).op==="pageload"}function yI(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[hs]:{name:dI}}},s=e.samples[0];if(!s)return r;const o=s.timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:xe||0,a=i-(xe||i);return e.samples.forEach((c,u)=>{if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[u]={elapsed_since_start_ns:((c.timestamp+a-o)*ju).toFixed(0),stack_id:t,thread_id:hs};return}let d=e.stacks[c.stackId];const l=[];for(;d;){l.push(d.frameId);const p=e.frames[d.frameId];p&&r.frames[d.frameId]===void 0&&(r.frames[d.frameId]={function:p.name,abs_path:typeof p.resourceId=="number"?e.resources[p.resourceId]:void 0,lineno:p.line,colno:p.column}),d=d.parentId===void 0?void 0:e.stacks[d.parentId]}const f={elapsed_since_start_ns:((c.timestamp+a-o)*ju).toFixed(0),stack_id:n,thread_id:hs};r.stacks[n]=l,r.samples[u]=f,n++}),r}function SI(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function bI(e){const t=[];return sn(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const o=n[s];o&&o.contexts&&o.contexts.profile&&o.contexts.profile.profile_id&&t.push(n[s])}}),t}const qu=new WeakMap;function EI(e){const t=L._sentryDebugIds;if(!t)return[];const n=R(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let o;const i=qu.get(s);i?o=i:(o=new Map,qu.set(s,o));const a=Object.keys(t).reduce((u,d)=>{let l;const f=o.get(d);f?l=f:(l=s(d),o.set(d,l));for(let p=l.length-1;p>=0;p--){const h=l[p],m=h&&h.filename;if(h&&m){u[m]=t[d];break}}return u},{}),c=[];for(const u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function vI(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(q&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(q&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function wI(e){return e.samples.length<2?(q&&g.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(q&&g.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Sp=!1;const bp=3e4;function II(e){return typeof e=="function"}function TI(){const e=k.Profiler;if(!II(e)){q&&g.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(bp/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{q&&(g.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),g.log("[Profiling] Disabling profiling for current user session.")),Sp=!0}}function Gu(e){if(Sp)return q&&g.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return q&&g.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=R(),n=t&&t.getOptions();if(!n)return q&&g.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return vI(r)?r?(r===!0?!0:Math.random()<r)?!0:(q&&g.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(q&&g.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(q&&g.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function kI(e,t,n,r){return wI(n)?_I(e,t,n,r):null}const Xt=new Map;function CI(){return Xt.size}function xI(e){const t=Xt.get(e);return t&&Xt.delete(e),t}function RI(e,t){if(Xt.set(e,t),Xt.size>30){const n=Xt.keys().next().value;Xt.delete(n)}}function Yu(e){let t;yp(e)&&(t=ce()*1e3);const n=TI();if(!n)return;q&&g.log(`[Profiling] started profiling span: ${F(e).description}`);const r=ae();W().setContext("profile",{profile_id:r,start_timestamp:t});async function s(){if(e&&n)return n.stop().then(c=>{if(o&&(k.clearTimeout(o),o=void 0),q&&g.log(`[Profiling] stopped profiling of span: ${F(e).description}`),!c){q&&g.log(`[Profiling] profiler returned null profile for: ${F(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}RI(r,c)}).catch(c=>{q&&g.log("[Profiling] error while stopping profiler:",c)})}let o=k.setTimeout(()=>{q&&g.log("[Profiling] max profile duration elapsed, stopping profiling for:",F(e).description),s()},bp);const i=e.end.bind(e);function a(){return e?(s().then(()=>{i()},()=>{i()}),e):i()}e.end=a}const MI="BrowserProfiling",AI=()=>({name:MI,setup(e){const t=ye(),n=t&&he(t);n&&yp(n)&&Gu(n)&&Yu(n),e.on("spanStart",r=>{r===he(r)&&Gu(r)&&Yu(r)}),e.on("beforeEnvelope",r=>{if(!CI())return;const s=bI(r);if(!s.length)return;const o=[];for(const i of s){const a=i&&i.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){q&&g.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){q&&g.log("[Profiling] cannot find profile for a span without a profile context");continue}a&&a.profile&&delete a.profile;const d=xI(c);if(!d){q&&g.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}const l=kI(c,u,d,i);l&&o.push(l)}SI(r,o)})}}),NI=AI;function Ep(e){const t={...e};return cd(t,"react"),Ys("react",{version:De.version}),db(t)}function OI(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function DI(e,t){const n=new WeakSet;function r(s,o){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,o);s.cause=o}}r(e,t)}function vp(e,{componentStack:t},n){if(OI(De.version)&&gt(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,DI(e,r)}return Vn(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}function LI(e){return(t,n)=>{const r=vp(t,n);e&&e(t,n,r)}}var wp={exports:{}},ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=typeof Symbol=="function"&&Symbol.for,La=ke?Symbol.for("react.element"):60103,Pa=ke?Symbol.for("react.portal"):60106,co=ke?Symbol.for("react.fragment"):60107,uo=ke?Symbol.for("react.strict_mode"):60108,lo=ke?Symbol.for("react.profiler"):60114,fo=ke?Symbol.for("react.provider"):60109,po=ke?Symbol.for("react.context"):60110,Fa=ke?Symbol.for("react.async_mode"):60111,ho=ke?Symbol.for("react.concurrent_mode"):60111,mo=ke?Symbol.for("react.forward_ref"):60112,go=ke?Symbol.for("react.suspense"):60113,PI=ke?Symbol.for("react.suspense_list"):60120,_o=ke?Symbol.for("react.memo"):60115,yo=ke?Symbol.for("react.lazy"):60116,FI=ke?Symbol.for("react.block"):60121,$I=ke?Symbol.for("react.fundamental"):60117,HI=ke?Symbol.for("react.responder"):60118,BI=ke?Symbol.for("react.scope"):60119;function je(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case La:switch(e=e.type,e){case Fa:case ho:case co:case lo:case uo:case go:return e;default:switch(e=e&&e.$$typeof,e){case po:case mo:case yo:case _o:case fo:return e;default:return t}}case Pa:return t}}}function Ip(e){return je(e)===ho}ee.AsyncMode=Fa;ee.ConcurrentMode=ho;ee.ContextConsumer=po;ee.ContextProvider=fo;ee.Element=La;ee.ForwardRef=mo;ee.Fragment=co;ee.Lazy=yo;ee.Memo=_o;ee.Portal=Pa;ee.Profiler=lo;ee.StrictMode=uo;ee.Suspense=go;ee.isAsyncMode=function(e){return Ip(e)||je(e)===Fa};ee.isConcurrentMode=Ip;ee.isContextConsumer=function(e){return je(e)===po};ee.isContextProvider=function(e){return je(e)===fo};ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===La};ee.isForwardRef=function(e){return je(e)===mo};ee.isFragment=function(e){return je(e)===co};ee.isLazy=function(e){return je(e)===yo};ee.isMemo=function(e){return je(e)===_o};ee.isPortal=function(e){return je(e)===Pa};ee.isProfiler=function(e){return je(e)===lo};ee.isStrictMode=function(e){return je(e)===uo};ee.isSuspense=function(e){return je(e)===go};ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===co||e===ho||e===lo||e===uo||e===go||e===PI||typeof e=="object"&&e!==null&&(e.$$typeof===yo||e.$$typeof===_o||e.$$typeof===fo||e.$$typeof===po||e.$$typeof===mo||e.$$typeof===$I||e.$$typeof===HI||e.$$typeof===BI||e.$$typeof===FI)};ee.typeOf=je;wp.exports=ee;var UI=wp.exports,$a=UI,WI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Tp={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ha={};Ha[$a.ForwardRef]=zI;Ha[$a.Memo]=Tp;function Vu(e){return $a.isMemo(e)?Tp:Ha[e.$$typeof]||WI}var qI=Object.defineProperty,GI=Object.getOwnPropertyNames,Xu=Object.getOwnPropertySymbols,YI=Object.getOwnPropertyDescriptor,VI=Object.getPrototypeOf,Ku=Object.prototype;function kp(e,t,n){if(typeof t!="string"){if(Ku){var r=VI(t);r&&r!==Ku&&kp(e,r,n)}var s=GI(t);Xu&&(s=s.concat(Xu(t)));for(var o=Vu(e),i=Vu(t),a=0;a<s.length;++a){var c=s[a];if(!jI[c]&&!(n&&n[c])&&!(i&&i[c])&&!(o&&o[c])){var u=YI(t,c);try{qI(e,c,u)}catch{}}}}return e}var XI=kp;const So=Pp(XI),Cp="ui.react.render",KI="ui.react.update",xp="ui.react.mount",JI="unknown";class Ba extends De.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Fe({name:`<${n}>`,onlyIfParent:!0,op:xp,attributes:{[K]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(s=>t[s]!==this.props.updateProps[s]);if(r.length>0){const s=ce();this._updateSpan=an(this._mountSpan,()=>Fe({name:`<${this.props.name}>`,onlyIfParent:!0,op:KI,startTime:s,attributes:{[K]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=ce(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const s=F(this._mountSpan).timestamp;an(this._mountSpan,()=>{const o=Fe({onlyIfParent:!0,name:`<${n}>`,op:Cp,startTime:s,attributes:{[K]:"auto.ui.react.profiler","ui.component_name":n}});o&&o.end(t)})}}render(){return this.props.children}}Ba.__initStatic();function ZI(e,t){const n=t&&t.name||e.displayName||e.name||JI,r=s=>De.createElement(Ba,{...t,name:n,updateProps:s},De.createElement(e,{...s}));return r.displayName=`profiler(${n})`,So(r,e),r}function QI(e,t={disabled:!1,hasRenderSpan:!0}){const[n]=De.useState(()=>{if(!(t&&t.disabled))return Fe({name:`<${e}>`,onlyIfParent:!0,op:xp,attributes:{[K]:"auto.ui.react.profiler","ui.component_name":e}})});De.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){const r=F(n).timestamp,s=ce(),o=Fe({name:`<${e}>`,onlyIfParent:!0,op:Cp,startTime:r,attributes:{[K]:"auto.ui.react.profiler","ui.component_name":e}});o&&o.end(s)}}),[])}const bo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,eT="unknown",Ju={componentStack:null,error:null,eventId:null};class Eo extends De.Component{constructor(t){super(t),Eo.prototype.__init.call(this),this.state=Ju,this._openFallbackReportDialog=!0;const n=R();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&_i({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,s=r??void 0,{beforeCapture:o,onError:i,showDialog:a,dialogOptions:c}=this.props;Ve(u=>{o&&o(u,t,s);const d=vp(t,n,{mechanism:{handled:!!this.props.fallback}});i&&i(t,s,d),a&&(this._lastEventId=d,this._openFallbackReportDialog&&_i({...c,eventId:d})),this.setState({error:t,componentStack:r,eventId:d})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&s(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(Ju)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let s;return typeof t=="function"?s=De.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):s=t,De.isValidElement(s)?s:(t&&bo&&g.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}function tT(e,t){const n=e.displayName||e.name||eT,r=s=>De.createElement(Eo,{...t},De.createElement(e,{...s}));return r.displayName=`errorBoundary(${n})`,So(r,e),r}const nT="redux.action",rT="info",sT={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function oT(e){const t={...sT,...e};return n=>(r,s)=>(t.attachReduxState&&Us().addEventProcessor((i,a)=>{try{i.type===void 0&&i.contexts.state.state.type==="redux"&&(a.attachments=[...a.attachments||[],{filename:"redux_state.json",data:JSON.stringify(i.contexts.state.state.value)}])}catch{}return i}),n((i,a)=>{const c=r(i,a),u=W(),d=t.actionTransformer(a);typeof d<"u"&&d!==null&&tt({category:nT,data:d,type:rT});const l=t.stateTransformer(c);if(typeof l<"u"&&l!==null){const p=R(),h=p&&p.getOptions(),m=h&&h.normalizeDepth||3,S={state:{type:"redux",value:l}};$e(S,"__sentry_override_normalization_depth__",3+m),u.setContext("state",S)}else u.setContext("state",null);const{configureScopeWithState:f}=t;return typeof f=="function"&&f(u,c),c},s))}function iT(e){const t=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),o&&k&&k.location&&Zu(r,k.location,s,(c,u="url")=>{er(a,{name:c,attributes:{[Ae]:"pageload",[K]:"auto.pageload.react.reactrouter_v3",[be]:u}})}),i&&n.listen&&n.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&Zu(r,c,s,(u,d="url")=>{tr(a,{name:u,attributes:{[Ae]:"navigation",[K]:"auto.navigation.react.reactrouter_v3",[be]:d}})})})}}}function Zu(e,t,n,r){let s=t.pathname;n({location:t,routes:e},(o,i,a)=>{if(o||!a)return r(s);const c=aT(a.routes||[]);return c.length===0||c==="/*"?r(s):(s=c,r(s,"route"))})}function aT(e){if(!Array.isArray(e)||e.length===0)return"";const t=e.filter(r=>!!r.path);let n=-1;for(let r=t.length-1;r>=0;r--){const s=t[r];if(s.path&&s.path.startsWith("/")){n=r;break}}return t.slice(n).filter(({path:r})=>!!r).map(({path:r})=>r).join("")}function cT(e,t={}){const n=e,r=Qn({...t,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:s=!0,instrumentNavigation:o=!0}=t;return{...r,afterAllSetup(i){r.afterAllSetup(i);const a=k.location;if(s&&a){const c=n.matchRoutes(a.pathname,a.search,{preload:!1,throwOnError:!1}),u=c[c.length-1];er(i,{name:u?u.routeId:a.pathname,attributes:{[Ae]:"pageload",[K]:"auto.pageload.react.tanstack_router",[be]:u?"route":"url",...Qu(u)}})}o&&n.subscribe("onBeforeNavigate",c=>{if(c.toLocation.state===c.fromLocation.state)return;const u=n.matchRoutes(c.toLocation.pathname,c.toLocation.search,{preload:!1,throwOnError:!1}),d=u[u.length-1],l=k.location,f=tr(i,{name:d?d.routeId:l.pathname,attributes:{[Ae]:"navigation",[K]:"auto.navigation.react.tanstack_router",[be]:d?"route":"url"}}),p=n.subscribe("onResolved",h=>{if(p(),f){const m=n.matchRoutes(h.toLocation.pathname,h.toLocation.search,{preload:!1,throwOnError:!1}),S=m[m.length-1];S&&(f.updateName(S.routeId),f.setAttribute(be,"route"),f.setAttributes(Qu(S)))}})})}}}function Qu(e){if(!e)return{};const t={};return Object.entries(e.params).forEach(([n,r])=>{t[`url.path.params.${n}`]=r}),t}function uT(e){const t=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),Rp(a,o,i,n,"reactrouter_v4",r,s)}}}function lT(e){const t=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),Rp(a,o,i,n,"reactrouter_v5",r,s)}}}function Rp(e,t,n,r,s,o=[],i){function a(){if(r&&r.location)return r.location.pathname;if(k&&k.location)return k.location.pathname}function c(u){if(o.length===0||!i)return[u,"url"];const d=Mp(o,u,i);for(const l of d)if(l.match.isExact)return[l.match.path,"route"];return[u,"url"]}if(t){const u=a();if(u){const[d,l]=c(u);er(e,{name:d,attributes:{[Ae]:"pageload",[K]:`auto.pageload.react.${s}`,[be]:l}})}}n&&r.listen&&r.listen((u,d)=>{if(d&&(d==="PUSH"||d==="POP")){const[l,f]=c(u.pathname);tr(e,{name:l,attributes:{[Ae]:"navigation",[K]:`auto.navigation.react.${s}`,[be]:f}})}})}function Mp(e,t,n,r=[]){return e.some(s=>{const o=s.path?n(t,s):r.length?r[r.length-1].match:dT(t);return o&&(r.push({route:s,match:o}),s.routes&&Mp(s.routes,t,n,r)),!!o}),r}function dT(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function fT(e){const t=e.displayName||e.name,n=r=>{if(r&&r.computedMatch&&r.computedMatch.isExact){const s=r.computedMatch.path,o=pT();W().setTransactionName(s),o&&(o.updateName(s),o.setAttribute(be,"route"))}return De.createElement(e,{...r})};return n.displayName=`sentryRoute(${t})`,So(n,e),n}function pT(){const e=ye(),t=e&&he(e);if(!t)return;const n=F(t).op;return n==="navigation"||n==="pageload"?t:void 0}let Qt,en,tn,ms,cn,vn=!1;const Ap=new WeakSet;function hT(e){const t=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:n,useLocation:r,useNavigationType:s,createRoutesFromChildren:o,matchRoutes:i,stripBasename:a,instrumentPageLoad:c=!0,instrumentNavigation:u=!0}=e;return{...t,setup(){Qt=n,en=r,tn=s,cn=i,ms=o,vn=a||!1},afterAllSetup(d){t.afterAllSetup(d);const l=k&&k.location&&k.location.pathname;c&&l&&er(d,{name:l,attributes:{[be]:"url",[Ae]:"pageload",[K]:"auto.pageload.react.reactrouter_v6"}}),u&&Ap.add(d)}}}function Wo(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function Np(e,t,n,r=""){if(!e||e.length===0)return[vn?Wo(t.pathname,r):t.pathname,"url"];let s="";if(n)for(const o of n){const i=o.route;if(i){if(i.index)return[vn?Wo(o.pathname,r):o.pathname,"route"];const a=i.path;if(a){const c=a[0]==="/"||s[s.length-1]==="/"?a:`/${a}`;if(s+=c,r+o.pathname===t.pathname)return oc(s)!==oc(o.pathname)&&s.slice(-2)!=="/*"?[(vn?"":r)+c,"route"]:[(vn?"":r)+s,"route"]}}}return[vn?Wo(t.pathname,r):t.pathname,"url"]}function Ua(e,t,n,r,s){const o=Array.isArray(r)?r:cn(n,t,s);if(o){const[i,a]=Np(n,t,o,s);W().setTransactionName(i),e&&(e.updateName(i),e.setAttribute(be,a))}}function Wa(e,t,n,r,s){const o=Array.isArray(r)?r:cn(t,e,s),i=R();if(!(!i||!Ap.has(i))&&(n==="PUSH"||n==="POP")&&o){const[a,c]=Np(t,e,o,s);tr(i,{name:a,attributes:{[be]:c,[Ae]:"navigation",[K]:"auto.navigation.react.reactrouter_v6"}})}}function mT(e){if(!Qt||!en||!tn||!ms||!cn)return bo&&g.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${Qt}. useLocation: ${en}. useNavigationType: ${tn}.
      createRoutesFromChildren: ${ms}. matchRoutes: ${cn}.`),e;let t=!0;const n=r=>{const s=en(),o=tn();return Qt(()=>{const i=ms(r.children);t?(Ua(ja(),s,i),t=!1):Wa(s,i,o)},[s,o]),De.createElement(e,{...r})};return So(n,e),n}function gT(e){if(!Qt||!en||!tn||!cn)return bo&&g.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;let t=!0;const n=r=>{const{routes:s,locationArg:o}=r,i=e(s,o),a=en(),c=tn(),u=typeof o=="string"||o&&o.pathname?o:a;return Qt(()=>{const d=typeof u=="string"?{pathname:u}:u;t?(Ua(ja(),d,s),t=!1):Wa(d,s,c)},[c,u]),i};return(r,s)=>De.createElement(n,{routes:r,locationArg:s})}function _T(e){return!Qt||!en||!tn||!cn?(bo&&g.warn("reactRouterV6Instrumentation was unable to wrap the `createRouter` function because of one or more missing parameters."),e):function(t,n){const r=e(t,n),s=n&&n.basename,o=ja();return r.state.historyAction==="POP"&&o&&Ua(o,r.state.location,t,void 0,s),r.subscribe(i=>{const a=i.location;(i.historyAction==="PUSH"||i.historyAction==="POP")&&Wa(a,t,i.historyAction,void 0,s)}),r}}function ja(){const e=ye(),t=e?he(e):void 0;if(!t)return;const n=F(t).op;return n==="navigation"||n==="pageload"?t:void 0}const Op=Object.freeze(Object.defineProperty({__proto__:null,BrowserClient:oa,ErrorBoundary:Eo,Profiler:Ba,SDK_VERSION:yt,SEMANTIC_ATTRIBUTE_SENTRY_OP:Ae,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:K,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:zi,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:be,Scope:ut,WINDOW:k,addBreadcrumb:tt,addEventProcessor:Jl,addIntegration:fg,addTracingExtensions:Sm,breadcrumbsIntegration:qd,browserApiErrorsIntegration:Gd,browserProfilingIntegration:NI,browserTracingIntegration:Qn,captureConsoleIntegration:Yg,captureEvent:Xn,captureException:Vn,captureFeedback:Ed,captureMessage:Is,captureSession:ui,captureUserFeedback:mb,chromeStackLineParser:Ud,close:rg,contextLinesIntegration:$b,continueTrace:Nm,createReduxEnhancer:oT,createTransport:od,createUserFeedbackEnvelope:Td,debugIntegration:Jg,dedupeIntegration:hd,defaultRequestInstrumentationOptions:Hs,defaultStackLineParsers:jd,defaultStackParser:la,endSession:yr,eventFromException:wd,eventFromMessage:Id,exceptionFromError:Xs,extraErrorDataIntegration:o_,feedbackAsyncIntegration:B1,feedbackIntegration:Hu,feedbackSyncIntegration:Hu,flush:ng,forceLoad:fb,functionToStringIntegration:ud,geckoStackLineParser:Wd,getActiveSpan:ye,getClient:R,getCurrentHub:Z_,getCurrentScope:W,getDefaultIntegrations:da,getFeedback:Qw,getGlobalScope:Us,getIsolationScope:ve,getReplay:pw,getRootSpan:he,getSpanDescendants:lr,getSpanStatusFromHttpCode:Nl,globalHandlersIntegration:Yd,httpClientIntegration:Ib,httpContextIntegration:Xd,inboundFiltersIntegration:ld,init:Ep,instrumentOutgoingRequests:fp,isInitialized:sg,lastEventId:Kl,lazyLoadIntegration:fa,linkedErrorsIntegration:Kd,makeBrowserOfflineTransport:lI,makeFetchTransport:Qs,makeMultiplexedTransport:vg,metrics:G1,moduleMetadataIntegration:zg,onLoad:pb,opera10StackLineParser:OS,opera11StackLineParser:PS,parameterize:Tg,reactErrorHandler:LI,reactRouterV3BrowserTracingIntegration:iT,reactRouterV4BrowserTracingIntegration:uT,reactRouterV5BrowserTracingIntegration:lT,reactRouterV6BrowserTracingIntegration:hT,registerSpanErrorInstrumentation:Vi,replayCanvasIntegration:xw,replayIntegration:dw,reportingObserverIntegration:Eb,rewriteFramesIntegration:u_,sendFeedback:Qf,sessionTimingIntegration:p_,setContext:Ys,setCurrentClient:sd,setExtra:Yl,setExtras:Gl,setHttpStatus:Gi,setMeasurement:Bl,setTag:ea,setTags:Vl,setUser:Xl,showReportDialog:_i,spanToBaggageHeader:Em,spanToJSON:F,spanToTraceHeader:Yi,startBrowserTracingNavigationSpan:tr,startBrowserTracingPageLoadSpan:er,startInactiveSpan:Fe,startNewTrace:Om,startSession:Ts,startSpan:Am,startSpanManual:Wl,tanstackRouterBrowserTracingIntegration:cT,thirdPartyErrorFilterIntegration:v_,useProfiler:QI,winjsStackLineParser:MS,withActiveSpan:an,withErrorBoundary:tT,withIsolationScope:cm,withProfiler:ZI,withScope:Ve,withSentryReactRouterV6Routing:mT,withSentryRouting:fT,wrapCreateBrowserRouter:_T,wrapUseRoutes:gT,zodErrorsIntegration:E_},Symbol.toStringTag,{value:"Module"})),yT=[{type:"INTERNAL_SERVER_ERROR",code:500,retryable:!0},{type:"UNAUTHENTICATED",code:401,retryable:!1},{type:"UnauthorizedException",code:401,retryable:!1},{type:"FORBIDDEN",code:403,retryable:!1},{type:"BAD_USER_INPUT",code:400,retryable:!1},{type:"NOT_FOUND",code:404,retryable:!1},{type:"CONFLICT",code:409,retryable:!0},{type:"Task timed out",code:408,retryable:!0}];function TT(e){for(const t of yT)if(e.includes(t.type))return t}class za extends Error{message;errorType;response;request;constructor(t,n){super(),this.message=t,this.errorType=n}static fromClientError(t,n){let r=t.response.errors?.[0]?.message||t.message;const s=new za(r,n);return s.request=t.request,s.response=t.response,s}}const el={"extension-context":/Extension context invalidated./i,"workflow-not-found":/Workflow not found/i},jo="https://d7d41ba9c12d4f7cb91a314fef9dea09@o486460.ingest.sentry.io/5543748";let gr=null;const ST=()=>typeof window>"u"?"background":window.location.pathname==="/panel/index.html"?"panel":"content";function kT(){if(gr||!jo)return;const e=ST();if(e==="content"){const t=da().filter(r=>!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(r.name)),n=new oa({dsn:jo,release:`extension@${qa}`,environment:"production",beforeSend:tl,ignoreErrors:Ga,transport:Qs,stackParser:la,integrations:t});gr=new ut,gr.setClient(n),n.init();return}Ep({dsn:jo,release:`extension@${qa}`,environment:"production",maxValueLength:1e3,beforeSend:tl,ignoreErrors:Ga}),ea("from",e)}const tl=(e,t)=>{if(e.exception?.values?.length){if(!t)return null;const n=t.originalException;return Object.keys(el).forEach(s=>{n&&n.message&&n.message.match(el[s])&&(e.fingerprint=[s])}),e}return null};function CT(e,t={}){e instanceof za&&(t={...t,extra:{variables:JSON.stringify(e.request?.variables),query:e.request?.query,graphqlErrors:e.response?.errors,...t.extra}}),(gr??Op).captureException(e,t)}const xT=e=>{let t=gr??Op;return e?t.setUser({id:e.id,email:e.email||"No email specified"}):t.setUser(null)};export{Fp as C,Hp as N,zo as R,$p as S,za as T,kT as a,xT as b,wT as l,qo as o,TT as p,CT as r,IT as s};
//# sourceMappingURL=BjgJiouD.js.map
