import{r as sn,j as w,R as Ts}from"./CMhnKYCA.js";import{f as T,b as pt,u as Kt}from"./DlLMD6w7.js";import{d as Re,e as ie,ag as Ps,ah as Vi,ai as od,q as sd,aj as ad,o as id,C as nt,t as Wi,ak as n0,al as r0,am as o0,an as s0,ao as a0,a7 as i0,v as u0,n as tt,ac as oc}from"./Cm1H3WaY.js";import{r as u,R as $,$ as c0}from"./bVFUYZgl.js";import{as as ud,ak as Pn,at as l0,O as sc,R as yr,a as Qe,M as Ue,A as f0,ar as d0,au as cd,F as Ui,s as Xe,z as p0,x as m0}from"./SHnOzo4l.js";import{e as Ki,I as h0,D as g0,r as v0,d as ld,i as fd,X as dd,E as pd,F as ts,u as Co,J as C0,K as D0,M as E0,P as w0,N as b0,O as y0,Q as x0,R as A0,S as B0,T as S0,U as ao,z as Gi,y as ac,w as ic,V as qi,G as md,h as O0,H as hd,s as F0,W as I0,Y as $0,Z as R0,A as gd,k as T0,q as P0,x as vd,o as Ka,a as j0,n as k0,$ as M0,a0 as N0,a1 as L0,a2 as _0,f as z0,g as uc,p as H0,C as V0,a3 as W0}from"./CpygsGpn.js";import{m as se,a as Se,s as Ie,c as Ga,b as Mn}from"./DieEiE9e.js";import{a as io,u as U0,b as Zi}from"./Dph_3Rnf.js";import{l as wt,_ as ze}from"./BAD7DE-7.js";import{A as Je}from"./ChlyaM6j.js";import{b as K0,d as G0,u as mt,a as q0}from"./BIl7BGEd.js";import{t as Z0,g as Sn,e as Y0,f as Cd}from"./BTyHENqi.js";import{d as Nr}from"./QipNwzXz.js";import{o as Dd,s as X0,l as J0,N as Ed}from"./BjgJiouD.js";import{s as wd}from"./yXRVlCQS.js";import{v as bd}from"./D8aEg3BZ.js";import{g as Q0}from"./Cpj98o6Y.js";import{t as ev}from"./DgxwHEyS.js";import{n as tv}from"./wJ2w6DWc.js";const nv=({children:e})=>{const t=Ki(),n=t?.setHasErrorMessage;return u.useEffect(()=>{e&&n?.(!0)},[n,e]),t!=null&&t.isInvalid?se.jsx(Se,{"aria-atomic":"true",css:{color:T.colors.red600},id:t?.descriptionId,role:"alert",size:1,children:e}):null},rv=nv,ov=({children:e})=>{const t=Ki(),n=t?.setHasHelperText;return u.useEffect(()=>{n?.(!0)},[n]),t!=null&&t.isInvalid&&t!=null&&t.hasErrorMessage?null:se.jsx(Se,{css:{color:T.colors.gray500},id:t?.descriptionId,size:1,children:e})},sv=ov,av=pt("span",{color:"$red500",display:"inline-block",ml:T.space[1]}),iv=({children:e})=>{const t=Ki();return se.jsxs(Se,{as:"label",css:{color:T.colors.gray600,mb:T.space[1],display:"inline-block"},htmlFor:t?.inputId,size:1,children:[e,t?.isRequired&&se.jsx(av,{children:"*"})]})},uv=iv,js=({children:e,css:t,...n})=>{const r=h0(n);return se.jsx(g0.Provider,{value:r,children:se.jsx(Re,{css:t,role:"group",children:e})})};js.Label=uv;js.ErrorMessage=rv;js.HelperText=sv;const cc=js,cv={some:0,all:1};function lv(e,t,{root:n,margin:r,amount:o="some"}={}){const s=v0(e),a=new WeakMap,i=l=>{l.forEach(d=>{const p=a.get(d.target);if(d.isIntersecting!==!!p)if(d.isIntersecting){const m=t(d);typeof m=="function"?a.set(d.target,m):c.unobserve(d.target)}else p&&(p(d),a.delete(d.target))})},c=new IntersectionObserver(i,{root:n,rootMargin:r,threshold:typeof o=="number"?o:cv[o]});return s.forEach(l=>c.observe(l)),()=>c.disconnect()}function fv(e,{root:t,margin:n,amount:r,once:o=!1}={}){const[s,a]=u.useState(!1);return u.useEffect(()=>{if(!e.current||o&&s)return;const i=()=>(a(!0),o?void 0:()=>a(!1)),c={root:t&&t.current||void 0,margin:n,amount:r};return lv(e.current,i,c)},[t,e,n,o]),s}function la(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}function dv(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function yd(...e){return t=>e.forEach(n=>dv(n,t))}function xd(...e){return u.useCallback(yd(...e),e)}function pv(e,t=[]){let n=[];function r(s,a){const i=u.createContext(a),c=n.length;n=[...n,a];function l(p){const{scope:m,children:h,...g}=p,f=m?.[e][c]||i,C=u.useMemo(()=>g,Object.values(g));return u.createElement(f.Provider,{value:C},h)}function d(p,m){const h=m?.[e][c]||i,g=u.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,d]}const o=()=>{const s=n.map(a=>u.createContext(a));return function(a){const i=a?.[e]||s;return u.useMemo(()=>({[`__scope${e}`]:{...a,[e]:i}}),[a,i])}};return o.scopeName=e,[r,mv(o,...t)]}function mv(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(o){const s=r.reduce((a,{useScope:i,scopeName:c})=>{const l=i(o)[`__scope${c}`];return{...a,...l}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}let fa=0;function hv(){u.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:lc()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:lc()),fa++,()=>{fa===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),fa--}},[])}function lc(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const qa=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},gv=u.useId||(()=>{});let vv=0;function Cv(e){const[t,n]=u.useState(gv());return qa(()=>{e||n(r=>r??String(vv++))},[e]),e||(t?`radix-${t}`:"")}function Dv(e,t){return u.useReducer((n,r)=>t[n][r]??n,e)}const Yi=e=>{const{present:t,children:n}=e,r=Ev(t),o=typeof n=="function"?n({present:r.isPresent}):u.Children.only(n),s=xd(r.ref,o.ref);return typeof n=="function"||r.isPresent?u.cloneElement(o,{ref:s}):null};Yi.displayName="Presence";function Ev(e){const[t,n]=u.useState(),r=u.useRef({}),o=u.useRef(e),s=u.useRef("none"),a=e?"mounted":"unmounted",[i,c]=Dv(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const l=Do(r.current);s.current=i==="mounted"?l:"none"},[i]),qa(()=>{const l=r.current,d=o.current;if(d!==e){const p=s.current,m=Do(l);e?c("MOUNT"):m==="none"||l?.display==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),qa(()=>{if(t){const l=p=>{const m=Do(r.current).includes(p.animationName);p.target===t&&m&&sn.flushSync(()=>c("ANIMATION_END"))},d=p=>{p.target===t&&(s.current=Do(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:u.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Do(e){return e?.animationName||"none"}const Ad=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),s=o.find(bv);if(s){const a=s.props.children,i=o.map(c=>c===s?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(Za,ie({},r,{ref:t}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(Za,ie({},r,{ref:t}),n)});Ad.displayName="Slot";const Za=u.forwardRef((e,t)=>{const{children:n,...r}=e;return u.isValidElement(n)?u.cloneElement(n,{...yv(r,n.props),ref:t?yd(t,n.ref):n.ref}):u.Children.count(n)>1?u.Children.only(null):null});Za.displayName="SlotClone";const wv=({children:e})=>u.createElement(u.Fragment,null,e);function bv(e){return u.isValidElement(e)&&e.type===wv}function yv(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function Bd(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function xv({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=Av({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,i=Bd(n),c=u.useCallback(l=>{if(s){const d=typeof l=="function"?l(e):l;d!==e&&i(d)}else o(l)},[s,e,o,i]);return[a,c]}function Av({defaultProp:e,onChange:t}){const n=u.useState(e),[r]=n,o=u.useRef(r),s=Bd(t);return u.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}const Sd="Popover",[Od,pI]=pv(Sd,[Ps]),Xi=Ps(),[Bv,gr]=Od(Sd),Sv=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:a=!1}=e,i=Xi(t),c=u.useRef(null),[l,d]=u.useState(!1),[p=!1,m]=xv({prop:r,defaultProp:o,onChange:s});return u.createElement(Vi,i,u.createElement(Bv,{scope:t,contentId:Cv(),triggerRef:c,open:p,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:l,onCustomAnchorAdd:u.useCallback(()=>d(!0),[]),onCustomAnchorRemove:u.useCallback(()=>d(!1),[]),modal:a},n))},Ov="PopoverAnchor",Fv=u.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=gr(Ov,n),s=Xi(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:i}=o;return u.useEffect(()=>(a(),()=>i()),[a,i]),u.createElement(od,ie({},s,r,{ref:t}))}),Fd="PopoverPortal",[Iv,$v]=Od(Fd,{forceMount:void 0}),Rv=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,s=gr(Fd,t);return u.createElement(Iv,{scope:t,forceMount:n},u.createElement(Yi,{present:n||s.open},u.createElement(id,{asChild:!0,container:o},r)))},Lr="PopoverContent",Tv=u.forwardRef((e,t)=>{const n=$v(Lr,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,s=gr(Lr,e.__scopePopover);return u.createElement(Yi,{present:r||s.open},s.modal?u.createElement(Pv,ie({},o,{ref:t})):u.createElement(jv,ie({},o,{ref:t})))}),Pv=u.forwardRef((e,t)=>{const n=gr(Lr,e.__scopePopover),r=u.useRef(null),o=xd(t,r),s=u.useRef(!1);return u.useEffect(()=>{const a=r.current;if(a)return ld(a)},[]),u.createElement(fd,{as:Ad,allowPinchZoom:!0},u.createElement(Id,ie({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:la(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),s.current||(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:la(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,l=i.button===2||c;s.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:la(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})))}),jv=u.forwardRef((e,t)=>{const n=gr(Lr,e.__scopePopover),r=u.useRef(!1),o=u.useRef(!1);return u.createElement(Id,ie({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,s),!s.defaultPrevented){var i;r.current||(i=n.triggerRef.current)===null||i===void 0||i.focus(),s.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:s=>{var a,i;(a=e.onInteractOutside)===null||a===void 0||a.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=s.target;!((i=n.triggerRef.current)===null||i===void 0)&&i.contains(c)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}}))}),Id=u.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:d,...p}=e,m=gr(Lr,n),h=Xi(n);return hv(),u.createElement(dd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s},u.createElement(sd,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>m.onOpenChange(!1)},u.createElement(ad,ie({"data-state":kv(m.open),role:"dialog",id:m.contentId},h,p,{ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function kv(e){return e?"open":"closed"}const Mv=Sv,Nv=Fv,Lv=Rv,_v=Tv;function Eo(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var $d={exports:{}},da,fc;function zv(){if(fc)return da;fc=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return da=e,da}var pa,dc;function Hv(){if(dc)return pa;dc=1;var e=zv();function t(){}function n(){}return n.resetWarningCache=t,pa=function(){function r(a,i,c,l,d,p){if(p!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function o(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},pa}$d.exports=Hv()();var Vv=$d.exports;const Ee=pd(Vv),pc=e=>typeof e=="object"&&e!=null&&e.nodeType===1,mc=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",ma=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return mc(n.overflowY,t)||mc(n.overflowX,t)||(r=>{const o=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},wo=(e,t,n,r,o,s,a,i)=>s<e&&a>t||s>e&&a<t?0:s<=e&&i<=n||a>=t&&i>=n?s-e-r:a>t&&i<n||s<e&&i>n?a-t+o:0,Wv=e=>e.parentElement??(e.getRootNode().host||null),Uv=(e,t)=>{var n,r,o,s;if(typeof document>"u")return[];const{scrollMode:a,block:i,inline:c,boundary:l,skipOverflowHiddenElements:d}=t,p=typeof l=="function"?l:G=>G!==l;if(!pc(e))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,h=[];let g=e;for(;pc(g)&&p(g);){if(g=Wv(g),g===m){h.push(g);break}g!=null&&g===document.body&&ma(g)&&!ma(document.documentElement)||g!=null&&ma(g,d)&&h.push(g)}const f=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,C=(s=(o=window.visualViewport)==null?void 0:o.height)!=null?s:innerHeight,{scrollX:E,scrollY:v}=window,{height:y,width:b,top:A,right:x,bottom:B,left:S}=e.getBoundingClientRect(),{top:O,right:R,bottom:_,left:j}=(G=>{const N=window.getComputedStyle(G);return{top:parseFloat(N.scrollMarginTop)||0,right:parseFloat(N.scrollMarginRight)||0,bottom:parseFloat(N.scrollMarginBottom)||0,left:parseFloat(N.scrollMarginLeft)||0}})(e);let H=i==="start"||i==="nearest"?A-O:i==="end"?B+_:A+y/2-O+_,k=c==="center"?S+b/2-j+R:c==="end"?x+R:S-j;const P=[];for(let G=0;G<h.length;G++){const N=h[G],{height:X,width:V,top:J,right:re,bottom:K,left:Q}=N.getBoundingClientRect();if(a==="if-needed"&&A>=0&&S>=0&&B<=C&&x<=f&&A>=J&&B<=K&&S>=Q&&x<=re)return P;const F=getComputedStyle(N),L=parseInt(F.borderLeftWidth,10),U=parseInt(F.borderTopWidth,10),M=parseInt(F.borderRightWidth,10),W=parseInt(F.borderBottomWidth,10);let Z=0,ne=0;const pe="offsetWidth"in N?N.offsetWidth-N.clientWidth-L-M:0,ce="offsetHeight"in N?N.offsetHeight-N.clientHeight-U-W:0,De="offsetWidth"in N?N.offsetWidth===0?0:V/N.offsetWidth:0,he="offsetHeight"in N?N.offsetHeight===0?0:X/N.offsetHeight:0;if(m===N)Z=i==="start"?H:i==="end"?H-C:i==="nearest"?wo(v,v+C,C,U,W,v+H,v+H+y,y):H-C/2,ne=c==="start"?k:c==="center"?k-f/2:c==="end"?k-f:wo(E,E+f,f,L,M,E+k,E+k+b,b),Z=Math.max(0,Z+v),ne=Math.max(0,ne+E);else{Z=i==="start"?H-J-U:i==="end"?H-K+W+ce:i==="nearest"?wo(J,K,X,U,W+ce,H,H+y,y):H-(J+X/2)+ce/2,ne=c==="start"?k-Q-L:c==="center"?k-(Q+V/2)+pe/2:c==="end"?k-re+M+pe:wo(Q,re,V,L,M+pe,k,k+b,b);const{scrollLeft:oe,scrollTop:de}=N;Z=he===0?0:Math.max(0,Math.min(de+Z/he,N.scrollHeight-X/he+ce)),ne=De===0?0:Math.max(0,Math.min(oe+ne/De,N.scrollWidth-V/De+pe)),H+=de-Z,k+=oe-ne}P.push({el:N,top:Z,left:ne})}return P};var Kv=0;function Rd(){}function Gv(e,t){if(e){var n=Uv(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach(function(r){var o=r.el,s=r.top,a=r.left;o.scrollTop=s,o.scrollLeft=a})}}function hc(e,t,n){var r=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return r}function Td(e,t){var n;function r(){n&&clearTimeout(n)}function o(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];r(),n=setTimeout(function(){n=null,e.apply(void 0,a)},t)}return o.cancel=r,o}function Xt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return t.some(function(i){return i&&i.apply(void 0,[r].concat(s)),r.preventDownshiftDefault||r.hasOwnProperty("nativeEvent")&&r.nativeEvent.preventDownshiftDefault})}}function bo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){t.forEach(function(o){typeof o=="function"?o(r):o&&(o.current=r)})}}function qv(){return String(Kv++)}function Ya(e,t){return!e||!t?e:Object.keys(e).reduce(function(n,r){return n[r]=Pd(t,r)?t[r]:e[r],n},{})}function Pd(e,t){return e[t]!==void 0}function Zv(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function yo(e,t,n,r,o){o===void 0&&(o=!1);var s=n.length;if(s===0)return-1;var a=s-1;(typeof e!="number"||e<0||e>a)&&(e=t>0?-1:a+1);var i=e+t;i<0?i=o?a:0:i>a&&(i=o?0:a);var c=ns(i,t<0,n,r,o);return c===-1?e>=s?-1:e:c}function ns(e,t,n,r,o){o===void 0&&(o=!1);var s=n.length;if(t){for(var a=e;a>=0;a--)if(!r(n[a],a))return a}else for(var i=e;i<s;i++)if(!r(n[i],i))return i;return o?ns(t?s-1:0,t,n,r):-1}function gc(e,t,n,r){return r===void 0&&(r=!0),n&&t.some(function(o){return o&&(hc(o,e,n)||r&&hc(o,n.document.activeElement,n))})}var Yv=Td(function(e){jd(e).textContent=""},500);function jd(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function Xv(e,t){if(!(!e||!t)){var n=jd(t);n.textContent=e,Yv(t)}}function Jv(e){var t=e?.getElementById("a11y-status-message");t&&t.remove()}var kd={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Qv(e,t,n){var r=e.props,o=e.type,s={};Object.keys(t).forEach(function(a){e1(a,e,t,n),n[a]!==t[a]&&(s[a]=n[a])}),r.onStateChange&&Object.keys(s).length&&r.onStateChange(ie({type:o},s))}function e1(e,t,n,r){var o=t.props,s=t.type,a="on"+Ji(e)+"Change";o[a]&&r[e]!==void 0&&r[e]!==n[e]&&o[a](ie({type:s},r))}function t1(e,t){return t.changes}var vc=Td(function(e,t){Xv(e,t)},200),n1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?u.useLayoutEffect:u.useEffect,r1="useId"in $?function(e){var t=e.id,n=e.labelId,r=e.menuId,o=e.getItemId,s=e.toggleButtonId,a=e.inputId,i="downshift-"+$.useId();t||(t=i);var c=u.useRef({labelId:n||t+"-label",menuId:r||t+"-menu",getItemId:o||function(l){return t+"-item-"+l},toggleButtonId:s||t+"-toggle-button",inputId:a||t+"-input"});return c.current}:function(e){var t=e.id,n=t===void 0?"downshift-"+qv():t,r=e.labelId,o=e.menuId,s=e.getItemId,a=e.toggleButtonId,i=e.inputId,c=u.useRef({labelId:r||n+"-label",menuId:o||n+"-menu",getItemId:s||function(l){return n+"-item-"+l},toggleButtonId:a||n+"-toggle-button",inputId:i||n+"-input"});return c.current};function o1(e,t,n,r){var o,s;if(e===void 0){if(t===void 0)throw new Error(r);o=n[t],s=t}else s=t===void 0?n.indexOf(e):t,o=e;return[o,s]}function Ji(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function Md(e){var t=u.useRef(e);return t.current=e,t}function s1(e,t,n,r){var o=u.useRef(),s=u.useRef(),a=u.useCallback(function(h,g){s.current=g,h=Ya(h,g.props);var f=e(h,g),C=g.props.stateReducer(h,ie({},g,{changes:f}));return C},[e]),i=u.useReducer(a,t,n),c=i[0],l=i[1],d=Md(t),p=u.useCallback(function(h){return l(ie({props:d.current},h))},[d]),m=s.current;return u.useEffect(function(){var h=Ya(o.current,m?.props),g=m&&o.current&&!r(h,c);g&&Qv(m,h,c),o.current=c},[c,m,r]),[c,p]}var Fr={itemToString:function(e){return e?String(e):""},itemToKey:function(e){return e},stateReducer:t1,scrollIntoView:Gv,environment:typeof window>"u"?void 0:window};function Dn(e,t,n){n===void 0&&(n=kd);var r=e["default"+Ji(t)];return r!==void 0?r:n[t]}function Ir(e,t,n){n===void 0&&(n=kd);var r=e[t];if(r!==void 0)return r;var o=e["initial"+Ji(t)];return o!==void 0?o:Dn(e,t,n)}function a1(e){var t=Ir(e,"selectedItem"),n=Ir(e,"isOpen"),r=d1(e),o=Ir(e,"inputValue");return{highlightedIndex:r<0&&t&&n?e.items.findIndex(function(s){return e.itemToKey(s)===e.itemToKey(t)}):r,isOpen:n,selectedItem:t,inputValue:o}}function $r(e,t,n){var r=e.items,o=e.initialHighlightedIndex,s=e.defaultHighlightedIndex,a=e.isItemDisabled,i=e.itemToKey,c=t.selectedItem,l=t.highlightedIndex;return r.length===0?-1:o!==void 0&&l===o&&!a(r[o],o)?o:s!==void 0&&!a(r[s],s)?s:c?r.findIndex(function(d){return i(c)===i(d)}):n<0&&!a(r[r.length-1],r.length-1)?r.length-1:n>0&&!a(r[0],0)?0:-1}function i1(e,t,n){var r=u.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return u.useEffect(function(){if(!e)return Rd;var o=n.map(function(d){return d.current});function s(){r.current.isTouchEnd=!1,r.current.isMouseDown=!0}function a(d){r.current.isMouseDown=!1,gc(d.target,o,e)||t()}function i(){r.current.isTouchEnd=!1,r.current.isTouchMove=!1}function c(){r.current.isTouchMove=!0}function l(d){r.current.isTouchEnd=!0,!r.current.isTouchMove&&!gc(d.target,o,e,!1)&&t()}return e.addEventListener("mousedown",s),e.addEventListener("mouseup",a),e.addEventListener("touchstart",i),e.addEventListener("touchmove",c),e.addEventListener("touchend",l),function(){e.removeEventListener("mousedown",s),e.removeEventListener("mouseup",a),e.removeEventListener("touchstart",i),e.removeEventListener("touchmove",c),e.removeEventListener("touchend",l)}},[n,e,t]),r.current}var u1=function(){return Rd};function c1(e,t,n,r){r===void 0&&(r={});var o=r.document,s=Qi();u.useEffect(function(){if(!(!e||s||!o)){var a=e(t);vc(a,o)}},n),u.useEffect(function(){return function(){vc.cancel(),Jv(o)}},[o])}function l1(e){var t=e.highlightedIndex,n=e.isOpen,r=e.itemRefs,o=e.getItemNodeFromIndex,s=e.menuElement,a=e.scrollIntoView,i=u.useRef(!0);return n1(function(){t<0||!n||!Object.keys(r.current).length||(i.current===!1?i.current=!0:a(o(t),s))},[t]),i}function Cc(e,t,n){var r;n===void 0&&(n=!0);var o=((r=e.items)==null?void 0:r.length)&&t>=0;return ie({isOpen:!1,highlightedIndex:-1},o&&ie({selectedItem:e.items[t],isOpen:Dn(e,"isOpen"),highlightedIndex:Dn(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function f1(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function Qi(){var e=$.useRef(!0);return $.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}function Xa(e){var t=Dn(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}function d1(e){var t=Ir(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var Vo={environment:Ee.shape({addEventListener:Ee.func.isRequired,removeEventListener:Ee.func.isRequired,document:Ee.shape({createElement:Ee.func.isRequired,getElementById:Ee.func.isRequired,activeElement:Ee.any.isRequired,body:Ee.any.isRequired}).isRequired,Node:Ee.func.isRequired}),itemToString:Ee.func,itemToKey:Ee.func,stateReducer:Ee.func},Nd=ie({},Vo,{getA11yStatusMessage:Ee.func,highlightedIndex:Ee.number,defaultHighlightedIndex:Ee.number,initialHighlightedIndex:Ee.number,isOpen:Ee.bool,defaultIsOpen:Ee.bool,initialIsOpen:Ee.bool,selectedItem:Ee.any,initialSelectedItem:Ee.any,defaultSelectedItem:Ee.any,id:Ee.string,labelId:Ee.string,menuId:Ee.string,getItemId:Ee.func,toggleButtonId:Ee.string,onSelectedItemChange:Ee.func,onHighlightedIndexChange:Ee.func,onStateChange:Ee.func,onIsOpenChange:Ee.func,scrollIntoView:Ee.func});function p1(e,t,n){var r=t.type,o=t.props,s;switch(r){case n.ItemMouseMove:s={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:s={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:s={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:$r(o,e,0)};break;case n.FunctionOpenMenu:s={isOpen:!0,highlightedIndex:$r(o,e,0)};break;case n.FunctionCloseMenu:s={isOpen:!1};break;case n.FunctionSetHighlightedIndex:s={highlightedIndex:o.isItemDisabled(o.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case n.FunctionSetInputValue:s={inputValue:t.inputValue};break;case n.FunctionReset:s={highlightedIndex:Xa(o),isOpen:Dn(o,"isOpen"),selectedItem:Dn(o,"selectedItem"),inputValue:Dn(o,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return ie({},e,s)}ts(ts({},Nd),{items:Ee.array.isRequired,isItemDisabled:Ee.func});ts(ts({},Fr),{isItemDisabled:function(){return!1}});var eu=0,tu=1,nu=2,ru=3,ou=4,su=5,au=6,iu=7,uu=8,rs=9,cu=10,Ld=11,_d=12,lu=13,zd=14,Hd=15,Vd=16,Wd=17,Ud=18,fu=19,Kd=20,Gd=21,du=22,qd=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:du,FunctionCloseMenu:Wd,FunctionOpenMenu:Vd,FunctionReset:Gd,FunctionSelectItem:fu,FunctionSetHighlightedIndex:Ud,FunctionSetInputValue:Kd,FunctionToggleMenu:Hd,InputBlur:rs,InputChange:uu,InputClick:cu,InputKeyDownArrowDown:eu,InputKeyDownArrowUp:tu,InputKeyDownEnd:ou,InputKeyDownEnter:iu,InputKeyDownEscape:nu,InputKeyDownHome:ru,InputKeyDownPageDown:au,InputKeyDownPageUp:su,ItemClick:lu,ItemMouseMove:_d,MenuMouseLeave:Ld,ToggleButtonClick:zd});function m1(e){var t=a1(e),n=t.selectedItem,r=t.inputValue;return r===""&&n&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(r=e.itemToString(n)),ie({},t,{inputValue:r})}ie({},Nd,{items:Ee.array.isRequired,isItemDisabled:Ee.func,inputValue:Ee.string,defaultInputValue:Ee.string,initialInputValue:Ee.string,inputId:Ee.string,onInputValueChange:Ee.func});function h1(e,t,n,r){var o=u.useRef(),s=s1(e,t,n,r),a=s[0],i=s[1],c=Qi();return u.useEffect(function(){if(Pd(t,"selectedItem")){if(!c){var l=t.itemToKey(t.selectedItem)!==t.itemToKey(o.current);l&&i({type:du,inputValue:t.itemToString(t.selectedItem)})}o.current=a.selectedItem===o.current?t.selectedItem:a.selectedItem}},[a.selectedItem,t.selectedItem]),[Ya(a,t),i]}var g1=ie({},Fr,{isItemDisabled:function(){return!1}});function v1(e,t){var n,r=t.type,o=t.props,s=t.altKey,a;switch(r){case lu:a={isOpen:Dn(o,"isOpen"),highlightedIndex:Xa(o),selectedItem:o.items[t.index],inputValue:o.itemToString(o.items[t.index])};break;case eu:e.isOpen?a={highlightedIndex:yo(e.highlightedIndex,1,o.items,o.isItemDisabled,!0)}:a={highlightedIndex:s&&e.selectedItem==null?-1:$r(o,e,1),isOpen:o.items.length>=0};break;case tu:e.isOpen?s?a=Cc(o,e.highlightedIndex):a={highlightedIndex:yo(e.highlightedIndex,-1,o.items,o.isItemDisabled,!0)}:a={highlightedIndex:$r(o,e,-1),isOpen:o.items.length>=0};break;case iu:a=Cc(o,e.highlightedIndex);break;case nu:a=ie({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case su:a={highlightedIndex:yo(e.highlightedIndex,-10,o.items,o.isItemDisabled,!0)};break;case au:a={highlightedIndex:yo(e.highlightedIndex,10,o.items,o.isItemDisabled,!0)};break;case ru:a={highlightedIndex:ns(0,!1,o.items,o.isItemDisabled)};break;case ou:a={highlightedIndex:ns(o.items.length-1,!0,o.items,o.isItemDisabled)};break;case rs:a=ie({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=o.items)==null?void 0:n.length)&&t.selectItem&&{selectedItem:o.items[e.highlightedIndex],inputValue:o.itemToString(o.items[e.highlightedIndex])});break;case uu:a={isOpen:!0,highlightedIndex:Xa(o),inputValue:t.inputValue};break;case cu:a={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:$r(o,e,0)};break;case fu:a={selectedItem:t.selectedItem,inputValue:o.itemToString(t.selectedItem)};break;case du:a={inputValue:t.inputValue};break;default:return p1(e,t,qd)}return ie({},e,a)}var C1=["onMouseLeave","refKey","ref"],D1=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],E1=["onClick","onPress","refKey","ref"],w1=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];Zd.stateChangeTypes=qd;function Zd(e){e===void 0&&(e={});var t=ie({},g1,e),n=t.items,r=t.scrollIntoView,o=t.environment,s=t.getA11yStatusMessage,a=h1(v1,t,m1,f1),i=a[0],c=a[1],l=i.isOpen,d=i.highlightedIndex,p=i.selectedItem,m=i.inputValue,h=u.useRef(null),g=u.useRef({}),f=u.useRef(null),C=u.useRef(null),E=Qi(),v=r1(t),y=u.useRef(),b=Md({state:i,props:t}),A=u.useCallback(function(K){return g.current[v.getItemId(K)]},[v]);c1(s,i,[l,d,p,m],o);var x=l1({menuElement:h.current,highlightedIndex:d,isOpen:l,itemRefs:g,scrollIntoView:r,getItemNodeFromIndex:A});u.useEffect(function(){var K=Ir(t,"isOpen");K&&f.current&&f.current.focus()},[]),u.useEffect(function(){E||(y.current=n.length)});var B=i1(o,u.useCallback(function(){b.current.state.isOpen&&c({type:rs,selectItem:!1})},[c,b]),u.useMemo(function(){return[h,C,f]},[h.current,C.current,f.current])),S=u1();u.useEffect(function(){l||(g.current={})},[l]),u.useEffect(function(){var K;!l||!(o!=null&&o.document)||!(f!=null&&(K=f.current)!=null&&K.focus)||o.document.activeElement!==f.current&&f.current.focus()},[l,o]);var O=u.useMemo(function(){return{ArrowDown:function(K){K.preventDefault(),c({type:eu,altKey:K.altKey})},ArrowUp:function(K){K.preventDefault(),c({type:tu,altKey:K.altKey})},Home:function(K){b.current.state.isOpen&&(K.preventDefault(),c({type:ru}))},End:function(K){b.current.state.isOpen&&(K.preventDefault(),c({type:ou}))},Escape:function(K){var Q=b.current.state;(Q.isOpen||Q.inputValue||Q.selectedItem||Q.highlightedIndex>-1)&&(K.preventDefault(),c({type:nu}))},Enter:function(K){var Q=b.current.state;!Q.isOpen||K.which===229||(K.preventDefault(),c({type:iu}))},PageUp:function(K){b.current.state.isOpen&&(K.preventDefault(),c({type:su}))},PageDown:function(K){b.current.state.isOpen&&(K.preventDefault(),c({type:au}))}}},[c,b]),R=u.useCallback(function(K){return ie({id:v.labelId,htmlFor:v.inputId},K)},[v]),_=u.useCallback(function(K,Q){var F,L=K===void 0?{}:K,U=L.onMouseLeave,M=L.refKey,W=M===void 0?"ref":M,Z=L.ref,ne=Eo(L,C1),pe=Q===void 0?{}:Q;return pe.suppressRefError,ie((F={},F[W]=bo(Z,function(ce){h.current=ce}),F.id=v.menuId,F.role="listbox",F["aria-labelledby"]=ne&&ne["aria-label"]?void 0:""+v.labelId,F.onMouseLeave=Xt(U,function(){c({type:Ld})}),F),ne)},[c,S,v]),j=u.useCallback(function(K){var Q,F,L=K===void 0?{}:K,U=L.item,M=L.index,W=L.refKey,Z=W===void 0?"ref":W,ne=L.ref,pe=L.onMouseMove,ce=L.onMouseDown,De=L.onClick;L.onPress;var he=L.disabled,oe=Eo(L,D1);he!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var de=b.current,ge=de.props,Me=de.state,Pe=o1(U,M,ge.items,"Pass either item or index to getItemProps!"),_e=Pe[0],Te=Pe[1],Be=ge.isItemDisabled(_e,Te),ue="onClick",Ce=De,we=function(){B.isTouchEnd||Te===Me.highlightedIndex||(x.current=!1,c({type:_d,index:Te,disabled:Be}))},ke=function(){c({type:lu,index:Te})},bt=function(Ye){return Ye.preventDefault()};return ie((Q={},Q[Z]=bo(ne,function(Ye){Ye&&(g.current[v.getItemId(Te)]=Ye)}),Q["aria-disabled"]=Be,Q["aria-selected"]=Te===Me.highlightedIndex,Q.id=v.getItemId(Te),Q.role="option",Q),!Be&&(F={},F[ue]=Xt(Ce,ke),F),{onMouseMove:Xt(pe,we),onMouseDown:Xt(ce,bt)},oe)},[c,v,b,B,x]),H=u.useCallback(function(K){var Q,F=K===void 0?{}:K,L=F.onClick;F.onPress;var U=F.refKey,M=U===void 0?"ref":U,W=F.ref,Z=Eo(F,E1),ne=b.current.state,pe=function(){c({type:zd})};return ie((Q={},Q[M]=bo(W,function(ce){C.current=ce}),Q["aria-controls"]=v.menuId,Q["aria-expanded"]=ne.isOpen,Q.id=v.toggleButtonId,Q.tabIndex=-1,Q),!Z.disabled&&ie({},{onClick:Xt(L,pe)}),Z)},[c,b,v]),k=u.useCallback(function(K,Q){var F,L=K===void 0?{}:K,U=L.onKeyDown,M=L.onChange,W=L.onInput,Z=L.onBlur;L.onChangeText;var ne=L.onClick,pe=L.refKey,ce=pe===void 0?"ref":pe,De=L.ref,he=Eo(L,w1),oe=Q===void 0?{}:Q;oe.suppressRefError;var de=b.current.state,ge=function(Ce){var we=Zv(Ce);we&&O[we]&&O[we](Ce)},Me=function(Ce){c({type:uu,inputValue:Ce.target.value})},Pe=function(Ce){if(o!=null&&o.document&&de.isOpen&&!B.isMouseDown){var we=Ce.relatedTarget===null&&o.document.activeElement!==o.document.body;c({type:rs,selectItem:!we})}},_e=function(){c({type:cu})},Te="onChange",Be={};if(!he.disabled){var ue;Be=(ue={},ue[Te]=Xt(M,W,Me),ue.onKeyDown=Xt(U,ge),ue.onBlur=Xt(Z,Pe),ue.onClick=Xt(ne,_e),ue)}return ie((F={},F[ce]=bo(De,function(Ce){f.current=Ce}),F["aria-activedescendant"]=de.isOpen&&de.highlightedIndex>-1?v.getItemId(de.highlightedIndex):"",F["aria-autocomplete"]="list",F["aria-controls"]=v.menuId,F["aria-expanded"]=de.isOpen,F["aria-labelledby"]=he&&he["aria-label"]?void 0:v.labelId,F.autoComplete="off",F.id=v.inputId,F.role="combobox",F.value=de.inputValue,F),Be,he)},[c,v,o,O,b,B,S]),P=u.useCallback(function(){c({type:Hd})},[c]),G=u.useCallback(function(){c({type:Wd})},[c]),N=u.useCallback(function(){c({type:Vd})},[c]),X=u.useCallback(function(K){c({type:Ud,highlightedIndex:K})},[c]),V=u.useCallback(function(K){c({type:fu,selectedItem:K})},[c]),J=u.useCallback(function(K){c({type:Kd,inputValue:K})},[c]),re=u.useCallback(function(){c({type:Gd})},[c]);return{getItemProps:j,getLabelProps:R,getMenuProps:_,getInputProps:k,getToggleButtonProps:H,toggleMenu:P,openMenu:N,closeMenu:G,setHighlightedIndex:X,setInputValue:J,selectItem:V,reset:re,highlightedIndex:d,isOpen:l,selectedItem:p,inputValue:m}}Vo.stateReducer,Vo.itemToKey,Vo.environment,Ee.array,Ee.array,Ee.array,Ee.func,Ee.number,Ee.number,Ee.number,Ee.func,Ee.func,Ee.string,Ee.string;Fr.itemToKey,Fr.stateReducer,Fr.environment;function b1(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yd=b1,y1=typeof Co=="object"&&Co&&Co.Object===Object&&Co,x1=y1,A1=x1,B1=typeof self=="object"&&self&&self.Object===Object&&self,S1=A1||B1||Function("return this")(),Xd=S1,O1=Xd,F1=function(){return O1.Date.now()},I1=F1,$1=/\s/;function R1(e){for(var t=e.length;t--&&$1.test(e.charAt(t)););return t}var T1=R1,P1=T1,j1=/^\s+/;function k1(e){return e&&e.slice(0,P1(e)+1).replace(j1,"")}var M1=k1,N1=Xd,L1=N1.Symbol,Jd=L1,Dc=Jd,Qd=Object.prototype,_1=Qd.hasOwnProperty,z1=Qd.toString,xr=Dc?Dc.toStringTag:void 0;function H1(e){var t=_1.call(e,xr),n=e[xr];try{e[xr]=void 0;var r=!0}catch{}var o=z1.call(e);return r&&(t?e[xr]=n:delete e[xr]),o}var V1=H1,W1=Object.prototype,U1=W1.toString;function K1(e){return U1.call(e)}var G1=K1,Ec=Jd,q1=V1,Z1=G1,Y1="[object Null]",X1="[object Undefined]",wc=Ec?Ec.toStringTag:void 0;function J1(e){return e==null?e===void 0?X1:Y1:wc&&wc in Object(e)?q1(e):Z1(e)}var Q1=J1;function eC(e){return e!=null&&typeof e=="object"}var tC=eC,nC=Q1,rC=tC,oC="[object Symbol]";function sC(e){return typeof e=="symbol"||rC(e)&&nC(e)==oC}var aC=sC,iC=M1,bc=Yd,uC=aC,yc=NaN,cC=/^[-+]0x[0-9a-f]+$/i,lC=/^0b[01]+$/i,fC=/^0o[0-7]+$/i,dC=parseInt;function pC(e){if(typeof e=="number")return e;if(uC(e))return yc;if(bc(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bc(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=iC(e);var n=lC.test(e);return n||fC.test(e)?dC(e.slice(2),n?2:8):cC.test(e)?yc:+e}var mC=pC,hC=Yd,ha=I1,xc=mC,gC="Expected a function",vC=Math.max,CC=Math.min;function DC(e,t,n){var r,o,s,a,i,c,l=0,d=!1,p=!1,m=!0;if(typeof e!="function")throw new TypeError(gC);t=xc(t)||0,hC(n)&&(d=!!n.leading,p="maxWait"in n,s=p?vC(xc(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m);function h(x){var B=r,S=o;return r=o=void 0,l=x,a=e.apply(S,B),a}function g(x){return l=x,i=setTimeout(E,t),d?h(x):a}function f(x){var B=x-c,S=x-l,O=t-B;return p?CC(O,s-S):O}function C(x){var B=x-c,S=x-l;return c===void 0||B>=t||B<0||p&&S>=s}function E(){var x=ha();if(C(x))return v(x);i=setTimeout(E,f(x))}function v(x){return i=void 0,m&&r?h(x):(r=o=void 0,a)}function y(){i!==void 0&&clearTimeout(i),l=0,r=c=o=i=void 0}function b(){return i===void 0?a:v(ha())}function A(){var x=ha(),B=C(x);if(r=arguments,o=this,c=x,B){if(i===void 0)return g(c);if(p)return clearTimeout(i),i=setTimeout(E,t),h(c)}return i===void 0&&(i=setTimeout(E,t)),a}return A.cancel=y,A.flush=b,A}var EC=DC;const wC=pd(EC),bC=pt("ul",{background:T.colors.white,border:`1px solid ${T.colors.gray200}`,borderRadius:T.radii.sm,padding:T.space[1],maxHeight:250,overflowY:"auto",boxShadow:"0px 4px 6px -1px rgba(37, 31, 45, 0.1), 0px 2px 4px -2px rgba(37, 31, 45, 0.1)",m:0}),Ac="item",yC="selected-item",Bc="group",xC=e=>e.options!==void 0,Sc=e=>e.reduce((t,n)=>xC(n)?[...t,...n.options.map(r=>({...r,groupLabel:n.label}))]:[...t,{...n}],[]),AC=e=>{const{children:t,target:n,enabled:r=!0}=e;return r?se.jsx(Lv,{container:n,children:t}):t},ep=e=>{var t;const{label:n,placeholder:r,options:o,loadOptions:s,onItemSelect:a,components:i,portalled:c=!0,container:l=document.body,onBlur:d,onFocus:p,disabled:m,onInputClear:h,onInputChange:g,onOpenChange:f,value:C}=e,E=Sc(o?.options||[]),[v,y]=u.useState(E),[b,A]=u.useState(!1),[x,B]=u.useState(!1),[S,O]=u.useState(!1),R=u.useRef(null),_=u.useRef(null),j=u.useRef(null),H=oe=>{d?.(oe),A(!1)},k=oe=>{p?.(oe),A(!0)},P=()=>{L(""),M(null),setTimeout(()=>{var oe;return(oe=_.current)==null?void 0:oe.click()},100),h?.()},G=u.useCallback(async(oe,de)=>{B(!0);try{const ge=await s?.(oe,de?[]:v);if(ge){const Me=Sc(ge.options);y(de?Me:Pe=>[...Pe,...Me]),O(ge.hasMore||!1)}}catch(ge){console.error(ge)}finally{B(!1)}},[s,v]),N=wC(G,300),{isOpen:X,inputValue:V,getLabelProps:J,getMenuProps:re,getInputProps:K,highlightedIndex:Q,getItemProps:F,setInputValue:L,selectedItem:U,selectItem:M}=Zd({initialSelectedItem:C,onIsOpenChange({isOpen:oe}){if(f?.(oe),oe&&s){N(V);return}},onInputValueChange({inputValue:oe,selectedItem:de}){if(g?.(oe),s&&oe!==de?.label){N(oe,!0);return}o&&y(E.filter(ge=>ge.label.toLowerCase().includes(oe.toLowerCase())||ge.value.toString().toLowerCase().includes(oe)))},items:v,itemToString(oe){return oe?oe.label:""},onSelectedItemChange({selectedItem:oe}){var de;oe&&a(oe),(de=_.current)==null||de.blur()},onHighlightedIndexChange({highlightedIndex:oe}){oe===v.length-1&&S&&G(V)}}),W=u.useCallback(()=>{if(!S||x||!j.current)return;const{scrollTop:oe,scrollHeight:de,clientHeight:ge}=j.current;de-oe<=ge+1&&G(V)},[G,S,V,x]);u.useEffect(()=>{const oe=j.current,de=new AbortController;return oe&&X&&oe.addEventListener("scroll",W,{signal:de.signal}),()=>{oe&&de.abort()}},[W,X]);const Z=K({ref:_}),ne=re({},{suppressRefError:!0}),pe=i&&i[yC],ce=!b&&U&&pe;let De="";const he=Kt({zIndex:"9999 !important"})();return se.jsxs(cc,{children:[n?se.jsx(cc.Label,{...J(),children:n}):null,se.jsxs(Re,{css:{position:"relative"},children:[se.jsxs(C0,{isDisabled:m,isFocused:b,ref:R,children:[ce?se.jsx(Re,{css:{position:"absolute",pointerEvents:"none"},children:u.createElement(pe,{selectedItem:U})}):null,se.jsx(D0,{...Z,"aria-hidden":!!ce,disabled:m,onBlur:H,onFocus:k,placeholder:r,style:{opacity:ce?0:1}})]}),U?se.jsxs(Ie,{alignItems:"center",css:{position:"absolute",top:6,right:6},children:[x?se.jsx(Ga,{size:"sm"}):null,se.jsx(nt,{"aria-label":"Clear input","data-testid":"clear-input-button",onClick:P,size:"sm",children:se.jsx(Wi,{})})]}):null,se.jsxs(Mv,{open:X,children:[se.jsx(Nv,{asChild:!0,children:se.jsx(Re,{css:{position:"absolute",pointerEvents:"none",height:36,width:"100%",top:0,left:0}})}),se.jsx(AC,{enabled:c,target:l,children:se.jsx(_v,{className:he,onOpenAutoFocus:oe=>oe.preventDefault(),side:"bottom",sideOffset:8,children:v.length>0||s&&x?se.jsxs(bC,{...ne,ref:j,role:"listbox",style:{width:((t=R.current)==null?void 0:t.clientWidth)||"200px"},children:[v.map((oe,de)=>{let ge=!0;oe.groupLabel&&(De===oe.groupLabel&&(ge=!1),De=oe.groupLabel);const Me=F({index:de,item:oe});return se.jsxs(Re,{as:"li",css:{listStyle:"none"},"data-topaz-select":!0,role:"listitem",children:[ge&&oe.groupLabel?se.jsx(Re,{css:{padding:T.space[1]},children:i&&i[Bc]?u.createElement(i[Bc],{label:oe.groupLabel}):se.jsx(Se,{css:{color:T.colors.gray500},size:"1",children:oe.groupLabel})}):null,se.jsx(Re,{css:{borderRadius:T.radii.xs,cursor:"pointer",padding:T.space[1]},style:{backgroundColor:Q===de?T.colors.gray100.value:"transparent"},...Me,onPointerDown:Me.onClick,children:i&&i[Ac]?u.createElement(i[Ac],{item:oe}):se.jsx(Se,{css:{color:T.colors.gray700},children:oe.label})})]},de)}),x&&se.jsx(Ie,{alignItems:"center",css:{padding:T.space[1],height:T.sizes[7]},justifyContent:"center",children:se.jsx(Ga,{size:"sm"})})]}):null})})]})]})]})};ep.displayName="DownshiftSelect";const BC=ep;function os(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}function SC(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function tp(...e){return t=>e.forEach(n=>SC(n,t))}function OC(e,t=[]){let n=[];function r(s,a){const i=u.createContext(a),c=n.length;n=[...n,a];function l(p){const{scope:m,children:h,...g}=p,f=m?.[e][c]||i,C=u.useMemo(()=>g,Object.values(g));return u.createElement(f.Provider,{value:C},h)}function d(p,m){const h=m?.[e][c]||i,g=u.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,d]}const o=()=>{const s=n.map(a=>u.createContext(a));return function(a){const i=a?.[e]||s;return u.useMemo(()=>({[`__scope${e}`]:{...a,[e]:i}}),[a,i])}};return o.scopeName=e,[r,FC(o,...t)]}function FC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(o){const s=r.reduce((a,{useScope:i,scopeName:c})=>{const l=i(o)[`__scope${c}`];return{...a,...l}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function np(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function rp({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=IC({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,i=np(n),c=u.useCallback(l=>{if(s){const d=typeof l=="function"?l(e):l;d!==e&&i(d)}else o(l)},[s,e,o,i]);return[a,c]}function IC({defaultProp:e,onChange:t}){const n=u.useState(e),[r]=n,o=u.useRef(r),s=np(t);return u.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}const op=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),s=o.find(RC);if(s){const a=s.props.children,i=o.map(c=>c===s?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(Ja,ie({},r,{ref:t}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(Ja,ie({},r,{ref:t}),n)});op.displayName="Slot";const Ja=u.forwardRef((e,t)=>{const{children:n,...r}=e;return u.isValidElement(n)?u.cloneElement(n,{...TC(r,n.props),ref:t?tp(t,n.ref):n.ref}):u.Children.count(n)>1?u.Children.only(null):null});Ja.displayName="SlotClone";const $C=({children:e})=>u.createElement(u.Fragment,null,e);function RC(e){return u.isValidElement(e)&&e.type===$C}function TC(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}const PC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],jC=PC.reduce((e,t)=>{const n=u.forwardRef((r,o)=>{const{asChild:s,...a}=r,i=s?op:t;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(i,ie({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function et(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}function sp(e,t=[]){let n=[];function r(s,a){const i=u.createContext(a),c=n.length;n=[...n,a];function l(p){const{scope:m,children:h,...g}=p,f=m?.[e][c]||i,C=u.useMemo(()=>g,Object.values(g));return u.createElement(f.Provider,{value:C},h)}function d(p,m){const h=m?.[e][c]||i,g=u.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,d]}const o=()=>{const s=n.map(a=>u.createContext(a));return function(a){const i=a?.[e]||s;return u.useMemo(()=>({[`__scope${e}`]:{...a,[e]:i}}),[a,i])}};return o.scopeName=e,[r,kC(o,...t)]}function kC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(o){const s=r.reduce((a,{useScope:i,scopeName:c})=>{const l=i(o)[`__scope${c}`];return{...a,...l}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function MC(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function pu(...e){return t=>e.forEach(n=>MC(n,t))}function wn(...e){return u.useCallback(pu(...e),e)}const _r=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),s=o.find(LC);if(s){const a=s.props.children,i=o.map(c=>c===s?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(Qa,ie({},r,{ref:t}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(Qa,ie({},r,{ref:t}),n)});_r.displayName="Slot";const Qa=u.forwardRef((e,t)=>{const{children:n,...r}=e;return u.isValidElement(n)?u.cloneElement(n,{..._C(r,n.props),ref:t?pu(t,n.ref):n.ref}):u.Children.count(n)>1?u.Children.only(null):null});Qa.displayName="SlotClone";const NC=({children:e})=>u.createElement(u.Fragment,null,e);function LC(e){return u.isValidElement(e)&&e.type===NC}function _C(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function zC(e){const t=e+"CollectionProvider",[n,r]=sp(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:g,children:f}=h,C=$.useRef(null),E=$.useRef(new Map).current;return $.createElement(o,{scope:g,itemMap:E,collectionRef:C},f)},i=e+"CollectionSlot",c=$.forwardRef((h,g)=>{const{scope:f,children:C}=h,E=s(i,f),v=wn(g,E.collectionRef);return $.createElement(_r,{ref:v},C)}),l=e+"CollectionItemSlot",d="data-radix-collection-item",p=$.forwardRef((h,g)=>{const{scope:f,children:C,...E}=h,v=$.useRef(null),y=wn(g,v),b=s(l,f);return $.useEffect(()=>(b.itemMap.set(v,{ref:v,...E}),()=>void b.itemMap.delete(v))),$.createElement(_r,{[d]:"",ref:y},C)});function m(h){const g=s(e+"CollectionConsumer",h);return $.useCallback(()=>{const f=g.collectionRef.current;if(!f)return[];const C=Array.from(f.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((E,v)=>C.indexOf(E.ref.current)-C.indexOf(v.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},m,r]}const HC=u.createContext(void 0);function VC(e){const t=u.useContext(HC);return e||t||"ltr"}let ga=0;function WC(){u.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Oc()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Oc()),ga++,()=>{ga===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ga--}},[])}function Oc(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const ei=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},UC=u.useId||(()=>{});let KC=0;function Fc(e){const[t,n]=u.useState(UC());return ei(()=>{e||n(r=>r??String(KC++))},[e]),e||(t?`radix-${t}`:"")}function GC(e,t){return u.useReducer((n,r)=>t[n][r]??n,e)}const uo=e=>{const{present:t,children:n}=e,r=qC(t),o=typeof n=="function"?n({present:r.isPresent}):u.Children.only(n),s=wn(r.ref,o.ref);return typeof n=="function"||r.isPresent?u.cloneElement(o,{ref:s}):null};uo.displayName="Presence";function qC(e){const[t,n]=u.useState(),r=u.useRef({}),o=u.useRef(e),s=u.useRef("none"),a=e?"mounted":"unmounted",[i,c]=GC(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const l=xo(r.current);s.current=i==="mounted"?l:"none"},[i]),ei(()=>{const l=r.current,d=o.current;if(d!==e){const p=s.current,m=xo(l);e?c("MOUNT"):m==="none"||l?.display==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),ei(()=>{if(t){const l=p=>{const m=xo(r.current).includes(p.animationName);p.target===t&&m&&sn.flushSync(()=>c("ANIMATION_END"))},d=p=>{p.target===t&&(s.current=xo(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:u.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function xo(e){return e?.animationName||"none"}const ZC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],co=ZC.reduce((e,t)=>{const n=u.forwardRef((r,o)=>{const{asChild:s,...a}=r,i=s?_r:t;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(i,ie({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function YC(e,t){e&&sn.flushSync(()=>e.dispatchEvent(t))}function rr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}function ap(e,t=[]){let n=[];function r(s,a){const i=u.createContext(a),c=n.length;n=[...n,a];function l(p){const{scope:m,children:h,...g}=p,f=m?.[e][c]||i,C=u.useMemo(()=>g,Object.values(g));return u.createElement(f.Provider,{value:C},h)}function d(p,m){const h=m?.[e][c]||i,g=u.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,d]}const o=()=>{const s=n.map(a=>u.createContext(a));return function(a){const i=a?.[e]||s;return u.useMemo(()=>({[`__scope${e}`]:{...a,[e]:i}}),[a,i])}};return o.scopeName=e,[r,XC(o,...t)]}function XC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(o){const s=r.reduce((a,{useScope:i,scopeName:c})=>{const l=i(o)[`__scope${c}`];return{...a,...l}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function JC(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ip(...e){return t=>e.forEach(n=>JC(n,t))}function ti(...e){return u.useCallback(ip(...e),e)}const ss=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),s=o.find(eD);if(s){const a=s.props.children,i=o.map(c=>c===s?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(ni,ie({},r,{ref:t}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(ni,ie({},r,{ref:t}),n)});ss.displayName="Slot";const ni=u.forwardRef((e,t)=>{const{children:n,...r}=e;return u.isValidElement(n)?u.cloneElement(n,{...tD(r,n.props),ref:t?ip(t,n.ref):n.ref}):u.Children.count(n)>1?u.Children.only(null):null});ni.displayName="SlotClone";const QC=({children:e})=>u.createElement(u.Fragment,null,e);function eD(e){return u.isValidElement(e)&&e.type===QC}function tD(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function nD(e){const t=e+"CollectionProvider",[n,r]=ap(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:g,children:f}=h,C=$.useRef(null),E=$.useRef(new Map).current;return $.createElement(o,{scope:g,itemMap:E,collectionRef:C},f)},i=e+"CollectionSlot",c=$.forwardRef((h,g)=>{const{scope:f,children:C}=h,E=s(i,f),v=ti(g,E.collectionRef);return $.createElement(ss,{ref:v},C)}),l=e+"CollectionItemSlot",d="data-radix-collection-item",p=$.forwardRef((h,g)=>{const{scope:f,children:C,...E}=h,v=$.useRef(null),y=ti(g,v),b=s(l,f);return $.useEffect(()=>(b.itemMap.set(v,{ref:v,...E}),()=>void b.itemMap.delete(v))),$.createElement(ss,{[d]:"",ref:y},C)});function m(h){const g=s(e+"CollectionConsumer",h);return $.useCallback(()=>{const f=g.collectionRef.current;if(!f)return[];const C=Array.from(f.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((E,v)=>C.indexOf(E.ref.current)-C.indexOf(v.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},m,r]}const rD=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},oD=u.useId||(()=>{});let sD=0;function aD(e){const[t,n]=u.useState(oD());return rD(()=>{e||n(r=>r??String(sD++))},[e]),e||(t?`radix-${t}`:"")}const iD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],up=iD.reduce((e,t)=>{const n=u.forwardRef((r,o)=>{const{asChild:s,...a}=r,i=s?ss:t;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(i,ie({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function mu(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function uD({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=cD({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,i=mu(n),c=u.useCallback(l=>{if(s){const d=typeof l=="function"?l(e):l;d!==e&&i(d)}else o(l)},[s,e,o,i]);return[a,c]}function cD({defaultProp:e,onChange:t}){const n=u.useState(e),[r]=n,o=u.useRef(r),s=mu(t);return u.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}const lD=u.createContext(void 0);function fD(e){const t=u.useContext(lD);return e||t||"ltr"}const va="rovingFocusGroup.onEntryFocus",dD={bubbles:!1,cancelable:!0},hu="RovingFocusGroup",[ri,cp,pD]=nD(hu),[mD,lp]=ap(hu,[pD]),[hD,gD]=mD(hu),vD=u.forwardRef((e,t)=>u.createElement(ri.Provider,{scope:e.__scopeRovingFocusGroup},u.createElement(ri.Slot,{scope:e.__scopeRovingFocusGroup},u.createElement(CD,ie({},e,{ref:t}))))),CD=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:l,...d}=e,p=u.useRef(null),m=ti(t,p),h=fD(s),[g=null,f]=uD({prop:a,defaultProp:i,onChange:c}),[C,E]=u.useState(!1),v=mu(l),y=cp(n),b=u.useRef(!1),[A,x]=u.useState(0);return u.useEffect(()=>{const B=p.current;if(B)return B.addEventListener(va,v),()=>B.removeEventListener(va,v)},[v]),u.createElement(hD,{scope:n,orientation:r,dir:h,loop:o,currentTabStopId:g,onItemFocus:u.useCallback(B=>f(B),[f]),onItemShiftTab:u.useCallback(()=>E(!0),[]),onFocusableItemAdd:u.useCallback(()=>x(B=>B+1),[]),onFocusableItemRemove:u.useCallback(()=>x(B=>B-1),[])},u.createElement(up.div,ie({tabIndex:C||A===0?-1:0,"data-orientation":r},d,{ref:m,style:{outline:"none",...e.style},onMouseDown:rr(e.onMouseDown,()=>{b.current=!0}),onFocus:rr(e.onFocus,B=>{const S=!b.current;if(B.target===B.currentTarget&&S&&!C){const O=new CustomEvent(va,dD);if(B.currentTarget.dispatchEvent(O),!O.defaultPrevented){const R=y().filter(k=>k.focusable),_=R.find(k=>k.active),j=R.find(k=>k.id===g),H=[_,j,...R].filter(Boolean).map(k=>k.ref.current);fp(H)}}b.current=!1}),onBlur:rr(e.onBlur,()=>E(!1))})))}),DD="RovingFocusGroupItem",ED=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...a}=e,i=aD(),c=s||i,l=gD(DD,n),d=l.currentTabStopId===c,p=cp(n),{onFocusableItemAdd:m,onFocusableItemRemove:h}=l;return u.useEffect(()=>{if(r)return m(),()=>h()},[r,m,h]),u.createElement(ri.ItemSlot,{scope:n,id:c,focusable:r,active:o},u.createElement(up.span,ie({tabIndex:d?0:-1,"data-orientation":l.orientation},a,{ref:t,onMouseDown:rr(e.onMouseDown,g=>{r?l.onItemFocus(c):g.preventDefault()}),onFocus:rr(e.onFocus,()=>l.onItemFocus(c)),onKeyDown:rr(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){l.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const f=yD(g,l.orientation,l.dir);if(f!==void 0){g.preventDefault();let C=p().filter(E=>E.focusable).map(E=>E.ref.current);if(f==="last")C.reverse();else if(f==="prev"||f==="next"){f==="prev"&&C.reverse();const E=C.indexOf(g.currentTarget);C=l.loop?xD(C,E+1):C.slice(E+1)}setTimeout(()=>fp(C))}})})))}),wD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bD(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yD(e,t,n){const r=bD(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wD[r]}function fp(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function xD(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const AD=vD,BD=ED;function gu(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const oi=["Enter"," "],SD=["ArrowDown","PageUp","Home"],dp=["ArrowUp","PageDown","End"],OD=[...SD,...dp],FD={ltr:[...oi,"ArrowRight"],rtl:[...oi,"ArrowLeft"]},ID={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ks="Menu",[zr,$D,RD]=zC(ks),[Kn,pp]=sp(ks,[RD,Ps,lp]),lo=Ps(),mp=lp(),[hp,On]=Kn(ks),[TD,fo]=Kn(ks),PD=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:a=!0}=e,i=lo(t),[c,l]=u.useState(null),d=u.useRef(!1),p=gu(s),m=VC(o);return u.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),u.createElement(Vi,i,u.createElement(hp,{scope:t,open:n,onOpenChange:p,content:c,onContentChange:l},u.createElement(TD,{scope:t,onClose:u.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:d,dir:m,modal:a},r)))},gp=u.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=lo(n);return u.createElement(od,ie({},o,r,{ref:t}))}),vp="MenuPortal",[jD,Cp]=Kn(vp,{forceMount:void 0}),kD=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=On(vp,t);return u.createElement(jD,{scope:t,forceMount:n},u.createElement(uo,{present:n||s.open},u.createElement(id,{asChild:!0,container:o},r)))},Nt="MenuContent",[MD,vu]=Kn(Nt),ND=u.forwardRef((e,t)=>{const n=Cp(Nt,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=On(Nt,e.__scopeMenu),a=fo(Nt,e.__scopeMenu);return u.createElement(zr.Provider,{scope:e.__scopeMenu},u.createElement(uo,{present:r||s.open},u.createElement(zr.Slot,{scope:e.__scopeMenu},a.modal?u.createElement(LD,ie({},o,{ref:t})):u.createElement(_D,ie({},o,{ref:t})))))}),LD=u.forwardRef((e,t)=>{const n=On(Nt,e.__scopeMenu),r=u.useRef(null),o=wn(t,r);return u.useEffect(()=>{const s=r.current;if(s)return ld(s)},[]),u.createElement(Cu,ie({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),_D=u.forwardRef((e,t)=>{const n=On(Nt,e.__scopeMenu);return u.createElement(Cu,ie({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),Cu=u.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:m,onDismiss:h,disableOutsideScroll:g,...f}=e,C=On(Nt,n),E=fo(Nt,n),v=lo(n),y=mp(n),b=$D(n),[A,x]=u.useState(null),B=u.useRef(null),S=wn(t,B,C.onContentChange),O=u.useRef(0),R=u.useRef(""),_=u.useRef(0),j=u.useRef(null),H=u.useRef("right"),k=u.useRef(0),P=g?fd:u.Fragment,G=g?{as:_r,allowPinchZoom:!0}:void 0,N=V=>{var J,re;const K=R.current+V,Q=b().filter(Z=>!Z.disabled),F=document.activeElement,L=(J=Q.find(Z=>Z.ref.current===F))===null||J===void 0?void 0:J.textValue,U=Q.map(Z=>Z.textValue),M=iE(U,K,L),W=(re=Q.find(Z=>Z.textValue===M))===null||re===void 0?void 0:re.ref.current;(function Z(ne){R.current=ne,window.clearTimeout(O.current),ne!==""&&(O.current=window.setTimeout(()=>Z(""),1e3))})(K),W&&setTimeout(()=>W.focus())};u.useEffect(()=>()=>window.clearTimeout(O.current),[]),WC();const X=u.useCallback(V=>{var J,re;return H.current===((J=j.current)===null||J===void 0?void 0:J.side)&&cE(V,(re=j.current)===null||re===void 0?void 0:re.area)},[]);return u.createElement(MD,{scope:n,searchRef:R,onItemEnter:u.useCallback(V=>{X(V)&&V.preventDefault()},[X]),onItemLeave:u.useCallback(V=>{var J;X(V)||((J=B.current)===null||J===void 0||J.focus(),x(null))},[X]),onTriggerLeave:u.useCallback(V=>{X(V)&&V.preventDefault()},[X]),pointerGraceTimerRef:_,onPointerGraceIntentChange:u.useCallback(V=>{j.current=V},[])},u.createElement(P,G,u.createElement(dd,{asChild:!0,trapped:o,onMountAutoFocus:et(s,V=>{var J;V.preventDefault(),(J=B.current)===null||J===void 0||J.focus()}),onUnmountAutoFocus:a},u.createElement(sd,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:m,onDismiss:h},u.createElement(AD,ie({asChild:!0},y,{dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:x,onEntryFocus:et(c,V=>{E.isUsingKeyboardRef.current||V.preventDefault()})}),u.createElement(ad,ie({role:"menu","aria-orientation":"vertical","data-state":xp(C.open),"data-radix-menu-content":"",dir:E.dir},v,f,{ref:S,style:{outline:"none",...f.style},onKeyDown:et(f.onKeyDown,V=>{const J=V.target.closest("[data-radix-menu-content]")===V.currentTarget,re=V.ctrlKey||V.altKey||V.metaKey,K=V.key.length===1;J&&(V.key==="Tab"&&V.preventDefault(),!re&&K&&N(V.key));const Q=B.current;if(V.target!==Q||!OD.includes(V.key))return;V.preventDefault();const F=b().filter(L=>!L.disabled).map(L=>L.ref.current);dp.includes(V.key)&&F.reverse(),sE(F)}),onBlur:et(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(O.current),R.current="")}),onPointerMove:et(e.onPointerMove,Hr(V=>{const J=V.target,re=k.current!==V.clientX;if(V.currentTarget.contains(J)&&re){const K=V.clientX>k.current?"right":"left";H.current=K,k.current=V.clientX}}))})))))))}),zD=u.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.createElement(co.div,ie({role:"group"},r,{ref:t}))}),HD=u.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.createElement(co.div,ie({},r,{ref:t}))}),si="MenuItem",Ic="menu.itemSelect",Du=u.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=u.useRef(null),a=fo(si,e.__scopeMenu),i=vu(si,e.__scopeMenu),c=wn(t,s),l=u.useRef(!1),d=()=>{const p=s.current;if(!n&&p){const m=new CustomEvent(Ic,{bubbles:!0,cancelable:!0});p.addEventListener(Ic,h=>r?.(h),{once:!0}),YC(p,m),m.defaultPrevented?l.current=!1:a.onClose()}};return u.createElement(Dp,ie({},o,{ref:c,disabled:n,onClick:et(e.onClick,d),onPointerDown:p=>{var m;(m=e.onPointerDown)===null||m===void 0||m.call(e,p),l.current=!0},onPointerUp:et(e.onPointerUp,p=>{var m;l.current||(m=p.currentTarget)===null||m===void 0||m.click()}),onKeyDown:et(e.onKeyDown,p=>{const m=i.searchRef.current!=="";n||m&&p.key===" "||oi.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})}))}),Dp=u.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,a=vu(si,n),i=mp(n),c=u.useRef(null),l=wn(t,c),[d,p]=u.useState(!1),[m,h]=u.useState("");return u.useEffect(()=>{const g=c.current;if(g){var f;h(((f=g.textContent)!==null&&f!==void 0?f:"").trim())}},[s.children]),u.createElement(zr.ItemSlot,{scope:n,disabled:r,textValue:o??m},u.createElement(BD,ie({asChild:!0},i,{focusable:!r}),u.createElement(co.div,ie({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},s,{ref:l,onPointerMove:et(e.onPointerMove,Hr(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus())})),onPointerLeave:et(e.onPointerLeave,Hr(g=>a.onItemLeave(g))),onFocus:et(e.onFocus,()=>p(!0)),onBlur:et(e.onBlur,()=>p(!1))}))))}),VD=u.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return u.createElement(wp,{scope:e.__scopeMenu,checked:n},u.createElement(Du,ie({role:"menuitemcheckbox","aria-checked":as(n)?"mixed":n},o,{ref:t,"data-state":Eu(n),onSelect:et(o.onSelect,()=>r?.(as(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),WD="MenuRadioGroup",[UD,KD]=Kn(WD,{value:void 0,onValueChange:()=>{}}),GD=u.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=gu(r);return u.createElement(UD,{scope:e.__scopeMenu,value:n,onValueChange:s},u.createElement(zD,ie({},o,{ref:t})))}),qD="MenuRadioItem",ZD=u.forwardRef((e,t)=>{const{value:n,...r}=e,o=KD(qD,e.__scopeMenu),s=n===o.value;return u.createElement(wp,{scope:e.__scopeMenu,checked:s},u.createElement(Du,ie({role:"menuitemradio","aria-checked":s},r,{ref:t,"data-state":Eu(s),onSelect:et(r.onSelect,()=>{var a;return(a=o.onValueChange)===null||a===void 0?void 0:a.call(o,n)},{checkForDefaultPrevented:!1})})))}),Ep="MenuItemIndicator",[wp,YD]=Kn(Ep,{checked:!1}),XD=u.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=YD(Ep,n);return u.createElement(uo,{present:r||as(s.checked)||s.checked===!0},u.createElement(co.span,ie({},o,{ref:t,"data-state":Eu(s.checked)})))}),JD=u.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.createElement(co.div,ie({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),QD=u.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=lo(n);return u.createElement(n0,ie({},o,r,{ref:t}))}),bp="MenuSub",[eE,yp]=Kn(bp),tE=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:o}=e,s=On(bp,t),a=lo(t),[i,c]=u.useState(null),[l,d]=u.useState(null),p=gu(o);return u.useEffect(()=>(s.open===!1&&p(!1),()=>p(!1)),[s.open,p]),u.createElement(Vi,a,u.createElement(hp,{scope:t,open:r,onOpenChange:p,content:l,onContentChange:d},u.createElement(eE,{scope:t,contentId:Fc(),triggerId:Fc(),trigger:i,onTriggerChange:c},n)))},Ao="MenuSubTrigger",nE=u.forwardRef((e,t)=>{const n=On(Ao,e.__scopeMenu),r=fo(Ao,e.__scopeMenu),o=yp(Ao,e.__scopeMenu),s=vu(Ao,e.__scopeMenu),a=u.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:c}=s,l={__scopeMenu:e.__scopeMenu},d=u.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return u.useEffect(()=>d,[d]),u.useEffect(()=>{const p=i.current;return()=>{window.clearTimeout(p),c(null)}},[i,c]),u.createElement(gp,ie({asChild:!0},l),u.createElement(Dp,ie({id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":xp(n.open)},e,{ref:pu(t,o.onTriggerChange),onClick:p=>{var m;(m=e.onClick)===null||m===void 0||m.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(e.onPointerMove,Hr(p=>{s.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:et(e.onPointerLeave,Hr(p=>{var m;d();const h=(m=n.content)===null||m===void 0?void 0:m.getBoundingClientRect();if(h){var g;const f=(g=n.content)===null||g===void 0?void 0:g.dataset.side,C=f==="right",E=C?-5:5,v=h[C?"left":"right"],y=h[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+E,y:p.clientY},{x:v,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:v,y:h.bottom}],side:f}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:et(e.onKeyDown,p=>{const m=s.searchRef.current!=="";if(!(e.disabled||m&&p.key===" ")&&FD[r.dir].includes(p.key)){var h;n.onOpenChange(!0),(h=n.content)===null||h===void 0||h.focus(),p.preventDefault()}})})))}),rE="MenuSubContent",oE=u.forwardRef((e,t)=>{const n=Cp(Nt,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=On(Nt,e.__scopeMenu),a=fo(Nt,e.__scopeMenu),i=yp(rE,e.__scopeMenu),c=u.useRef(null),l=wn(t,c);return u.createElement(zr.Provider,{scope:e.__scopeMenu},u.createElement(uo,{present:r||s.open},u.createElement(zr.Slot,{scope:e.__scopeMenu},u.createElement(Cu,ie({id:i.contentId,"aria-labelledby":i.triggerId},o,{ref:l,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var p;a.isUsingKeyboardRef.current&&((p=c.current)===null||p===void 0||p.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:et(e.onFocusOutside,d=>{d.target!==i.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:et(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:et(e.onKeyDown,d=>{const p=d.currentTarget.contains(d.target),m=ID[a.dir].includes(d.key);if(p&&m){var h;s.onOpenChange(!1),(h=i.trigger)===null||h===void 0||h.focus(),d.preventDefault()}})})))))});function xp(e){return e?"open":"closed"}function as(e){return e==="indeterminate"}function Eu(e){return as(e)?"indeterminate":e?"checked":"unchecked"}function sE(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function aE(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function iE(e,t,n){const r=t.length>1&&Array.from(t).every(i=>i===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=aE(e,Math.max(o,0));r.length===1&&(s=s.filter(i=>i!==n));const a=s.find(i=>i.toLowerCase().startsWith(r.toLowerCase()));return a!==n?a:void 0}function uE(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const i=t[s].x,c=t[s].y,l=t[a].x,d=t[a].y;c>r!=d>r&&n<(l-i)*(r-c)/(d-c)+i&&(o=!o)}return o}function cE(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return uE(n,t)}function Hr(e){return t=>t.pointerType==="mouse"?e(t):void 0}const lE=PD,fE=gp,dE=kD,pE=ND,mE=HD,hE=Du,gE=VD,vE=GD,CE=ZD,DE=XD,EE=JD,wE=QD,bE=tE,yE=nE,xE=oE,AE=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},BE=u.useId||(()=>{});let SE=0;function $c(e){const[t,n]=u.useState(BE());return AE(()=>{e||n(r=>r??String(SE++))},[e]),e||(t?`radix-${t}`:"")}const Ap="DropdownMenu",[OE,mI]=OC(Ap,[pp]),ht=pp(),[FE,Bp]=OE(Ap),IE=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,c=ht(t),l=u.useRef(null),[d=!1,p]=rp({prop:o,defaultProp:s,onChange:a});return u.createElement(FE,{scope:t,triggerId:$c(),triggerRef:l,contentId:$c(),open:d,onOpenChange:p,onOpenToggle:u.useCallback(()=>p(m=>!m),[p]),modal:i},u.createElement(lE,ie({},c,{open:d,onOpenChange:p,dir:r,modal:i}),n))},$E="DropdownMenuTrigger",RE=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=Bp($E,n),a=ht(n);return u.createElement(fE,ie({asChild:!0},a),u.createElement(jC.button,ie({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},o,{ref:tp(t,s.triggerRef),onPointerDown:os(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(s.onOpenToggle(),s.open||i.preventDefault())}),onKeyDown:os(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&s.onOpenToggle(),i.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})))}),TE=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ht(t);return u.createElement(dE,ie({},r,n))},PE="DropdownMenuContent",jE=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Bp(PE,n),s=ht(n),a=u.useRef(!1);return u.createElement(pE,ie({id:o.contentId,"aria-labelledby":o.triggerId},s,r,{ref:t,onCloseAutoFocus:os(e.onCloseAutoFocus,i=>{var c;a.current||(c=o.triggerRef.current)===null||c===void 0||c.focus(),a.current=!1,i.preventDefault()}),onInteractOutside:os(e.onInteractOutside,i=>{const c=i.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,d=c.button===2||l;(!o.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),kE=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ht(n);return u.createElement(mE,ie({},o,r,{ref:t}))}),ME=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ht(n);return u.createElement(hE,ie({},o,r,{ref:t}))}),NE=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ht(n);return u.createElement(gE,ie({},o,r,{ref:t}))}),LE=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ht(n);return u.createElement(vE,ie({},o,r,{ref:t}))}),_E=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ht(n);return u.createElement(CE,ie({},o,r,{ref:t}))}),zE=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ht(n);return u.createElement(DE,ie({},o,r,{ref:t}))}),HE=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ht(n);return u.createElement(EE,ie({},o,r,{ref:t}))}),VE=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ht(n);return u.createElement(wE,ie({},o,r,{ref:t}))}),WE=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:o,defaultOpen:s}=e,a=ht(t),[i=!1,c]=rp({prop:r,defaultProp:s,onChange:o});return u.createElement(bE,ie({},a,{open:i,onOpenChange:c}),n)},UE=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ht(n);return u.createElement(yE,ie({},o,r,{ref:t}))}),KE=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ht(n);return u.createElement(xE,ie({},o,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),GE=IE,qE=RE,Sp=TE,ZE=jE,YE=kE,XE=ME,JE=NE,QE=LE,ew=_E,tw=zE,nw=HE,rw=VE,ow=WE,sw=UE,aw=KE,Op={minWidth:220,overflow:"hidden",backgroundColor:"white",borderRadius:"$md",boxShadow:T.shadows.lg,border:`1px solid ${T.colors.gray100}`,fontFamily:"$sans",py:T.space[2],zIndex:T.zIndices.alert,"@media (prefers-reduced-motion: no-preference)":{animationDuration:"400ms",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",willChange:"transform, opacity",'&[data-state="open"]':{'&[data-side="top"]':{animationName:r0},'&[data-side="right"]':{animationName:o0},'&[data-side="bottom"]':{animationName:s0},'&[data-side="left"]':{animationName:a0}}}},Rc=pt(ZE,{...Op}),Tc=pt(aw,{...Op}),Ms={all:"unset",fontSize:T.fontSizes[2],lineHeight:1,color:"$gray500",display:"flex",alignItems:"center",height:20,padding:`${T.space[2]} ${T.space[4]}`,position:"relative",userSelect:"none",borderRadius:T.radii.sm,mx:T.space[2],mb:T.space[1],cursor:"pointer","&[data-disabled]":{color:"$gray300",cursor:"not-allowed"},'&[data-state="checked"]':{backgroundColor:"$gray200",color:"$gray700"},"&:focus":{backgroundColor:"$gray100"},"&:last-child":{mb:0}},iw=pt(XE,{...Ms}),uw=pt(JE,{...Ms,pl:T.space[4]}),cw=pt(ew,{...Ms,pl:T.space[4]}),lw=pt(sw,{'&[data-state="open"]':{backgroundColor:"$gray100"},...Ms}),fw=pt(YE,{padding:`${T.space[2]} ${T.space[2]} 0 ${T.space[5]}`,fontSize:T.fontSizes[1],lineHeight:"25px",color:"$gray700"}),dw=pt(nw,{height:1,backgroundColor:"$gray100"}),pw=pt(tw,{position:"absolute",left:0,width:25,display:"inline-flex",alignItems:"center",justifyContent:"center"}),mw=pt(rw,{fill:"white"}),hw=pt("div",{marginLeft:"auto",paddingLeft:T.space[5],fontSize:T.fontSizes[1],color:"$gray500","[data-disabled] &":{color:"$gray200"}}),gw=e=>{const{container:t,portalled:n=!0,children:r,...o}=e;return n?se.jsx(Sp,{container:t,children:se.jsx(Rc,{...o,children:r})}):se.jsx(Rc,{...o,children:r})},vw=e=>{const{portalled:t=!0,children:n,...r}=e;return t?se.jsx(Sp,{children:se.jsx(Tc,{...r,children:n})}):se.jsx(Tc,{...r,children:n})},Cw=u.forwardRef((e,t)=>{const{disabled:n,children:r,onClick:o,...s}=e,a=i=>{if(n){i.preventDefault();return}o&&o(i)};return se.jsx(iw,{disabled:n,onClick:a,ref:t,...s,children:r})}),gt=e=>se.jsx(GE,{...e});gt.Arrow=mw;gt.CheckboxItem=uw;gt.Content=gw;gt.Item=Cw;gt.ItemIndicator=pw;gt.Label=fw;gt.RadioGroup=QE;gt.RadioItem=cw;gt.Separator=dw;gt.Trigger=qE;gt.Sub=ow;gt.SubContent=vw;gt.SubTrigger=lw;gt.ItemEndSlot=hw;const En=gt,Fp=e=>se.jsx(wt,{icon:se.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:[se.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M27.783 21.883c2.284 1.55 3.884 3.65 3.884 6.45v5h5c.916 0 1.666-.75 1.666-1.666v-3.334c0-3.633-5.95-5.783-10.55-6.45Z",clipRule:"evenodd"}),se.jsx("path",{fill:"currentColor",d:"M15 20a6.667 6.667 0 1 0 0-13.333A6.667 6.667 0 0 0 15 20Z"}),se.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M25 20a6.665 6.665 0 0 0 6.667-6.667A6.665 6.665 0 0 0 25 6.667c-.783 0-1.517.166-2.217.4a9.966 9.966 0 0 1 0 12.533c.7.233 1.434.4 2.217.4ZM15 21.667c-4.45 0-13.333 2.233-13.333 6.666v3.334c0 .916.75 1.666 1.666 1.666h23.334c.916 0 1.666-.75 1.666-1.666v-3.334c0-4.433-8.883-6.666-13.333-6.666Z",clipRule:"evenodd"})]}),...e});Fp.displayName="IconPeople";const Ip=e=>se.jsx(wt,{icon:se.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:se.jsx("path",{fill:"currentColor",d:"M20 3.333C10.8 3.333 3.333 10.8 3.333 20c0 9.2 7.467 16.667 16.667 16.667 9.2 0 16.667-7.467 16.667-16.667C36.667 10.8 29.2 3.333 20 3.333Zm0 30C12.65 33.333 6.667 27.35 6.667 20 6.667 12.65 12.65 6.667 20 6.667c7.35 0 13.333 5.983 13.333 13.333 0 7.35-5.983 13.333-13.333 13.333Zm6.467-19.516-9.8 9.8-3.134-3.134a1.66 1.66 0 0 0-2.35 0c-.65.65-.65 1.7 0 2.35L15.5 27.15c.65.65 1.7.65 2.35 0l10.983-10.983c.65-.65.65-1.7 0-2.35a1.68 1.68 0 0 0-2.366 0Z"})}),...e});Ip.displayName="IconCheckCircleOutline";const is=e=>se.jsx(wt,{icon:se.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:se.jsx("path",{fill:"currentColor",d:"m23.431 15.033 1.534 1.534-15.1 15.1H8.33v-1.534l15.1-15.1Zm6-10.033c-.416 0-.85.167-1.166.483l-3.05 3.05 6.25 6.25 3.05-3.05c.65-.65.65-1.7 0-2.35l-3.9-3.9A1.637 1.637 0 0 0 29.43 5Zm-6 5.317L4.998 28.75V35h6.25L29.68 16.567l-6.25-6.25Z"})}),...e});is.displayName="IconEditOutline";const Br=e=>se.jsx(wt,{icon:se.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:se.jsx("path",{fill:"currentColor",d:"M19.983 3.333c-9.2 0-16.65 7.467-16.65 16.667 0 9.2 7.45 16.667 16.65 16.667C29.2 36.667 36.667 29.2 36.667 20c0-9.2-7.467-16.667-16.684-16.667Zm.017 30c-7.367 0-13.333-5.966-13.333-13.333S12.633 6.667 20 6.667 33.333 12.633 33.333 20 27.367 33.333 20 33.333Zm5.833-15c1.384 0 2.5-1.116 2.5-2.5 0-1.383-1.116-2.5-2.5-2.5a2.497 2.497 0 0 0-2.5 2.5c0 1.384 1.117 2.5 2.5 2.5Zm-11.666 0c1.383 0 2.5-1.116 2.5-2.5 0-1.383-1.117-2.5-2.5-2.5a2.497 2.497 0 0 0-2.5 2.5c0 1.384 1.116 2.5 2.5 2.5ZM20 29.167c3.883 0 7.183-2.434 8.517-5.834H11.483c1.334 3.4 4.634 5.834 8.517 5.834Z"})}),...e});Br.displayName="IconEmojiOutline";const Ns=e=>se.jsx(wt,{icon:se.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:se.jsx("path",{fill:"currentColor",d:"M6.667 21.667c1.833 0 3.333-1.5 3.333-3.334C10 16.5 8.5 15 6.667 15a3.343 3.343 0 0 0-3.334 3.333c0 1.834 1.5 3.334 3.334 3.334ZM8.55 23.5c-.617-.1-1.233-.167-1.883-.167-1.65 0-3.217.35-4.634.967A3.351 3.351 0 0 0 0 27.383V29a1 1 0 0 0 1 1h6.5v-2.683c0-1.384.383-2.684 1.05-3.817Zm24.783-1.833c1.834 0 3.334-1.5 3.334-3.334 0-1.833-1.5-3.333-3.334-3.333A3.343 3.343 0 0 0 30 18.333c0 1.834 1.5 3.334 3.333 3.334ZM40 27.383c0-1.35-.8-2.55-2.033-3.083a11.584 11.584 0 0 0-4.634-.967c-.65 0-1.266.067-1.883.167a7.497 7.497 0 0 1 1.05 3.817V30H39a1 1 0 0 0 1-1v-1.617ZM27.067 22.75c-1.95-.867-4.35-1.5-7.067-1.5-2.717 0-5.117.65-7.067 1.5-1.8.8-2.933 2.6-2.933 4.567V29a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-1.683c0-1.967-1.133-3.767-2.933-4.567ZM13.45 26.667c.15-.384.217-.65 1.517-1.15A13.747 13.747 0 0 1 20 24.583c1.717 0 3.417.3 5.033.934 1.284.5 1.35.766 1.517 1.15h-13.1ZM20 13.333c.917 0 1.667.75 1.667 1.667s-.75 1.667-1.667 1.667-1.667-.75-1.667-1.667.75-1.667 1.667-1.667ZM20 10c-2.767 0-5 2.233-5 5s2.233 5 5 5 5-2.233 5-5-2.233-5-5-5Z"})}),...e});Ns.displayName="IconGroupsOutline";const $p=e=>se.jsx(wt,{icon:se.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:se.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M35 31.667V8.333C35 6.5 33.5 5 31.667 5H8.333A3.343 3.343 0 0 0 5 8.333v23.334C5 33.5 6.5 35 8.333 35h23.334C33.5 35 35 33.5 35 31.667ZM8.333 8.333h23.334v23.334H8.333V8.333Zm6.87 15.758 3.233 3.71 4.772-5.85a.797.797 0 0 1 1.232.014l5.403 6.862c.385.484.016 1.173-.616 1.173H10.77c-.647 0-1.001-.704-.6-1.188l3.832-4.691a.783.783 0 0 1 1.201-.03Z",clipRule:"evenodd"})}),...e});$p.displayName="IconImageOutline";const Ls=e=>se.jsx(wt,{icon:se.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:[se.jsx("path",{fill:"currentColor",d:"M7.5 33.333V16.667h20v1.666c1.167 0 2.283.167 3.333.484v-2.15c0-1.834-1.5-3.334-3.333-3.334h-1.667V10c0-4.6-3.733-8.333-8.333-8.333A8.336 8.336 0 0 0 9.167 10v3.333H7.5a3.343 3.343 0 0 0-3.333 3.334v16.666c0 1.834 1.5 3.334 3.333 3.334h10.433c-.7-1-1.25-2.134-1.616-3.334H7.5ZM12.5 10c0-2.767 2.233-5 5-5s5 2.233 5 5v3.333h-10V10Z"}),se.jsx("path",{fill:"currentColor",d:"M27.5 21.667A8.336 8.336 0 0 0 19.167 30c0 4.6 3.733 8.333 8.333 8.333S35.833 34.6 35.833 30 32.1 21.667 27.5 21.667Zm0 3.333c1.383 0 2.5 1.117 2.5 2.5S28.883 30 27.5 30a2.497 2.497 0 0 1-2.5-2.5c0-1.383 1.117-2.5 2.5-2.5Zm0 10a4.974 4.974 0 0 1-4.133-2.2c1.216-.7 2.616-1.133 4.133-1.133s2.917.433 4.133 1.133A4.974 4.974 0 0 1 27.5 35Z"})]}),...e});Ls.displayName="IconLockPersonOutline";const Rp=e=>se.jsx(wt,{icon:se.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:se.jsx("path",{fill:"currentColor",d:"M20 36.667c-2.306 0-4.472-.438-6.5-1.313-2.028-.875-3.792-2.062-5.292-3.562S5.521 28.528 4.646 26.5 3.333 22.305 3.333 20c0-2.306.438-4.472 1.313-6.5.875-2.028 2.062-3.792 3.562-5.292s3.264-2.687 5.292-3.562 4.194-1.313 6.5-1.313c2.305 0 4.472.438 6.5 1.313 2.028.875 3.792 2.062 5.292 3.562s2.687 3.264 3.562 5.292 1.313 4.194 1.313 6.5v2.417c0 1.638-.563 3.034-1.688 4.187-1.125 1.153-2.507 1.73-4.146 1.73a6.232 6.232 0 0 1-2.75-.626 5.872 5.872 0 0 1-2.166-1.791 8.022 8.022 0 0 1-2.73 1.812 8.557 8.557 0 0 1-3.187.604c-2.306 0-4.27-.812-5.896-2.437-1.625-1.625-2.437-3.59-2.437-5.896s.812-4.27 2.437-5.896c1.625-1.625 3.59-2.437 5.896-2.437 2.305 0 4.27.812 5.896 2.437 1.625 1.625 2.437 3.59 2.437 5.896v2.417c0 .722.236 1.333.709 1.833.472.5 1.07.75 1.791.75.723 0 1.32-.25 1.792-.75s.708-1.111.708-1.833V20c0-3.722-1.291-6.875-3.875-9.458C26.875 7.958 23.722 6.667 20 6.667c-3.722 0-6.875 1.291-9.458 3.875C7.958 13.125 6.667 16.278 6.667 20c0 3.722 1.291 6.875 3.875 9.458 2.583 2.584 5.736 3.875 9.458 3.875h6.667a1.667 1.667 0 0 1 0 3.334H20ZM20 25c1.389 0 2.57-.486 3.542-1.458C24.514 22.569 25 21.389 25 20c0-1.389-.486-2.57-1.458-3.542C22.569 15.486 21.389 15 20 15c-1.389 0-2.57.486-3.542 1.458C15.486 17.431 15 18.611 15 20c0 1.389.486 2.57 1.458 3.542C17.431 24.514 18.611 25 20 25Z"})}),...e});Rp.displayName="IconMention";const Tp=e=>se.jsx(wt,{icon:se.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:se.jsx("path",{fill:"currentColor",d:"M10.333 17A3.343 3.343 0 0 0 7 20.333c0 1.834 1.5 3.334 3.333 3.334 1.834 0 3.334-1.5 3.334-3.334 0-1.833-1.5-3.333-3.334-3.333Zm20 0A3.343 3.343 0 0 0 27 20.333c0 1.834 1.5 3.334 3.333 3.334 1.834 0 3.334-1.5 3.334-3.334 0-1.833-1.5-3.333-3.334-3.333Zm-10 0A3.343 3.343 0 0 0 17 20.333c0 1.834 1.5 3.334 3.333 3.334 1.834 0 3.334-1.5 3.334-3.334 0-1.833-1.5-3.333-3.334-3.333Z"})}),...e});Tp.displayName="IconMoreHoriz";const Pp=e=>se.jsx(wt,{icon:se.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:[se.jsx("path",{fill:"currentColor",d:"M26.024 15.619c.79.263 1.646-.2 1.739-1.027a11.3 11.3 0 0 0 .07-1.259c0-6.167-5-11.167-11.167-11.167S5.5 7.166 5.5 13.333c0 2.667.935 5.115 2.495 7.036.506.624 1.44.58 1.974-.022.507-.57.462-1.433.006-2.046A8.333 8.333 0 1 1 24.98 13.92c-.05.737.344 1.466 1.045 1.7Z"}),se.jsx("path",{fill:"currentColor",d:"M18.489 38.333a3.88 3.88 0 0 1-1.73-.404 3.937 3.937 0 0 1-1.394-1.14L6.667 25.596l.873-.877c.425-.445.93-.702 1.511-.772.582-.07 1.108.07 1.579.421l3.896 2.842V13.07c0-.398.128-.731.386-1 .257-.27.576-.404.957-.404.38 0 .7.135.957.404.258.269.386.602.386 1v19.544l-3.727-2.737L17.448 35c.134.163.29.292.47.386.179.093.37.14.57.14h9.472c.739 0 1.371-.275 1.897-.825.526-.55.79-1.21.79-1.982v-9.825c0-.397.128-.73.386-1 .257-.269.576-.403.957-.403.38 0 .7.134.957.403.258.27.386.603.386 1v9.825c0 1.544-.526 2.865-1.578 3.965-1.052 1.1-2.318 1.649-3.795 1.649h-9.471Zm1.41-11.228v-8.421c0-.398.129-.731.386-1 .258-.27.577-.404.958-.404.38 0 .7.135.957.404s.386.602.386 1v8.42H19.9Zm5.374 0v-7.018c0-.397.129-.73.386-1 .258-.269.577-.403.957-.403s.7.134.957.403c.258.27.387.603.387 1v7.018h-2.687Z"})]}),...e});Pp.displayName="IconPress";const jp=e=>se.jsx(wt,{icon:se.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:se.jsx("path",{fill:"currentColor",d:"M20.777 13.333c-4.417 0-8.417 1.65-11.5 4.334l-3.15-3.15c-1.05-1.05-2.85-.317-2.85 1.166V25c0 .917.75 1.667 1.667 1.667h9.316c1.484 0 2.234-1.8 1.184-2.85l-3.184-3.184c2.317-1.933 5.267-3.133 8.534-3.133 5.266 0 9.816 3.067 11.983 7.5a2.05 2.05 0 0 0 2.5 1.067c1.183-.384 1.783-1.734 1.25-2.867-2.867-5.833-8.833-9.867-15.75-9.867Z"})}),...e});jp.displayName="IconUndo";const ai=e=>se.jsx(wt,{icon:se.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:se.jsx("path",{fill:"currentColor",d:"M20 10.829c6.317 0 11.95 3.55 14.7 9.166a16.076 16.076 0 0 1-4.017 5.2l2.35 2.35a19.67 19.67 0 0 0 5.3-7.55c-2.883-7.316-10-12.5-18.333-12.5-2.117 0-4.15.334-6.067.95l2.75 2.75c1.084-.216 2.183-.366 3.317-.366Zm-1.784 1.9 3.45 3.45a4.163 4.163 0 0 1 2.134 2.133l3.45 3.45a7.796 7.796 0 0 0 .233-1.783c.017-4.134-3.35-7.484-7.483-7.484-.617 0-1.2.084-1.784.234ZM4.521 6.099a1.667 1.667 0 0 0 .004 2.354l3.291 3.292a19.563 19.563 0 0 0-6.15 8.25c2.884 7.317 10 12.5 18.334 12.5a19.55 19.55 0 0 0 7.2-1.366l4.525 4.524a1.662 1.662 0 0 0 2.35-2.35L6.883 6.096a1.667 1.667 0 0 0-2.362.004ZM15.85 19.78l4.35 4.35c-.067.016-.133.033-.2.033a4.168 4.168 0 0 1-4.167-4.167c0-.083.017-.133.017-.216Zm-5.667-5.667 2.917 2.917a7.667 7.667 0 0 0-.6 2.966c0 4.134 3.367 7.5 7.5 7.5 1.05 0 2.05-.216 2.95-.6l1.633 1.634c-1.466.4-3 .633-4.583.633-6.317 0-11.95-3.55-14.7-9.167 1.167-2.383 2.866-4.35 4.883-5.883Z"})}),...e});ai.displayName="IconVisibilityOffOutline";const Vr=e=>se.jsx(wt,{icon:se.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:se.jsx("path",{fill:"currentColor",d:"M24.177 23.869a1 1 0 0 0 1.532-.556l1.351-4.877a1 1 0 0 0-.396-1.09l-4.174-2.881a1 1 0 0 0-1.532.556l-1.351 4.877a1 1 0 0 0 .396 1.09l4.174 2.88Zm-17.51 7.506-1.375-.667c-.861-.36-1.445-.979-1.75-1.854-.306-.875-.264-1.743.125-2.604l3-6.5v11.625ZM13.333 35c-.916 0-1.701-.333-2.354-1-.652-.667-.979-1.458-.979-2.375v-9.958l4.458 12.25c.084.194.153.382.209.562.055.18.152.354.291.521h-1.625Zm8.584-.208c-.861.305-1.723.264-2.584-.125-.86-.39-1.444-1.014-1.75-1.875l-7.375-20.375c-.305-.861-.263-1.716.125-2.563.39-.847 1.014-1.423 1.875-1.729L24.75 3.542c.861-.306 1.715-.264 2.563.125.847.389 1.423 1.014 1.729 1.875l7.416 20.375c.306.86.264 1.715-.125 2.562-.389.847-1.014 1.424-1.875 1.73l-12.541 4.583Zm-1.167-3.125 12.583-4.584-7.458-20.416-12.542 4.583 7.417 20.417Z"})}),...e});Vr.displayName="IconWildcard";const kp=e=>se.jsx(wt,{icon:se.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:se.jsx("path",{fill:"currentColor",d:"M6.666 36.666a3.21 3.21 0 0 1-2.354-.979 3.21 3.21 0 0 1-.98-2.354v-15c0-.916.327-1.701.98-2.354a3.21 3.21 0 0 1 2.354-.98h3.333V6.667c0-.916.327-1.7.98-2.354a3.21 3.21 0 0 1 2.354-.979h20a3.21 3.21 0 0 1 2.354.98 3.21 3.21 0 0 1 .979 2.353v15a3.21 3.21 0 0 1-.98 2.355 3.21 3.21 0 0 1-2.353.979h-3.334v8.333a3.21 3.21 0 0 1-.979 2.354 3.21 3.21 0 0 1-2.354.98h-20Zm0-3.333h20V21.667h-20v11.666Zm23.333-11.666h3.334V10h-20v5h13.333a3.21 3.21 0 0 1 2.354.979 3.21 3.21 0 0 1 .98 2.354v3.334Z"})}),...e});kp.displayName="IconWindows";var Mp=function(e){var t=e.sideCar,n=ud(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return u.createElement(r,Pn({},n))};Mp.isSideCarExport=!0;function Dw(e,t){return e.useMedium(t),Mp}E0(b0,w0,y0);function Ew(...e){return e.filter(t=>typeof t=="string"||typeof t=="number").join(" ")}function ww(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function bw(...e){return t=>e.forEach(n=>ww(n,t))}var vt=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),s=o.find(xw);if(s){const a=s.props.children,i=o.map(c=>c===s?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return w.jsx(ii,{...r,ref:t,children:u.isValidElement(a)?u.cloneElement(a,void 0,i):null})}return w.jsx(ii,{...r,ref:t,children:n})});vt.displayName="Slot";var ii=u.forwardRef((e,t)=>{const{children:n,...r}=e;if(u.isValidElement(n)){const o=Bw(n);return u.cloneElement(n,{...Aw(r,n.props),ref:t?bw(t,o):o})}return u.Children.count(n)>1?u.Children.only(null):null});ii.displayName="SlotClone";var yw=({children:e})=>w.jsx(w.Fragment,{children:e});function xw(e){return u.isValidElement(e)&&e.type===yw}function Aw(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...i)=>{s(...i),o(...i)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function Bw(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Sw=10,Np="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",Lp=u.forwardRef(({emoji:e,style:t,asChild:n,...r},o)=>{const s=n?vt:"span";return $.createElement(s,{role:"img","aria-label":e,"data-emoji":e,style:{...t,fontFamily:Np,display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",whiteSpace:"nowrap"},...r,ref:o},e)}),Ow=u.forwardRef(({className:e,...t},n)=>$.createElement(Lp,{className:Ew("lb-emoji",e),...t,ref:n}));function Ca(e,t,n){return e===1?t:n??`${t}s`}const Fw={locale:"en",dir:"ltr",USER_SELF:"you",USER_UNKNOWN:"Anonymous",LIST_REMAINING:e=>`${e} more`,LIST_REMAINING_USERS:e=>`${e} ${Ca(e,"other")}`,LIST_REMAINING_COMMENTS:e=>`${e} more ${Ca(e,"comment")}`,EMOJI_PICKER_SEARCH_PLACEHOLDER:"Search",EMOJI_PICKER_EMPTY:"No emoji found.",EMOJI_PICKER_ERROR:()=>"There was an error while getting the list of emoji.",COMPOSER_INSERT_MENTION:"Mention someone",COMPOSER_INSERT_EMOJI:"Add emoji",COMPOSER_PLACEHOLDER:"Write a comment",COMPOSER_SEND:"Send",COMMENT_EDITED:"(edited)",COMMENT_DELETED:"This comment has been deleted.",COMMENT_MORE:"More",COMMENT_EDIT:"Edit comment",COMMENT_EDIT_COMPOSER_PLACEHOLDER:"Edit comment",COMMENT_EDIT_COMPOSER_CANCEL:"Cancel",COMMENT_EDIT_COMPOSER_SAVE:"Save",COMMENT_DELETE:"Delete comment",COMMENT_ADD_REACTION:"Add reaction",COMMENT_REACTION_LIST:(e,t)=>u.createElement(u.Fragment,null,e," reacted with ",u.createElement(Ow,{emoji:t})),COMMENT_REACTION_DESCRIPTION:(e,t)=>`${t} ${Ca(t,"reaction")}, react with ${e}`,THREAD_RESOLVE:"Resolve thread",THREAD_UNRESOLVE:"Re-open thread",THREAD_NEW_INDICATOR:"New",THREAD_NEW_INDICATOR_DESCRIPTION:"New comments",THREAD_COMPOSER_PLACEHOLDER:"Reply to thread",THREAD_COMPOSER_SEND:"Reply",INBOX_NOTIFICATION_MORE:"More",INBOX_NOTIFICATION_MARK_AS_READ:"Mark as read",INBOX_NOTIFICATION_DELETE:"Delete notification",INBOX_NOTIFICATION_THREAD_COMMENTS_LIST:(e,t)=>u.createElement(u.Fragment,null,e," commented",t?u.createElement(u.Fragment,null," in ",t):u.createElement(u.Fragment,null," in a thread")),INBOX_NOTIFICATION_THREAD_MENTION:(e,t)=>u.createElement(u.Fragment,null,e," mentioned you",t?u.createElement(u.Fragment,null," in ",t):null),INBOX_NOTIFICATION_TEXT_MENTION:(e,t)=>u.createElement(u.Fragment,null,e," mentioned you",t?u.createElement(u.Fragment,null," in ",t):null),HISTORY_VERSION_PREVIEW_AUTHORS_LIST:e=>u.createElement(u.Fragment,null,"Edits from ",e),HISTORY_VERSION_PREVIEW_RESTORE:"Restore",HISTORY_VERSION_PREVIEW_EMPTY:"No content.",HISTORY_VERSION_PREVIEW_ERROR:()=>"There was an error while getting this version."},Pc=u.createContext(void 0);function Iw({children:e,overrides:t}){const n=u.useContext(Pc),r=u.useMemo(()=>({...Fw,...n,...t}),[n,t]);return u.createElement(Pc.Provider,{value:r},e)}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function jc(e){return Object.prototype.toString.call(e)==="[object Object]"}function it(e){var t,n;return jc(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(jc(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}var _p=Symbol.for("immer-nothing"),kc=Symbol.for("immer-draftable"),Ot=Symbol.for("immer-state");function kt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ur=Object.getPrototypeOf;function zn(e){return!!e&&!!e[Ot]}function Hn(e){return e?zp(e)||Array.isArray(e)||!!e[kc]||!!e.constructor?.[kc]||zs(e)||Hs(e):!1}var $w=Object.prototype.constructor.toString();function zp(e){if(!e||typeof e!="object")return!1;const t=ur(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===$w}function us(e,t){_s(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function _s(e){const t=e[Ot];return t?t.type_:Array.isArray(e)?1:zs(e)?2:Hs(e)?3:0}function ui(e,t){return _s(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Hp(e,t,n){const r=_s(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Rw(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zs(e){return e instanceof Map}function Hs(e){return e instanceof Set}function Tn(e){return e.copy_||e.base_}function ci(e,t){if(zs(e))return new Map(e);if(Hs(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=zp(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ot];let o=Reflect.ownKeys(r);for(let s=0;s<o.length;s++){const a=o[s],i=r[a];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(r[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(ur(e),r)}else{const r=ur(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function wu(e,t=!1){return Vs(e)||zn(e)||!Hn(e)||(_s(e)>1&&(e.set=e.add=e.clear=e.delete=Tw),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>wu(r,!0))),e}function Tw(){kt(2)}function Vs(e){return Object.isFrozen(e)}var Pw={};function Vn(e){const t=Pw[e];return t||kt(0,e),t}var Wr;function Vp(){return Wr}function jw(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Mc(e,t){t&&(Vn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function li(e){fi(e),e.drafts_.forEach(kw),e.drafts_=null}function fi(e){e===Wr&&(Wr=e.parent_)}function Nc(e){return Wr=jw(Wr,e)}function kw(e){const t=e[Ot];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Lc(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ot].modified_&&(li(t),kt(4)),Hn(e)&&(e=cs(t,e),t.parent_||ls(t,e)),t.patches_&&Vn("Patches").generateReplacementPatches_(n[Ot].base_,e,t.patches_,t.inversePatches_)):e=cs(t,n,[]),li(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_p?e:void 0}function cs(e,t,n){if(Vs(t))return t;const r=t[Ot];if(!r)return us(t,(o,s)=>_c(e,r,t,o,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return ls(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let s=o,a=!1;r.type_===3&&(s=new Set(o),o.clear(),a=!0),us(s,(i,c)=>_c(e,r,o,i,c,n,a)),ls(e,o,!1),n&&e.patches_&&Vn("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function _c(e,t,n,r,o,s,a){if(zn(o)){const i=s&&t&&t.type_!==3&&!ui(t.assigned_,r)?s.concat(r):void 0,c=cs(e,o,i);if(Hp(n,r,c),zn(c))e.canAutoFreeze_=!1;else return}else a&&n.add(o);if(Hn(o)&&!Vs(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;cs(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&ls(e,o)}}function ls(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wu(t,n)}function Mw(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Vp(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,s=bu;n&&(o=[r],s=Ur);const{revoke:a,proxy:i}=Proxy.revocable(o,s);return r.draft_=i,r.revoke_=a,i}var bu={get(e,t){if(t===Ot)return e;const n=Tn(e);if(!ui(n,t))return Nw(e,n,t);const r=n[t];return e.finalized_||!Hn(r)?r:r===Da(e.base_,t)?(Ea(e),e.copy_[t]=pi(r,e)):r},has(e,t){return t in Tn(e)},ownKeys(e){return Reflect.ownKeys(Tn(e))},set(e,t,n){const r=Wp(Tn(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=Da(Tn(e),t),s=o?.[Ot];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Rw(n,o)&&(n!==void 0||ui(e.base_,t)))return!0;Ea(e),di(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Da(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ea(e),di(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Tn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){kt(11)},getPrototypeOf(e){return ur(e.base_)},setPrototypeOf(){kt(12)}},Ur={};us(bu,(e,t)=>{Ur[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ur.deleteProperty=function(e,t){return Ur.set.call(this,e,t,void 0)};Ur.set=function(e,t,n){return bu.set.call(this,e[0],t,n,e[0])};function Da(e,t){const n=e[Ot];return(n?Tn(n):e)[t]}function Nw(e,t,n){const r=Wp(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function Wp(e,t){if(!(t in e))return;let n=ur(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ur(n)}}function di(e){e.modified_||(e.modified_=!0,e.parent_&&di(e.parent_))}function Ea(e){e.copy_||(e.copy_=ci(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Lw=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const a=this;return function(c=s,...l){return a.produce(c,d=>n.call(this,d,...l))}}typeof n!="function"&&kt(6),r!==void 0&&typeof r!="function"&&kt(7);let o;if(Hn(t)){const s=Nc(this),a=pi(t,void 0);let i=!0;try{o=n(a),i=!1}finally{i?li(s):fi(s)}return Mc(s,r),Lc(o,s)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===_p&&(o=void 0),this.autoFreeze_&&wu(o,!0),r){const s=[],a=[];Vn("Patches").generateReplacementPatches_(t,o,s,a),r(s,a)}return o}else kt(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...i)=>this.produceWithPatches(a,c=>t(c,...i));let r,o;return[this.produce(t,n,(a,i)=>{r=a,o=i}),r,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Hn(e)||kt(8),zn(e)&&(e=_w(e));const t=Nc(this),n=pi(e,void 0);return n[Ot].isManual_=!0,fi(t),n}finishDraft(e,t){const n=e&&e[Ot];(!n||!n.isManual_)&&kt(9);const{scope_:r}=n;return Mc(r,t),Lc(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=Vn("Patches").applyPatches_;return zn(e)?r(e,t):this.produce(e,o=>r(o,t))}};function pi(e,t){const n=zs(e)?Vn("MapSet").proxyMap_(e,t):Hs(e)?Vn("MapSet").proxySet_(e,t):Mw(e,t);return(t?t.scope_:Vp()).drafts_.push(n),n}function _w(e){return zn(e)||kt(10,e),Up(e)}function Up(e){if(!Hn(e)||Vs(e))return e;const t=e[Ot];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ci(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ci(e,!0);return us(n,(r,o)=>{Hp(n,r,Up(o))}),t&&(t.finalized_=!1),n}var Ft=new Lw,yu=Ft.produce;Ft.produceWithPatches.bind(Ft);Ft.setAutoFreeze.bind(Ft);Ft.setUseStrictShallowCopy.bind(Ft);Ft.applyPatches.bind(Ft);var zc=Ft.createDraft.bind(Ft),Hc=Ft.finishDraft.bind(Ft),zw={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=I.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},Hw={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=Oe.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},Vw={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=z.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},fs=new WeakMap,ds=new WeakMap,Rr=new WeakMap,Kp=new WeakMap,Vc=new WeakMap,Wc=new WeakMap,Uc=new WeakMap,I={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=I.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],s=t[r];if(o!==s)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),s=e[n],a=t[n];return I.equals(r,o)&&s>a},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return I.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),s=e[n],a=t[n];return I.equals(r,o)&&s<a},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return I.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&I.compare(e,t)===0},isBefore(e,t){return I.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&I.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&I.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&I.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&I.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],s=t[t.length-1];return o!==s&&I.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!I.isAncestor(t,e)&&!I.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:s}=t;(I.equals(s,r)||I.endsBefore(s,r)||I.isAncestor(s,r))&&(r[s.length-1]+=1);break}case"remove_node":{var{path:a}=t;if(I.equals(a,r)||I.isAncestor(a,r))return null;I.endsBefore(a,r)&&(r[a.length-1]-=1);break}case"merge_node":{var{path:i,position:c}=t;I.equals(i,r)||I.endsBefore(i,r)?r[i.length-1]-=1:I.isAncestor(i,r)&&(r[i.length-1]-=1,r[i.length]+=c);break}case"split_node":{var{path:l,position:d}=t;if(I.equals(l,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else I.endsBefore(l,r)?r[l.length-1]+=1:I.isAncestor(l,r)&&e[l.length]>=d&&(r[l.length-1]+=1,r[l.length]-=d);break}case"move_node":{var{path:p,newPath:m}=t;if(I.equals(p,m))return r;if(I.isAncestor(p,r)||I.equals(p,r)){var h=m.slice();return I.endsBefore(p,m)&&p.length<m.length&&(h[p.length-1]-=1),h.concat(r.slice(p.length))}else I.isSibling(p,m)&&(I.isAncestor(m,r)||I.equals(m,r))?I.endsBefore(p,r)?r[p.length-1]-=1:r[p.length-1]+=1:I.endsBefore(m,r)||I.equals(m,r)||I.isAncestor(m,r)?(I.endsBefore(p,r)&&(r[p.length-1]-=1),r[m.length-1]+=1):I.endsBefore(p,r)&&(I.equals(m,r)&&(r[m.length-1]+=1),r[p.length-1]-=1);break}}return r}};function Kr(e){"@babel/helpers - typeof";return Kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(e)}function Ww(e,t){if(Kr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uw(e){var t=Ww(e,"string");return Kr(t)==="symbol"?t:String(t)}function Ct(e,t,n){return t=Uw(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kc(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Kw=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,s=te.parent(e,r),a=r[r.length-1];if(a>s.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(s.children.splice(a,0,o),t)for(var[i,c]of z.points(t))t[c]=Oe.transform(i,n);break}case"insert_text":{var{path:l,offset:d,text:p}=n;if(p.length===0)break;var m=te.leaf(e,l),h=m.text.slice(0,d),g=m.text.slice(d);if(m.text=h+p+g,t)for(var[f,C]of z.points(t))t[C]=Oe.transform(f,n);break}case"merge_node":{var{path:E}=n,v=te.get(e,E),y=I.previous(E),b=te.get(e,y),A=te.parent(e,E),x=E[E.length-1];if(le.isText(v)&&le.isText(b))b.text+=v.text;else if(!le.isText(v)&&!le.isText(b))b.children.push(...v.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(E,"] to nodes of different interfaces: ").concat(st.stringify(v)," ").concat(st.stringify(b)));if(A.children.splice(x,1),t)for(var[B,S]of z.points(t))t[S]=Oe.transform(B,n);break}case"move_node":{var{path:O,newPath:R}=n;if(I.isAncestor(O,R))throw new Error("Cannot move a path [".concat(O,"] to new path [").concat(R,"] because the destination is inside itself."));var _=te.get(e,O),j=te.parent(e,O),H=O[O.length-1];j.children.splice(H,1);var k=I.transform(O,n),P=te.get(e,I.parent(k)),G=k[k.length-1];if(P.children.splice(G,0,_),t)for(var[N,X]of z.points(t))t[X]=Oe.transform(N,n);break}case"remove_node":{var{path:V}=n,J=V[V.length-1],re=te.parent(e,V);if(re.children.splice(J,1),t)for(var[K,Q]of z.points(t)){var F=Oe.transform(K,n);if(t!=null&&F!=null)t[Q]=F;else{var L=void 0,U=void 0;for(var[M,W]of te.texts(e))if(I.compare(W,V)===-1)L=[M,W];else{U=[M,W];break}var Z=!1;L&&U&&(I.equals(U[1],V)?Z=!I.hasPrevious(U[1]):Z=I.common(L[1],V).length<I.common(U[1],V).length),L&&!Z?(K.path=L[1],K.offset=L[0].text.length):U?(K.path=U[1],K.offset=0):t=null}}break}case"remove_text":{var{path:ne,offset:pe,text:ce}=n;if(ce.length===0)break;var De=te.leaf(e,ne),he=De.text.slice(0,pe),oe=De.text.slice(pe+ce.length);if(De.text=he+oe,t)for(var[de,ge]of z.points(t))t[ge]=Oe.transform(de,n);break}case"set_node":{var{path:Me,properties:Pe,newProperties:_e}=n;if(Me.length===0)throw new Error("Cannot set properties on the root node!");var Te=te.get(e,Me);for(var Be in _e){if(Be==="children"||Be==="text")throw new Error('Cannot set the "'.concat(Be,'" property of nodes!'));var ue=_e[Be];ue==null?delete Te[Be]:Te[Be]=ue}for(var Ce in Pe)_e.hasOwnProperty(Ce)||delete Te[Ce];break}case"set_selection":{var{newProperties:we}=n;if(we==null)t=we;else{if(t==null){if(!z.isRange(we))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(st.stringify(we)," when there is no current selection."));t=Ar({},we)}for(var ke in we){var bt=we[ke];if(bt==null){if(ke==="anchor"||ke==="focus")throw new Error('Cannot remove the "'.concat(ke,'" selection property'));delete t[ke]}else t[ke]=bt}}break}case"split_node":{var{path:Ye,position:ln,properties:Zn}=n;if(Ye.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ye,"] because the root node cannot be split."));var _t=te.get(e,Ye),ua=te.parent(e,Ye),Zg=Ye[Ye.length-1],ca;if(le.isText(_t)){var Yg=_t.text.slice(0,ln),Xg=_t.text.slice(ln);_t.text=Yg,ca=Ar(Ar({},Zn),{},{text:Xg})}else{var Jg=_t.children.slice(0,ln),Qg=_t.children.slice(ln);_t.children=Jg,ca=Ar(Ar({},Zn),{},{children:Qg})}if(ua.children.splice(Zg+1,0,ca),t)for(var[e0,t0]of z.points(t))t[t0]=Oe.transform(e0,n);break}}return t},Gw={transform(e,t){e.children=zc(e.children);var n=e.selection&&zc(e.selection);try{n=Kw(e,n,t)}finally{e.children=Hc(e.children),n?e.selection=zn(n)?Hc(n):n:e.selection=null}}},qw={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},Zw={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},Gp=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(it(r)&&it(o)){if(!Gp(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var s=0;s<r.length;s++)if(r[s]!==o[s])return!1}else if(r!==o)return!1}for(var a in t)if(e[a]===void 0&&t[a]!==void 0)return!1;return!0};function Yw(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function tn(e,t){if(e==null)return{};var n=Yw(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Xw=["anchor","focus"];function Gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gc(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var z={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return z.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=z.edges(e);return t},equals(e,t){return Oe.equals(e.anchor,t.anchor)&&Oe.equals(e.focus,t.focus)},includes(e,t){if(z.isRange(t)){if(z.includes(e,t.anchor)||z.includes(e,t.focus))return!0;var[n,r]=z.edges(e),[o,s]=z.edges(t);return Oe.isBefore(n,o)&&Oe.isAfter(r,s)}var[a,i]=z.edges(e),c=!1,l=!1;return Oe.isPoint(t)?(c=Oe.compare(t,a)>=0,l=Oe.compare(t,i)<=0):(c=I.compare(t,a.path)>=0,l=I.compare(t,i.path)<=0),c&&l},intersection(e,t){var n=tn(e,Xw),[r,o]=z.edges(e),[s,a]=z.edges(t),i=Oe.isBefore(r,s)?s:r,c=Oe.isBefore(o,a)?o:a;return Oe.isBefore(c,i)?null:Jw({anchor:i,focus:c},n)},isBackward(e){var{anchor:t,focus:n}=e;return Oe.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return Oe.equals(t,n)},isExpanded(e){return!z.isCollapsed(e)},isForward(e){return!z.isBackward(e)},isRange(e){return it(e)&&Oe.isPoint(e.anchor)&&Oe.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=z.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return yu(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,s,a;if(o==="inward"){var i=z.isCollapsed(r);z.isForward(r)?(s="forward",a=i?s:"backward"):(s="backward",a=i?s:"forward")}else o==="outward"?z.isForward(r)?(s="backward",a="forward"):(s="forward",a="backward"):(s=o,a=o);var c=Oe.transform(r.anchor,t,{affinity:s}),l=Oe.transform(r.focus,t,{affinity:a});if(!c||!l)return null;r.anchor=c,r.focus=l})}},qc=e=>it(e)&&te.isNodeList(e.children)&&!D.isEditor(e),fe={isAncestor(e){return it(e)&&te.isNodeList(e.children)},isElement:qc,isElementList(e){return Array.isArray(e)&&e.every(t=>fe.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return qc(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},Qw=["children"],eb=["text"],Zc=new WeakMap,te={ancestor(e,t){var n=te.get(e,t);if(le.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(st.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of I.ancestors(t,n)){var o=te.ancestor(e,r),s=[o,r];yield s}}()},child(e,t){if(le.isText(e))throw new Error("Cannot get the child of a text node: ".concat(st.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(st.stringify(e)));return n},children(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,o=te.ancestor(e,t),{children:s}=o,a=r?s.length-1:0;r?a>=0:a<s.length;){var i=te.child(o,a),c=t.concat(a);yield[i,c],a=r?a-1:a+1}}()},common(e,t,n){var r=I.common(t,n),o=te.get(e,r);return[o,r]},descendant(e,t){var n=te.get(e,t);if(D.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(st.stringify(n)));return n},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of te.nodes(e,t))r.length!==0&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of te.nodes(e,t))fe.isElement(n)&&(yield[n,r])}()},extractProps(e){if(fe.isAncestor(e)){var t=tn(e,Qw);return t}else{var t=tn(e,eb);return t}},first(e,t){for(var n=t.slice(),r=te.get(e,n);r&&!(le.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(le.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(st.stringify(e)));var n=yu({children:e.children},r=>{var[o,s]=z.edges(t),a=te.nodes(r,{reverse:!0,pass:m=>{var[,h]=m;return!z.includes(t,h)}});for(var[,i]of a){if(!z.includes(t,i)){var c=te.parent(r,i),l=i[i.length-1];c.children.splice(l,1)}if(I.equals(i,s.path)){var d=te.leaf(r,i);d.text=d.text.slice(0,s.offset)}if(I.equals(i,o.path)){var p=te.leaf(r,i);p.text=p.text.slice(o.offset)}}D.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(le.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(st.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(le.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return le.isText(e)||fe.isElement(e)||D.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=Zc.get(e);if(t!==void 0)return t;var n=e.every(r=>te.isNode(r));return Zc.set(e,n),n},last(e,t){for(var n=t.slice(),r=te.get(e,n);r&&!(le.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=te.get(e,t);if(!le.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(st.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of I.levels(t,n)){var o=te.get(e,r);yield[o,r]}}()},matches(e,t){return fe.isElement(e)&&fe.isElementProps(t)&&fe.matches(e,t)||le.isText(e)&&le.isTextProps(t)&&le.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:o=[],to:s}=t,a=new Set,i=[],c=e;!(s&&(r?I.isBefore(i,s):I.isAfter(i,s)));){if(a.has(c)||(yield[c,i]),!a.has(c)&&!le.isText(c)&&c.children.length!==0&&(n==null||n([c,i])===!1)){a.add(c);var l=r?c.children.length-1:0;I.isAncestor(i,o)&&(l=o[i.length]),i=i.concat(l),c=te.get(e,i);continue}if(i.length===0)break;if(!r){var d=I.next(i);if(te.has(e,d)){i=d,c=te.get(e,i);continue}}if(r&&i[i.length-1]!==0){var p=I.previous(i);i=p,c=te.get(e,i);continue}i=I.parent(i),c=te.get(e,i),a.add(c)}}()},parent(e,t){var n=I.parent(t),r=te.get(e,n);if(le.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return le.isText(e)?e.text:e.children.map(te.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of te.nodes(e,t))le.isText(n)&&(yield[n,r])}()}};function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yc(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gn={isNodeOperation(e){return gn.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!it(e))return!1;switch(e.type){case"insert_node":return I.isPath(e.path)&&te.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&I.isPath(e.path);case"merge_node":return typeof e.position=="number"&&I.isPath(e.path)&&it(e.properties);case"move_node":return I.isPath(e.path)&&I.isPath(e.newPath);case"remove_node":return I.isPath(e.path)&&te.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&I.isPath(e.path);case"set_node":return I.isPath(e.path)&&it(e.properties)&&it(e.newProperties);case"set_selection":return e.properties===null&&z.isRange(e.newProperties)||e.newProperties===null&&z.isRange(e.properties)||it(e.properties)&&it(e.newProperties);case"split_node":return I.isPath(e.path)&&typeof e.position=="number"&&it(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>gn.isOperation(t))},isSelectionOperation(e){return gn.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return gn.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return Ve(Ve({},e),{},{type:"remove_node"});case"insert_text":return Ve(Ve({},e),{},{type:"remove_text"});case"merge_node":return Ve(Ve({},e),{},{type:"split_node",path:I.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(I.equals(t,n))return e;if(I.isSibling(n,t))return Ve(Ve({},e),{},{path:t,newPath:n});var r=I.transform(n,e),o=I.transform(I.next(n),e);return Ve(Ve({},e),{},{path:r,newPath:o})}case"remove_node":return Ve(Ve({},e),{},{type:"insert_node"});case"remove_text":return Ve(Ve({},e),{},{type:"insert_text"});case"set_node":{var{properties:s,newProperties:a}=e;return Ve(Ve({},e),{},{properties:a,newProperties:s})}case"set_selection":{var{properties:i,newProperties:c}=e;return i==null?Ve(Ve({},e),{},{properties:c,newProperties:null}):c==null?Ve(Ve({},e),{},{properties:null,newProperties:i}):Ve(Ve({},e),{},{properties:c,newProperties:i})}case"split_node":return Ve(Ve({},e),{},{type:"merge_node",path:I.next(e.path)})}}},Xc=new WeakMap,tb=e=>{var t=Xc.get(e);if(t!==void 0)return t;if(!it(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||it(e.marks))&&(e.selection===null||z.isRange(e.selection))&&te.isNodeList(e.children)&&gn.isOperationList(e.operations);return Xc.set(e,n),n},D={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return tb(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},nb={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(I.isPath)}};function Jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jc(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Oe={compare(e,t){var n=I.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return Oe.compare(e,t)===1},isBefore(e,t){return Oe.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&I.equals(e.path,t.path)},isPoint(e){return it(e)&&typeof e.offset=="number"&&I.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return yu(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:s,offset:a}=r;switch(t.type){case"insert_node":case"move_node":{r.path=I.transform(s,t,n);break}case"insert_text":{I.equals(t.path,s)&&(t.offset<a||t.offset===a&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{I.equals(t.path,s)&&(r.offset+=t.position),r.path=I.transform(s,t,n);break}case"remove_text":{I.equals(t.path,s)&&t.offset<=a&&(r.offset-=Math.min(a-t.offset,t.text.length));break}case"remove_node":{if(I.equals(t.path,s)||I.isAncestor(t.path,s))return null;r.path=I.transform(s,t,n);break}case"split_node":{if(I.equals(t.path,s)){if(t.position===a&&o==null)return null;(t.position<a||t.position===a&&o==="forward")&&(r.offset-=t.position,r.path=I.transform(s,t,Qc(Qc({},n),{},{affinity:"forward"})))}else r.path=I.transform(s,t,n);break}}})}},el=void 0,st={setScrubber(e){el=e},stringify(e){return JSON.stringify(e,el)}},rb=["text"],ob=["anchor","focus"];function tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tl(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var le={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(s){var a=tn(s,rb);return a}return Gp(r?o(e):e,r?o(t):t)},isText(e){return it(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>le.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Jt({},e)];for(var r of t){var o=tn(r,ob),[s,a]=z.edges(r),i=[],c=0,l=s.offset,d=a.offset;for(var p of n){var{length:m}=p.text,h=c;if(c+=m,l<=h&&c<=d){Object.assign(p,o),i.push(p);continue}if(l!==d&&(l===c||d===h)||l>c||d<h||d===h&&h!==0){i.push(p);continue}var g=p,f=void 0,C=void 0;if(d<c){var E=d-h;C=Jt(Jt({},g),{},{text:g.text.slice(E)}),g=Jt(Jt({},g),{},{text:g.text.slice(0,E)})}if(l>h){var v=l-h;f=Jt(Jt({},g),{},{text:g.text.slice(0,v)}),g=Jt(Jt({},g),{},{text:g.text.slice(v)})}Object.assign(g,o),f&&i.push(f),i.push(g),C&&i.push(C)}n=i}return n}},xu=e=>e.selection?e.selection:e.children.length>0?D.end(e,[]):[0],vr=(e,t)=>{var[n]=D.node(e,t);return r=>r===n},Au=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?lb(t):t,s=xe.None,a=xe.None,i=0,c=null,l=null;for(var d of o){var p=d.codePointAt(0);if(!p)break;var m=bb(d,p);if([s,a]=r?[a,m]:[m,s],er(s,xe.ZWJ)&&er(a,xe.ExtPict)&&(r?c=nl(t.substring(0,i)):c=nl(t.substring(0,t.length-i)),!c)||er(s,xe.RI)&&er(a,xe.RI)&&(l!==null?l=!l:r?l=!0:l=Sb(t.substring(0,t.length-i)),!l)||s!==xe.None&&a!==xe.None&&xb(s,a))break;i+=d.length}return i||1},sb=/\s/,ab=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,ib=/['\u2018\u2019]/,ub=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var s=Au(t,n),[a,i]=Bu(t,s,n);if(cb(a,i,n))o=!0,r+=s;else if(!o)r+=s;else break;t=i}return r},Bu=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},cb=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(sb.test(t))return!1;if(ib.test(t)){var o=Au(n,r),[s,a]=Bu(n,o,r);if(e(s,a,r))return!0}return!ab.test(t)},lb=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(db(o.charCodeAt(0))){var s=t.charAt(n-r-1);if(fb(s.charCodeAt(0))){yield s+o,r++;continue}}yield o}},fb=e=>e>=55296&&e<=56319,db=e=>e>=56320&&e<=57343,xe;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(xe||(xe={}));var pb=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,mb=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,hb=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,gb=/^[\u1100-\u115F\uA960-\uA97C]$/,vb=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Cb=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Db=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Eb=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,wb=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,bb=(e,t)=>{var n=xe.Any;return e.search(pb)!==-1&&(n|=xe.Extend),t===8205&&(n|=xe.ZWJ),t>=127462&&t<=127487&&(n|=xe.RI),e.search(mb)!==-1&&(n|=xe.Prepend),e.search(hb)!==-1&&(n|=xe.SpacingMark),e.search(gb)!==-1&&(n|=xe.L),e.search(vb)!==-1&&(n|=xe.V),e.search(Cb)!==-1&&(n|=xe.T),e.search(Db)!==-1&&(n|=xe.LV),e.search(Eb)!==-1&&(n|=xe.LVT),e.search(wb)!==-1&&(n|=xe.ExtPict),n};function er(e,t){return(e&t)!==0}var yb=[[xe.L,xe.L|xe.V|xe.LV|xe.LVT],[xe.LV|xe.V,xe.V|xe.T],[xe.LVT|xe.T,xe.T],[xe.Any,xe.Extend|xe.ZWJ],[xe.Any,xe.SpacingMark],[xe.Prepend,xe.Any],[xe.ZWJ,xe.ExtPict],[xe.RI,xe.RI]];function xb(e,t){return yb.findIndex(n=>er(e,n[0])&&er(t,n[1]))===-1}var Ab=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,nl=e=>e.search(Ab)!==-1,Bb=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Sb=e=>{var t=e.match(Bb);if(t===null)return!1;var n=t[0].length/2;return n%2===1},Ob={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=xu(e)}=n;if(I.isPath(o)&&(o=D.range(e,o)),z.isRange(o))if(z.isCollapsed(o))o=o.anchor;else{var s=z.end(o);if(!r&&D.void(e,{at:s}))return;var a=z.start(o),i=D.pointRef(e,a),c=D.pointRef(e,s);q.delete(e,{at:o,voids:r});var l=i.unref(),d=c.unref();o=l||d,q.setSelection(e,{anchor:o,focus:o})}if(!(!r&&D.void(e,{at:o})||D.elementReadOnly(e,{at:o}))){var{path:p,offset:m}=o;t.length>0&&e.apply({type:"insert_text",path:p,offset:m,text:t})}})}};function rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rl(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var q=Bo(Bo(Bo(Bo({},Gw),qw),Zw),Ob),Wo=new WeakMap,Fb=e=>Wo.get(e)||!1,Ib=(e,t,n)=>{var r=Wo.get(e)||!1;Wo.set(e,!0);try{t(),n()}finally{Wo.set(e,r)}};function qp(e,t,n){var r=fs.get(e)||[],o=ds.get(e)||new Set,s,a,i=p=>{if(p){var m=p.join(",");a.has(m)||(a.add(m),s.push(p))}};if(n){s=[],a=new Set;for(var c of r){var l=n(c);i(l)}}else s=r,a=o;for(var d of t)i(d);fs.set(e,s),ds.set(e,a)}var $b=(e,t)=>{for(var n of D.pathRefs(e))zw.transform(n,t);for(var r of D.pointRefs(e))Hw.transform(r,t);for(var o of D.rangeRefs(e))Vw.transform(o,t);if(!Fb(e)){var s=I.operationCanTransformPath(t)?a=>I.transform(a,t):void 0;qp(e,e.getDirtyPaths(t),s)}q.transform(e,t),e.operations.push(t),D.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),Rr.get(e)||(Rr.set(e,!0),Promise.resolve().then(()=>{Rr.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},Rb=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return I.levels(n)}case"insert_node":{var{node:r,path:o}=t,s=I.levels(o),a=le.isText(r)?[]:Array.from(te.nodes(r),R=>{var[,_]=R;return o.concat(_)});return[...s,...a]}case"merge_node":{var{path:i}=t,c=I.ancestors(i),l=I.previous(i);return[...c,l]}case"move_node":{var{path:d,newPath:p}=t;if(I.equals(d,p))return[];var m=[],h=[];for(var g of I.ancestors(d)){var f=I.transform(g,t);m.push(f)}for(var C of I.ancestors(p)){var E=I.transform(C,t);h.push(E)}var v=h[h.length-1],y=p[p.length-1],b=v.concat(y);return[...m,...h,b]}case"remove_node":{var{path:A}=t,x=I.ancestors(A);return[...x]}case"split_node":{var{path:B}=t,S=I.levels(B),O=I.next(B);return[...S,O]}default:return[]}},Tb=e=>{var{selection:t}=e;return t?te.fragment(e,t):[]},Pb=(e,t)=>{var[n,r]=t;if(!le.isText(n)){if(fe.isElement(n)&&n.children.length===0){var o={text:""};q.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var s=D.isEditor(n)?!1:fe.isElement(n)&&(e.isInline(n)||n.children.length===0||le.isText(n.children[0])||e.isInline(n.children[0])),a=0,i=0;i<n.children.length;i++,a++){var c=te.get(e,r);if(!le.isText(c)){var l=c.children[a],d=c.children[a-1],p=i===n.children.length-1,m=le.isText(l)||fe.isElement(l)&&e.isInline(l);if(m!==s)q.removeNodes(e,{at:r.concat(a),voids:!0}),a--;else if(fe.isElement(l)){if(e.isInline(l)){if(d==null||!le.isText(d)){var h={text:""};q.insertNodes(e,h,{at:r.concat(a),voids:!0}),a++}else if(p){var g={text:""};q.insertNodes(e,g,{at:r.concat(a+1),voids:!0}),a++}}}else d!=null&&le.isText(d)&&(le.equals(l,d,{loose:!0})?(q.mergeNodes(e,{at:r.concat(a),voids:!0}),a--):d.text===""?(q.removeNodes(e,{at:r.concat(a-1),voids:!0}),a--):l.text===""&&(q.removeNodes(e,{at:r.concat(a),voids:!0}),a--))}}}},jb=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},kb=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:s=t.selection,match:a}=n;if(s){var i=D.path(t,s),c=o==="lowest";for(var[l,d]of D.levels(t,{at:i,voids:r,match:a,reverse:c}))if(!le.isText(l)){if(z.isRange(s)){if(I.isAncestor(d,s.anchor.path)&&I.isAncestor(d,s.focus.path))return[l,d]}else if(!I.equals(i,d))return[l,d]}}};function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function sl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ol(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Mb=(e,t,n)=>{var{selection:r}=e;if(r){var o=(p,m)=>{if(!le.isText(p))return!1;var[h,g]=D.parent(e,m);return!e.isVoid(h)||e.markableVoid(h)},s=z.isExpanded(r),a=!1;if(!s){var[i,c]=D.node(e,r);if(i&&o(i,c)){var[l]=D.parent(e,c);a=l&&e.markableVoid(l)}}if(s||a)q.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=sl(sl({},D.marks(e)||{}),{},{[t]:n});e.marks=d,Rr.get(e)||e.onChange()}}};function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?al(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Nb=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=D.point(t,n,{edge:"end"}),s=D.end(t,[]),a={anchor:o,focus:s},{distance:i=1}=r,c=0,l;for(var d of D.positions(t,il(il({},r),{},{at:a}))){if(c>i)break;c!==0&&(l=d),c++}return l};function ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ul(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Lb=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=D.start(t,[]),s=D.point(t,n,{edge:"start"}),a={anchor:o,focus:s},{distance:i=1}=r,c=0,l;for(var d of D.positions(t,cl(cl({},r),{},{at:a,reverse:!0}))){if(c>i)break;c!==0&&(l=d),c++}return l},_b=(e,t)=>{var{selection:n}=e;n&&z.isCollapsed(n)&&q.delete(e,{unit:t,reverse:!0})},zb=(e,t)=>{var{selection:n}=e;n&&z.isCollapsed(n)&&q.delete(e,{unit:t})},Hb=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&z.isExpanded(r)&&q.delete(t,{reverse:n==="backward"})},Vb=(e,t)=>[D.start(e,t),D.end(e,t)];function ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ll(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ll(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Wb=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D.above(t,fl(fl({},n),{},{match:r=>fe.isElement(r)&&D.isElementReadOnly(t,r)}))},Ub=(e,t)=>D.point(e,t,{edge:"end"}),Kb=(e,t)=>{var n=D.path(e,t,{edge:"start"});return D.node(e,n)},Gb=(e,t)=>{var n=D.range(e,t);return te.fragment(e,n)};function dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dl(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var qb=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D.above(t,pl(pl({},n),{},{match:r=>fe.isElement(r)&&D.isVoid(t,r)}))},Zb=(e,t)=>t.children.some(n=>fe.isElement(n)&&D.isBlock(e,n)),Yb=(e,t)=>t.children.some(n=>le.isText(n)||D.isInline(e,n)),Xb=(e,t)=>te.has(e,t),Jb=(e,t)=>t.children.every(n=>le.isText(n)),Qb=e=>{q.splitNodes(e,{always:!0})},ey=(e,t,n)=>{q.insertNodes(e,t,n)},ty=e=>{q.splitNodes(e,{always:!0})};function ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ml(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Zp=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:s}=t;if(o){if(s){var a=ny({text:n},s);q.insertNodes(t,a,{at:r.at,voids:r.voids})}else q.insertText(t,n,r);t.marks=null}},ry=(e,t)=>!e.isInline(t),oy=(e,t,n)=>D.isStart(e,t,n)||D.isEnd(e,t,n),sy=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&le.isText(r)&&r.text===""&&!e.isVoid(t)},ay=(e,t,n)=>{var r=D.end(e,n);return Oe.equals(t,r)},iy=e=>{var t=Kp.get(e);return t===void 0?!0:t},uy=(e,t,n)=>{if(t.offset!==0)return!1;var r=D.start(e,n);return Oe.equals(t,r)},cy=(e,t)=>{var n=D.path(e,t,{edge:"end"});return D.node(e,n)},ly=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=D.path(t,n,r),s=te.leaf(t,o);return[s,o]};function fy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:s}=t;if(s==null&&(s=()=>!0),!!n){var a=[],i=D.path(e,n);for(var[c,l]of te.levels(e,i))if(s(c,l)&&(a.push([c,l]),!o&&fe.isElement(c)&&D.isVoid(e,c)))break;r&&a.reverse(),yield*a}}()}var dy=["text"],py=["text"],my=function(t){var{marks:n,selection:r}=t;if(!r)return null;var{anchor:o,focus:s}=r;if(n)return n;if(z.isExpanded(r)){var a=D.isEnd(t,o,o.path);if(a){var i=D.after(t,o);i&&(o=i)}var[c]=D.nodes(t,{match:le.isText,at:{anchor:o,focus:s}});if(c){var[l]=c,d=tn(l,dy);return d}else return{}}var{path:p}=o,[m]=D.leaf(t,p);if(o.offset===0){var h=D.previous(t,{at:p,match:le.isText}),g=D.above(t,{match:b=>fe.isElement(b)&&D.isVoid(t,b)&&t.markableVoid(b)});if(!g){var f=D.above(t,{match:b=>fe.isElement(b)&&D.isBlock(t,b)});if(h&&f){var[C,E]=h,[,v]=f;I.isAncestor(v,E)&&(m=C)}}}var y=tn(m,py);return y},hy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:s,at:a=t.selection}=n;if(a){var i=D.after(t,a,{voids:o});if(i){var[,c]=D.last(t,[]),l=[i.path,c];if(I.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(s==null)if(I.isPath(a)){var[d]=D.parent(t,a);s=m=>d.children.includes(m)}else s=()=>!0;var[p]=D.nodes(t,{at:l,match:s,mode:r,voids:o});return p}}},gy=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=D.path(t,n,r),s=te.get(t,o);return[s,o]};function vy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,mode:r="all",universal:o=!1,reverse:s=!1,voids:a=!1,ignoreNonSelectable:i=!1}=t,{match:c}=t;if(c||(c=()=>!0),!!n){var l,d;if(nb.isSpan(n))l=n[0],d=n[1];else{var p=D.path(e,n,{edge:"start"}),m=D.path(e,n,{edge:"end"});l=s?m:p,d=s?p:m}var h=te.nodes(e,{reverse:s,from:l,to:d,pass:b=>{var[A]=b;return fe.isElement(A)?!!(!a&&(D.isVoid(e,A)||D.isElementReadOnly(e,A))||i&&!D.isSelectable(e,A)):!1}}),g=[],f;for(var[C,E]of h)if(!(i&&fe.isElement(C)&&!D.isSelectable(e,C))){var v=f&&I.compare(E,f[1])===0;if(!(r==="highest"&&v)){if(!c(C,E)){if(o&&!v&&le.isText(C))return;continue}if(r==="lowest"&&v){f=[C,E];continue}var y=r==="lowest"?f:[C,E];y&&(o?g.push(y):yield y),f=[C,E]}}r==="lowest"&&f&&(o?g.push(f):yield f),o&&(yield*g)}}()}var Cy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,s=d=>fs.get(d)||[],a=d=>ds.get(d)||new Set,i=d=>{var p=s(d).pop(),m=p.join(",");return a(d).delete(m),p};if(D.isNormalizing(t)){if(r){var c=Array.from(te.nodes(t),d=>{var[,p]=d;return p}),l=new Set(c.map(d=>d.join(",")));fs.set(t,c),ds.set(t,l)}s(t).length!==0&&D.withoutNormalizing(t,()=>{for(var d of s(t))if(te.has(t,d)){var p=D.node(t,d),[m,h]=p;fe.isElement(m)&&m.children.length===0&&t.normalizeNode(p,{operation:o})}for(var g=s(t),f=g.length,C=0;g.length!==0;){if(!t.shouldNormalize({dirtyPaths:g,iteration:C,initialDirtyPathsLength:f,operation:o}))return;var E=i(t);if(te.has(t,E)){var v=D.node(t,E);t.normalizeNode(v,{operation:o})}C++,g=s(t)}})}},Dy=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=D.path(t,n,r),s=I.parent(o),a=D.node(t,s);return a},Ey=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,s={current:n,affinity:o,unref(){var{current:i}=s,c=D.pathRefs(t);return c.delete(s),s.current=null,i}},a=D.pathRefs(t);return a.add(s),s},wy=e=>{var t=Vc.get(e);return t||(t=new Set,Vc.set(e,t)),t},by=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:s}=r;if(I.isPath(n)){if(s==="start"){var[,a]=te.first(t,n);n=a}else if(s==="end"){var[,i]=te.last(t,n);n=i}}return z.isRange(n)&&(s==="start"?n=z.start(n):s==="end"?n=z.end(n):n=I.common(n.anchor.path,n.focus.path)),Oe.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},yy=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,s={current:n,affinity:o,unref(){var{current:i}=s,c=D.pointRefs(t);return c.delete(s),s.current=null,i}},a=D.pointRefs(t);return a.add(s),s},xy=e=>{var t=Wc.get(e);return t||(t=new Set,Wc.set(e,t)),t},Ay=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(I.isPath(n)){var s;if(o==="end"){var[,a]=te.last(t,n);s=a}else{var[,i]=te.first(t,n);s=i}var c=te.get(t,s);if(!le.isText(c))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:s,offset:o==="end"?c.text.length:0}}if(z.isRange(n)){var[l,d]=z.edges(n);return o==="start"?l:d}return n};function By(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t;if(!n)return;var i=D.range(e,n),[c,l]=z.edges(i),d=o?l:c,p=!1,m="",h=0,g=0,f=0;for(var[C,E]of D.nodes(e,{at:n,reverse:o,voids:s,ignoreNonSelectable:a})){if(fe.isElement(C)){if(!s&&(e.isVoid(C)||e.isElementReadOnly(C))){yield D.start(e,E);continue}if(e.isInline(C))continue;if(D.hasInlines(e,C)){var v=I.isAncestor(E,l.path)?l:D.end(e,E),y=I.isAncestor(E,c.path)?c:D.start(e,E);m=D.string(e,{anchor:y,focus:v},{voids:s}),p=!0}}if(le.isText(C)){var b=I.equals(E,d.path);for(b?(g=o?d.offset:C.text.length-d.offset,f=d.offset):(g=C.text.length,f=o?g:0),(b||p||r==="offset")&&(yield{path:E,offset:f},p=!1);;){if(h===0){if(m==="")break;h=A(m,r,o),m=Bu(m,h,o)[1]}if(f=o?f-h:f+h,g=g-h,g<0){h=-g;break}h=0,yield{path:E,offset:f}}}}function A(x,B,S){return B==="character"?Au(x,S):B==="word"?ub(x,S):B==="line"||B==="block"?x.length:1}}()}var Sy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:s,at:a=t.selection}=n;if(a){var i=D.before(t,a,{voids:o});if(i){var[,c]=D.first(t,[]),l=[i.path,c];if(I.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(s==null)if(I.isPath(a)){var[d]=D.parent(t,a);s=m=>d.children.includes(m)}else s=()=>!0;var[p]=D.nodes(t,{reverse:!0,at:l,match:s,mode:r,voids:o});return p}}},Oy=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,s={current:n,affinity:o,unref(){var{current:i}=s,c=D.rangeRefs(t);return c.delete(s),s.current=null,i}},a=D.rangeRefs(t);return a.add(s),s},Fy=e=>{var t=Uc.get(e);return t||(t=new Set,Uc.set(e,t)),t},Iy=(e,t,n)=>{if(z.isRange(t)&&!n)return t;var r=D.start(e,t),o=D.end(e,n||t);return{anchor:r,focus:o}};function hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hl(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ry=(e,t)=>{var{selection:n}=e;if(n){var r=(d,p)=>{if(!le.isText(d))return!1;var[m,h]=D.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},o=z.isExpanded(n),s=!1;if(!o){var[a,i]=D.node(e,n);if(a&&r(a,i)){var[c]=D.parent(e,i);s=c&&e.markableVoid(c)}}if(o||s)q.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var l=$y({},D.marks(e)||{});delete l[t],e.marks=l,Rr.get(e)||e.onChange()}}},Ty=(e,t)=>{Kp.set(e,t)},Py=(e,t)=>D.point(e,t,{edge:"start"}),jy=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,s=D.range(t,n),[a,i]=z.edges(s),c="";for(var[l,d]of D.nodes(t,{at:s,match:le.isText,voids:o})){var p=l.text;I.equals(d,i.path)&&(p=p.slice(0,i.offset)),I.equals(d,a.path)&&(p=p.slice(a.offset)),c+=p}return c},ky=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[s,a]=z.edges(n);if(s.offset!==0||a.offset!==0||z.isCollapsed(n)||I.hasPrevious(a.path))return n;var i=D.above(t,{at:a,match:g=>fe.isElement(g)&&D.isBlock(t,g),voids:o}),c=i?i[1]:[],l=D.start(t,s),d={anchor:l,focus:a},p=!0;for(var[m,h]of D.nodes(t,{at:d,match:le.isText,reverse:!0,voids:o})){if(p){p=!1;continue}if(m.text!==""||I.isBefore(h,c)){a={path:h,offset:m.text.length};break}}return{anchor:s,focus:a}},My=(e,t)=>{var n=D.isNormalizing(e);D.setNormalizing(e,!1);try{t()}finally{D.setNormalizing(e,n)}D.normalize(e)},Ny=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var r,o,{reverse:s=!1,unit:a="character",distance:i=1,voids:c=!1}=n,{at:l=t.selection,hanging:d=!1}=n;if(l){var p=!1;if(z.isRange(l)&&z.isCollapsed(l)&&(p=!0,l=l.anchor),Oe.isPoint(l)){var m=D.void(t,{at:l,mode:"highest"});if(!c&&m){var[,h]=m;l=h}else{var g={unit:a,distance:i},f=s?D.before(t,l,g)||D.start(t,[]):D.after(t,l,g)||D.end(t,[]);l={anchor:l,focus:f},d=!0}}if(I.isPath(l)){q.removeNodes(t,{at:l,voids:c});return}if(!z.isCollapsed(l)){if(!d){var[,C]=z.edges(l),E=D.end(t,[]);Oe.equals(C,E)||(l=D.unhangRange(t,l,{voids:c}))}var[v,y]=z.edges(l),b=D.above(t,{match:he=>fe.isElement(he)&&D.isBlock(t,he),at:v,voids:c}),A=D.above(t,{match:he=>fe.isElement(he)&&D.isBlock(t,he),at:y,voids:c}),x=b&&A&&!I.equals(b[1],A[1]),B=I.equals(v.path,y.path),S=c?null:(r=D.void(t,{at:v,mode:"highest"}))!==null&&r!==void 0?r:D.elementReadOnly(t,{at:v,mode:"highest"}),O=c?null:(o=D.void(t,{at:y,mode:"highest"}))!==null&&o!==void 0?o:D.elementReadOnly(t,{at:y,mode:"highest"});if(S){var R=D.before(t,v);R&&b&&I.isAncestor(b[1],R.path)&&(v=R)}if(O){var _=D.after(t,y);_&&A&&I.isAncestor(A[1],_.path)&&(y=_)}var j=[],H;for(var k of D.nodes(t,{at:l,voids:c})){var[P,G]=k;H&&I.compare(G,H)===0||(!c&&fe.isElement(P)&&(D.isVoid(t,P)||D.isElementReadOnly(t,P))||!I.isCommon(G,v.path)&&!I.isCommon(G,y.path))&&(j.push(k),H=G)}var N=Array.from(j,he=>{var[,oe]=he;return D.pathRef(t,oe)}),X=D.pointRef(t,v),V=D.pointRef(t,y),J="";if(!B&&!S){var re=X.current,[K]=D.leaf(t,re),{path:Q}=re,{offset:F}=v,L=K.text.slice(F);L.length>0&&(t.apply({type:"remove_text",path:Q,offset:F,text:L}),J=L)}if(N.reverse().map(he=>he.unref()).filter(he=>he!==null).forEach(he=>q.removeNodes(t,{at:he,voids:c})),!O){var U=V.current,[M]=D.leaf(t,U),{path:W}=U,Z=B?v.offset:0,ne=M.text.slice(Z,y.offset);ne.length>0&&(t.apply({type:"remove_text",path:W,offset:Z,text:ne}),J=ne)}!B&&x&&V.current&&X.current&&q.mergeNodes(t,{at:V.current,hanging:!0,voids:c}),p&&s&&a==="character"&&J.length>1&&J.match(/[\u0E00-\u0E7F]+/)&&q.insertText(t,J.slice(0,J.length-i));var pe=X.unref(),ce=V.unref(),De=s?pe||ce:ce||pe;n.at==null&&De&&q.select(t,De)}}})},Ly=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:s=!1}=r,{at:a=xu(t),batchDirty:i=!0}=r;if(n.length){if(z.isRange(a))if(o||(a=D.unhangRange(t,a,{voids:s})),z.isCollapsed(a))a=a.anchor;else{var[,c]=z.edges(a);if(!s&&D.void(t,{at:c}))return;var l=D.pointRef(t,c);q.delete(t,{at:a}),a=l.unref()}else I.isPath(a)&&(a=D.start(t,a));if(!(!s&&D.void(t,{at:a}))){var d=D.above(t,{at:a,match:L=>fe.isElement(L)&&D.isInline(t,L),mode:"highest",voids:s});if(d){var[,p]=d;if(D.isEnd(t,a,p)){var m=D.after(t,p);a=m}else if(D.isStart(t,a,p)){var h=D.before(t,p);a=h}}var g=D.above(t,{match:L=>fe.isElement(L)&&D.isBlock(t,L),at:a,voids:s}),[,f]=g,C=D.isStart(t,a,f),E=D.isEnd(t,a,f),v=C&&E,y=!C||C&&E,b=!E,[,A]=te.first({children:n},[]),[,x]=te.last({children:n},[]),B=[],S=L=>{var[U,M]=L,W=M.length===0;return W?!1:v?!0:!(y&&I.isAncestor(M,A)&&fe.isElement(U)&&!t.isVoid(U)&&!t.isInline(U)||b&&I.isAncestor(M,x)&&fe.isElement(U)&&!t.isVoid(U)&&!t.isInline(U))};for(var O of te.nodes({children:n},{pass:S}))S(O)&&B.push(O);var R=[],_=[],j=[],H=!0,k=!1;for(var[P]of B)fe.isElement(P)&&!t.isInline(P)?(H=!1,k=!0,_.push(P)):H?R.push(P):j.push(P);var[G]=D.nodes(t,{at:a,match:L=>le.isText(L)||D.isInline(t,L),mode:"highest",voids:s}),[,N]=G,X=D.isStart(t,a,N),V=D.isEnd(t,a,N),J=D.pathRef(t,E&&!j.length?I.next(f):f),re=D.pathRef(t,V?I.next(N):N);q.splitNodes(t,{at:a,match:L=>k?fe.isElement(L)&&D.isBlock(t,L):le.isText(L)||D.isInline(t,L),mode:k?"lowest":"highest",always:k&&(!C||R.length>0)&&(!E||j.length>0),voids:s});var K=D.pathRef(t,!X||X&&V?I.next(N):N);if(q.insertNodes(t,R,{at:K.current,match:L=>le.isText(L)||D.isInline(t,L),mode:"highest",voids:s,batchDirty:i}),v&&!R.length&&_.length&&!j.length&&q.delete(t,{at:f,voids:s}),q.insertNodes(t,_,{at:J.current,match:L=>fe.isElement(L)&&D.isBlock(t,L),mode:"lowest",voids:s,batchDirty:i}),q.insertNodes(t,j,{at:re.current,match:L=>le.isText(L)||D.isInline(t,L),mode:"highest",voids:s,batchDirty:i}),!r.at){var Q;if(j.length>0&&re.current?Q=I.previous(re.current):_.length>0&&J.current?Q=I.previous(J.current):K.current&&(Q=I.previous(K.current)),Q){var F=D.end(t,Q);q.select(t,F)}}K.unref(),J.unref(),re.unref()}}})},_y=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")q.select(t,o.anchor);else if(r==="focus")q.select(t,o.focus);else if(r==="start"){var[s]=z.edges(o);q.select(t,s)}else if(r==="end"){var[,a]=z.edges(o);q.select(t,a)}}else return},zy=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},Hy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:s="character",reverse:a=!1}=n,{edge:i=null}=n;if(r){i==="start"&&(i=z.isBackward(r)?"focus":"anchor"),i==="end"&&(i=z.isBackward(r)?"anchor":"focus");var{anchor:c,focus:l}=r,d={distance:o,unit:s,ignoreNonSelectable:!0},p={};if(i==null||i==="anchor"){var m=a?D.before(t,c,d):D.after(t,c,d);m&&(p.anchor=m)}if(i==null||i==="focus"){var h=a?D.before(t,l,d):D.after(t,l,d);h&&(p.focus=h)}q.setSelection(t,p)}},Vy=(e,t)=>{var{selection:n}=e;if(t=D.range(e,t),n){q.setSelection(e,t);return}if(!z.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(st.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gl(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Wy=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:s="both"}=r;if(o){s==="start"&&(s=z.isBackward(o)?"focus":"anchor"),s==="end"&&(s=z.isBackward(o)?"anchor":"focus");var{anchor:a,focus:i}=o,c=s==="anchor"?a:i;q.setSelection(t,{[s==="anchor"?"anchor":"focus"]:vl(vl({},c),n)})}},Uy=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var s in t)(s==="anchor"&&t.anchor!=null&&!Oe.equals(t.anchor,n.anchor)||s==="focus"&&t.focus!=null&&!Oe.equals(t.focus,n.focus)||s!=="anchor"&&s!=="focus"&&t[s]!==n[s])&&(r[s]=n[s],o[s]=t[s]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},Ky=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:s=!1,mode:a="lowest",batchDirty:i=!0}=r,{at:c,match:l,select:d}=r;if(te.isNode(n)&&(n=[n]),n.length!==0){var[p]=n;if(c||(c=xu(t),d!==!1&&(d=!0)),d==null&&(d=!1),z.isRange(c))if(o||(c=D.unhangRange(t,c,{voids:s})),z.isCollapsed(c))c=c.anchor;else{var[,m]=z.edges(c),h=D.pointRef(t,m);q.delete(t,{at:c}),c=h.unref()}if(Oe.isPoint(c)){l==null&&(le.isText(p)?l=R=>le.isText(R):t.isInline(p)?l=R=>le.isText(R)||D.isInline(t,R):l=R=>fe.isElement(R)&&D.isBlock(t,R));var[g]=D.nodes(t,{at:c.path,match:l,mode:a,voids:s});if(g){var[,f]=g,C=D.pathRef(t,f),E=D.isEnd(t,c,f);q.splitNodes(t,{at:c,match:l,mode:a,voids:s});var v=C.unref();c=E?I.next(v):v}else return}var y=I.parent(c),b=c[c.length-1];if(!(!s&&D.void(t,{at:y}))){if(i){var A=[],x=I.levels(y);Ib(t,()=>{var R=function(){var H=y.concat(b);b++;var k={type:"insert_node",path:H,node:_};t.apply(k),c=I.next(c),A.push(k),le.isText?x.push(...Array.from(te.nodes(_),P=>{var[,G]=P;return H.concat(G)})):x.push(H)};for(var _ of n)R()},()=>{qp(t,x,R=>{var _=R;for(var j of A)if(I.operationCanTransformPath(j)&&(_=I.transform(_,j),!_))return null;return _})})}else for(var B of n){var S=y.concat(b);b++,t.apply({type:"insert_node",path:S,node:B}),c=I.next(c)}if(c=I.previous(c),d){var O=D.end(t,c);O&&q.select(t,O)}}}})},Gy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:s=!1}=n,{match:a}=n;if(a==null&&(a=I.isPath(r)?vr(t,r):b=>fe.isElement(b)&&D.isBlock(t,b)),!!r){var i=D.nodes(t,{at:r,match:a,mode:o,voids:s}),c=Array.from(i,b=>{var[,A]=b;return D.pathRef(t,A)});for(var l of c){var d=l.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var p=D.node(t,I.parent(d)),[m,h]=p,g=d[d.length-1],{length:f}=m.children;if(f===1){var C=I.next(h);q.moveNodes(t,{at:d,to:C,voids:s}),q.removeNodes(t,{at:h,voids:s})}else if(g===0)q.moveNodes(t,{at:d,to:h,voids:s});else if(g===f-1){var E=I.next(h);q.moveNodes(t,{at:d,to:E,voids:s})}else{var v=I.next(d),y=I.next(h);q.splitNodes(t,{at:v,voids:s}),q.moveNodes(t,{at:d,to:y,voids:s})}}}})},qy=["text"],Zy=["children"],Yp=(e,t)=>{if(fe.isElement(t)){var n=t;return D.isVoid(e,t)?!0:n.children.length===1?Yp(e,n.children[0]):!1}else return!D.isEditor(t)},Yy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:s=!1,voids:a=!1,mode:i="lowest"}=n;if(o){if(r==null)if(I.isPath(o)){var[c]=D.parent(t,o);r=R=>c.children.includes(R)}else r=R=>fe.isElement(R)&&D.isBlock(t,R);if(!s&&z.isRange(o)&&(o=D.unhangRange(t,o,{voids:a})),z.isRange(o))if(z.isCollapsed(o))o=o.anchor;else{var[,l]=z.edges(o),d=D.pointRef(t,l);q.delete(t,{at:o}),o=d.unref(),n.at==null&&q.select(t,o)}var[p]=D.nodes(t,{at:o,match:r,voids:a,mode:i}),m=D.previous(t,{at:o,match:r,voids:a,mode:i});if(!(!p||!m)){var[h,g]=p,[f,C]=m;if(!(g.length===0||C.length===0)){var E=I.next(C),v=I.common(g,C),y=I.isSibling(g,C),b=Array.from(D.levels(t,{at:g}),R=>{var[_]=R;return _}).slice(v.length).slice(0,-1),A=D.above(t,{at:g,mode:"highest",match:R=>b.includes(R)&&Yp(t,R)}),x=A&&D.pathRef(t,A[1]),B,S;if(le.isText(h)&&le.isText(f)){var O=tn(h,qy);S=f.text.length,B=O}else if(fe.isElement(h)&&fe.isElement(f)){var O=tn(h,Zy);S=f.children.length,B=O}else throw new Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(st.stringify(h)," ").concat(st.stringify(f)));y||q.moveNodes(t,{at:g,to:E,voids:a}),x&&q.removeNodes(t,{at:x.current,voids:a}),fe.isElement(f)&&D.isEmpty(t,f)||le.isText(f)&&f.text===""&&C[C.length-1]!==0?q.removeNodes(t,{at:C,voids:a}):t.apply({type:"merge_node",path:E,position:S,properties:B}),x&&x.unref()}}}})},Xy=(e,t)=>{D.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:s=!1}=t,{match:a}=t;if(r){a==null&&(a=I.isPath(r)?vr(e,r):h=>fe.isElement(h)&&D.isBlock(e,h));var i=D.pathRef(e,n),c=D.nodes(e,{at:r,match:a,mode:o,voids:s}),l=Array.from(c,h=>{var[,g]=h;return D.pathRef(e,g)});for(var d of l){var p=d.unref(),m=i.current;p.length!==0&&e.apply({type:"move_node",path:p,newPath:m}),i.current&&I.isSibling(m,p)&&I.isAfter(m,p)&&(i.current=I.next(i.current))}i.unref()}})},Jy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:s="lowest"}=n,{at:a=t.selection,match:i}=n;if(a){i==null&&(i=I.isPath(a)?vr(t,a):h=>fe.isElement(h)&&D.isBlock(t,h)),!r&&z.isRange(a)&&(a=D.unhangRange(t,a,{voids:o}));var c=D.nodes(t,{at:a,match:i,mode:s,voids:o}),l=Array.from(c,h=>{var[,g]=h;return D.pathRef(t,g)});for(var d of l){var p=d.unref();if(p){var[m]=D.node(t,p);t.apply({type:"remove_node",path:p,node:m})}}}})},Qy=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{match:o,at:s=t.selection,compare:a,merge:i}=r,{hanging:c=!1,mode:l="lowest",split:d=!1,voids:p=!1}=r;if(s){if(o==null&&(o=I.isPath(s)?vr(t,s):S=>fe.isElement(S)&&D.isBlock(t,S)),!c&&z.isRange(s)&&(s=D.unhangRange(t,s,{voids:p})),d&&z.isRange(s)){if(z.isCollapsed(s)&&D.leaf(t,s.anchor)[0].text.length>0)return;var m=D.rangeRef(t,s,{affinity:"inward"}),[h,g]=z.edges(s),f=l==="lowest"?"lowest":"highest",C=D.isEnd(t,g,g.path);q.splitNodes(t,{at:g,match:o,mode:f,voids:p,always:!C});var E=D.isStart(t,h,h.path);q.splitNodes(t,{at:h,match:o,mode:f,voids:p,always:!E}),s=m.unref(),r.at==null&&q.select(t,s)}a||(a=(S,O)=>S!==O);for(var[v,y]of D.nodes(t,{at:s,match:o,mode:l,voids:p})){var b={},A={};if(y.length!==0){var x=!1;for(var B in n)B==="children"||B==="text"||a(n[B],v[B])&&(x=!0,v.hasOwnProperty(B)&&(b[B]=v[B]),i?n[B]!=null&&(A[B]=i(v[B],n[B])):n[B]!=null&&(A[B]=n[B]));x&&t.apply({type:"set_node",path:y,properties:b,newProperties:A})}}}})},e3=(e,t)=>{if(z.isCollapsed(t))return t.anchor;var[,n]=z.edges(t),r=D.pointRef(e,n);return q.delete(e,{at:t}),r.unref()},t3=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:s,at:a=t.selection,height:i=0,always:c=!1}=n;if(s==null&&(s=V=>fe.isElement(V)&&D.isBlock(t,V)),z.isRange(a)&&(a=e3(t,a)),I.isPath(a)){var l=a,d=D.point(t,l),[p]=D.parent(t,l);s=V=>V===p,i=d.path.length-l.length+1,a=d,c=!0}if(a){var m=D.pointRef(t,a,{affinity:"backward"}),h;try{var[g]=D.nodes(t,{at:a,match:s,mode:r,voids:o});if(!g)return;var f=D.void(t,{at:a,mode:"highest"}),C=0;if(!o&&f){var[E,v]=f;if(fe.isElement(E)&&t.isInline(E)){var y=D.after(t,v);if(!y){var b={text:""},A=I.next(v);q.insertNodes(t,b,{at:A,voids:o}),y=D.point(t,A)}a=y,c=!0}var x=a.path.length-v.length;i=x+1,c=!0}h=D.pointRef(t,a);var B=a.path.length-i,[,S]=g,O=a.path.slice(0,B),R=i===0?a.offset:a.path[B]+C;for(var[_,j]of D.levels(t,{at:O,reverse:!0,voids:o})){var H=!1;if(j.length<S.length||j.length===0||!o&&fe.isElement(_)&&D.isVoid(t,_))break;var k=m.current,P=D.isEnd(t,k,j);if(c||!m||!D.isEdge(t,k,j)){H=!0;var G=te.extractProps(_);t.apply({type:"split_node",path:j,position:R,properties:G})}R=j[j.length-1]+(H||P?1:0)}if(n.at==null){var N=h.current||D.end(t,[]);q.select(t,N)}}finally{var X;m.unref(),(X=h)===null||X===void 0||X.unref()}}})},n3=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var s of n)o[s]=null;q.setNodes(t,o,r)},r3=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:s=!1}=n,{at:a=t.selection,match:i}=n;if(a){i==null&&(i=I.isPath(a)?vr(t,a):h=>fe.isElement(h)&&D.isBlock(t,h)),I.isPath(a)&&(a=D.range(t,a));var c=z.isRange(a)?D.rangeRef(t,a):null,l=D.nodes(t,{at:a,match:i,mode:r,voids:s}),d=Array.from(l,h=>{var[,g]=h;return D.pathRef(t,g)}).reverse(),p=function(){var g=m.unref(),[f]=D.node(t,g),C=D.range(t,g);o&&c&&(C=z.intersection(c.current,C)),q.liftNodes(t,{at:C,match:E=>fe.isAncestor(f)&&f.children.includes(E),voids:s})};for(var m of d)p();c&&c.unref()}})};function Cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cl(Object(n),!0).forEach(function(r){Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var o3=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{mode:o="lowest",split:s=!1,voids:a=!1}=r,{match:i,at:c=t.selection}=r;if(c){if(i==null&&(I.isPath(c)?i=vr(t,c):t.isInline(n)?i=C=>fe.isElement(C)&&D.isInline(t,C)||le.isText(C):i=C=>fe.isElement(C)&&D.isBlock(t,C)),s&&z.isRange(c)){var[l,d]=z.edges(c),p=D.rangeRef(t,c,{affinity:"inward"});q.splitNodes(t,{at:d,match:i,voids:a}),q.splitNodes(t,{at:l,match:i,voids:a}),c=p.unref(),r.at==null&&q.select(t,c)}var m=Array.from(D.nodes(t,{at:c,match:t.isInline(n)?C=>fe.isElement(C)&&D.isBlock(t,C):C=>D.isEditor(C),mode:"lowest",voids:a})),h=function(){var E=z.isRange(c)?z.intersection(c,D.range(t,f)):c;if(!E)return 0;var v=Array.from(D.nodes(t,{at:E,match:i,mode:o,voids:a}));if(v.length>0){var[y]=v,b=v[v.length-1],[,A]=y,[,x]=b;if(A.length===0&&x.length===0)return 0;var B=I.equals(A,x)?I.parent(A):I.common(A,x),S=D.range(t,A,x),O=D.node(t,B),[R]=O,_=B.length+1,j=I.next(x.slice(0,_)),H=Dl(Dl({},n),{},{children:[]});q.insertNodes(t,H,{at:j,voids:a}),q.moveNodes(t,{at:S,match:k=>fe.isAncestor(R)&&R.children.includes(k),to:j.concat(0),voids:a})}},g;for(var[,f]of m)g=h()}})},Xp=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $b(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Mb(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _b(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zb(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Hb(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Tb(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Qb(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ty(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ly(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ey(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Zp(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Pb(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ry(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Rb(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jb(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kb(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Nb(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Lb(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _y(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ny(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zy(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Vb(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Wb(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ub(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Kb(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Gb(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return my(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Zb(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yb(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Xb(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jb(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ky(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ry(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return oy(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sy(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ay(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return iy(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uy(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cy(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ly(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fy(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Gy(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yy(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Hy(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Xy(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hy(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return gy(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vy(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cy(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Dy(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return by(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ey(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wy(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ay(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yy(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xy(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return By(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Sy(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Iy(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Oy(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Fy(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jy(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Vy(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Qy(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ty(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Wy(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Uy(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t3(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Py(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jy(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ky(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return n3(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r3(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qb(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return My(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return o3(e,...r)}};return e};function ps(e,t,n={}){const{filterVoids:r}=n,o=D.before(e,t,{unit:"character",voids:r});if(o){const s=D.range(e,o,z.isRange(t)?z.start(t):t),a=D.string(e,s);return{range:s,text:a,void:a.length===0}}}function Su(e,t,n={}){const{filterVoids:r}=n,o=D.after(e,t,{unit:"character",voids:r});if(o){const s=D.range(e,o,z.isRange(t)?z.end(t):t),a=D.string(e,s);return{range:s,text:a,void:a.length===0}}}const El={direction:"before"};function Jp(e,t,n=[" "],r=El){const{include:o,direction:s}={...El,...r};let[a,i]=z.edges(t),c=a;function l(d){const p=d==="after"?D.after(e,c,{unit:"character"}):D.before(e,c,{unit:"character"}),m=p&&D.string(e,d==="after"?{anchor:c,focus:p}:{anchor:p,focus:c}),h=m&&m[d==="after"?0:m.length-1];if(p&&h&&!n.includes(h)){if(c=p,c.offset===0)return!1}else return!1;return!0}if(s!=="before"){for(c=i;l("after"););i=c}if(s!=="after"){for(c=a;l("before"););a=c}return o?{anchor:D.before(e,a,{unit:"offset"})??a,focus:D.after(e,i,{unit:"offset"})??i}:{anchor:a,focus:i}}function cr(e){return!e.trim()}function po(e){return e!==null&&z.isCollapsed(e)}const lr="@";function s3(e){const{selection:t}=e;if(!po(t))return;const n=Jp(e,t);if(!n)return;const r=D.string(e,n);if(r.startsWith(lr))return{range:n,text:r.substring(1)}}function Sr(e){return fe.isElement(e)&&e.type==="mention"}function a3(e,t){const n={type:"mention",id:t,children:[{text:""}]};q.insertNodes(e,n),q.move(e);const r=e.selection?Su(e,e.selection):void 0;!r||r.void?q.insertText(e," "):cr(r.text)&&q.move(e)}function i3(e){if(!e.selection)return;const t=ps(e,e.selection,{filterVoids:!0}),n=Su(e,e.selection,{filterVoids:!0}),r=t&&!cr(t.text),o=n&&!cr(n.text);if(po(e.selection)){const s=(r?" ":"")+lr+(o?" ":"");e.insertText(s),o&&q.move(e,{distance:1,unit:"character",reverse:!0})}else{const s=(r?" ":"")+lr;e.insertText(s,{at:z.start(e.selection)}),o&&e.insertText(" ",{at:z.end(e.selection)}),q.collapse(e,{edge:"end"})}}function u3(e){const{isInline:t,isVoid:n,markableVoid:r,deleteBackward:o}=e;return e.isInline=s=>Sr(s)||t(s),e.isVoid=s=>Sr(s)||n(s),e.markableVoid=s=>Sr(s)||r(s),e.deleteBackward=s=>{const{selection:a}=e;if(po(a)){const[i]=D.nodes(e,{at:s==="character"?D.before(e,a,{unit:"character"}):a,match:Sr});o(s),i&&q.insertText(e,lr)}else o(s)},e}function c3(e){return!("type"in e)&&"text"in e&&typeof e.text=="string"}function Qp(e){return"type"in e&&e.type==="mention"}function em(e){return"type"in e&&e.type==="link"}function tm(e){if(e.startsWith("http://")||e.startsWith("https://"))return e;if(e.startsWith("www."))return"https://"+e}const nm=u.forwardRef(({children:e,asChild:t,...n},r)=>{const o=t?vt:"span";return $.createElement(o,{...n,ref:r},e)}),rm=u.forwardRef(({children:e,asChild:t,...n},r)=>{const o=t?vt:"a";return $.createElement(o,{target:"_blank",rel:"noopener noreferrer nofollow",...n,ref:r},e)}),l3={Mention:({userId:e})=>$.createElement(nm,null,lr,e),Link:({href:e,children:t})=>$.createElement(rm,{href:e},t)},f3=u.forwardRef(({body:e,components:t,style:n,asChild:r,...o},s)=>{const a=r?vt:"div",{Mention:i,Link:c}=u.useMemo(()=>({...l3,...t}),[t]);return!e||!e?.content?null:$.createElement(a,{...o,style:{whiteSpace:"break-spaces",...n},ref:s},e.content.map((l,d)=>{switch(l.type){case"paragraph":return $.createElement("p",{key:d,style:{minHeight:"1lh"}},l.children.map((p,m)=>{if(Qp(p))return p.id?$.createElement(i,{userId:p.id,key:m}):null;if(em(p)){const g=tm(p.url)??p.url;return $.createElement(c,{href:g,key:m},p.text??p.url)}let h=p.text;return p.bold&&(h=$.createElement("strong",{key:m},h)),p.italic&&(h=$.createElement("em",{key:m},h)),p.strikethrough&&(h=$.createElement("s",{key:m},h)),p.code&&(h=$.createElement("code",{key:m},h)),$.createElement("span",{key:m},h)}));default:return null}}))}),d3=["top","right","bottom","left"],bn=Math.min,yt=Math.max,ms=Math.round,So=Math.floor,yn=e=>({x:e,y:e}),p3={left:"right",right:"left",bottom:"top",top:"bottom"},m3={start:"end",end:"start"};function mi(e,t,n){return yt(e,bn(t,n))}function nn(e,t){return typeof e=="function"?e(t):e}function rn(e){return e.split("-")[0]}function Cr(e){return e.split("-")[1]}function Ou(e){return e==="x"?"y":"x"}function Fu(e){return e==="y"?"height":"width"}function Dr(e){return["top","bottom"].includes(rn(e))?"y":"x"}function Iu(e){return Ou(Dr(e))}function h3(e,t,n){n===void 0&&(n=!1);const r=Cr(e),o=Iu(e),s=Fu(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=hs(a)),[a,hs(a)]}function g3(e){const t=hs(e);return[hi(e),t,hi(t)]}function hi(e){return e.replace(/start|end/g,t=>m3[t])}function v3(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:a;default:return[]}}function C3(e,t,n,r){const o=Cr(e);let s=v3(rn(e),n==="start",r);return o&&(s=s.map(a=>a+"-"+o),t&&(s=s.concat(s.map(hi)))),s}function hs(e){return e.replace(/left|right|bottom|top/g,t=>p3[t])}function D3(e){return{top:0,right:0,bottom:0,left:0,...e}}function om(e){return typeof e!="number"?D3(e):{top:e,right:e,bottom:e,left:e}}function gs(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function wl(e,t,n){let{reference:r,floating:o}=e;const s=Dr(t),a=Iu(t),i=Fu(a),c=rn(t),l=s==="y",d=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,m=r[i]/2-o[i]/2;let h;switch(c){case"top":h={x:d,y:r.y-o.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:p};break;case"left":h={x:r.x-o.width,y:p};break;default:h={x:r.x,y:r.y}}switch(Cr(t)){case"start":h[a]-=m*(n&&l?-1:1);break;case"end":h[a]+=m*(n&&l?-1:1);break}return h}const E3=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,i=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:p}=wl(l,r,c),m=r,h={},g=0;for(let f=0;f<i.length;f++){const{name:C,fn:E}=i[f],{x:v,y,data:b,reset:A}=await E({x:d,y:p,initialPlacement:r,placement:m,strategy:o,middlewareData:h,rects:l,platform:a,elements:{reference:e,floating:t}});d=v??d,p=y??p,h={...h,[C]:{...h[C],...b}},A&&g<=50&&(g++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(l=A.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):A.rects),{x:d,y:p}=wl(l,m,c)),f=-1)}return{x:d,y:p,placement:m,strategy:o,middlewareData:h}};async function Gr(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:a,elements:i,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:m=!1,padding:h=0}=nn(t,e),g=om(h),C=i[m?p==="floating"?"reference":"floating":p],E=gs(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(i.floating)),boundary:l,rootBoundary:d,strategy:c})),v=p==="floating"?{...a.floating,x:r,y:o}:a.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),b=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},A=gs(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:v,offsetParent:y,strategy:c}):v);return{top:(E.top-A.top+g.top)/b.y,bottom:(A.bottom-E.bottom+g.bottom)/b.y,left:(E.left-A.left+g.left)/b.x,right:(A.right-E.right+g.right)/b.x}}const w3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:a,elements:i,middlewareData:c}=t,{element:l,padding:d=0}=nn(e,t)||{};if(l==null)return{};const p=om(d),m={x:n,y:r},h=Iu(o),g=Fu(h),f=await a.getDimensions(l),C=h==="y",E=C?"top":"left",v=C?"bottom":"right",y=C?"clientHeight":"clientWidth",b=s.reference[g]+s.reference[h]-m[h]-s.floating[g],A=m[h]-s.reference[h],x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let B=x?x[y]:0;(!B||!await(a.isElement==null?void 0:a.isElement(x)))&&(B=i.floating[y]||s.floating[g]);const S=b/2-A/2,O=B/2-f[g]/2-1,R=bn(p[E],O),_=bn(p[v],O),j=R,H=B-f[g]-_,k=B/2-f[g]/2+S,P=mi(j,k,H),G=!c.arrow&&Cr(o)!=null&&k!==P&&s.reference[g]/2-(k<j?R:_)-f[g]/2<0,N=G?k<j?k-j:k-H:0;return{[h]:m[h]+N,data:{[h]:P,centerOffset:k-P-N,...G&&{alignmentOffset:N}},reset:G}}}),b3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:a,initialPlacement:i,platform:c,elements:l}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:f=!0,...C}=nn(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=rn(o),v=rn(i)===i,y=await(c.isRTL==null?void 0:c.isRTL(l.floating)),b=m||(v||!f?[hs(i)]:g3(i));!m&&g!=="none"&&b.push(...C3(i,f,g,y));const A=[i,...b],x=await Gr(t,C),B=[];let S=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&B.push(x[E]),p){const j=h3(o,a,y);B.push(x[j[0]],x[j[1]])}if(S=[...S,{placement:o,overflows:B}],!B.every(j=>j<=0)){var O,R;const j=(((O=s.flip)==null?void 0:O.index)||0)+1,H=A[j];if(H)return{data:{index:j,overflows:S},reset:{placement:H}};let k=(R=S.filter(P=>P.overflows[0]<=0).sort((P,G)=>P.overflows[1]-G.overflows[1])[0])==null?void 0:R.placement;if(!k)switch(h){case"bestFit":{var _;const P=(_=S.map(G=>[G.placement,G.overflows.filter(N=>N>0).reduce((N,X)=>N+X,0)]).sort((G,N)=>G[1]-N[1])[0])==null?void 0:_[0];P&&(k=P);break}case"initialPlacement":k=i;break}if(o!==k)return{reset:{placement:k}}}return{}}}};function bl(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yl(e){return d3.some(t=>e[t]>=0)}const y3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=nn(e,t);switch(r){case"referenceHidden":{const s=await Gr(t,{...o,elementContext:"reference"}),a=bl(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:yl(a)}}}case"escaped":{const s=await Gr(t,{...o,altBoundary:!0}),a=bl(s,n.floating);return{data:{escapedOffsets:a,escaped:yl(a)}}}default:return{}}}}};async function x3(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=rn(n),i=Cr(n),c=Dr(n)==="y",l=["left","top"].includes(a)?-1:1,d=s&&c?-1:1,p=nn(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return i&&typeof g=="number"&&(h=i==="end"?g*-1:g),c?{x:h*d,y:m*l}:{x:m*l,y:h*d}}const A3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:a,middlewareData:i}=t,c=await x3(t,e);return a===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:a}}}}},B3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:i={fn:C=>{let{x:E,y:v}=C;return{x:E,y:v}}},...c}=nn(e,t),l={x:n,y:r},d=await Gr(t,c),p=Dr(rn(o)),m=Ou(p);let h=l[m],g=l[p];if(s){const C=m==="y"?"top":"left",E=m==="y"?"bottom":"right",v=h+d[C],y=h-d[E];h=mi(v,h,y)}if(a){const C=p==="y"?"top":"left",E=p==="y"?"bottom":"right",v=g+d[C],y=g-d[E];g=mi(v,g,y)}const f=i.fn({...t,[m]:h,[p]:g});return{...f,data:{x:f.x-n,y:f.y-r}}}}},S3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:a}=t,{offset:i=0,mainAxis:c=!0,crossAxis:l=!0}=nn(e,t),d={x:n,y:r},p=Dr(o),m=Ou(p);let h=d[m],g=d[p];const f=nn(i,t),C=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(c){const y=m==="y"?"height":"width",b=s.reference[m]-s.floating[y]+C.mainAxis,A=s.reference[m]+s.reference[y]-C.mainAxis;h<b?h=b:h>A&&(h=A)}if(l){var E,v;const y=m==="y"?"width":"height",b=["top","left"].includes(rn(o)),A=s.reference[p]-s.floating[y]+(b&&((E=a.offset)==null?void 0:E[p])||0)+(b?0:C.crossAxis),x=s.reference[p]+s.reference[y]+(b?0:((v=a.offset)==null?void 0:v[p])||0)-(b?C.crossAxis:0);g<A?g=A:g>x&&(g=x)}return{[m]:h,[p]:g}}}},O3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:s}=t,{apply:a=()=>{},...i}=nn(e,t),c=await Gr(t,i),l=rn(n),d=Cr(n),p=Dr(n)==="y",{width:m,height:h}=r.floating;let g,f;l==="top"||l==="bottom"?(g=l,f=d===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(f=l,g=d==="end"?"top":"bottom");const C=h-c[g],E=m-c[f],v=!t.middlewareData.shift;let y=C,b=E;if(p){const x=m-c.left-c.right;b=d||v?bn(E,x):x}else{const x=h-c.top-c.bottom;y=d||v?bn(C,x):x}if(v&&!d){const x=yt(c.left,0),B=yt(c.right,0),S=yt(c.top,0),O=yt(c.bottom,0);p?b=m-2*(x!==0||B!==0?x+B:yt(c.left,c.right)):y=h-2*(S!==0||O!==0?S+O:yt(c.top,c.bottom))}await a({...t,availableWidth:b,availableHeight:y});const A=await o.getDimensions(s.floating);return m!==A.width||h!==A.height?{reset:{rects:!0}}:{}}}};function xn(e){return sm(e)?(e.nodeName||"").toLowerCase():"#document"}function At(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function an(e){var t;return(t=(sm(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sm(e){return e instanceof Node||e instanceof At(e).Node}function on(e){return e instanceof Element||e instanceof At(e).Element}function Gt(e){return e instanceof HTMLElement||e instanceof At(e).HTMLElement}function xl(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof At(e).ShadowRoot}function mo(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=jt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function F3(e){return["table","td","th"].includes(xn(e))}function $u(e){const t=Ru(),n=jt(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function I3(e){let t=fr(e);for(;Gt(t)&&!Ws(t);){if($u(t))return t;t=fr(t)}return null}function Ru(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ws(e){return["html","body","#document"].includes(xn(e))}function jt(e){return At(e).getComputedStyle(e)}function Us(e){return on(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function fr(e){if(xn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xl(e)&&e.host||an(e);return xl(t)?t.host:t}function am(e){const t=fr(e);return Ws(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gt(t)&&mo(t)?t:am(t)}function qr(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=am(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),a=At(o);return s?t.concat(a,a.visualViewport||[],mo(o)?o:[],a.frameElement&&n?qr(a.frameElement):[]):t.concat(o,qr(o,[],n))}function im(e){const t=jt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Gt(e),s=o?e.offsetWidth:n,a=o?e.offsetHeight:r,i=ms(n)!==s||ms(r)!==a;return i&&(n=s,r=a),{width:n,height:r,$:i}}function Tu(e){return on(e)?e:e.contextElement}function or(e){const t=Tu(e);if(!Gt(t))return yn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=im(t);let a=(s?ms(n.width):n.width)/r,i=(s?ms(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const $3=yn(0);function um(e){const t=At(e);return!Ru()||!t.visualViewport?$3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function R3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==At(e)?!1:t}function Wn(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Tu(e);let a=yn(1);t&&(r?on(r)&&(a=or(r)):a=or(e));const i=R3(s,n,r)?um(s):yn(0);let c=(o.left+i.x)/a.x,l=(o.top+i.y)/a.y,d=o.width/a.x,p=o.height/a.y;if(s){const m=At(s),h=r&&on(r)?At(r):r;let g=m,f=g.frameElement;for(;f&&r&&h!==g;){const C=or(f),E=f.getBoundingClientRect(),v=jt(f),y=E.left+(f.clientLeft+parseFloat(v.paddingLeft))*C.x,b=E.top+(f.clientTop+parseFloat(v.paddingTop))*C.y;c*=C.x,l*=C.y,d*=C.x,p*=C.y,c+=y,l+=b,g=At(f),f=g.frameElement}}return gs({width:d,height:p,x:c,y:l})}const T3=[":popover-open",":modal"];function cm(e){return T3.some(t=>{try{return e.matches(t)}catch{return!1}})}function P3(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",a=an(r),i=t?cm(t.floating):!1;if(r===a||i&&s)return n;let c={scrollLeft:0,scrollTop:0},l=yn(1);const d=yn(0),p=Gt(r);if((p||!p&&!s)&&((xn(r)!=="body"||mo(a))&&(c=Us(r)),Gt(r))){const m=Wn(r);l=or(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+d.x,y:n.y*l.y-c.scrollTop*l.y+d.y}}function j3(e){return Array.from(e.getClientRects())}function lm(e){return Wn(an(e)).left+Us(e).scrollLeft}function k3(e){const t=an(e),n=Us(e),r=e.ownerDocument.body,o=yt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=yt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+lm(e);const i=-n.scrollTop;return jt(r).direction==="rtl"&&(a+=yt(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:a,y:i}}function M3(e,t){const n=At(e),r=an(e),o=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,i=0,c=0;if(o){s=o.width,a=o.height;const l=Ru();(!l||l&&t==="fixed")&&(i=o.offsetLeft,c=o.offsetTop)}return{width:s,height:a,x:i,y:c}}function N3(e,t){const n=Wn(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=Gt(e)?or(e):yn(1),a=e.clientWidth*s.x,i=e.clientHeight*s.y,c=o*s.x,l=r*s.y;return{width:a,height:i,x:c,y:l}}function Al(e,t,n){let r;if(t==="viewport")r=M3(e,n);else if(t==="document")r=k3(an(e));else if(on(t))r=N3(t,n);else{const o=um(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return gs(r)}function fm(e,t){const n=fr(e);return n===t||!on(n)||Ws(n)?!1:jt(n).position==="fixed"||fm(n,t)}function L3(e,t){const n=t.get(e);if(n)return n;let r=qr(e,[],!1).filter(i=>on(i)&&xn(i)!=="body"),o=null;const s=jt(e).position==="fixed";let a=s?fr(e):e;for(;on(a)&&!Ws(a);){const i=jt(a),c=$u(a);!c&&i.position==="fixed"&&(o=null),(s?!c&&!o:!c&&i.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||mo(a)&&!c&&fm(e,a))?r=r.filter(d=>d!==a):o=i,a=fr(a)}return t.set(e,r),r}function _3(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?L3(t,this._c):[].concat(n),r],i=a[0],c=a.reduce((l,d)=>{const p=Al(t,d,o);return l.top=yt(p.top,l.top),l.right=bn(p.right,l.right),l.bottom=bn(p.bottom,l.bottom),l.left=yt(p.left,l.left),l},Al(t,i,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function z3(e){const{width:t,height:n}=im(e);return{width:t,height:n}}function H3(e,t,n){const r=Gt(t),o=an(t),s=n==="fixed",a=Wn(e,!0,s,t);let i={scrollLeft:0,scrollTop:0};const c=yn(0);if(r||!r&&!s)if((xn(t)!=="body"||mo(o))&&(i=Us(t)),r){const p=Wn(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else o&&(c.x=lm(o));const l=a.left+i.scrollLeft-c.x,d=a.top+i.scrollTop-c.y;return{x:l,y:d,width:a.width,height:a.height}}function Bl(e,t){return!Gt(e)||jt(e).position==="fixed"?null:t?t(e):e.offsetParent}function dm(e,t){const n=At(e);if(!Gt(e)||cm(e))return n;let r=Bl(e,t);for(;r&&F3(r)&&jt(r).position==="static";)r=Bl(r,t);return r&&(xn(r)==="html"||xn(r)==="body"&&jt(r).position==="static"&&!$u(r))?n:r||I3(e)||n}const V3=async function(e){const t=this.getOffsetParent||dm,n=this.getDimensions;return{reference:H3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function W3(e){return jt(e).direction==="rtl"}const U3={convertOffsetParentRelativeRectToViewportRelativeRect:P3,getDocumentElement:an,getClippingRect:_3,getOffsetParent:dm,getElementRects:V3,getClientRects:j3,getDimensions:z3,getScale:or,isElement:on,isRTL:W3};function K3(e,t){let n=null,r;const o=an(e);function s(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function a(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),s();const{left:l,top:d,width:p,height:m}=e.getBoundingClientRect();if(i||t(),!p||!m)return;const h=So(d),g=So(o.clientWidth-(l+p)),f=So(o.clientHeight-(d+m)),C=So(l),v={rootMargin:-h+"px "+-g+"px "+-f+"px "+-C+"px",threshold:yt(0,bn(1,c))||1};let y=!0;function b(A){const x=A[0].intersectionRatio;if(x!==c){if(!y)return a();x?a(!1,x):r=setTimeout(()=>{a(!1,1e-7)},100)}y=!1}try{n=new IntersectionObserver(b,{...v,root:o.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return a(!0),s}function pm(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=Tu(e),d=o||s?[...l?qr(l):[],...qr(t)]:[];d.forEach(E=>{o&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const p=l&&i?K3(l,n):null;let m=-1,h=null;a&&(h=new ResizeObserver(E=>{let[v]=E;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),n()}),l&&!c&&h.observe(l),h.observe(t));let g,f=c?Wn(e):null;c&&C();function C(){const E=Wn(e);f&&(E.x!==f.x||E.y!==f.y||E.width!==f.width||E.height!==f.height)&&n(),f=E,g=requestAnimationFrame(C)}return n(),()=>{var E;d.forEach(v=>{o&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),p?.(),(E=h)==null||E.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const mm=B3,hm=b3,gm=O3,vm=y3,Sl=w3,Cm=S3,Dm=(e,t,n)=>{const r=new Map,o={platform:U3,...n},s={...o.platform,_c:r};return E3(e,t,{...o,platform:s})};var Uo=typeof document<"u"?u.useLayoutEffect:u.useEffect;function vs(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!vs(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!vs(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Em(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ol(e,t){const n=Em(e);return Math.round(t*n)/n}function wa(e){const t=u.useRef(e);return Uo(()=>{t.current=e}),t}function G3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:a}={},transform:i=!0,whileElementsMounted:c,open:l}=e,[d,p]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=u.useState(r);vs(m,r)||h(r);const[g,f]=u.useState(null),[C,E]=u.useState(null),v=u.useCallback(X=>{X!==x.current&&(x.current=X,f(X))},[]),y=u.useCallback(X=>{X!==B.current&&(B.current=X,E(X))},[]),b=s||g,A=a||C,x=u.useRef(null),B=u.useRef(null),S=u.useRef(d),O=c!=null,R=wa(c),_=wa(o),j=wa(l),H=u.useCallback(()=>{if(!x.current||!B.current)return;const X={placement:t,strategy:n,middleware:m};_.current&&(X.platform=_.current),Dm(x.current,B.current,X).then(V=>{const J={...V,isPositioned:j.current!==!1};k.current&&!vs(S.current,J)&&(S.current=J,sn.flushSync(()=>{p(J)}))})},[m,t,n,_,j]);Uo(()=>{l===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(X=>({...X,isPositioned:!1})))},[l]);const k=u.useRef(!1);Uo(()=>(k.current=!0,()=>{k.current=!1}),[]),Uo(()=>{if(b&&(x.current=b),A&&(B.current=A),b&&A){if(R.current)return R.current(b,A,H);H()}},[b,A,H,R,O]);const P=u.useMemo(()=>({reference:x,floating:B,setReference:v,setFloating:y}),[v,y]),G=u.useMemo(()=>({reference:b,floating:A}),[b,A]),N=u.useMemo(()=>{const X={position:n,left:0,top:0};if(!G.floating)return X;const V=Ol(G.floating,d.x),J=Ol(G.floating,d.y);return i?{...X,transform:"translate("+V+"px, "+J+"px)",...Em(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:J}},[n,i,G.floating,d.x,d.y]);return u.useMemo(()=>({...d,update:H,refs:P,elements:G,floatingStyles:N}),[d,H,P,G,N])}const q3=(e,t)=>({...mm(e),options:[e,t]}),Z3=(e,t)=>({...Cm(e),options:[e,t]}),Y3=(e,t)=>({...hm(e),options:[e,t]}),X3=(e,t)=>({...gm(e),options:[e,t]}),J3=(e,t)=>({...vm(e),options:[e,t]});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Fl(e){return Object.prototype.toString.call(e)==="[object Object]"}function Q3(e){var t,n;return Fl(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(Fl(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}var ex={isHistory(e){return Q3(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||gn.isOperationList(e.redos[0].operations))&&(e.undos.length===0||gn.isOperationList(e.undos[0].operations))}},ba=new WeakMap,ya=new WeakMap,tr={isHistoryEditor(e){return ex.isHistory(e.history)&&D.isEditor(e)},isMerging(e){return ya.get(e)},isSaving(e){return ba.get(e)},redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=tr.isMerging(e);ya.set(e,!1),t(),ya.set(e,n)},withoutSaving(e,t){var n=tr.isSaving(e);ba.set(e,!1),t(),ba.set(e,n)}},tx=e=>{var t=e,{apply:n}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:r}=t,{redos:o}=r;if(o.length>0){var s=o[o.length-1];s.selectionBefore&&q.setSelection(t,s.selectionBefore),tr.withoutSaving(t,()=>{D.withoutNormalizing(t,()=>{for(var a of s.operations)t.apply(a)})}),r.redos.pop(),t.writeHistory("undos",s)}},t.undo=()=>{var{history:r}=t,{undos:o}=r;if(o.length>0){var s=o[o.length-1];tr.withoutSaving(t,()=>{D.withoutNormalizing(t,()=>{var a=s.operations.map(gn.inverse).reverse();for(var i of a)t.apply(i);s.selectionBefore&&q.setSelection(t,s.selectionBefore)})}),t.writeHistory("redos",s),r.undos.pop()}},t.apply=r=>{var{operations:o,history:s}=t,{undos:a}=s,i=a[a.length-1],c=i&&i.operations[i.operations.length-1],l=tr.isSaving(t),d=tr.isMerging(t);if(l==null&&(l=rx(r)),l){if(d==null&&(i==null?d=!1:o.length!==0?d=!0:d=nx(r,c)),i&&d)i.operations.push(r);else{var p={operations:[r],selectionBefore:t.selection};t.writeHistory("undos",p)}for(;a.length>100;)a.shift();s.redos=[]}n(r)},t.writeHistory=(r,o)=>{t.history[r].push(o)},t},nx=(e,t)=>!!(t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&I.equals(e.path,t.path)||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&I.equals(e.path,t.path)),rx=(e,t)=>e.type!=="set_selection",ox=ix,wm="---",bm="A-Za-z--------",sx=new RegExp("^[^"+bm+"]*["+wm+"]"),ax=new RegExp("^[^"+wm+"]*["+bm+"]");function ix(e){return e=String(e||""),sx.test(e)?"rtl":ax.test(e)?"ltr":"neutral"}const ym=Q0(ox),Il=e=>typeof e=="object"&&e!=null&&e.nodeType===1,$l=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",xa=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return $l(n.overflowY,t)||$l(n.overflowX,t)||(r=>{const o=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},Oo=(e,t,n,r,o,s,a,i)=>s<e&&a>t||s>e&&a<t?0:s<=e&&i<=n||a>=t&&i>=n?s-e-r:a>t&&i<n||s<e&&i>n?a-t+o:0,ux=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Rl=(e,t)=>{var n,r,o,s;if(typeof document>"u")return[];const{scrollMode:a,block:i,inline:c,boundary:l,skipOverflowHiddenElements:d}=t,p=typeof l=="function"?l:G=>G!==l;if(!Il(e))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,h=[];let g=e;for(;Il(g)&&p(g);){if(g=ux(g),g===m){h.push(g);break}g!=null&&g===document.body&&xa(g)&&!xa(document.documentElement)||g!=null&&xa(g,d)&&h.push(g)}const f=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,C=(s=(o=window.visualViewport)==null?void 0:o.height)!=null?s:innerHeight,{scrollX:E,scrollY:v}=window,{height:y,width:b,top:A,right:x,bottom:B,left:S}=e.getBoundingClientRect(),{top:O,right:R,bottom:_,left:j}=(G=>{const N=window.getComputedStyle(G);return{top:parseFloat(N.scrollMarginTop)||0,right:parseFloat(N.scrollMarginRight)||0,bottom:parseFloat(N.scrollMarginBottom)||0,left:parseFloat(N.scrollMarginLeft)||0}})(e);let H=i==="start"||i==="nearest"?A-O:i==="end"?B+_:A+y/2-O+_,k=c==="center"?S+b/2-j+R:c==="end"?x+R:S-j;const P=[];for(let G=0;G<h.length;G++){const N=h[G],{height:X,width:V,top:J,right:re,bottom:K,left:Q}=N.getBoundingClientRect();if(a==="if-needed"&&A>=0&&S>=0&&B<=C&&x<=f&&A>=J&&B<=K&&S>=Q&&x<=re)return P;const F=getComputedStyle(N),L=parseInt(F.borderLeftWidth,10),U=parseInt(F.borderTopWidth,10),M=parseInt(F.borderRightWidth,10),W=parseInt(F.borderBottomWidth,10);let Z=0,ne=0;const pe="offsetWidth"in N?N.offsetWidth-N.clientWidth-L-M:0,ce="offsetHeight"in N?N.offsetHeight-N.clientHeight-U-W:0,De="offsetWidth"in N?N.offsetWidth===0?0:V/N.offsetWidth:0,he="offsetHeight"in N?N.offsetHeight===0?0:X/N.offsetHeight:0;if(m===N)Z=i==="start"?H:i==="end"?H-C:i==="nearest"?Oo(v,v+C,C,U,W,v+H,v+H+y,y):H-C/2,ne=c==="start"?k:c==="center"?k-f/2:c==="end"?k-f:Oo(E,E+f,f,L,M,E+k,E+k+b,b),Z=Math.max(0,Z+v),ne=Math.max(0,ne+E);else{Z=i==="start"?H-J-U:i==="end"?H-K+W+ce:i==="nearest"?Oo(J,K,X,U,W+ce,H,H+y,y):H-(J+X/2)+ce/2,ne=c==="start"?k-Q-L:c==="center"?k-(Q+V/2)+pe/2:c==="end"?k-re+M+pe:Oo(Q,re,V,L,M+pe,k,k+b,b);const{scrollLeft:oe,scrollTop:de}=N;Z=he===0?0:Math.max(0,Math.min(de+Z/he,N.scrollHeight-X/he+ce)),ne=De===0?0:Math.max(0,Math.min(oe+ne/De,N.scrollWidth-V/De+pe)),H+=de-Z,k+=oe-ne}P.push({el:N,top:Z,left:ne})}return P},cx=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function lx(e,t){if(!e.isConnected||!(o=>{let s=o;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;const n=(o=>{const s=window.getComputedStyle(o);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(Rl(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:s,left:a}of Rl(e,cx(t))){const i=s-n.top+n.bottom,c=a-n.left+n.right;o.scroll({top:i,left:c,behavior:r})}}var Nn=[],fx=function(){return Nn.some(function(e){return e.activeTargets.length>0})},dx=function(){return Nn.some(function(e){return e.skippedTargets.length>0})},Tl="ResizeObserver loop completed with undelivered notifications.",px=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Tl}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Tl),window.dispatchEvent(e)},Zr;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Zr||(Zr={}));var Ln=function(e){return Object.freeze(e)},mx=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Ln(this)}return e}(),xm=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ln(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,s=t.right,a=t.bottom,i=t.left,c=t.width,l=t.height;return{x:n,y:r,top:o,right:s,bottom:a,left:i,width:c,height:l}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Pu=function(e){return e instanceof SVGElement&&"getBBox"in e},Am=function(e){if(Pu(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,s=o.offsetWidth,a=o.offsetHeight;return!(s||a||e.getClientRects().length)},Pl=function(e){var t;if(e instanceof Element)return!0;var n=(t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},hx=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Tr=typeof window<"u"?window:{},Fo=new WeakMap,jl=/auto|scroll/,gx=/^tb|vertical/,vx=/msie|trident/i.test(Tr.navigator&&Tr.navigator.userAgent),zt=function(e){return parseFloat(e||"0")},sr=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new mx((n?t:e)||0,(n?e:t)||0)},kl=Ln({devicePixelContentBoxSize:sr(),borderBoxSize:sr(),contentBoxSize:sr(),contentRect:new xm(0,0,0,0)}),Bm=function(e,t){if(t===void 0&&(t=!1),Fo.has(e)&&!t)return Fo.get(e);if(Am(e))return Fo.set(e,kl),kl;var n=getComputedStyle(e),r=Pu(e)&&e.ownerSVGElement&&e.getBBox(),o=!vx&&n.boxSizing==="border-box",s=gx.test(n.writingMode||""),a=!r&&jl.test(n.overflowY||""),i=!r&&jl.test(n.overflowX||""),c=r?0:zt(n.paddingTop),l=r?0:zt(n.paddingRight),d=r?0:zt(n.paddingBottom),p=r?0:zt(n.paddingLeft),m=r?0:zt(n.borderTopWidth),h=r?0:zt(n.borderRightWidth),g=r?0:zt(n.borderBottomWidth),f=r?0:zt(n.borderLeftWidth),C=p+l,E=c+d,v=f+h,y=m+g,b=i?e.offsetHeight-y-e.clientHeight:0,A=a?e.offsetWidth-v-e.clientWidth:0,x=o?C+v:0,B=o?E+y:0,S=r?r.width:zt(n.width)-x-A,O=r?r.height:zt(n.height)-B-b,R=S+C+A+v,_=O+E+b+y,j=Ln({devicePixelContentBoxSize:sr(Math.round(S*devicePixelRatio),Math.round(O*devicePixelRatio),s),borderBoxSize:sr(R,_,s),contentBoxSize:sr(S,O,s),contentRect:new xm(p,c,S,O)});return Fo.set(e,j),j},Sm=function(e,t,n){var r=Bm(e,n),o=r.borderBoxSize,s=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case Zr.DEVICE_PIXEL_CONTENT_BOX:return a;case Zr.BORDER_BOX:return o;default:return s}},Cx=function(){function e(t){var n=Bm(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Ln([n.borderBoxSize]),this.contentBoxSize=Ln([n.contentBoxSize]),this.devicePixelContentBoxSize=Ln([n.devicePixelContentBoxSize])}return e}(),Om=function(e){if(Am(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Dx=function(){var e=1/0,t=[];Nn.forEach(function(a){if(a.activeTargets.length!==0){var i=[];a.activeTargets.forEach(function(l){var d=new Cx(l.target),p=Om(l.target);i.push(d),l.lastReportedSize=Sm(l.target,l.observedBox),p<e&&(e=p)}),t.push(function(){a.callback.call(a.observer,i,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},Ml=function(e){Nn.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(Om(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},Ex=function(){var e=0;for(Ml(e);fx();)e=Dx(),Ml(e);return dx()&&px(),e>0},Aa,Fm=[],wx=function(){return Fm.splice(0).forEach(function(e){return e()})},bx=function(e){if(!Aa){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return wx()}).observe(n,r),Aa=function(){n.textContent="".concat(t?t--:t++)}}Fm.push(e),Aa()},yx=function(e){bx(function(){requestAnimationFrame(e)})},Ko=0,xx=function(){return!!Ko},Ax=250,Bx={attributes:!0,characterData:!0,childList:!0,subtree:!0},Nl=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Ll=function(e){return e===void 0&&(e=0),Date.now()+e},Ba=!1,Sx=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=Ax),!Ba){Ba=!0;var r=Ll(t);yx(function(){var o=!1;try{o=Ex()}finally{if(Ba=!1,t=r-Ll(),!xx())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,Bx)};document.body?n():Tr.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Nl.forEach(function(n){return Tr.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Nl.forEach(function(n){return Tr.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),gi=new Sx,_l=function(e){!Ko&&e>0&&gi.start(),Ko+=e,!Ko&&gi.stop()},Ox=function(e){return!Pu(e)&&!hx(e)&&getComputedStyle(e).display==="inline"},Fx=function(){function e(t,n){this.target=t,this.observedBox=n||Zr.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Sm(this.target,this.observedBox,!0);return Ox(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Ix=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),Io=new WeakMap,zl=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},$o=function(){function e(){}return e.connect=function(t,n){var r=new Ix(t,n);Io.set(t,r)},e.observe=function(t,n,r){var o=Io.get(t),s=o.observationTargets.length===0;zl(o.observationTargets,n)<0&&(s&&Nn.push(o),o.observationTargets.push(new Fx(n,r&&r.box)),_l(1),gi.schedule())},e.unobserve=function(t,n){var r=Io.get(t),o=zl(r.observationTargets,n),s=r.observationTargets.length===1;o>=0&&(s&&Nn.splice(Nn.indexOf(r),1),r.observationTargets.splice(o,1),_l(-1))},e.disconnect=function(t){var n=this,r=Io.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),$x=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");$o.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Pl(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");$o.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Pl(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");$o.unobserve(this,t)},e.prototype.disconnect=function(){$o.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),un={};Object.defineProperty(un,"__esModule",{value:!0});var Rx=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Sa={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Im={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Rx?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},ju={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Ro=1;Ro<20;Ro++)ju["f"+Ro]=111+Ro;function Ks(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(a){return $m(a,t)}),o=function(i){return r.some(function(c){return Rm(c,i)})},s=n==null?o:o(n);return s}function Tx(e,t){return Ks(e,t)}function Px(e,t){return Ks(e,{byKey:!0},t)}function $m(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),s=o.length;for(var a in Sa)r[Sa[a]]=!1;var i=!0,c=!1,l=void 0;try{for(var d=o[Symbol.iterator](),p;!(i=(p=d.next()).done);i=!0){var m=p.value,h=m.endsWith("?")&&m.length>1;h&&(m=m.slice(0,-1));var g=ku(m),f=Sa[g];if(m.length>1&&!f&&!Im[m]&&!ju[g])throw new TypeError('Unknown modifier: "'+m+'"');(s===1||!f)&&(n?r.key=g:r.which=Tm(m)),f&&(r[f]=h?null:!0)}}catch(C){c=!0,l=C}finally{try{!i&&d.return&&d.return()}finally{if(c)throw l}}return r}function Rm(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function Tm(e){e=ku(e);var t=ju[e]||e.toUpperCase().charCodeAt(0);return t}function ku(e){return e=e.toLowerCase(),e=Im[e]||e,e}un.default=Ks;var Oa=un.isHotkey=Ks;un.isCodeHotkey=Tx;un.isKeyHotkey=Px;un.parseHotkey=$m;un.compareHotkey=Rm;un.toKeyCode=Tm;un.toKeyName=ku;function jx(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function dr(e,t){if(e==null)return{};var n=jx(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yr(e){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}function kx(e,t){if(Yr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mx(e){var t=kx(e,"string");return Yr(t)==="symbol"?t:String(t)}function Pt(e,t,n){return t=Mx(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mu=u.createContext(null),cn=()=>{var e=u.useContext(Mu);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},Pm=parseInt($.version.split(".")[0],10),Nx=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Hl=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),lt=typeof navigator<"u"&&/Android/.test(navigator.userAgent),nr=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Or=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),Lx=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),jm=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),_x=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),zx=lt&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Hx=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),Vx=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),Wx=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),Go=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fn=(!_x||!zx)&&!Lx&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",Nu=new WeakMap,Lu=new WeakMap,km=new WeakMap,qo=new WeakMap,vi=new WeakMap,Xr=new WeakMap,_n=new WeakMap,Cs=new WeakMap,Gs=new WeakMap,Ci=new WeakMap,vn=new WeakMap,jn=new WeakMap,Pr=new WeakMap,Di=new WeakMap,_u=new WeakMap,Mt=new WeakMap,en=new WeakMap,Et=new WeakMap,mn=new WeakMap,hn=new WeakMap,Mm=new WeakMap,pr=Symbol("placeholder"),Nm=Symbol("mark-placeholder"),Ux=globalThis.Text,zu=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,Kx=e=>An(e)&&e.nodeType===8,It=e=>An(e)&&e.nodeType===1,An=e=>{var t=zu(e);return!!t&&e instanceof t.Node},Ei=e=>{var t=e&&e.anchorNode&&zu(e.anchorNode);return!!t&&e instanceof t.Selection},Lm=e=>An(e)&&e.nodeType===3,Gx=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,qx=e=>{var[t,n]=e;if(It(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=_m(t,o,r?"backward":"forward"),r=o<n;It(t)&&t.childNodes.length;){var s=r?t.childNodes.length-1:0;t=Yx(t,s,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},Zx=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},_m=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],s=t,a=!1,i=!1;(Kx(o)||It(o)&&o.childNodes.length===0||It(o)&&o.getAttribute("contenteditable")==="false")&&!(a&&i);){if(s>=r.length){a=!0,s=t-1,n="backward";continue}if(s<0){i=!0,s=t+1,n="forward";continue}o=r[s],t=s,s+=n==="forward"?1:-1}return[o,t]},Yx=(e,t,n)=>{var[r]=_m(e,t,n);return r},zm=e=>{var t="";if(Lm(e)&&e.nodeValue)return e.nodeValue;if(It(e)){for(var n of Array.from(e.childNodes))t+=zm(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},Xx=/data-slate-fragment="(.+?)"/m,Jx=e=>{var t=e.getData("text/html"),[,n]=t.match(Xx)||[];return n},Hu=(e,t,n)=>{var{target:r}=t;if(It(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=Y.getWindow(e);if(o.contains(r))return Y.hasDOMNode(e,r,{editable:!0});var s=n.find(a=>{var{addedNodes:i,removedNodes:c}=a;for(var l of i)if(l===r||l.contains(r))return!0;for(var d of c)if(d===r||d.contains(r))return!0});return!s||s===t?!1:Hu(e,s,n)},Qx=0;class e2{constructor(){Pt(this,"id",void 0),this.id="".concat(Qx++)}}var Y={androidPendingDiffs:e=>Et.get(e),androidScheduleFlush:e=>{var t;(t=_u.get(e))===null||t===void 0||t()},blur:e=>{var t=Y.toDOMNode(e,e),n=Y.findDocumentOrShadowRoot(e);vn.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=Y.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&q.deselect(e)},findDocumentOrShadowRoot:e=>{var t=Y.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var s=Y.toSlateNode(e,t.target),a=Y.findPath(e,s);if(fe.isElement(s)&&D.isVoid(e,s)){var i=o.getBoundingClientRect(),c=e.isInline(s)?n-i.left<i.left+i.width-n:r-i.top<i.top+i.height-r,l=D.point(e,a,{edge:c?"start":"end"}),d=c?D.before(e,l):D.after(e,l);if(d){var p=D.range(e,d);return p}}var m,{document:h}=Y.getWindow(e);if(h.caretRangeFromPoint)m=h.caretRangeFromPoint(n,r);else{var g=h.caretPositionFromPoint(n,r);g&&(m=h.createRange(),m.setStart(g.offsetNode,g.offset),m.setEnd(g.offsetNode,g.offset))}if(!m)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var f=Y.toSlateRange(e,m,{exactMatch:!1,suppressThrow:!1});return f},findKey:(e,t)=>{var n=Cs.get(t);return n||(n=new e2,Cs.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=Lu.get(r);if(o==null){if(D.isEditor(r))return n;break}var s=Nu.get(r);if(s==null)break;n.unshift(s),r=o}throw new Error("Unable to find the path for Slate node: ".concat(st.stringify(t)))},focus:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!vn.get(t)){if(n.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{Y.focus(t,{retries:n.retries-1})},10);return}var r=Y.toDOMNode(t,t),o=Y.findDocumentOrShadowRoot(t);if(o.activeElement!==r){if(t.selection&&o instanceof Document){var s=o.getSelection(),a=Y.toDOMRange(t,t.selection);s?.removeAllRanges(),s?.addRange(a)}t.selection||(q.select(t,D.start(t,[])),t.onChange()),vn.set(t,!0),r.focus({preventScroll:!0})}}},getWindow:e=>{var t=km.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,s=Y.toDOMNode(t,t),a;try{a=It(n)?n:n.parentElement}catch(i){if(i instanceof Error&&!i.message.includes('Permission denied to access property "nodeType"'))throw i}return a?a.closest("[data-slate-editor]")===s&&(!o||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===s||!!a.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>An(t)&&Y.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return D.hasPath(e,n.path)&&D.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>Y.hasEditableTarget(e,t)||Y.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>An(t)&&Y.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!jn.get(e),isFocused:e=>!!vn.get(e),isReadOnly:e=>!!Ci.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(Ci.get(e))return!1;var n=Y.hasTarget(e,t)&&Y.toSlateNode(e,t);return fe.isElement(n)&&D.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=Gs.get(e),r=D.isEditor(t)?qo.get(e):n?.get(Y.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(st.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=D.node(e,t.path),r=Y.toDOMNode(e,n),o;D.void(e,{at:t})&&(t={path:t.path,offset:0});for(var s="[data-slate-string], [data-slate-zero-width]",a=Array.from(r.querySelectorAll(s)),i=0,c=0;c<a.length;c++){var l=a[c],d=l.childNodes[0];if(!(d==null||d.textContent==null)){var{length:p}=d.textContent,m=l.getAttribute("data-slate-length"),h=m==null?p:parseInt(m,10),g=i+h,f=a[c+1];if(t.offset===g&&f!==null&&f!==void 0&&f.hasAttribute("data-slate-mark-placeholder")){var C,E=f.childNodes[0];o=[E instanceof Ux?E:f,(C=f.textContent)!==null&&C!==void 0&&C.startsWith("\uFEFF")?1:0];break}if(t.offset<=g){var v=Math.min(p,Math.max(0,t.offset-i));o=[d,v];break}i=g}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(st.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=z.isBackward(t),s=Y.toDOMPoint(e,n),a=z.isCollapsed(t)?s:Y.toDOMPoint(e,r),i=Y.getWindow(e),c=i.document.createRange(),[l,d]=o?a:s,[p,m]=o?s:a,h=It(l)?l:l.parentElement,g=!!h.getAttribute("data-slate-zero-width"),f=It(p)?p:p.parentElement,C=!!f.getAttribute("data-slate-zero-width");return c.setStart(l,g?1:d),c.setEnd(p,C?1:m),c},toSlateNode:(e,t)=>{var n=It(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Xr.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[s,a]=r?t:qx(t),i=s.parentNode,c=null,l=0;if(i){var d,p,m=Y.toDOMNode(e,e),h=i.closest('[data-slate-void="true"]'),g=h&&m.contains(h)?h:null,f=i.closest("[data-slate-leaf]"),C=null;if(f){if(c=f.closest('[data-slate-node="text"]'),c){var E=Y.getWindow(e),v=E.document.createRange();v.setStart(c,0),v.setEnd(s,a);var y=v.cloneContents(),b=[...Array.prototype.slice.call(y.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(y.querySelectorAll("[contenteditable=false]"))];b.forEach(k=>{if(lt&&!r&&k.hasAttribute("data-slate-zero-width")&&k.textContent.length>0&&k.textContext!=="\uFEFF"){k.textContent.startsWith("\uFEFF")&&(k.textContent=k.textContent.slice(1));return}k.parentNode.removeChild(k)}),l=y.textContent.length,C=c}}else if(g){for(var A=g.querySelectorAll("[data-slate-leaf]"),x=0;x<A.length;x++){var B=A[x];if(Y.hasDOMNode(e,B)){f=B;break}}f?(c=f.closest('[data-slate-node="text"]'),C=f,l=C.textContent.length,C.querySelectorAll("[data-slate-zero-width]").forEach(k=>{l-=k.textContent.length})):l=1}C&&l===C.textContent.length&&lt&&C.getAttribute("data-slate-zero-width")==="z"&&(d=C.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(i.hasAttribute("data-slate-zero-width")||nr&&(p=C.textContent)!==null&&p!==void 0&&p.endsWith(`

`))&&l--}if(lt&&!c&&!r){var S=i.hasAttribute("data-slate-node")?i:i.closest("[data-slate-node]");if(S&&Y.hasDOMNode(e,S,{editable:!0})){var O=Y.toSlateNode(e,S),{path:R,offset:_}=D.start(e,Y.findPath(e,O));return S.querySelector("[data-slate-leaf]")||(_=a),{path:R,offset:_}}}if(!c){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var j=Y.toSlateNode(e,c),H=Y.findPath(e,j);return{path:H,offset:l}},toSlateRange:(e,t,n)=>{var r,{exactMatch:o,suppressThrow:s}=n,a=Ei(t)?t.anchorNode:t.startContainer,i,c,l,d,p;if(a)if(Ei(t)){if(nr&&t.rangeCount>1){l=t.focusNode;var m=t.getRangeAt(0),h=t.getRangeAt(t.rangeCount-1);if(l instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement&&h.startContainer instanceof HTMLTableRowElement){let x=function(B){return B.childElementCount>0?x(B.children[0]):B};var g=m.startContainer,f=h.startContainer,C=x(g.children[m.startOffset]),E=x(f.children[h.startOffset]);d=0,E.childNodes.length>0?i=E.childNodes[0]:i=E,C.childNodes.length>0?l=C.childNodes[0]:l=C,E instanceof HTMLElement?c=E.innerHTML.length:c=0}else m.startContainer===l?(i=h.endContainer,c=h.endOffset,d=m.startOffset):(i=m.startContainer,c=m.endOffset,d=h.startOffset)}else i=t.anchorNode,c=t.anchorOffset,l=t.focusNode,d=t.focusOffset;jm&&Zx(i)||nr?p=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:p=t.isCollapsed}else i=t.startContainer,c=t.startOffset,l=t.endContainer,d=t.endOffset,p=t.collapsed;if(i==null||l==null||c==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if(nr&&(r=l.textContent)!==null&&r!==void 0&&r.endsWith(`

`)&&d===l.textContent.length&&d--,"getAttribute"in l&&l.getAttribute("contenteditable")==="false"&&l.getAttribute("data-slate-void")!=="true"){var v;l=i,d=((v=i.textContent)===null||v===void 0?void 0:v.length)||0}var y=Y.toSlatePoint(e,[i,c],{exactMatch:o,suppressThrow:s});if(!y)return null;var b=p?y:Y.toSlatePoint(e,[l,d],{exactMatch:o,suppressThrow:s});if(!b)return null;var A={anchor:y,focus:b};return z.isExpanded(A)&&z.isForward(A)&&It(l)&&D.void(e,{at:A.focus,mode:"highest"})&&(A=D.unhangRange(e,A,{voids:!0})),A}};function t2(e,t){var{path:n,diff:r}=t;if(!D.hasPath(e,n))return!1;var o=te.get(e,n);if(!le.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var s=I.next(n);if(!D.hasPath(e,s))return!1;var a=te.get(e,s);return le.isText(a)&&a.text.startsWith(r.text)}function Hm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,s)=>o.slice(0,s.start)+s.text+o.slice(s.end),e)}function n2(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function r2(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function Vm(e,t){var{start:n,end:r,text:o}=t,s=e.slice(n,r),a=n2(s,o),i=Math.min(s.length-a,o.length-a),c=r2(s,o,i),l={start:n+a,end:r-c,text:o.slice(a,o.length-c)};return l.start===l.end&&l.text.length===0?null:l}function o2(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),s=Hm(e,t,n),a=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),i=s.slice(r,a),c=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return Vm(e,{start:r,end:c,text:i})}function s2(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function wi(e,t){var{path:n,offset:r}=t;if(!D.hasPath(e,n))return null;var o=te.get(e,n);if(!le.isText(o))return null;var s=D.above(e,{match:i=>fe.isElement(i)&&D.isBlock(e,i),at:n});if(!s)return null;for(;r>o.text.length;){var a=D.next(e,{at:n,match:le.isText});if(!a||!I.isDescendant(a[1],s[1]))return null;r-=o.text.length,o=a[0],n=a[1]}return{path:n,offset:r}}function Vl(e,t){var n=wi(e,t.anchor);if(!n)return null;if(z.isCollapsed(t))return{anchor:n,focus:n};var r=wi(e,t.focus);return r?{anchor:n,focus:r}:null}function bi(e,t,n){var r=Et.get(e),o=r?.find(d=>{var{path:p}=d;return I.equals(p,t.path)});if(!o||t.offset<=o.diff.start)return Oe.transform(t,n,{affinity:"backward"});var{diff:s}=o;if(t.offset<=s.start+s.text.length){var a={path:t.path,offset:s.start},i=Oe.transform(a,n,{affinity:"backward"});return i?{path:i.path,offset:i.offset+t.offset-s.start}:null}var c={path:t.path,offset:t.offset-s.text.length+s.end-s.start},l=Oe.transform(c,n,{affinity:"backward"});return l?n.type==="split_node"&&I.equals(n.path,t.path)&&c.offset<n.position&&s.start<n.position?l:{path:l.path,offset:l.offset+s.text.length-s.end+s.start}:null}function Wl(e,t,n){var r=bi(e,t.anchor,n);if(!r)return null;if(z.isCollapsed(t))return{anchor:r,focus:r};var o=bi(e,t.focus,n);return o?{anchor:r,focus:o}:null}function a2(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!I.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!I.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!I.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:I.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:I.transform(n,t,{affinity:"forward"})};case"merge_node":return I.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:I.transform(n,t)}:{diff:r,id:o,path:I.transform(n,t)}}var s=I.transform(n,t);return s?{diff:r,path:s,id:o}:null}function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ul(Object(n),!0).forEach(function(r){Pt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var i2=25,u2=200,c2=function(){},l2=e=>e?.constructor.name==="DataTransfer";function f2(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,s=null,a=null,i=null,c=0,l=!1,d=()=>{var j=hn.get(t);if(hn.delete(t),j){var{selection:H}=t,k=Vl(t,j);k&&(!H||!z.equals(k,H))&&q.select(t,k)}},p=()=>{var j=mn.get(t);if(mn.delete(t),!!j){if(j.at){var H=Oe.isPoint(j.at)?wi(t,j.at):Vl(t,j.at);if(!H)return;var k=D.range(t,H);(!t.selection||!z.equals(t.selection,k))&&q.select(t,H)}j.run()}},m=()=>{if(a&&(clearTimeout(a),a=null),i&&(clearTimeout(i),i=null),!b()&&!y()){d();return}o||(o=!0,setTimeout(()=>o=!1)),y()&&(o="action");var j=t.selection&&D.rangeRef(t,t.selection,{affinity:"forward"});en.set(t,t.marks),c2("flush",mn.get(t),Et.get(t));for(var H=b(),k;k=(P=Et.get(t))===null||P===void 0?void 0:P[0];){var P,G,N=Mt.get(t);N!==void 0&&(Mt.delete(t),t.marks=N),N&&l===!1&&(l=null);var X=s2(k);(!t.selection||!z.equals(t.selection,X))&&q.select(t,X),k.diff.text?D.insertText(t,k.diff.text):D.deleteFragment(t),Et.set(t,(G=Et.get(t))===null||G===void 0?void 0:G.filter(re=>{var{id:K}=re;return K!==k.id})),t2(t,k)||(H=!1,mn.delete(t),en.delete(t),o="action",hn.delete(t),n.cancel(),r.cancel(),j?.unref())}var V=j?.unref();if(V&&!hn.get(t)&&(!t.selection||!z.equals(V,t.selection))&&q.select(t,V),y()){p();return}H&&n(),n.flush(),r.flush(),d();var J=en.get(t);en.delete(t),J!==void 0&&(t.marks=J,t.onChange())},h=j=>{s&&clearTimeout(s),s=setTimeout(()=>{jn.set(t,!1),m()},i2)},g=j=>{jn.set(t,!0),s&&(clearTimeout(s),s=null)},f=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,k=vi.get(t);if(k){if(b()||H){k.style.display="none";return}k.style.removeProperty("display")}},C=(j,H)=>{var k,P=(k=Et.get(t))!==null&&k!==void 0?k:[];Et.set(t,P);var G=te.leaf(t,j),N=P.findIndex(J=>I.equals(J.path,j));if(N<0){var X=Vm(G.text,H);X&&P.push({path:j,diff:H,id:c++}),f();return}var V=o2(G.text,P[N].diff,H);if(!V){P.splice(N,1),f();return}P[N]=To(To({},P[N]),{},{diff:V})},E=function(H){var{at:k}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l=!1,hn.delete(t),n.cancel(),r.cancel(),y()&&m(),mn.set(t,{at:k,run:H}),i=setTimeout(m)},v=j=>{var H;a&&(clearTimeout(a),a=null);var{inputType:k}=j,P=null,G=j.dataTransfer||j.data||void 0;l!==!1&&k!=="insertText"&&k!=="insertCompositionText"&&(l=!1);var[N]=j.getTargetRanges();N&&(P=Y.toSlateRange(t,N,{exactMatch:!1,suppressThrow:!0}));var X=Y.getWindow(t),V=X.getSelection();if(!P&&V&&(N=V,P=Y.toSlateRange(t,V,{exactMatch:!1,suppressThrow:!0})),P=(H=P)!==null&&H!==void 0?H:t.selection,!!P){var J=!0;if(k.startsWith("delete")){if(z.isExpanded(P)){var[re,K]=z.edges(P),Q=te.leaf(t,re.path);if(Q.text.length===re.offset&&K.offset===0){var F=D.next(t,{at:re.path,match:le.isText});F&&I.equals(F[1],K.path)&&(P={anchor:K,focus:K})}}var L=k.endsWith("Backward")?"backward":"forward",[U,M]=z.edges(P),[W,Z]=D.leaf(t,U.path),ne={text:"",start:U.offset,end:M.offset},pe=Et.get(t),ce=pe?.find(Ye=>I.equals(Ye.path,Z)),De=ce?[ce.diff,ne]:[ne],he=Hm(W.text,...De);if(he.length===0&&(J=!1),z.isExpanded(P)){if(J&&I.equals(P.anchor.path,P.focus.path)){var oe={path:P.anchor.path,offset:U.offset},de=D.range(t,oe,oe);return B(de),C(P.anchor.path,{text:"",end:M.offset,start:U.offset})}return E(()=>D.deleteFragment(t,{direction:L}),{at:P})}}switch(k){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return E(()=>D.deleteFragment(t),{at:P});case"deleteContent":case"deleteContentForward":{var{anchor:ge}=P;if(J&&z.isCollapsed(P)){var Me=te.leaf(t,ge.path);if(ge.offset<Me.text.length)return C(ge.path,{text:"",start:ge.offset,end:ge.offset+1})}return E(()=>D.deleteForward(t),{at:P})}case"deleteContentBackward":{var Pe,{anchor:_e}=P,Te=Ei(N)?N.isCollapsed:!!((Pe=N)!==null&&Pe!==void 0&&Pe.collapsed);return J&&Te&&z.isCollapsed(P)&&_e.offset>0?C(_e.path,{text:"",start:_e.offset-1,end:_e.offset}):E(()=>D.deleteBackward(t),{at:P})}case"deleteEntireSoftLine":return E(()=>{D.deleteBackward(t,{unit:"line"}),D.deleteForward(t,{unit:"line"})},{at:P});case"deleteHardLineBackward":return E(()=>D.deleteBackward(t,{unit:"block"}),{at:P});case"deleteSoftLineBackward":return E(()=>D.deleteBackward(t,{unit:"line"}),{at:P});case"deleteHardLineForward":return E(()=>D.deleteForward(t,{unit:"block"}),{at:P});case"deleteSoftLineForward":return E(()=>D.deleteForward(t,{unit:"line"}),{at:P});case"deleteWordBackward":return E(()=>D.deleteBackward(t,{unit:"word"}),{at:P});case"deleteWordForward":return E(()=>D.deleteForward(t,{unit:"word"}),{at:P});case"insertLineBreak":return E(()=>D.insertSoftBreak(t),{at:P});case"insertParagraph":return E(()=>D.insertBreak(t),{at:P});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(l2(G))return E(()=>Y.insertData(t,G),{at:P});var Be=G??"";if(Mt.get(t)&&(Be=Be.replace("\uFEFF","")),k==="insertText"&&/.*\n.*\n$/.test(Be)&&(Be=Be.slice(0,-1)),Be.includes(`
`))return E(()=>{var Ye=Be.split(`
`);Ye.forEach((ln,Zn)=>{ln&&D.insertText(t,ln),Zn!==Ye.length-1&&D.insertSoftBreak(t)})},{at:P});if(I.equals(P.anchor.path,P.focus.path)){var[ue,Ce]=z.edges(P),we={start:ue.offset,end:Ce.offset,text:Be};if(Be&&l&&k==="insertCompositionText"){var ke=l.start+l.text.search(/\S|$/),bt=we.start+we.text.search(/\S|$/);bt===ke+1&&we.end===l.start+l.text.length?(we.start-=1,l=null,R()):l=!1}else k==="insertText"?l===null?l=we:l&&z.isCollapsed(P)&&l.end+l.text.length===ue.offset?l=To(To({},l),{},{text:l.text+Be}):l=!1:l=!1;if(J){C(ue.path,we);return}}return E(()=>D.insertText(t,Be),{at:P})}}}},y=()=>!!mn.get(t),b=()=>{var j;return!!((j=Et.get(t))!==null&&j!==void 0&&j.length)},A=()=>y()||b(),x=()=>o,B=j=>{hn.set(t,j),a&&(clearTimeout(a),a=null);var{selection:H}=t;if(j){var k=!H||!I.equals(H.anchor.path,j.anchor.path),P=!H||!I.equals(H.anchor.path.slice(0,-1),j.anchor.path.slice(0,-1));(k&&l||P)&&(l=!1),(k||b())&&(a=setTimeout(m,u2))}},S=()=>{(y()||!b())&&m()},O=j=>{b()||(f(!0),setTimeout(f))},R=()=>{y()||(i=setTimeout(m))},_=j=>{if(!(b()||y())&&j.some(k=>Hu(t,k,j))){var H;(H=Mm.get(t))===null||H===void 0||H()}};return{flush:m,scheduleFlush:R,hasPendingDiffs:b,hasPendingAction:y,hasPendingChanges:A,isFlushing:x,handleUserSelect:B,handleCompositionEnd:h,handleCompositionStart:g,handleDOMBeforeInput:v,handleKeyDown:O,handleDomMutations:_,handleInput:S}}function d2(){var e=u.useRef(!1);return u.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var Jr=Go?u.useLayoutEffect:u.useEffect;function p2(e,t,n){var[r]=u.useState(()=>new MutationObserver(t));Jr(()=>{r.takeRecords()}),u.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var m2=["node"];function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function h2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kl(Object(n),!0).forEach(function(r){Pt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var g2={subtree:!0,childList:!0,characterData:!0},v2=lt?e=>{var{node:t}=e,n=dr(e,m2);if(!lt)return null;var r=cn(),o=d2(),[s]=u.useState(()=>f2(h2({editor:r},n)));return p2(t,s.handleDomMutations,g2),_u.set(r,s.scheduleFlush),o&&s.flush(),s}:()=>null,C2=["anchor","focus"],D2=["anchor","focus"],E2=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),Wm=(e,t)=>{var n=dr(e,C2),r=dr(t,D2);return e[pr]===t[pr]&&E2(n,r)},w2=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!z.equals(r,o)||!Wm(r,o))return!1}return!0},b2=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!Wm(r,o))return!1}return!0};function Gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function y2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gl(Object(n),!0).forEach(function(r){Pt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var x2=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,s=cn(),a=Y.findPath(s,o),i=I.parent(a),c=!!n[Nm];return s.isVoid(r)?$.createElement(Fa,{length:te.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!s.isInline(r)&&D.string(s,i)===""?$.createElement(Fa,{isLineBreak:!0,isMarkPlaceholder:c}):n.text===""?$.createElement(Fa,{isMarkPlaceholder:c}):t&&n.text.slice(-1)===`
`?$.createElement(ql,{isTrailing:!0,text:n.text}):$.createElement(ql,{text:n.text})},ql=e=>{var{text:t,isTrailing:n=!1}=e,r=u.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[s]=u.useState(o);return Jr(()=>{var a=o();r.current&&r.current.textContent!==a&&(r.current.textContent=a)}),$.createElement(A2,{ref:r},s)},A2=u.memo(u.forwardRef((e,t)=>$.createElement("span",{"data-slate-string":!0,ref:t},e.children))),Fa=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),$.createElement("span",y2({},o),!lt||!n?"\uFEFF":null,n?$.createElement("br",null):null)};function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Um(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zl(Object(n),!0).forEach(function(r){Pt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var B2=lt?300:0;function S2(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function Yl(e){e.current&&(clearTimeout(e.current),e.current=null)}var O2=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:s,renderLeaf:a=v=>$.createElement(I2,Um({},v))}=e,i=cn(),c=u.useRef(null),l=u.useRef(null),[d,p]=u.useState(!1),m=u.useRef(null),h=u.useCallback(v=>{if(S2(c,v==null),v==null){var y;vi.delete(i),(y=t.onPlaceholderResize)===null||y===void 0||y.call(t,null)}else{if(vi.set(i,v),!c.current){var b=window.ResizeObserver||$x;c.current=new b(()=>{var A;(A=t.onPlaceholderResize)===null||A===void 0||A.call(t,v)})}c.current.observe(v),l.current=v}},[l,t,i]),g=$.createElement(x2,{isLast:n,leaf:t,parent:o,text:r}),f=!!t[pr];if(u.useEffect(()=>(f?m.current||(m.current=setTimeout(()=>{p(!0),m.current=null},B2)):(Yl(m),p(!1)),()=>Yl(m)),[f,p]),f&&d){var C={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Or?"inherit":void 0},contentEditable:!1,ref:h}};g=$.createElement($.Fragment,null,s(C),g)}var E={"data-slate-leaf":!0};return a({attributes:E,children:g,leaf:t,text:r})},F2=$.memo(O2,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&le.equals(t.leaf,e.leaf)&&t.leaf[pr]===e.leaf[pr]),I2=e=>{var{attributes:t,children:n}=e;return $.createElement("span",Um({},t),n)},$2=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:s,text:a}=e,i=cn(),c=u.useRef(null),l=le.decorations(a,t),d=Y.findKey(i,a),p=[],m=0;m<l.length;m++){var h=l[m];p.push($.createElement(F2,{isLast:n&&m===l.length-1,key:"".concat(d.id,"-").concat(m),renderPlaceholder:o,leaf:h,text:a,parent:r,renderLeaf:s}))}var g=u.useCallback(f=>{var C=Gs.get(i);f?(C?.set(d,f),_n.set(a,f),Xr.set(f,a)):(C?.delete(d),_n.delete(a),c.current&&Xr.delete(c.current)),c.current=f},[c,i,d,a]);return $.createElement("span",{"data-slate-node":"text",ref:g},p)},Km=$.memo($2,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&b2(t.decorations,e.decorations));function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xl(Object(n),!0).forEach(function(r){Pt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var R2=e=>{var{decorations:t,element:n,renderElement:r=v=>$.createElement(P2,yi({},v)),renderPlaceholder:o,renderLeaf:s,selection:a}=e,i=cn(),c=k2(),l=i.isInline(n),d=Y.findKey(i,n),p=u.useCallback(v=>{var y=Gs.get(i);v?(y?.set(d,v),_n.set(n,v),Xr.set(v,n)):(y?.delete(d),_n.delete(n))},[i,d,n]),m=Ym({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:s,selection:a}),h={"data-slate-node":"element",ref:p};if(l&&(h["data-slate-inline"]=!0),!l&&D.hasInlines(i,n)){var g=te.string(n),f=ym(g);f==="rtl"&&(h.dir=f)}if(D.isVoid(i,n)){h["data-slate-void"]=!0,!c&&l&&(h.contentEditable=!1);var C=l?"span":"div",[[E]]=te.texts(n);m=$.createElement(C,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},$.createElement(Km,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:E})),Nu.set(E,0),Lu.set(E,n)}return r({attributes:h,children:m,element:n})},T2=$.memo(R2,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&w2(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&z.equals(e.selection,t.selection))),P2=e=>{var{attributes:t,children:n,element:r}=e,o=cn(),s=o.isInline(r)?"span":"div";return $.createElement(s,yi(yi({},t),{},{style:{position:"relative"}}),n)},Gm=u.createContext(()=>[]),j2=()=>u.useContext(Gm),qm=u.createContext(!1),Zm=()=>u.useContext(qm),Ym=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:s,selection:a}=e,i=j2(),c=cn(),l=Y.findPath(c,n),d=[],p=fe.isElement(n)&&!c.isInline(n)&&D.hasInlines(c,n),m=0;m<n.children.length;m++){var h=l.concat(m),g=n.children[m],f=Y.findKey(c,g),C=D.range(c,h),E=a&&z.intersection(C,a),v=i([g,h]);for(var y of t){var b=z.intersection(y,C);b&&v.push(b)}fe.isElement(g)?d.push($.createElement(qm.Provider,{key:"provider-".concat(f.id),value:!!E},$.createElement(T2,{decorations:v,element:g,key:f.id,renderElement:r,renderPlaceholder:o,renderLeaf:s,selection:E}))):d.push($.createElement(Km,{decorations:v,key:f.id,isLast:p&&m===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:s,text:g})),Nu.set(g,m),Lu.set(g,n)}return d},Xm=u.createContext(!1),k2=()=>u.useContext(Xm),Jm=u.createContext(null),M2=()=>{var e=u.useContext(Jm);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function N2(){var e=cn(),t=u.useRef(!1),n=u.useRef(0),r=u.useCallback(()=>{if(!t.current){t.current=!0;var o=Y.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return u.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var L2=3,_2={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},z2={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},H2={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},We=e=>{var t=_2[e],n=z2[e],r=H2[e],o=t&&Oa(t),s=n&&Oa(n),a=r&&Oa(r);return i=>!!(o&&o(i)||Hl&&s&&s(i)||!Hl&&a&&a(i))},qe={isBold:We("bold"),isCompose:We("compose"),isMoveBackward:We("moveBackward"),isMoveForward:We("moveForward"),isDeleteBackward:We("deleteBackward"),isDeleteForward:We("deleteForward"),isDeleteLineBackward:We("deleteLineBackward"),isDeleteLineForward:We("deleteLineForward"),isDeleteWordBackward:We("deleteWordBackward"),isDeleteWordForward:We("deleteWordForward"),isExtendBackward:We("extendBackward"),isExtendForward:We("extendForward"),isExtendLineBackward:We("extendLineBackward"),isExtendLineForward:We("extendLineForward"),isItalic:We("italic"),isMoveLineBackward:We("moveLineBackward"),isMoveLineForward:We("moveLineForward"),isMoveWordBackward:We("moveWordBackward"),isMoveWordForward:We("moveWordForward"),isRedo:We("redo"),isSoftBreak:We("insertSoftBreak"),isSplitBlock:We("splitBlock"),isTransposeCharacter:We("transposeCharacter"),isUndo:We("undo")},V2=(e,t)=>{var n=[],r=()=>{n=[]},o=a=>{if(t.current){var i=a.filter(c=>Hu(e,c,a));n.push(...i)}};function s(){n.length>0&&(n.reverse().forEach(a=>{a.type!=="characterData"&&(a.removedNodes.forEach(i=>{a.target.insertBefore(i,a.nextSibling)}),a.addedNodes.forEach(i=>{a.target.removeChild(i)}))}),r())}return{registerMutations:o,restoreDOM:s,clear:r}},W2={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class Qm extends u.Component{constructor(){super(...arguments),Pt(this,"context",null),Pt(this,"manager",null),Pt(this,"mutationObserver",null)}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,W2)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=V2(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var s;(s=this.manager)===null||s===void 0||s.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}Pt(Qm,"contextType",Mu);var U2=lt?Qm:e=>{var{children:t}=e;return $.createElement($.Fragment,null,t)},K2=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],G2=["text"];function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jl(Object(n),!0).forEach(function(r){Pt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var q2=e=>$.createElement($.Fragment,null,Ym(e)),Z2=e=>{var t=u.useCallback(F=>$.createElement(Y2,Ht({},F)),[]),{autoFocus:n,decorate:r=X2,onDOMBeforeInput:o,placeholder:s,readOnly:a=!1,renderElement:i,renderLeaf:c,renderPlaceholder:l=t,scrollSelectionIntoView:d=J2,style:p={},as:m="div",disableDefaultStyles:h=!1}=e,g=dr(e,K2),f=M2(),[C,E]=u.useState(!1),v=u.useRef(null),y=u.useRef([]),[b,A]=u.useState(),{onUserInput:x,receivedUserInput:B}=N2(),[,S]=u.useReducer(F=>F+1,0);Mm.set(f,S),Ci.set(f,a);var O=u.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);u.useEffect(()=>{v.current&&n&&v.current.focus()},[n]);var R=u.useRef(),_=u.useMemo(()=>ev(()=>{var F=R.current;if((lt||!Y.isComposing(f))&&(!O.isUpdatingSelection||F!=null&&F.isFlushing())&&!O.isDraggingInternally){var L=Y.findDocumentOrShadowRoot(f),{activeElement:U}=L,M=Y.toDOMNode(f,f),W=L.getSelection();if(U===M?(O.latestElement=U,vn.set(f,!0)):vn.delete(f),!W)return q.deselect(f);var{anchorNode:Z,focusNode:ne}=W,pe=Y.hasEditableTarget(f,Z)||Y.isTargetInsideNonReadonlyVoid(f,Z),ce=Y.hasEditableTarget(f,ne)||Y.isTargetInsideNonReadonlyVoid(f,ne);if(pe&&ce){var De=Y.toSlateRange(f,W,{exactMatch:!1,suppressThrow:!0});De&&(!Y.isComposing(f)&&!(F!=null&&F.hasPendingChanges())&&!(F!=null&&F.isFlushing())?q.select(f,De):F?.handleUserSelect(De))}a&&(!pe||!ce)&&q.deselect(f)}},100),[f,a,O]),j=u.useMemo(()=>Nr(_,0),[_]);R.current=v2({node:v,onDOMSelectionChange:_,scheduleOnDOMSelectionChange:j}),Jr(()=>{var F,L,U;v.current&&(U=zu(v.current))?(km.set(f,U),qo.set(f,v.current),_n.set(f,v.current),Xr.set(v.current,f)):_n.delete(f);var{selection:M}=f,W=Y.findDocumentOrShadowRoot(f),Z=W.getSelection();if(!(!Z||!Y.isFocused(f)||(F=R.current)!==null&&F!==void 0&&F.hasPendingAction())){var ne=he=>{var oe=Z.type!=="None";if(!(!M&&!oe)){var de=Z.focusNode,ge;if(nr&&Z.rangeCount>1){var Me=Z.getRangeAt(0),Pe=Z.getRangeAt(Z.rangeCount-1);Me.startContainer===de?ge=Pe.endContainer:ge=Me.startContainer}else ge=Z.anchorNode;var _e=qo.get(f),Te=!1;if(_e.contains(ge)&&_e.contains(de)&&(Te=!0),oe&&Te&&M&&!he){var Be=Y.toSlateRange(f,Z,{exactMatch:!0,suppressThrow:!0});if(Be&&z.equals(Be,M)){var ue;if(!O.hasMarkPlaceholder||(ue=ge)!==null&&ue!==void 0&&(ue=ue.parentElement)!==null&&ue!==void 0&&ue.hasAttribute("data-slate-mark-placeholder"))return}}if(M&&!Y.hasRange(f,M)){f.selection=Y.toSlateRange(f,Z,{exactMatch:!1,suppressThrow:!0});return}O.isUpdatingSelection=!0;var Ce=M&&Y.toDOMRange(f,M);return Ce?(Y.isComposing(f)&&!lt?Z.collapseToEnd():z.isBackward(M)?Z.setBaseAndExtent(Ce.endContainer,Ce.endOffset,Ce.startContainer,Ce.startOffset):Z.setBaseAndExtent(Ce.startContainer,Ce.startOffset,Ce.endContainer,Ce.endOffset),d(f,Ce)):Z.removeAllRanges(),Ce}};Z.rangeCount<=1&&ne();var pe=((L=R.current)===null||L===void 0?void 0:L.isFlushing())==="action";if(!lt||!pe){setTimeout(()=>{O.isUpdatingSelection=!1});return}var ce=null,De=requestAnimationFrame(()=>{if(pe){var he=oe=>{try{var de=Y.toDOMNode(f,f);de.focus(),ne(oe)}catch{}};he(),ce=setTimeout(()=>{he(!0),O.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(De),ce&&clearTimeout(ce)}}});var H=u.useCallback(F=>{if(x(),!a&&Y.hasEditableTarget(f,F.target)&&!Q2(F,o)){var L;if(R.current)return R.current.handleDOMBeforeInput(F);j.flush(),_.flush();var{selection:U}=f,{inputType:M}=F,W=F.dataTransfer||F.data||void 0,Z=M==="insertCompositionText"||M==="deleteCompositionText";if(Z&&Y.isComposing(f))return;var ne=!1;if(M==="insertText"&&U&&z.isCollapsed(U)&&F.data&&F.data.length===1&&/[a-z ]/i.test(F.data)&&U.anchor.offset!==0){var pe,ce;ne=!0,f.marks&&(ne=!1);var{anchor:De}=U,[he,oe]=Y.toDOMPoint(f,De),de=(pe=he.parentElement)===null||pe===void 0?void 0:pe.closest("a"),ge=Y.getWindow(f);if(ne&&de&&Y.hasDOMNode(f,de)){var Me,Pe=ge?.document.createTreeWalker(de,NodeFilter.SHOW_TEXT).lastChild();Pe===he&&((Me=Pe.textContent)===null||Me===void 0?void 0:Me.length)===oe&&(ne=!1)}if(ne&&he.parentElement&&(ge==null||(ce=ge.getComputedStyle(he.parentElement))===null||ce===void 0?void 0:ce.whiteSpace)==="pre"){var _e=D.above(f,{at:De.path,match:ke=>fe.isElement(ke)&&D.isBlock(f,ke)});_e&&te.string(_e[0]).includes("	")&&(ne=!1)}}if(!M.startsWith("delete")||M.startsWith("deleteBy")){var[Te]=F.getTargetRanges();if(Te){var Be=Y.toSlateRange(f,Te,{exactMatch:!1,suppressThrow:!1});if(!U||!z.equals(U,Be)){ne=!1;var ue=!Z&&f.selection&&D.rangeRef(f,f.selection);q.select(f,Be),ue&&Pr.set(f,ue)}}}if(Z)return;if(ne||F.preventDefault(),U&&z.isExpanded(U)&&M.startsWith("delete")){var Ce=M.endsWith("Backward")?"backward":"forward";D.deleteFragment(f,{direction:Ce});return}switch(M){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{D.deleteFragment(f);break}case"deleteContent":case"deleteContentForward":{D.deleteForward(f);break}case"deleteContentBackward":{D.deleteBackward(f);break}case"deleteEntireSoftLine":{D.deleteBackward(f,{unit:"line"}),D.deleteForward(f,{unit:"line"});break}case"deleteHardLineBackward":{D.deleteBackward(f,{unit:"block"});break}case"deleteSoftLineBackward":{D.deleteBackward(f,{unit:"line"});break}case"deleteHardLineForward":{D.deleteForward(f,{unit:"block"});break}case"deleteSoftLineForward":{D.deleteForward(f,{unit:"line"});break}case"deleteWordBackward":{D.deleteBackward(f,{unit:"word"});break}case"deleteWordForward":{D.deleteForward(f,{unit:"word"});break}case"insertLineBreak":D.insertSoftBreak(f);break;case"insertParagraph":{D.insertBreak(f);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{M==="insertFromComposition"&&Y.isComposing(f)&&(E(!1),jn.set(f,!1)),W?.constructor.name==="DataTransfer"?Y.insertData(f,W):typeof W=="string"&&(ne?y.current.push(()=>D.insertText(f,W)):D.insertText(f,W));break}}var we=(L=Pr.get(f))===null||L===void 0?void 0:L.unref();Pr.delete(f),we&&(!f.selection||!z.equals(f.selection,we))&&q.select(f,we)}},[f,_,x,o,a,j]),k=u.useCallback(F=>{F==null?(_.cancel(),j.cancel(),qo.delete(f),_n.delete(f),v.current&&fn&&v.current.removeEventListener("beforeinput",H)):fn&&F.addEventListener("beforeinput",H),v.current=F},[_,j,f,H]);Jr(()=>{var F=Y.getWindow(f);return F.document.addEventListener("selectionchange",j),()=>{F.document.removeEventListener("selectionchange",j)}},[j]);var P=r([f,[]]),G=s&&f.children.length===1&&Array.from(te.texts(f)).length===1&&te.string(f)===""&&!C,N=u.useCallback(F=>{if(F&&G){var L;A((L=F.getBoundingClientRect())===null||L===void 0?void 0:L.height)}else A(void 0)},[G]);if(G){var X=D.start(f,[]);P.push({[pr]:!0,placeholder:s,onPlaceholderResize:N,anchor:X,focus:X})}var{marks:V}=f;if(O.hasMarkPlaceholder=!1,f.selection&&z.isCollapsed(f.selection)&&V){var{anchor:J}=f.selection,re=te.leaf(f,J.path),K=dr(re,G2);if(!le.equals(re,V,{loose:!0})){O.hasMarkPlaceholder=!0;var Q=Object.fromEntries(Object.keys(K).map(F=>[F,null]));P.push(Ht(Ht(Ht({[Nm]:!0},Q),V),{},{anchor:J,focus:J}))}}return u.useEffect(()=>{setTimeout(()=>{var{selection:F}=f;if(F){var{anchor:L}=F,U=te.leaf(f,L.path);if(V&&!le.equals(U,V,{loose:!0})){Mt.set(f,V);return}}Mt.delete(f)})}),$.createElement(Xm.Provider,{value:a},$.createElement(Gm.Provider,{value:r},$.createElement(U2,{node:v,receivedUserInput:B},$.createElement(m,Ht(Ht({role:a?void 0:"textbox","aria-multiline":a?void 0:!0},g),{},{spellCheck:fn||!Go?g.spellCheck:!1,autoCorrect:fn||!Go?g.autoCorrect:"false",autoCapitalize:fn||!Go?g.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!a,zindex:-1,suppressContentEditableWarning:!0,ref:k,style:Ht(Ht({},h?{}:Ht({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},b?{minHeight:b}:{})),p),onBeforeInput:u.useCallback(F=>{if(!fn&&!a&&!ct(F,g.onBeforeInput)&&Y.hasSelectableTarget(f,F.target)&&(F.preventDefault(),!Y.isComposing(f))){var L=F.data;D.insertText(f,L)}},[g.onBeforeInput,f,a]),onInput:u.useCallback(F=>{if(!ct(F,g.onInput)){if(R.current){R.current.handleInput();return}for(var L of y.current)L();y.current=[]}},[g.onInput]),onBlur:u.useCallback(F=>{if(!(a||O.isUpdatingSelection||!Y.hasSelectableTarget(f,F.target)||ct(F,g.onBlur))){var L=Y.findDocumentOrShadowRoot(f);if(O.latestElement!==L.activeElement){var{relatedTarget:U}=F,M=Y.toDOMNode(f,f);if(U!==M&&!(It(U)&&U.hasAttribute("data-slate-spacer"))){if(U!=null&&An(U)&&Y.hasDOMNode(f,U)){var W=Y.toSlateNode(f,U);if(fe.isElement(W)&&!f.isVoid(W))return}if(Or){var Z=L.getSelection();Z?.removeAllRanges()}vn.delete(f)}}}},[a,O.isUpdatingSelection,O.latestElement,f,g.onBlur]),onClick:u.useCallback(F=>{if(Y.hasTarget(f,F.target)&&!ct(F,g.onClick)&&An(F.target)){var L=Y.toSlateNode(f,F.target),U=Y.findPath(f,L);if(!D.hasPath(f,U)||te.get(f,U)!==L)return;if(F.detail===L2&&U.length>=1){var M=U;if(!(fe.isElement(L)&&D.isBlock(f,L))){var W,Z=D.above(f,{match:de=>fe.isElement(de)&&D.isBlock(f,de),at:U});M=(W=Z?.[1])!==null&&W!==void 0?W:U.slice(0,1)}var ne=D.range(f,M);q.select(f,ne);return}if(a)return;var pe=D.start(f,U),ce=D.end(f,U),De=D.void(f,{at:pe}),he=D.void(f,{at:ce});if(De&&he&&I.equals(De[1],he[1])){var oe=D.range(f,pe);q.select(f,oe)}}},[f,g.onClick,a]),onCompositionEnd:u.useCallback(F=>{if(Y.hasSelectableTarget(f,F.target)){var L;if(Y.isComposing(f)&&Promise.resolve().then(()=>{E(!1),jn.set(f,!1)}),(L=R.current)===null||L===void 0||L.handleCompositionEnd(F),ct(F,g.onCompositionEnd)||lt)return;if(!Or&&!Hx&&!Nx&&!Wx&&!Vx&&F.data){var U=Mt.get(f);Mt.delete(f),U!==void 0&&(en.set(f,f.marks),f.marks=U),D.insertText(f,F.data);var M=en.get(f);en.delete(f),M!==void 0&&(f.marks=M)}}},[g.onCompositionEnd,f]),onCompositionUpdate:u.useCallback(F=>{Y.hasSelectableTarget(f,F.target)&&!ct(F,g.onCompositionUpdate)&&(Y.isComposing(f)||(E(!0),jn.set(f,!0)))},[g.onCompositionUpdate,f]),onCompositionStart:u.useCallback(F=>{if(Y.hasSelectableTarget(f,F.target)){var L;if((L=R.current)===null||L===void 0||L.handleCompositionStart(F),ct(F,g.onCompositionStart)||lt)return;E(!0);var{selection:U}=f;if(U&&z.isExpanded(U)){D.deleteFragment(f);return}}},[g.onCompositionStart,f]),onCopy:u.useCallback(F=>{Y.hasSelectableTarget(f,F.target)&&!ct(F,g.onCopy)&&!Ql(F)&&(F.preventDefault(),Y.setFragmentData(f,F.clipboardData,"copy"))},[g.onCopy,f]),onCut:u.useCallback(F=>{if(!a&&Y.hasSelectableTarget(f,F.target)&&!ct(F,g.onCut)&&!Ql(F)){F.preventDefault(),Y.setFragmentData(f,F.clipboardData,"cut");var{selection:L}=f;if(L)if(z.isExpanded(L))D.deleteFragment(f);else{var U=te.parent(f,L.anchor.path);D.isVoid(f,U)&&q.delete(f)}}},[a,f,g.onCut]),onDragOver:u.useCallback(F=>{if(Y.hasTarget(f,F.target)&&!ct(F,g.onDragOver)){var L=Y.toSlateNode(f,F.target);fe.isElement(L)&&D.isVoid(f,L)&&F.preventDefault()}},[g.onDragOver,f]),onDragStart:u.useCallback(F=>{if(!a&&Y.hasTarget(f,F.target)&&!ct(F,g.onDragStart)){var L=Y.toSlateNode(f,F.target),U=Y.findPath(f,L),M=fe.isElement(L)&&D.isVoid(f,L)||D.void(f,{at:U,voids:!0});if(M){var W=D.range(f,U);q.select(f,W)}O.isDraggingInternally=!0,Y.setFragmentData(f,F.dataTransfer,"drag")}},[a,f,g.onDragStart,O]),onDrop:u.useCallback(F=>{if(!a&&Y.hasTarget(f,F.target)&&!ct(F,g.onDrop)){F.preventDefault();var L=f.selection,U=Y.findEventRange(f,F),M=F.dataTransfer;q.select(f,U),O.isDraggingInternally&&L&&!z.equals(L,U)&&!D.void(f,{at:U,voids:!0})&&q.delete(f,{at:L}),Y.insertData(f,M),Y.isFocused(f)||Y.focus(f)}O.isDraggingInternally=!1},[a,f,g.onDrop,O]),onDragEnd:u.useCallback(F=>{!a&&O.isDraggingInternally&&g.onDragEnd&&Y.hasTarget(f,F.target)&&g.onDragEnd(F),O.isDraggingInternally=!1},[a,O,g,f]),onFocus:u.useCallback(F=>{if(!a&&!O.isUpdatingSelection&&Y.hasEditableTarget(f,F.target)&&!ct(F,g.onFocus)){var L=Y.toDOMNode(f,f),U=Y.findDocumentOrShadowRoot(f);if(O.latestElement=U.activeElement,nr&&F.target!==L){L.focus();return}vn.set(f,!0)}},[a,O,f,g.onFocus]),onKeyDown:u.useCallback(F=>{if(!a&&Y.hasEditableTarget(f,F.target)){var L;(L=R.current)===null||L===void 0||L.handleKeyDown(F);var{nativeEvent:U}=F;if(Y.isComposing(f)&&U.isComposing===!1&&(jn.set(f,!1),E(!1)),ct(F,g.onKeyDown)||Y.isComposing(f))return;var{selection:M}=f,W=f.children[M!==null?M.focus.path[0]:0],Z=ym(te.string(W))==="rtl";if(qe.isRedo(U)){F.preventDefault();var ne=f;typeof ne.redo=="function"&&ne.redo();return}if(qe.isUndo(U)){F.preventDefault();var pe=f;typeof pe.undo=="function"&&pe.undo();return}if(qe.isMoveLineBackward(U)){F.preventDefault(),q.move(f,{unit:"line",reverse:!0});return}if(qe.isMoveLineForward(U)){F.preventDefault(),q.move(f,{unit:"line"});return}if(qe.isExtendLineBackward(U)){F.preventDefault(),q.move(f,{unit:"line",edge:"focus",reverse:!0});return}if(qe.isExtendLineForward(U)){F.preventDefault(),q.move(f,{unit:"line",edge:"focus"});return}if(qe.isMoveBackward(U)){F.preventDefault(),M&&z.isCollapsed(M)?q.move(f,{reverse:!Z}):q.collapse(f,{edge:Z?"end":"start"});return}if(qe.isMoveForward(U)){F.preventDefault(),M&&z.isCollapsed(M)?q.move(f,{reverse:Z}):q.collapse(f,{edge:Z?"start":"end"});return}if(qe.isMoveWordBackward(U)){F.preventDefault(),M&&z.isExpanded(M)&&q.collapse(f,{edge:"focus"}),q.move(f,{unit:"word",reverse:!Z});return}if(qe.isMoveWordForward(U)){F.preventDefault(),M&&z.isExpanded(M)&&q.collapse(f,{edge:"focus"}),q.move(f,{unit:"word",reverse:Z});return}if(fn){if((jm||Or)&&M&&(qe.isDeleteBackward(U)||qe.isDeleteForward(U))&&z.isCollapsed(M)){var ce=te.parent(f,M.anchor.path);if(fe.isElement(ce)&&D.isVoid(f,ce)&&(D.isInline(f,ce)||D.isBlock(f,ce))){F.preventDefault(),D.deleteBackward(f,{unit:"block"});return}}}else{if(qe.isBold(U)||qe.isItalic(U)||qe.isTransposeCharacter(U)){F.preventDefault();return}if(qe.isSoftBreak(U)){F.preventDefault(),D.insertSoftBreak(f);return}if(qe.isSplitBlock(U)){F.preventDefault(),D.insertBreak(f);return}if(qe.isDeleteBackward(U)){F.preventDefault(),M&&z.isExpanded(M)?D.deleteFragment(f,{direction:"backward"}):D.deleteBackward(f);return}if(qe.isDeleteForward(U)){F.preventDefault(),M&&z.isExpanded(M)?D.deleteFragment(f,{direction:"forward"}):D.deleteForward(f);return}if(qe.isDeleteLineBackward(U)){F.preventDefault(),M&&z.isExpanded(M)?D.deleteFragment(f,{direction:"backward"}):D.deleteBackward(f,{unit:"line"});return}if(qe.isDeleteLineForward(U)){F.preventDefault(),M&&z.isExpanded(M)?D.deleteFragment(f,{direction:"forward"}):D.deleteForward(f,{unit:"line"});return}if(qe.isDeleteWordBackward(U)){F.preventDefault(),M&&z.isExpanded(M)?D.deleteFragment(f,{direction:"backward"}):D.deleteBackward(f,{unit:"word"});return}if(qe.isDeleteWordForward(U)){F.preventDefault(),M&&z.isExpanded(M)?D.deleteFragment(f,{direction:"forward"}):D.deleteForward(f,{unit:"word"});return}}}},[a,f,g.onKeyDown]),onPaste:u.useCallback(F=>{!a&&Y.hasEditableTarget(f,F.target)&&!ct(F,g.onPaste)&&(!fn||Gx(F.nativeEvent)||Or)&&(F.preventDefault(),Y.insertData(f,F.clipboardData))},[a,f,g.onPaste])}),$.createElement(q2,{decorations:P,node:f,renderElement:i,renderPlaceholder:l,renderLeaf:c,selection:f.selection})))))},Y2=e=>{var{attributes:t,children:n}=e;return $.createElement("span",Ht({},t),n,lt&&$.createElement("br",null))},X2=()=>[],J2=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&z.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),lx(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},ct=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},Ql=e=>An(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),Q2=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},eA=u.createContext(!1),tA=u.createContext({});function nA(e){var t=u.useRef([]).current,n=u.useRef({editor:e}).current,r=u.useCallback(s=>{n.editor=s,t.forEach(a=>a(s))},[t,n]),o=u.useMemo(()=>({getSlate:()=>n.editor,addEventListener:s=>(t.push(s),()=>{t.splice(t.indexOf(s),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var rA=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],oA=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:o,onValueChange:s,initialValue:a}=e,i=dr(e,rA),[c,l]=$.useState(()=>{if(!te.isNodeList(a))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(st.stringify(a)));if(!D.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(st.stringify(t)));return t.children=a,Object.assign(t,i),{v:0,editor:t}}),{selectorContext:d,onChange:p}=nA(t),m=u.useCallback(f=>{var C;switch(r&&r(t.children),f==null||(C=f.operation)===null||C===void 0?void 0:C.type){case"set_selection":o?.(t.selection);break;default:s?.(t.children)}l(E=>({v:E.v+1,editor:t})),p(t)},[t,p,r,o,s]);u.useEffect(()=>(Di.set(t,m),()=>{Di.set(t,()=>{})}),[t,m]);var[h,g]=u.useState(Y.isFocused(t));return u.useEffect(()=>{g(Y.isFocused(t))},[t]),Jr(()=>{var f=()=>g(Y.isFocused(t));return Pm>=17?(document.addEventListener("focusin",f),document.addEventListener("focusout",f),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",f)}):(document.addEventListener("focus",f,!0),document.addEventListener("blur",f,!0),()=>{document.removeEventListener("focus",f,!0),document.removeEventListener("blur",f,!0)})},[]),$.createElement(tA.Provider,{value:d},$.createElement(Jm.Provider,{value:c},$.createElement(Mu.Provider,{value:c.editor},$.createElement(eA.Provider,{value:h},n))))},ef=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},tf=(e,t,n)=>{var r=Y.toDOMRange(e,t).getBoundingClientRect(),o=Y.toDOMRange(e,n).getBoundingClientRect();return ef(r,o)&&ef(o,r)},sA=(e,t)=>{var n=D.range(e,z.end(t)),r=Array.from(D.positions(e,{at:t})),o=0,s=r.length,a=Math.floor(s/2);if(tf(e,D.range(e,r[o]),n))return D.range(e,r[o],n);if(r.length<2)return D.range(e,r[r.length-1],n);for(;a!==r.length&&a!==o;)tf(e,D.range(e,r[a]),n)?s=a:o=a,a=Math.floor((o+s)/2);return D.range(e,r[s],n)};function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nf(Object(n),!0).forEach(function(r){Pt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var aA=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:s,deleteBackward:a,addMark:i,removeMark:c}=r;return Gs.set(r,new WeakMap),r.addMark=(l,d)=>{var p,m;(p=_u.get(r))===null||p===void 0||p(),!Mt.get(r)&&(m=Et.get(r))!==null&&m!==void 0&&m.length&&Mt.set(r,null),en.delete(r),i(l,d)},r.removeMark=l=>{var d;!Mt.get(r)&&(d=Et.get(r))!==null&&d!==void 0&&d.length&&Mt.set(r,null),en.delete(r),c(l)},r.deleteBackward=l=>{if(l!=="line")return a(l);if(r.selection&&z.isCollapsed(r.selection)){var d=D.above(r,{match:g=>fe.isElement(g)&&D.isBlock(r,g),at:r.selection});if(d){var[,p]=d,m=D.range(r,p,r.selection.anchor),h=sA(r,m);z.isCollapsed(h)||q.delete(r,{at:h})}}},r.apply=l=>{var d=[],p=[],m=Et.get(r);if(m!=null&&m.length){var h=m.map(k=>a2(k,l)).filter(Boolean);Et.set(r,h)}var g=hn.get(r);g&&hn.set(r,Wl(r,g,l));var f=mn.get(r);if(f!=null&&f.at){var C=Oe.isPoint(f?.at)?bi(r,f.at,l):Wl(r,f.at,l);mn.set(r,C?rf(rf({},f),{},{at:C}):null)}switch(l.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...Yn(r,l.path));break}case"set_selection":{var E;(E=Pr.get(r))===null||E===void 0||E.unref(),Pr.delete(r);break}case"insert_node":case"remove_node":{d.push(...Yn(r,I.parent(l.path)));break}case"merge_node":{var v=I.previous(l.path);d.push(...Yn(r,v));break}case"move_node":{var y=I.common(I.parent(l.path),I.parent(l.newPath));d.push(...Yn(r,y));var b;I.isBefore(l.path,l.newPath)?(d.push(...Yn(r,I.parent(l.path))),b=l.newPath):(d.push(...Yn(r,I.parent(l.newPath))),b=l.path);var A=te.get(t,I.parent(b)),x=Y.findKey(r,A),B=D.pathRef(r,I.parent(b));p.push([B,x]);break}}o(l);for(var[S,O]of d){var[R]=D.node(r,S);Cs.set(R,O)}for(var[_,j]of p)if(_.current){var[H]=D.node(r,_.current);Cs.set(H,j)}},r.setFragmentData=l=>{var{selection:d}=r;if(d){var[p,m]=z.edges(d),h=D.void(r,{at:p.path}),g=D.void(r,{at:m.path});if(!(z.isCollapsed(d)&&!h)){var f=Y.toDOMRange(r,d),C=f.cloneContents(),E=C.childNodes[0];if(C.childNodes.forEach(R=>{R.textContent&&R.textContent.trim()!==""&&(E=R)}),g){var[v]=g,y=f.cloneRange(),b=Y.toDOMNode(r,v);y.setEndAfter(b),C=y.cloneContents()}if(h&&(E=C.querySelector("[data-slate-spacer]")),Array.from(C.querySelectorAll("[data-slate-zero-width]")).forEach(R=>{var _=R.getAttribute("data-slate-zero-width")==="n";R.textContent=_?`
`:""}),Lm(E)){var A=E.ownerDocument.createElement("span");A.style.whiteSpace="pre",A.appendChild(E),C.appendChild(A),E=A}var x=r.getFragment(),B=JSON.stringify(x),S=window.btoa(encodeURIComponent(B));E.setAttribute("data-slate-fragment",S),l.setData("application/".concat(n),S);var O=C.ownerDocument.createElement("div");return O.appendChild(C),O.setAttribute("hidden","true"),C.ownerDocument.body.appendChild(O),l.setData("text/html",O.innerHTML),l.setData("text/plain",zm(O)),C.ownerDocument.body.removeChild(O),l}}},r.insertData=l=>{r.insertFragmentData(l)||r.insertTextData(l)},r.insertFragmentData=l=>{var d=l.getData("application/".concat(n))||Jx(l);if(d){var p=decodeURIComponent(window.atob(d)),m=JSON.parse(p);return r.insertFragment(m),!0}return!1},r.insertTextData=l=>{var d=l.getData("text/plain");if(d){var p=d.split(/\r\n|\r|\n/),m=!1;for(var h of p)m&&q.splitNodes(r,{always:!0}),r.insertText(h),m=!0;return!0}return!1},r.onChange=l=>{var d=Pm<18?Ts.unstable_batchedUpdates:p=>p();d(()=>{var p=Di.get(r);p&&p(l),s(l)})},r},Yn=(e,t)=>{var n=[];for(var[r,o]of D.levels(e,{at:t})){var s=Y.findKey(e,r);n.push([o,s])}return n};const iA={Anchor:"a"},of=u.createContext(void 0);function uA({children:e,components:t}){const n=u.useContext(of),r=u.useMemo(()=>({...iA,...n,...t}),[n,t]);return u.createElement(of.Provider,{value:r},e)}const eh=u.createContext({});function cA(){return u.useContext(eh)}function lA({overrides:e,components:t,portalContainer:n,children:r}){const o=u.useMemo(()=>({portalContainer:n}),[n]);return $.createElement(eh.Provider,{value:o},$.createElement(Iw,{overrides:e},$.createElement(uA,{components:t},r)))}const sf=500,af=new WeakMap;function fA(e){let t=af.get(e);return t||(t=new Map,af.set(e,t)),t}function dA(e){const t=x0(),n=A0(),[r,o]=$.useState(),s=$.useRef();return $.useEffect(()=>{const a=t[B0].resolveMentionSuggestions;if(e===void 0||!a)return;const i={text:e,roomId:n.id},c=S0(i);let l,d=!1;const p=fA(t),m=async()=>{try{s.current=performance.now();const h=await a(i);d||(o(h),p.set(c,h))}catch(h){console.error(h?.message)}};return p.has(c)?o(p.get(c)):!s.current||Math.abs(performance.now()-s.current)>sf?m():l=window.setTimeout(()=>{m()},sf),()=>{d=!0,window.clearTimeout(l)}},[t,n.id,e]),r}const th=[{type:"mark",mark:"bold",character:"*"},{type:"mark",mark:"italic",character:"_"},{type:"mark",mark:"strikethrough",character:"~"},{type:"mark",mark:"code",character:"`"}],pA=th.filter(e=>e.type==="mark").map(e=>e.character);function mA(e,t,n){if(t!==n.character)return!1;const r=Jp(e,e.selection,[n.character]);if(!r||z.isCollapsed(r))return!1;const o=ps(e,r);if(!o||o.text!==n.character)return!1;const s=ps(e,o.range);if(s&&!pA.includes(s.text)&&!cr(s.text))return!1;const a=D.string(e,r);return a.trim()!==a?!1:(q.select(e,r),e.addMark(n.mark,!0),q.collapse(e,{edge:"end"}),e.removeMark(n.mark),q.delete(e,{at:o.range}),!0)}function hA(e){const{insertText:t}=e;return e.insertText=(n,r)=>{if(!po(e.selection))return t(n,r);let o=!0;for(const s of th)s.type==="mark"&&mA(e,n,s)&&(o=!1);o&&t(n,r)},e}function qt(e){return!("type"in e)&&"text"in e&&typeof e.text=="string"}function xi(e){return qt(e)&&Object.keys(e).length===1}function gA(e,t){const{selection:n}=e;if(!n)return!1;const r=Array.from(D.nodes(e,{at:n,match:o=>fe.isElement(o)&&D.isBlock(e,o),mode:"lowest"}));for(const[,o]of r){const s=z.isRange(n)?z.intersection(n,D.range(e,o)):n;if(!s)continue;if(Array.from(D.nodes(e,{at:s,match:i=>D.isInline(e,i)&&t(i)})).length>0)return!0}return!1}function vA(e){try{return new URL(e),!0}catch{return!1}}function CA(e){const{isInline:t,normalizeNode:n,insertData:r}=e;return e.isInline=o=>o.type==="custom-link"?!0:t(o),e.normalizeNode=o=>{const[s,a]=o;if(qt(s)){const i=te.parent(e,a);if(Ds(i)&&!xi(s)){const c=Object.keys(s).filter(l=>l!=="text");q.unsetNodes(e,c,{at:a})}}n(o)},e.insertData=o=>{const{selection:s}=e,a=o.getData("text/plain");let i=!0;s&&!z.isCollapsed(s)&&s.anchor.path[0]===s.focus.path[0]&&vA(a)&&(gA(e,c=>!qt(c))||(q.wrapNodes(e,{type:"custom-link",url:a,children:[]},{at:s,split:!0,match:xi}),i=!1)),i&&r(o)},e}function Ds(e){return fe.isElement(e)&&e.type==="custom-link"}function DA(e){const{isInline:t,normalizeNode:n,deleteBackward:r}=e;return e.isInline=o=>o.type==="auto-link"?!0:t(o),e.normalizeNode=o=>{const[s,a]=o;if(!Ds(s)){if(qt(s)){const i=te.parent(e,a);if(Ds(i))return;if(ar(i)){const c=I.parent(a);if(BA(e,[i,c]),!xi(s)){const l=Object.keys(s).filter(d=>d!=="text");q.unsetNodes(e,l,{at:a})}}else SA(e,[s,a]),OA(e,[s,a])}n(o)}},e.deleteBackward=o=>{r(o);const{selection:s}=e;if(!s||!z.isCollapsed(s))return;const[a]=D.nodes(e,{at:s,match:ar,mode:"lowest"});a&&q.unwrapNodes(e,{match:ar})},e}function ar(e){return fe.isElement(e)&&e.type==="auto-link"}const nh=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9().@:%_+~#?&//=]*)/,EA=/[.,;!?\s()]/,wA=/^[.?][a-zA-Z0-9]+/,bA=/[()]/;function Es(e){return EA.test(e)}function rh(e){return Es(e[e.length-1])}function oh(e){return Es(e[0])}function yA(e){return e[e.length-1]==="."||e[e.length-1]==="?"}function xA(e){if(!bA.test(e))return e.length;let t=0,n=0;for(const r of e){if(r==="("&&n++,r===")"&&(n--,n<0))break;t++}return t}function sh(e,t){const n=D.previous(e,{at:t});return n?qt(n[0])&&(rh(n[0].text)||n[0].text===""):!0}function ah(e,t){const n=D.next(e,{at:t});return n?qt(n[0])&&(oh(n[0].text)||n[0].text===""):!0}function AA(e,t,n,r){const[o,s]=t,a=o.text,i=n>0?Es(a[n-1]):sh(e,s),c=r<a.length?Es(a[r]):ah(e,s);return i&&c}const BA=(e,t)=>{const[n,r]=t,o=te.children(e,r);for(const[c]of o)if(!qt(c)){q.unwrapNodes(e,{at:r});return}const s=te.string(n),a=nh.exec(s);if(!a||a[0]!==s){q.unwrapNodes(e,{at:r});return}if(yA(s)){q.unwrapNodes(e,{at:r});const c=s.slice(0,s.length-1);q.wrapNodes(e,{type:"auto-link",url:c,children:[]},{at:{anchor:{path:r,offset:0},focus:{path:r,offset:c.length}},split:!0});return}const i=xA(s);if(i<s.length){q.unwrapNodes(e,{at:r});const c=s.slice(0,i);q.wrapNodes(e,{type:"auto-link",url:c,children:[]},{at:{anchor:{path:r,offset:0},focus:{path:r,offset:c.length}},split:!0});return}if(!sh(e,r)||!ah(e,r)){q.unwrapNodes(e,{at:r});return}if(n.url!==s){q.setNodes(e,{url:a[0]},{at:r});return}},SA=(e,t)=>{const[n,r]=t,o=nh.exec(n.text);if(!o)return;const s=o.index,a=s+o[0].length;AA(e,t,s,a)&&q.wrapNodes(e,{type:"auto-link",url:o[0],children:[]},{at:{anchor:{path:r,offset:s},focus:{path:r,offset:a}},split:!0})},OA=(e,t)=>{const[n,r]=t,o=n.text,s=D.previous(e,{at:r});if(s&&ar(s[0])){if(wA.test(o)){q.unwrapNodes(e,{at:s[1]}),q.mergeNodes(e,{at:r});return}if(!oh(o)){q.unwrapNodes(e,{at:s[1]});return}}const a=D.next(e,{at:r});if(a&&ar(a[0])&&!rh(o)){q.unwrapNodes(e,{at:a[1]});return}};function Ai(e,t){for(const n of t)if(qt(n)){if(!cr(n.text))return!1}else if(n.type==="paragraph"){if(n.children.length>1||!(qt(n.children[0])&&cr(n.children[0].text)))return!1}else if(!D.isEmpty(e,n))return!1;return!0}function FA(e,t){const n=D.marks(e);return n?n[t]===!0:!1}function Po(e,t){FA(e,t)?D.removeMark(e,t):D.addMark(e,t,!0)}function ih(e){const t=D.marks(e);if(t)for(const n in t)D.removeMark(e,n)}function uf(e,t){po(e.selection)&&Object.keys(D.marks(e)??{}).length>0&&((t==="start"?ps(e,e.selection):Su(e,e.selection))||ih(e))}function IA(e){const{onChange:t}=e;return e.onChange=n=>{Ai(e,e.children)&&ih(e),t(n)},e}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function cf(e){return Object.prototype.toString.call(e)==="[object Object]"}function $A(e){var t,n;return cf(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(cf(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Qr(e){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(e)}function RA(e,t){if(Qr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TA(e){var t=RA(e,"string");return Qr(t)==="symbol"?t:String(t)}function mr(e,t,n){return t=TA(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uh=new WeakMap,ch=new WeakMap;class Vu{}class qs extends Vu{constructor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),mr(this,"offset",void 0),mr(this,"path",void 0);var{offset:n,path:r}=t;this.offset=n,this.path=r}}class Zs extends Vu{constructor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),mr(this,"offset",void 0),mr(this,"path",void 0);var{offset:n,path:r}=t;this.offset=n,this.path=r}}var PA=(e,t)=>{var n=e.text.length;uh.set(e,[n,t])},jA=e=>uh.get(e),kA=(e,t)=>{var n=e.text.length;ch.set(e,[n,t])},MA=e=>ch.get(e);function lf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lf(Object(n),!0).forEach(function(r){mr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Zo=new WeakSet,Ys=e=>{var t=[],n=o=>{if(o!=null){var s=t[t.length-1];if(typeof o=="string"){var a={text:o};Zo.add(a),o=a}if(le.isText(o)){var i=o;le.isText(s)&&Zo.has(s)&&Zo.has(i)&&le.equals(s,i,{loose:!0})?s.text+=i.text:t.push(i)}else if(fe.isElement(o))t.push(o);else if(o instanceof Vu){var c=t[t.length-1];le.isText(c)||(n(""),c=t[t.length-1]),o instanceof qs?PA(c,o):o instanceof Zs&&kA(c,o)}else throw new Error("Unexpected hyperscript child object: ".concat(o))}};for(var r of e.flat(1/0))n(r);return t};function NA(e,t,n){return new qs(t)}function LA(e,t,n){return[new qs(t),new Zs(t)]}function lh(e,t,n){return Bi(Bi({},t),{},{children:Ys(n)})}function _A(e,t,n){return new Zs(t)}function zA(e,t,n){return Ys(n)}function HA(e,t,n){var r=n.find(s=>s instanceof qs),o=n.find(s=>s instanceof Zs);if(!r||r.offset==null||r.path==null)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||o.offset==null||o.path==null)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return Bi({anchor:{offset:r.offset,path:r.path},focus:{offset:o.offset,path:o.path}},t)}function VA(e,t,n){var r=Ys(n);if(r.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[o]=r;if(o==null&&(o={text:""}),!le.isText(o))throw new Error(`
    The <text> hyperscript tag can only contain text content as children.`);return Zo.delete(o),Object.assign(o,t),o}var WA=e=>(t,n,r)=>{var o=[],s;for(var a of r)z.isRange(a)?s=a:o.push(a);var i=Ys(o),c={},l=e();Object.assign(l,n),l.children=i;for(var[d,p]of te.texts(l)){var m=jA(d),h=MA(d);if(m!=null){var[g]=m;c.anchor={path:p,offset:g}}if(h!=null){var[f]=h;c.focus={path:p,offset:f}}}if(c.anchor&&!c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!c.anchor&&c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return s!=null?l.selection=s:z.isRange(c)&&(l.selection=c),l};function ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ff(Object(n),!0).forEach(function(r){mr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var UA={anchor:NA,cursor:LA,editor:WA(Xp),element:lh,focus:_A,fragment:zA,selection:HA,text:VA},KA=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{elements:n={}}=t,r=qA(n),o=jr(jr(jr({},UA),r),t.creators),s=GA(o);return s},GA=e=>{var t=function(r,o){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i];var c=e[r];if(!c)throw new Error("No hyperscript creator found for tag: <".concat(r,">"));o==null&&(o={}),$A(o)||(a=[o].concat(a),o={}),a=a.filter(d=>!!d).flat();var l=c(r,o,a);return l};return t},qA=e=>{var t={},n=function(){var s=e[r];if(typeof s!="object")throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(s));t[r]=(a,i,c)=>lh("element",jr(jr({},s),i),c)};for(var r in e)n();return t},Ia=KA();function ZA(e,t){try{const n=new URL(e),r=new URL(t);return n.origin===r.origin&&n.pathname===r.pathname}catch{return!1}}const Qt=()=>({type:"paragraph"}),df={A:e=>{const t=e.getAttribute("href"),n=e.innerText;return{type:t&&ZA(t,n)?"auto-link":"custom-link",url:t??""}},P:Qt,BLOCKQUOTE:Qt,H1:Qt,H2:Qt,H3:Qt,H4:Qt,H5:Qt,H6:Qt,LI:Qt},pf={CODE:()=>({code:!0}),DEL:()=>({strikethrough:!0}),EM:()=>({italic:!0}),I:()=>({italic:!0}),S:()=>({strikethrough:!0}),STRONG:()=>({bold:!0})};function fh(e){const t=[];return e.nodeName==="LI"&&t.push(e),e.childNodes.forEach(n=>{n.nodeType===1&&t.push(...fh(n))}),t}function Si(e){if(e.nodeType===3)return e.textContent;if(e.nodeType!==1)return null;if(e.nodeName==="BR")return`
`;let n=Array.from(e.childNodes).map(Si).flat();if((e.nodeName==="UL"||e.nodeName==="OL")&&(n=fh(e).map(o=>Si(o)).flat()),n.length===0&&(n=[{text:""}]),e.nodeName==="BODY")return Ia("fragment",{},n);if(df[e.nodeName]){const r=df[e.nodeName](e);return Ia("element",r,n)}if(pf[e.nodeName]){const r=pf[e.nodeName](e);return n.map(o=>Ia("text",r,o))}return n}function YA(e){const{insertData:t}=e;return e.insertData=n=>{const r=n.getData("text/html");if(r){const o=new DOMParser().parseFromString(r,"text/html"),s=Si(o.body);if(s!==null&&Array.isArray(s)){q.insertFragment(e,s);return}}t(n)},e}function dh(e,t){try{return Y.toDOMRange(e,t)}catch{return dh(e,{anchor:t.anchor,focus:t.anchor})}}const XA=/Mac|iPod|iPhone|iPad/;function JA(){return typeof window<"u"&&XA.test(window.navigator.platform)}const QA={alt:()=>"altKey",ctrl:()=>"ctrlKey",meta:()=>"metaKey",mod:()=>JA()?"metaKey":"ctrlKey",shift:()=>"shiftKey"};function rt(e,t,n={}){return e.key!==t?!1:Object.entries(n).filter(([,o])=>typeof o=="boolean").every(([o,s])=>{const a=QA[o]();return e[a]===s})}const eB=Ts.flushSync;function tB(e){return e()}const nB=eB??tB,Un=typeof window<"u"?u.useLayoutEffect:u.useEffect,ph=u.createContext(null);function mh(){const e=u.useContext(ph);return ao(e,"Persist is missing from the React tree.")}function rB(e){const t=Array.isArray(e)?u.Children.only(e):e;return u.isValidElement(t)?t:void 0}function oB(e){const[t,n]=mh(),r=u.useRef(null),o=u.useRef(null);Un(()=>{const s=e.current;if(!s)return;const a=i=>{i.animationName===o.current&&n(),r.current=i.animationName};return s.addEventListener("animationcancel",a),s.addEventListener("animationend",a),()=>{s.removeEventListener("animationcancel",a),s.removeEventListener("animationend",a)}},[e,n]),Un(()=>{const s=e.current;let a;if(s)return t||(a=requestAnimationFrame(()=>{const i=getComputedStyle(s);o.current=i.animationName,(i.animationName==="none"||i.animationName===r.current||i.display==="none")&&n()})),()=>{cancelAnimationFrame(a)}},[t,e,n])}function sB({children:e}){const[t,n]=u.useState(!0),r=u.useRef(null),o=rB(e),s=u.useCallback(()=>{nB(()=>n(!1))},[]);return Un(()=>{o&&(n(!0),r.current=o)},[o]),$.createElement(ph.Provider,{value:[!!o,s]},o??(t?r.current:null))}const aB=u.forwardRef(({container:e=document?.body,asChild:t,...n},r)=>{const o=t?vt:"div";return e?sn.createPortal($.createElement(o,{"data-liveblocks-portal":"",...n,ref:r}),e):null});function iB(e,t){if(typeof e.requestSubmit=="function")return e.requestSubmit(t);t?t.click():(t=document.createElement("input"),t.type="submit",t.hidden=!0,e.appendChild(t),t.click(),e.removeChild(t))}let $a=!1,uB=0;function mf(){return++uB}const cB=$.useId;function lB(){const[e,t]=u.useState($a?mf:null);return Un(()=>{e===null&&t(mf())},[e]),u.useEffect(()=>{$a||($a=!0)},[]),String(e)??void 0}const fB=cB??lB;function hf(e,t,n){return Math.min(Math.max(e,t),n)}function dB(e,t,n){const r=n-t;return r>0?((e-t)%r+r)%r+t:0}const pB={wrap:!0};function mB(e,t,n){const{wrap:r}=u.useMemo(()=>({...pB,...n}),[n]),o=u.useMemo(()=>r?dB:hf,[r]),[s,a]=u.useState(e);u.useEffect(()=>{a(l=>hf(l,0,Math.max(t-1,0)))},[t]);const i=u.useCallback(()=>{a(l=>o(l-1,0,Math.max(t,0)))},[t,o]),c=u.useCallback(()=>{a(l=>o(l+1,0,Math.max(t,0)))},[t,o]);return[s,i,c,a]}function hh(e){return u.useRef(e instanceof Function?e():e).current}function hB(e,t){t&&(typeof e=="function"?e(t):e&&"current"in e&&(e.current=t))}function gB(e,...t){for(const n of t)hB(n,e)}function Wu(...e){return u.useCallback(t=>gB(t,...e),[e])}const gh=u.createContext(null),vh=u.createContext(null),Ch=u.createContext(null);function vB(){const e=u.useContext(vh);return ao(e,"Composer.Form is missing from the React tree.")}function Xs(){const e=u.useContext(gh);return ao(e,"Composer.Form is missing from the React tree.")}function Uu(e="useComposerSuggestionsContext"){const t=u.useContext(Ch);return ao(t,`${e} cant be used outside of Composer.Editor.`)}function ws(e){return e!=null}function CB(e){return{type:"mention",id:e.id}}function DB(e){return{type:"link",url:e.url}}function EB(e){return{type:"link",url:e.url,text:e.children.map(t=>t.text).join("")}}function wB(e){return{type:"mention",id:e.id,children:[{text:""}]}}function bB(e){return e.text?{type:"custom-link",url:e.url,children:[{text:e.text}]}:{type:"auto-link",url:e.url,children:[{text:e.url}]}}function yB(e){return{version:1,content:e.map(t=>{if(t.type!=="paragraph")return null;const n=t.children.map(r=>Sr(r)?CB(r):ar(r)?DB(r):Ds(r)?EB(r):qt(r)?r:null).filter(ws);return{...t,children:n}}).filter(ws)}}const xB=[];function AB(e){return!e||!e?.content?xB:e.content.map(t=>{if(t.type!=="paragraph")return null;const n=t.children.map(r=>Qp(r)?wB(r):em(r)?bB(r):c3(r)?r:null).filter(ws);return{...t,children:n}}).filter(ws)}function BB(e,t="ltr"){return`${e}-${t==="rtl"?"end":"start"}`}function SB(e){const[t,n="center"]=e.split("-");return[t,n]}const OB="top",FB="ComposerSuggestions",IB="ComposerSuggestionsList",$B="ComposerSuggestionsListItem",RB={version:1,content:[{type:"paragraph",children:[{text:""}]}]};function TB(){return u3(CA(DA(hA(IA(YA(tx(aA(Xp()))))))))}function PB({Mention:e,attributes:t,children:n,element:r}){const o=Zm();return $.createElement("span",{...t},r.id?$.createElement(e,{userId:r.id,isSelected:o}):null,n)}function jB({Link:e,attributes:t,element:n,children:r}){const o=u.useMemo(()=>tm(n.url)??n.url,[n.url]);return $.createElement("span",{...t},$.createElement(e,{href:o},r))}function kB({id:e,itemId:t,userIds:n,selectedUserId:r,setSelectedUserId:o,mentionDraft:s,onItemSelect:a,position:i=OB,dir:c,MentionSuggestions:l}){const d=cn(),{isFocused:p}=Xs(),[m,h]=u.useState(null),[g,f]=u.useState(),C=u.useCallback(h,[h]),{portalContainer:E}=cA(),v=u.useMemo(()=>{const R={padding:Sw};return{strategy:"fixed",placement:BB(i,c),middleware:[Y3({...R,crossAxis:!1}),J3(R),q3({...R,limiter:Z3()}),X3({...R,apply({availableWidth:_,availableHeight:j,elements:H}){H.floating.style.setProperty("--lb-composer-suggestions-available-width",`${_}px`),H.floating.style.setProperty("--lb-composer-suggestions-available-height",`${j}px`)}})],whileElementsMounted:(..._)=>pm(..._,{animationFrame:!0})}},[i,c]),{refs:{setReference:y,setFloating:b},strategy:A,isPositioned:x,placement:B,x:S,y:O}=G3(v);return Un(()=>{m&&f(window.getComputedStyle(m).zIndex)},[m]),Un(()=>{if(!s)return;const R=dh(d,s.range);R&&y({getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects()})},[y,d,s]),$.createElement(sB,null,s?.range&&p&&n?$.createElement(Ch.Provider,{value:{id:e,itemId:t,selectedValue:r,setSelectedValue:o,onItemSelect:a,placement:B,dir:c,ref:C}},$.createElement(aB,{ref:b,container:E,style:{position:A,top:0,left:0,transform:x?`translate3d(${Math.round(S)}px, ${Math.round(O)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:g}},$.createElement(l,{userIds:n,selectedUserId:r}))):null)}function MB({Mention:e,Link:t,...n}){const{attributes:r,children:o,element:s}=n;switch(s.type){case"mention":return $.createElement(PB,{Mention:e,...n});case"auto-link":case"custom-link":return $.createElement(jB,{Link:t,...n});case"paragraph":return $.createElement("p",{...r,style:{position:"relative"}},o);default:return null}}function NB({attributes:e,children:t,leaf:n}){return n.bold&&(t=$.createElement("strong",null,t)),n.italic&&(t=$.createElement("em",null,t)),n.strikethrough&&(t=$.createElement("s",null,t)),n.code&&(t=$.createElement("code",null,t)),$.createElement("span",{...e},t)}function LB({attributes:e,children:t}){const{opacity:n,...r}=e.style;return $.createElement("span",{...e,style:r,"data-placeholder":""},t)}const _B=u.forwardRef(({children:e,asChild:t,...n},r)=>{const o=t?vt:"span",s=Zm();return $.createElement(o,{"data-selected":s||void 0,...n,ref:r},e)}),zB=u.forwardRef(({children:e,asChild:t,...n},r)=>{const o=t?vt:"a";return $.createElement(o,{target:"_blank",rel:"noopener noreferrer nofollow",...n,ref:r},e)}),Dh=u.forwardRef(({children:e,style:t,asChild:n,...r},o)=>{const[s]=mh(),a=u.useRef(null),{ref:i,placement:c,dir:l}=Uu(FB),d=Wu(o,i,a),[p,m]=u.useMemo(()=>SB(c),[c]),h=n?vt:"div";return oB(a),$.createElement(h,{dir:l,...r,"data-state":s?"open":"closed","data-side":p,"data-align":m,style:{display:"flex",flexDirection:"column",maxHeight:"var(--lb-composer-suggestions-available-height)",overflowY:"auto",...t},ref:d},e)}),Eh=u.forwardRef(({children:e,asChild:t,...n},r)=>{const{id:o}=Uu(IB),s=t?vt:"ul";return $.createElement(s,{role:"listbox",id:o,"aria-label":"Suggestions list",...n,ref:r},e)}),wh=u.forwardRef(({value:e,children:t,onPointerMove:n,onPointerDown:r,asChild:o,...s},a)=>{const i=u.useRef(null),c=Wu(a,i),{selectedValue:l,setSelectedValue:d,itemId:p,onItemSelect:m}=Uu($B),h=o?vt:"li",g=u.useMemo(()=>l===e,[l,e]),f=u.useMemo(()=>p(e),[p,e]);u.useEffect(()=>{i?.current&&g&&i.current.scrollIntoView({block:"nearest"})},[g]);const C=u.useCallback(v=>{n?.(v),v.isDefaultPrevented()||d(e)},[n,d,e]),E=u.useCallback(v=>{if(r?.(v),!v.isDefaultPrevented()){const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(m(e),v.preventDefault())}},[m,r,e]);return $.createElement(h,{role:"option",id:f,"data-selected":g||void 0,"aria-selected":g||void 0,onPointerMove:C,onPointerDown:E,...s,ref:c},t)}),HB={Link:({href:e,children:t})=>$.createElement(zB,{href:e},t),Mention:({userId:e})=>$.createElement(_B,null,lr,e),MentionSuggestions:({userIds:e})=>e.length>0?$.createElement(Dh,null,$.createElement(Eh,null,e.map(t=>$.createElement(wh,{key:t,value:t},t)))):null},VB=u.forwardRef(({defaultValue:e,onKeyDown:t,onFocus:n,onBlur:r,disabled:o,autoFocus:s,components:a,dir:i,...c},l)=>{const d=Gi(),p=u.useMemo(()=>o||(d?!d.canComment:!1),[o,d?.canComment]),{editor:m,validate:h,setFocused:g}=vB(),{submit:f,focus:C,select:E,isEmpty:v,isFocused:y}=Xs(),b=hh(e??RB),A=u.useMemo(()=>AB(b),[b]),{Link:x,Mention:B,MentionSuggestions:S}=u.useMemo(()=>({...HB,...a}),[a]),[O,R]=u.useState(),_=dA(O?.text),[j,H,k,P]=mB(0,_?.length??0),G=fB(),N=u.useMemo(()=>`liveblocks-suggestions-list-${G}`,[G]),X=u.useCallback(W=>W?`liveblocks-suggestions-list-item-${G}-${W}`:void 0,[G]),V=u.useCallback(W=>$.createElement(MB,{Mention:B,Link:x,...W}),[x,B]),J=u.useCallback(W=>{h(W),R(s3(m))},[m,h]),re=u.useCallback(W=>{!O||!W||(q.select(m,O.range),a3(m,W),R(void 0),P(0))},[m,O,P]),K=u.useCallback(W=>{if(t?.(W),!W.isDefaultPrevented())if(rt(W,"ArrowLeft")&&uf(m,"start"),rt(W,"ArrowRight")&&uf(m,"end"),O&&_?.length){if(rt(W,"ArrowDown")&&(W.preventDefault(),k()),rt(W,"ArrowUp")&&(W.preventDefault(),H()),rt(W,"Enter")||rt(W,"Tab")){W.preventDefault();const Z=_?.[j];re(Z)}rt(W,"Escape")&&(W.preventDefault(),R(void 0),P(0))}else rt(W,"Escape")&&(W.preventDefault(),Y.blur(m)),rt(W,"Enter",{shift:!1})&&!v&&(W.preventDefault(),f()),rt(W,"Enter",{shift:!0})&&(W.preventDefault(),m.insertBreak()),rt(W,"b",{mod:!0})&&(W.preventDefault(),Po(m,"bold")),rt(W,"i",{mod:!0})&&(W.preventDefault(),Po(m,"italic")),rt(W,"s",{mod:!0,shift:!0})&&(W.preventDefault(),Po(m,"strikethrough")),rt(W,"e",{mod:!0})&&(W.preventDefault(),Po(m,"code"))},[re,m,v,O,_,j,t,k,H,P,f]),Q=u.useCallback(W=>{n?.(W),W.isDefaultPrevented()||g(!0)},[n,g]),F=u.useCallback(W=>{r?.(W),W.isDefaultPrevented()||g(!1)},[r,g]),L=u.useMemo(()=>_?.[j],[j,_]),U=u.useCallback(W=>{const Z=_?.indexOf(W);Z!==void 0&&Z>=0&&P(Z)},[P,_]),M=u.useMemo(()=>O?{role:"combobox","aria-autocomplete":"list","aria-expanded":!0,"aria-controls":N,"aria-activedescendant":X(L)}:{},[O,N,X,L]);return u.useImperativeHandle(l,()=>Y.toDOMNode(m,m),[m]),u.useEffect(()=>{s&&C()},[s,m,C]),u.useEffect(()=>{y&&m.selection===null&&E()},[m,E,y]),$.createElement(oA,{editor:m,initialValue:A,onChange:J},$.createElement(Z2,{dir:i,enterKeyHint:O?"enter":"send",autoCapitalize:"sentences","aria-label":"Composer editor","data-focused":y||void 0,"data-disabled":p||void 0,...M,...c,readOnly:p,disabled:p,onKeyDown:K,onFocus:Q,onBlur:F,renderElement:V,renderLeaf:NB,renderPlaceholder:LB}),$.createElement(kB,{dir:i,mentionDraft:O,selectedUserId:L,setSelectedUserId:U,userIds:_,id:N,itemId:X,onItemSelect:re,MentionSuggestions:S}))}),WB=u.forwardRef(({children:e,onSubmit:t,onComposerSubmit:n,asChild:r,...o},s)=>{const a=r?vt:"form",i=hh(TB),[c,l]=u.useState(!0),[d,p]=u.useState(!1),m=u.useRef(null),h=Wu(s,m),g=u.useCallback(S=>{l(Ai(i,S))},[i]),f=u.useCallback(()=>{requestAnimationFrame(()=>{m.current&&iB(m.current)})},[]),C=u.useCallback(()=>{q.delete(i,{at:{anchor:D.start(i,[]),focus:D.end(i,[])}})},[i]),E=u.useCallback(()=>{q.select(i,{anchor:D.end(i,[]),focus:D.end(i,[])})},[i]),v=u.useCallback((S=!0)=>{Y.isFocused(i)||(q.select(i,S||!i.selection?D.end(i,[]):i.selection),Y.focus(i))},[i]),y=u.useCallback(()=>{Y.blur(i)},[i]),b=u.useCallback(()=>{C(),y()},[y,C]),A=u.useCallback(()=>{v(),i3(i)},[i,v]),x=u.useCallback(S=>{v(!1),Zp(i,S)},[i,v]),B=u.useCallback(S=>{if(Ai(i,i.children)){S.preventDefault();return}if(t?.(S),!n||S.isDefaultPrevented()){S.preventDefault();return}const _={body:yB(i.children)},j=n(_,S);S.preventDefault(),j?j.then(b):b()},[i,n,t,b]);return $.createElement(vh.Provider,{value:{editor:i,validate:g,setFocused:p}},$.createElement(gh.Provider,{value:{isFocused:d,isEmpty:c,submit:f,clear:C,select:E,focus:v,blur:y,createMention:A,insertText:x}},$.createElement(a,{...o,onSubmit:B,ref:h},e)))}),UB=u.forwardRef(({children:e,disabled:t,asChild:n,...r},o)=>{const s=n?vt:"button",{isEmpty:a}=Xs(),i=Gi(),c=u.useMemo(()=>t||a||(i?!i.canComment:!1),[t,a,i?.canComment]);return $.createElement(s,{type:"submit",...r,ref:o,disabled:c},e)});function Ra(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ta(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function KB(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function bh(...e){return t=>e.forEach(n=>KB(n,t))}function yh(...e){return u.useCallback(bh(...e),e)}function GB(e,t=[]){let n=[];function r(s,a){const i=u.createContext(a),c=n.length;n=[...n,a];function l(p){const{scope:m,children:h,...g}=p,f=m?.[e][c]||i,C=u.useMemo(()=>g,Object.values(g));return u.createElement(f.Provider,{value:C},h)}function d(p,m){const h=m?.[e][c]||i,g=u.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,d]}const o=()=>{const s=n.map(a=>u.createContext(a));return function(i){const c=i?.[e]||s;return u.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return o.scopeName=e,[r,qB(o,...t)]}function qB(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=r.reduce((i,{useScope:c,scopeName:l})=>{const p=c(s)[`__scope${l}`];return{...i,...p}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Pa(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function ZB(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function xh(...e){return t=>e.forEach(n=>ZB(n,t))}function YB(...e){return u.useCallback(xh(...e),e)}const Ah=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),s=o.find(JB);if(s){const a=s.props.children,i=o.map(c=>c===s?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(Oi,ze({},r,{ref:t}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(Oi,ze({},r,{ref:t}),n)});Ah.displayName="Slot";const Oi=u.forwardRef((e,t)=>{const{children:n,...r}=e;return u.isValidElement(n)?u.cloneElement(n,{...QB(r,n.props),ref:t?xh(t,n.ref):n.ref}):u.Children.count(n)>1?u.Children.only(null):null});Oi.displayName="SlotClone";const XB=({children:e})=>u.createElement(u.Fragment,null,e);function JB(e){return u.isValidElement(e)&&e.type===XB}function QB(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...i)=>{s(...i),o(...i)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}const eS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tS=eS.reduce((e,t)=>{const n=u.forwardRef((r,o)=>{const{asChild:s,...a}=r,i=s?Ah:t;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(i,ze({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function nS(e,t){e&&sn.flushSync(()=>e.dispatchEvent(t))}function Bh(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function rS(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function oS(e,t=globalThis?.document){const n=rS(e);u.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Fi="dismissableLayer.update",sS="dismissableLayer.pointerDownOutside",aS="dismissableLayer.focusOutside";let gf;const iS=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uS=u.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:c,...l}=e,d=u.useContext(iS),[p,m]=u.useState(null),h=(n=p?.ownerDocument)!==null&&n!==void 0?n:globalThis?.document,[,g]=u.useState({}),f=YB(t,S=>m(S)),C=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=C.indexOf(E),y=p?C.indexOf(p):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,A=y>=v,x=cS(S=>{const O=S.target,R=[...d.branches].some(_=>_.contains(O));!A||R||(s?.(S),i?.(S),S.defaultPrevented||c?.())},h),B=lS(S=>{const O=S.target;[...d.branches].some(_=>_.contains(O))||(a?.(S),i?.(S),S.defaultPrevented||c?.())},h);return oS(S=>{y===d.layers.size-1&&(o?.(S),!S.defaultPrevented&&c&&(S.preventDefault(),c()))},h),u.useEffect(()=>{if(p)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(gf=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),vf(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=gf)}},[p,h,r,d]),u.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),vf())},[p,d]),u.useEffect(()=>{const S=()=>g({});return document.addEventListener(Fi,S),()=>document.removeEventListener(Fi,S)},[]),u.createElement(tS.div,ze({},l,{ref:f,style:{pointerEvents:b?A?"auto":"none":void 0,...e.style},onFocusCapture:Pa(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Pa(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Pa(e.onPointerDownCapture,x.onPointerDownCapture)}))});function cS(e,t=globalThis?.document){const n=Bh(e),r=u.useRef(!1),o=u.useRef(()=>{});return u.useEffect(()=>{const s=i=>{if(i.target&&!r.current){let l=function(){Sh(sS,n,c,{discrete:!0})};const c={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function lS(e,t=globalThis?.document){const n=Bh(e),r=u.useRef(!1);return u.useEffect(()=>{const o=s=>{s.target&&!r.current&&Sh(aS,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vf(){const e=new CustomEvent(Fi);document.dispatchEvent(e)}function Sh(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?nS(o,s):o.dispatchEvent(s)}let ja=0;function fS(){u.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Cf()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Cf()),ja++,()=>{ja===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ja--}},[])}function Cf(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}function dS(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Oh(...e){return t=>e.forEach(n=>dS(n,t))}function pS(...e){return u.useCallback(Oh(...e),e)}const Fh=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),s=o.find(hS);if(s){const a=s.props.children,i=o.map(c=>c===s?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(Ii,ze({},r,{ref:t}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(Ii,ze({},r,{ref:t}),n)});Fh.displayName="Slot";const Ii=u.forwardRef((e,t)=>{const{children:n,...r}=e;return u.isValidElement(n)?u.cloneElement(n,{...gS(r,n.props),ref:t?Oh(t,n.ref):n.ref}):u.Children.count(n)>1?u.Children.only(null):null});Ii.displayName="SlotClone";const mS=({children:e})=>u.createElement(u.Fragment,null,e);function hS(e){return u.isValidElement(e)&&e.type===mS}function gS(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...i)=>{s(...i),o(...i)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}const vS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],CS=vS.reduce((e,t)=>{const n=u.forwardRef((r,o)=>{const{asChild:s,...a}=r,i=s?Fh:t;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(i,ze({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Df(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const ka="focusScope.autoFocusOnMount",Ma="focusScope.autoFocusOnUnmount",Ef={bubbles:!1,cancelable:!0},DS=u.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...a}=e,[i,c]=u.useState(null),l=Df(o),d=Df(s),p=u.useRef(null),m=pS(t,f=>c(f)),h=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(r){let f=function(y){if(h.paused||!i)return;const b=y.target;i.contains(b)?p.current=b:dn(p.current,{select:!0})},C=function(y){if(h.paused||!i)return;const b=y.relatedTarget;b!==null&&(i.contains(b)||dn(p.current,{select:!0}))},E=function(y){if(document.activeElement===document.body)for(const A of y)A.removedNodes.length>0&&dn(i)};document.addEventListener("focusin",f),document.addEventListener("focusout",C);const v=new MutationObserver(E);return i&&v.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",C),v.disconnect()}}},[r,i,h.paused]),u.useEffect(()=>{if(i){bf.add(h);const f=document.activeElement;if(!i.contains(f)){const E=new CustomEvent(ka,Ef);i.addEventListener(ka,l),i.dispatchEvent(E),E.defaultPrevented||(ES(AS(Ih(i)),{select:!0}),document.activeElement===f&&dn(i))}return()=>{i.removeEventListener(ka,l),setTimeout(()=>{const E=new CustomEvent(Ma,Ef);i.addEventListener(Ma,d),i.dispatchEvent(E),E.defaultPrevented||dn(f??document.body,{select:!0}),i.removeEventListener(Ma,d),bf.remove(h)},0)}}},[i,l,d,h]);const g=u.useCallback(f=>{if(!n&&!r||h.paused)return;const C=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,E=document.activeElement;if(C&&E){const v=f.currentTarget,[y,b]=wS(v);y&&b?!f.shiftKey&&E===b?(f.preventDefault(),n&&dn(y,{select:!0})):f.shiftKey&&E===y&&(f.preventDefault(),n&&dn(b,{select:!0})):E===v&&f.preventDefault()}},[n,r,h.paused]);return u.createElement(CS.div,ze({tabIndex:-1},a,{ref:m,onKeyDown:g}))});function ES(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(dn(r,{select:t}),document.activeElement!==n)return}function wS(e){const t=Ih(e),n=wf(t,e),r=wf(t.reverse(),e);return[n,r]}function Ih(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function wf(e,t){for(const n of e)if(!bS(n,{upTo:t}))return n}function bS(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function yS(e){return e instanceof HTMLInputElement&&"select"in e}function dn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&yS(e)&&t&&e.select()}}const bf=xS();function xS(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=yf(e,t),e.unshift(t)},remove(t){var n;e=yf(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function yf(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function AS(e){return e.filter(t=>t.tagName!=="A")}const $i=globalThis?.document?u.useLayoutEffect:()=>{},BS=c0.useId||(()=>{});let SS=0;function OS(e){const[t,n]=u.useState(BS());return $i(()=>{e||n(r=>r??String(SS++))},[e]),e||(t?`radix-${t}`:"")}const FS=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Sl({element:r.current,padding:o}).fn(n):{}:r?Sl({element:r,padding:o}).fn(n):{}}}};var Yo=typeof document<"u"?u.useLayoutEffect:u.useEffect;function bs(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!bs(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!bs(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function $h(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xf(e,t){const n=$h(e);return Math.round(t*n)/n}function Af(e){const t=u.useRef(e);return Yo(()=>{t.current=e}),t}function IS(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:a}={},transform:i=!0,whileElementsMounted:c,open:l}=e,[d,p]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=u.useState(r);bs(m,r)||h(r);const[g,f]=u.useState(null),[C,E]=u.useState(null),v=u.useCallback(N=>{N!==x.current&&(x.current=N,f(N))},[]),y=u.useCallback(N=>{N!==B.current&&(B.current=N,E(N))},[]),b=s||g,A=a||C,x=u.useRef(null),B=u.useRef(null),S=u.useRef(d),O=c!=null,R=Af(c),_=Af(o),j=u.useCallback(()=>{if(!x.current||!B.current)return;const N={placement:t,strategy:n,middleware:m};_.current&&(N.platform=_.current),Dm(x.current,B.current,N).then(X=>{const V={...X,isPositioned:!0};H.current&&!bs(S.current,V)&&(S.current=V,sn.flushSync(()=>{p(V)}))})},[m,t,n,_]);Yo(()=>{l===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(N=>({...N,isPositioned:!1})))},[l]);const H=u.useRef(!1);Yo(()=>(H.current=!0,()=>{H.current=!1}),[]),Yo(()=>{if(b&&(x.current=b),A&&(B.current=A),b&&A){if(R.current)return R.current(b,A,j);j()}},[b,A,j,R,O]);const k=u.useMemo(()=>({reference:x,floating:B,setReference:v,setFloating:y}),[v,y]),P=u.useMemo(()=>({reference:b,floating:A}),[b,A]),G=u.useMemo(()=>{const N={position:n,left:0,top:0};if(!P.floating)return N;const X=xf(P.floating,d.x),V=xf(P.floating,d.y);return i?{...N,transform:"translate("+X+"px, "+V+"px)",...$h(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:V}},[n,i,P.floating,d.x,d.y]);return u.useMemo(()=>({...d,update:j,refs:k,elements:P,floatingStyles:G}),[d,j,k,P,G])}function $S(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function RS(...e){return t=>e.forEach(n=>$S(n,t))}const Rh=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),s=o.find(PS);if(s){const a=s.props.children,i=o.map(c=>c===s?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(Ri,ze({},r,{ref:t}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(Ri,ze({},r,{ref:t}),n)});Rh.displayName="Slot";const Ri=u.forwardRef((e,t)=>{const{children:n,...r}=e;return u.isValidElement(n)?u.cloneElement(n,{...jS(r,n.props),ref:t?RS(t,n.ref):n.ref}):u.Children.count(n)>1?u.Children.only(null):null});Ri.displayName="SlotClone";const TS=({children:e})=>u.createElement(u.Fragment,null,e);function PS(e){return u.isValidElement(e)&&e.type===TS}function jS(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...i)=>{s(...i),o(...i)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}const kS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],hI=kS.reduce((e,t)=>{const n=u.forwardRef((r,o)=>{const{asChild:s,...a}=r,i=s?Rh:t;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(i,ze({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function MS(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Th(...e){return t=>e.forEach(n=>MS(n,t))}function Ph(...e){return u.useCallback(Th(...e),e)}function NS(e,t=[]){let n=[];function r(s,a){const i=u.createContext(a),c=n.length;n=[...n,a];function l(p){const{scope:m,children:h,...g}=p,f=m?.[e][c]||i,C=u.useMemo(()=>g,Object.values(g));return u.createElement(f.Provider,{value:C},h)}function d(p,m){const h=m?.[e][c]||i,g=u.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,d]}const o=()=>{const s=n.map(a=>u.createContext(a));return function(i){const c=i?.[e]||s;return u.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return o.scopeName=e,[r,LS(o,...t)]}function LS(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=r.reduce((i,{useScope:c,scopeName:l})=>{const p=c(s)[`__scope${l}`];return{...i,...p}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}const jh=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),s=o.find(zS);if(s){const a=s.props.children,i=o.map(c=>c===s?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(Ti,ze({},r,{ref:t}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(Ti,ze({},r,{ref:t}),n)});jh.displayName="Slot";const Ti=u.forwardRef((e,t)=>{const{children:n,...r}=e;return u.isValidElement(n)?u.cloneElement(n,{...HS(r,n.props),ref:t?Th(t,n.ref):n.ref}):u.Children.count(n)>1?u.Children.only(null):null});Ti.displayName="SlotClone";const _S=({children:e})=>u.createElement(u.Fragment,null,e);function zS(e){return u.isValidElement(e)&&e.type===_S}function HS(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...i)=>{s(...i),o(...i)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}const VS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],kh=VS.reduce((e,t)=>{const n=u.forwardRef((r,o)=>{const{asChild:s,...a}=r,i=s?jh:t;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(i,ze({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function WS(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const Bf=globalThis?.document?u.useLayoutEffect:()=>{},US=globalThis?.document?u.useLayoutEffect:()=>{};function KS(e){const[t,n]=u.useState(void 0);return US(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let a,i;if("borderBoxSize"in s){const c=s.borderBoxSize,l=Array.isArray(c)?c[0]:c;a=l.inlineSize,i=l.blockSize}else a=e.offsetWidth,i=e.offsetHeight;n({width:a,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const Mh="Popper",[Nh,Lh]=NS(Mh),[GS,_h]=Nh(Mh),qS=e=>{const{__scopePopper:t,children:n}=e,[r,o]=u.useState(null);return u.createElement(GS,{scope:t,anchor:r,onAnchorChange:o},n)},ZS="PopperAnchor",YS=u.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=_h(ZS,n),a=u.useRef(null),i=Ph(t,a);return u.useEffect(()=>{s.onAnchorChange(r?.current||a.current)}),r?null:u.createElement(kh.div,ze({},o,{ref:i}))}),zh="PopperContent",[XS,gI]=Nh(zh),JS=u.forwardRef((e,t)=>{var n,r,o,s,a,i,c,l;const{__scopePopper:d,side:p="bottom",sideOffset:m=0,align:h="center",alignOffset:g=0,arrowPadding:f=0,avoidCollisions:C=!0,collisionBoundary:E=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:A="optimized",onPlaced:x,...B}=e,S=_h(zh,d),[O,R]=u.useState(null),_=Ph(t,oe=>R(oe)),[j,H]=u.useState(null),k=KS(j),P=(n=k?.width)!==null&&n!==void 0?n:0,G=(r=k?.height)!==null&&r!==void 0?r:0,N=p+(h!=="center"?"-"+h:""),X=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},V=Array.isArray(E)?E:[E],J=V.length>0,re={padding:X,boundary:V.filter(QS),altBoundary:J},{refs:K,floatingStyles:Q,placement:F,isPositioned:L,middlewareData:U}=IS({strategy:"fixed",placement:N,whileElementsMounted:(...oe)=>pm(...oe,{animationFrame:A==="always"}),elements:{reference:S.anchor},middleware:[A3({mainAxis:m+G,alignmentAxis:g}),C&&mm({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?Cm():void 0,...re}),C&&hm({...re}),gm({...re,apply:({elements:oe,rects:de,availableWidth:ge,availableHeight:Me})=>{const{width:Pe,height:_e}=de.reference,Te=oe.floating.style;Te.setProperty("--radix-popper-available-width",`${ge}px`),Te.setProperty("--radix-popper-available-height",`${Me}px`),Te.setProperty("--radix-popper-anchor-width",`${Pe}px`),Te.setProperty("--radix-popper-anchor-height",`${_e}px`)}}),j&&FS({element:j,padding:f}),eO({arrowWidth:P,arrowHeight:G}),b&&vm({strategy:"referenceHidden",...re})]}),[M,W]=Hh(F),Z=WS(x);Bf(()=>{L&&Z?.()},[L,Z]);const ne=(o=U.arrow)===null||o===void 0?void 0:o.x,pe=(s=U.arrow)===null||s===void 0?void 0:s.y,ce=((a=U.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,[De,he]=u.useState();return Bf(()=>{O&&he(window.getComputedStyle(O).zIndex)},[O]),u.createElement("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:L?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(i=U.transformOrigin)===null||i===void 0?void 0:i.x,(c=U.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},u.createElement(XS,{scope:d,placedSide:M,onArrowChange:H,arrowX:ne,arrowY:pe,shouldHideArrow:ce},u.createElement(kh.div,ze({"data-side":M,"data-align":W},B,{ref:_,style:{...B.style,animation:L?void 0:"none",opacity:(l=U.hide)!==null&&l!==void 0&&l.referenceHidden?0:void 0}}))))});function QS(e){return e!==null}const eO=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,s,a;const{placement:i,rects:c,middlewareData:l}=t,p=((n=l.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,m=p?0:e.arrowWidth,h=p?0:e.arrowHeight,[g,f]=Hh(i),C={start:"0%",center:"50%",end:"100%"}[f],E=((r=(o=l.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+m/2,v=((s=(a=l.arrow)===null||a===void 0?void 0:a.y)!==null&&s!==void 0?s:0)+h/2;let y="",b="";return g==="bottom"?(y=p?C:`${E}px`,b=`${-h}px`):g==="top"?(y=p?C:`${E}px`,b=`${c.floating.height+h}px`):g==="right"?(y=`${-h}px`,b=p?C:`${v}px`):g==="left"&&(y=`${c.floating.width+h}px`,b=p?C:`${v}px`),{data:{x:y,y:b}}}});function Hh(e){const[t,n="center"]=e.split("-");return[t,n]}const tO=qS,nO=YS,rO=JS;function oO(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function sO(...e){return t=>e.forEach(n=>oO(n,t))}const Vh=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),s=o.find(iO);if(s){const a=s.props.children,i=o.map(c=>c===s?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(Pi,ze({},r,{ref:t}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(Pi,ze({},r,{ref:t}),n)});Vh.displayName="Slot";const Pi=u.forwardRef((e,t)=>{const{children:n,...r}=e;return u.isValidElement(n)?u.cloneElement(n,{...uO(r,n.props),ref:t?sO(t,n.ref):n.ref}):u.Children.count(n)>1?u.Children.only(null):null});Pi.displayName="SlotClone";const aO=({children:e})=>u.createElement(u.Fragment,null,e);function iO(e){return u.isValidElement(e)&&e.type===aO}function uO(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...i)=>{s(...i),o(...i)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}const cO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],lO=cO.reduce((e,t)=>{const n=u.forwardRef((r,o)=>{const{asChild:s,...a}=r,i=s?Vh:t;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(i,ze({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),fO=u.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?Ts.createPortal(u.createElement(lO.div,ze({},o,{ref:t})),r):null});function dO(e,t){return u.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const Ku=e=>{const{present:t,children:n}=e,r=pO(t),o=typeof n=="function"?n({present:r.isPresent}):u.Children.only(n),s=yh(r.ref,o.ref);return typeof n=="function"||r.isPresent?u.cloneElement(o,{ref:s}):null};Ku.displayName="Presence";function pO(e){const[t,n]=u.useState(),r=u.useRef({}),o=u.useRef(e),s=u.useRef("none"),a=e?"mounted":"unmounted",[i,c]=dO(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const l=jo(r.current);s.current=i==="mounted"?l:"none"},[i]),$i(()=>{const l=r.current,d=o.current;if(d!==e){const m=s.current,h=jo(l);e?c("MOUNT"):h==="none"||l?.display==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),$i(()=>{if(t){const l=p=>{const h=jo(r.current).includes(p.animationName);p.target===t&&h&&sn.flushSync(()=>c("ANIMATION_END"))},d=p=>{p.target===t&&(s.current=jo(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:u.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function jo(e){return e?.animationName||"none"}const Wh=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),s=o.find(hO);if(s){const a=s.props.children,i=o.map(c=>c===s?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(ji,ze({},r,{ref:t}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(ji,ze({},r,{ref:t}),n)});Wh.displayName="Slot";const ji=u.forwardRef((e,t)=>{const{children:n,...r}=e;return u.isValidElement(n)?u.cloneElement(n,{...gO(r,n.props),ref:t?bh(t,n.ref):n.ref}):u.Children.count(n)>1?u.Children.only(null):null});ji.displayName="SlotClone";const mO=({children:e})=>u.createElement(u.Fragment,null,e);function hO(e){return u.isValidElement(e)&&e.type===mO}function gO(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...i)=>{s(...i),o(...i)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function Uh(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function vO({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=CO({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,i=Uh(n),c=u.useCallback(l=>{if(s){const p=typeof l=="function"?l(e):l;p!==e&&i(p)}else o(l)},[s,e,o,i]);return[a,c]}function CO({defaultProp:e,onChange:t}){const n=u.useState(e),[r]=n,o=u.useRef(r),s=Uh(t);return u.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var DO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xn=new WeakMap,ko=new WeakMap,Mo={},Na=0,EO=function(e,t,n){t===void 0&&(t=DO(e)),n===void 0&&(n="data-aria-hidden");var r=Array.isArray(e)?e:[e];Mo[n]||(Mo[n]=new WeakMap);var o=Mo[n],s=[],a=new Set,i=function(l){!l||a.has(l)||(a.add(l),i(l.parentNode))};r.forEach(i);var c=function(l){!l||r.indexOf(l)>=0||Array.prototype.forEach.call(l.children,function(d){if(a.has(d))c(d);else{var p=d.getAttribute("aria-hidden"),m=p!==null&&p!=="false",h=(Xn.get(d)||0)+1,g=(o.get(d)||0)+1;Xn.set(d,h),o.set(d,g),s.push(d),h===1&&m&&ko.set(d,!0),g===1&&d.setAttribute(n,"true"),m||d.setAttribute("aria-hidden","true")}})};return c(t),a.clear(),Na++,function(){s.forEach(function(l){var d=Xn.get(l)-1,p=o.get(l)-1;Xn.set(l,d),o.set(l,p),d||(ko.has(l)||l.removeAttribute("aria-hidden"),ko.delete(l)),p||l.removeAttribute(n)}),Na--,Na||(Xn=new WeakMap,Xn=new WeakMap,ko=new WeakMap,Mo={})}},Xo="right-scroll-bar-position",Jo="width-before-scroll-bar",wO="with-scroll-bars-hidden",bO="--removed-body-scroll-bar-size",Kh=K0(),La=function(){},Js=u.forwardRef(function(e,t){var n=u.useRef(null),r=u.useState({onScrollCapture:La,onWheelCapture:La,onTouchMoveCapture:La}),o=r[0],s=r[1],a=e.forwardProps,i=e.children,c=e.className,l=e.removeScrollBar,d=e.enabled,p=e.shards,m=e.sideCar,h=e.noIsolation,g=e.inert,f=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,v=ud(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=m,b=G0([n,t]),A=Pn(Pn({},v),o);return u.createElement(u.Fragment,null,d&&u.createElement(y,{sideCar:Kh,removeScrollBar:l,shards:p,noIsolation:h,inert:g,setCallbacks:s,allowPinchZoom:!!f,lockRef:n}),a?u.cloneElement(u.Children.only(i),Pn(Pn({},A),{ref:b})):u.createElement(E,Pn({},A,{className:c,ref:b}),i))});Js.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Js.classNames={fullWidth:Jo,zeroRight:Xo};var yO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yO();return t&&e.setAttribute("nonce",t),e}function AO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var SO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=xO())&&(AO(t,n),BO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},OO=function(){var e=SO();return function(t,n){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Gh=function(){var e=OO(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},FO={left:0,top:0,right:0,gap:0},_a=function(e){return parseInt(e||"",10)||0},IO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[_a(n),_a(r),_a(o)]},$O=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return FO;var t=IO(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},RO=Gh(),TO=function(e,t,n,r){var o=e.left,s=e.top,a=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xo,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Jo,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Xo," .").concat(Xo,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jo," .").concat(Jo,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(bO,": ").concat(i,`px;
  }
`)},PO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,s=u.useMemo(function(){return $O(o)},[o]);return u.createElement(RO,{styles:TO(s,!t,o,n?"":"!important")})},ki=!1;if(typeof window<"u")try{var No=Object.defineProperty({},"passive",{get:function(){return ki=!0,!0}});window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{ki=!1}var Jn=ki?{passive:!1}:!1,jO=function(e){return e.tagName==="TEXTAREA"},qh=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!jO(e)&&n[t]==="visible")},kO=function(e){return qh(e,"overflowY")},MO=function(e){return qh(e,"overflowX")},Sf=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Zh(e,n);if(r){var o=Yh(e,n),s=o[1],a=o[2];if(s>a)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},NO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},LO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Zh=function(e,t){return e==="v"?kO(t):MO(t)},Yh=function(e,t){return e==="v"?NO(t):LO(t)},_O=function(e,t){return e==="h"&&t==="rtl"?-1:1},zO=function(e,t,n,r,o){var s=_O(e,window.getComputedStyle(t).direction),a=s*r,i=n.target,c=t.contains(i),l=!1,d=a>0,p=0,m=0;do{var h=Yh(e,i),g=h[0],f=h[1],C=h[2],E=f-C-s*g;(g||E)&&Zh(e,i)&&(p+=E,m+=g),i=i.parentNode}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(d&&(o&&p===0||!o&&a>p)||!d&&(o&&m===0||!o&&-a>m))&&(l=!0),l},Lo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Of=function(e){return[e.deltaX,e.deltaY]},Ff=function(e){return e&&"current"in e?e.current:e},HO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},WO=0,Qn=[];function UO(e){var t=u.useRef([]),n=u.useRef([0,0]),r=u.useRef(),o=u.useState(WO++)[0],s=u.useState(function(){return Gh()})[0],a=u.useRef(e);u.useEffect(function(){a.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var f=l0([e.lockRef.current],(e.shards||[]).map(Ff),!0).filter(Boolean);return f.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),f.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=u.useCallback(function(f,C){if("touches"in f&&f.touches.length===2)return!a.current.allowPinchZoom;var E=Lo(f),v=n.current,y="deltaX"in f?f.deltaX:v[0]-E[0],b="deltaY"in f?f.deltaY:v[1]-E[1],A,x=f.target,B=Math.abs(y)>Math.abs(b)?"h":"v";if("touches"in f&&B==="h"&&x.type==="range")return!1;var S=Sf(B,x);if(!S)return!0;if(S?A=B:(A=B==="v"?"h":"v",S=Sf(B,x)),!S)return!1;if(!r.current&&"changedTouches"in f&&(y||b)&&(r.current=A),!A)return!0;var O=r.current||A;return zO(O,C,f,O==="h"?y:b,!0)},[]),c=u.useCallback(function(f){var C=f;if(!(!Qn.length||Qn[Qn.length-1]!==s)){var E="deltaY"in C?Of(C):Lo(C),v=t.current.filter(function(A){return A.name===C.type&&A.target===C.target&&HO(A.delta,E)})[0];if(v&&v.should){C.cancelable&&C.preventDefault();return}if(!v){var y=(a.current.shards||[]).map(Ff).filter(Boolean).filter(function(A){return A.contains(C.target)}),b=y.length>0?i(C,y[0]):!a.current.noIsolation;b&&C.cancelable&&C.preventDefault()}}},[]),l=u.useCallback(function(f,C,E,v){var y={name:f,delta:C,target:E,should:v};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(b){return b!==y})},1)},[]),d=u.useCallback(function(f){n.current=Lo(f),r.current=void 0},[]),p=u.useCallback(function(f){l(f.type,Of(f),f.target,i(f,e.lockRef.current))},[]),m=u.useCallback(function(f){l(f.type,Lo(f),f.target,i(f,e.lockRef.current))},[]);u.useEffect(function(){return Qn.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Jn),document.addEventListener("touchmove",c,Jn),document.addEventListener("touchstart",d,Jn),function(){Qn=Qn.filter(function(f){return f!==s}),document.removeEventListener("wheel",c,Jn),document.removeEventListener("touchmove",c,Jn),document.removeEventListener("touchstart",d,Jn)}},[]);var h=e.removeScrollBar,g=e.inert;return u.createElement(u.Fragment,null,g?u.createElement(s,{styles:VO(o)}):null,h?u.createElement(PO,{gapMode:"margin"}):null)}const KO=Dw(Kh,UO);var Xh=u.forwardRef(function(e,t){return u.createElement(Js,Pn({},e,{ref:t,sideCar:KO}))});Xh.classNames=Js.classNames;const GO=Xh,Jh="Popover",[Qh,vI]=GB(Jh,[Lh]),Gu=Lh(),[qO,Er]=Qh(Jh),ZO=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:a=!1}=e,i=Gu(t),c=u.useRef(null),[l,d]=u.useState(!1),[p=!1,m]=vO({prop:r,defaultProp:o,onChange:s});return u.createElement(tO,i,u.createElement(qO,{scope:t,contentId:OS(),triggerRef:c,open:p,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:l,onCustomAnchorAdd:u.useCallback(()=>d(!0),[]),onCustomAnchorRemove:u.useCallback(()=>d(!1),[]),modal:a},n))},YO="PopoverAnchor",XO=u.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Er(YO,n),s=Gu(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:i}=o;return u.useEffect(()=>(a(),()=>i()),[a,i]),u.createElement(nO,ze({},s,r,{ref:t}))}),eg="PopoverPortal",[JO,QO]=Qh(eg,{forceMount:void 0}),e5=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,s=Er(eg,t);return u.createElement(JO,{scope:t,forceMount:n},u.createElement(Ku,{present:n||s.open},u.createElement(fO,{asChild:!0,container:o},r)))},eo="PopoverContent",t5=u.forwardRef((e,t)=>{const n=QO(eo,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,s=Er(eo,e.__scopePopover);return u.createElement(Ku,{present:r||s.open},s.modal?u.createElement(n5,ze({},o,{ref:t})):u.createElement(r5,ze({},o,{ref:t})))}),n5=u.forwardRef((e,t)=>{const n=Er(eo,e.__scopePopover),r=u.useRef(null),o=yh(t,r),s=u.useRef(!1);return u.useEffect(()=>{const a=r.current;if(a)return EO(a)},[]),u.createElement(GO,{as:Wh,allowPinchZoom:!0},u.createElement(tg,ze({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ta(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),s.current||(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:Ta(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,l=i.button===2||c;s.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:Ta(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})))}),r5=u.forwardRef((e,t)=>{const n=Er(eo,e.__scopePopover),r=u.useRef(!1),o=u.useRef(!1);return u.createElement(tg,ze({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,s),!s.defaultPrevented){var i;r.current||(i=n.triggerRef.current)===null||i===void 0||i.focus(),s.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:s=>{var a,i;(a=e.onInteractOutside)===null||a===void 0||a.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=s.target;((i=n.triggerRef.current)===null||i===void 0?void 0:i.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}}))}),tg=u.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:d,...p}=e,m=Er(eo,n),h=Gu(n);return fS(),u.createElement(DS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s},u.createElement(uS,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>m.onOpenChange(!1)},u.createElement(rO,ze({"data-state":o5(m.open),role:"dialog",id:m.contentId},h,p,{ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function o5(e){return e?"open":"closed"}const Qs=ZO,ea=XO,ta=e5,na=t5,ra=0,Fn=1,wr=2,ng=4;function rg(e,t){return n=>e(t(n))}function s5(e,t){return t(e)}function og(e,t){return n=>e(t,n)}function If(e,t){return()=>e(t)}function oa(e,t){return t(e),e}function Ge(...e){return e}function a5(e){e()}function $f(e){return()=>e}function i5(...e){return()=>{e.map(a5)}}function qu(e){return e!==void 0}function br(){}function Ne(e,t){return e(Fn,t)}function Fe(e,t){e(ra,t)}function Zu(e){e(wr)}function ut(e){return e(ng)}function ve(e,t){return Ne(e,og(t,ra))}function Zt(e,t){const n=e(Fn,r=>{n(),t(r)});return n}function je(){const e=[];return(t,n)=>{switch(t){case wr:e.splice(0,e.length);return;case Fn:return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)};case ra:e.slice().forEach(r=>{r(n)});return;default:throw new Error(`unrecognized action ${t}`)}}}function ae(e){let t=e;const n=je();return(r,o)=>{switch(r){case Fn:o(t);break;case ra:t=o;break;case ng:return t}return n(r,o)}}function u5(e){let t,n;const r=()=>t&&t();return function(o,s){switch(o){case Fn:return s?n===s?void 0:(r(),n=s,t=Ne(e,s),t):(r(),br);case wr:r(),n=null;return;default:throw new Error(`unrecognized action ${o}`)}}}function Bt(e){return oa(je(),t=>ve(e,t))}function dt(e,t){return oa(ae(t),n=>ve(e,n))}function c5(...e){return t=>e.reduceRight(s5,t)}function ee(e,...t){const n=c5(...t);return(r,o)=>{switch(r){case Fn:return Ne(e,n(o));case wr:Zu(e);return}}}function sg(e,t){return e===t}function Ke(e=sg){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function ye(e){return t=>n=>{e(n)&&t(n)}}function me(e){return t=>rg(t,e)}function Wt(e){return t=>()=>t(e)}function Ut(e,t){return n=>r=>n(t=e(t,r))}function hr(e){return t=>n=>{e>0?e--:t(n)}}function Cn(e){let t=null,n;return r=>o=>{t=o,!n&&(n=setTimeout(()=>{n=void 0,r(t)},e))}}function Rf(e){let t,n;return r=>o=>{t=o,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function $e(...e){const t=new Array(e.length);let n=0,r=null;const o=Math.pow(2,e.length)-1;return e.forEach((s,a)=>{const i=Math.pow(2,a);Ne(s,c=>{const l=n;n=n|i,t[a]=c,l!==o&&n===o&&r&&(r(),r=null)})}),s=>a=>{const i=()=>s([a].concat(t));n===o?i():r=i}}function Tf(...e){return function(t,n){switch(t){case Fn:return i5(...e.map(r=>Ne(r,n)));case wr:return;default:throw new Error(`unrecognized action ${t}`)}}}function be(e,t=sg){return ee(e,Ke(t))}function at(...e){const t=je(),n=new Array(e.length);let r=0;const o=Math.pow(2,e.length)-1;return e.forEach((s,a)=>{const i=Math.pow(2,a);Ne(s,c=>{n[a]=c,r=r|i,r===o&&Fe(t,n)})}),function(s,a){switch(s){case Fn:return r===o&&a(n),Ne(t,a);case wr:return Zu(t);default:throw new Error(`unrecognized action ${s}`)}}}function Le(e,t=[],{singleton:n}={singleton:!0}){return{id:l5(),constructor:e,dependencies:t,singleton:n}}const l5=()=>Symbol();function f5(e){const t=new Map,n=({id:r,constructor:o,dependencies:s,singleton:a})=>{if(a&&t.has(r))return t.get(r);const i=o(s.map(c=>n(c)));return a&&t.set(r,i),i};return n(e)}function d5(e,t){const n={},r={};let o=0;const s=e.length;for(;o<s;)r[e[o]]=1,o+=1;for(const a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}const _o=typeof document<"u"?$.useLayoutEffect:$.useEffect;function ag(e,t,n){const r=Object.keys(t.required||{}),o=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),a=Object.keys(t.events||{}),i=$.createContext({});function c(E,v){E.propsReady&&Fe(E.propsReady,!1);for(const y of r){const b=E[t.required[y]];Fe(b,v[y])}for(const y of o)if(y in v){const b=E[t.optional[y]];Fe(b,v[y])}E.propsReady&&Fe(E.propsReady,!0)}function l(E){return s.reduce((v,y)=>(v[y]=b=>{const A=E[t.methods[y]];Fe(A,b)},v),{})}function d(E){return a.reduce((v,y)=>(v[y]=u5(E[t.events[y]]),v),{})}const p=$.forwardRef((E,v)=>{const{children:y,...b}=E,[A]=$.useState(()=>oa(f5(e),S=>c(S,b))),[x]=$.useState(If(d,A));_o(()=>{for(const S of a)S in b&&Ne(x[S],b[S]);return()=>{Object.values(x).map(Zu)}},[b,x,A]),_o(()=>{c(A,b)}),$.useImperativeHandle(v,$f(l(A)));const B=n;return w.jsx(i.Provider,{value:A,children:n?w.jsx(B,{...d5([...r,...o,...a],b),children:y}):y})}),m=E=>$.useCallback(og(Fe,$.useContext(i)[E]),[E]),h=E=>{const y=$.useContext(i)[E],b=$.useCallback(A=>Ne(y,A),[y]);return $.useSyncExternalStore(b,()=>ut(y),()=>ut(y))},g=E=>{const y=$.useContext(i)[E],[b,A]=$.useState(If(ut,y));return _o(()=>Ne(y,x=>{x!==b&&A($f(x))}),[y,b]),b},f=$.version.startsWith("18")?h:g;return{Component:p,usePublisher:m,useEmitterValue:f,useEmitter:(E,v)=>{const b=$.useContext(i)[E];_o(()=>Ne(b,v),[v,b])}}}const ig=typeof document<"u"?$.useLayoutEffect:$.useEffect;var St=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(St||{});const p5={0:"debug",1:"log",2:"warn",3:"error"},m5=()=>typeof globalThis>"u"?window:globalThis,In=Le(()=>{const e=ae(3);return{log:ae((n,r,o=1)=>{var s;const a=(s=m5().VIRTUOSO_LOG_LEVEL)!=null?s:ut(e);o>=a&&console[p5[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,r)}),logLevel:e}},[],{singleton:!0});function Yu(e,t,n){const r=$.useRef(null);let o=s=>{};if(typeof ResizeObserver<"u"){const s=$.useMemo(()=>new ResizeObserver(a=>{const i=()=>{const c=a[0].target;c.offsetParent!==null&&e(c)};n?i():requestAnimationFrame(i)}),[e]);o=a=>{a&&t?(s.observe(a),r.current=a):(r.current&&s.unobserve(r.current),r.current=null)}}return{ref:r,callbackRef:o}}function Gn(e,t,n){return Yu(e,t,n).callbackRef}function h5(e,t,n,r,o,s,a,i,c){const l=$.useCallback(d=>{const p=g5(d.children,t,i?"offsetWidth":"offsetHeight",o);let m=d.parentElement;for(;!m.dataset.virtuosoScroller;)m=m.parentElement;const h=m.lastElementChild.dataset.viewportType==="window",g=a?i?a.scrollLeft:a.scrollTop:h?i?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:i?m.scrollLeft:m.scrollTop,f=a?i?a.scrollWidth:a.scrollHeight:h?i?document.documentElement.scrollWidth:document.documentElement.scrollHeight:i?m.scrollWidth:m.scrollHeight,C=a?i?a.offsetWidth:a.offsetHeight:h?i?window.innerWidth:window.innerHeight:i?m.offsetWidth:m.offsetHeight;r({scrollTop:Math.max(g,0),scrollHeight:f,viewportHeight:C}),s?.(i?Pf("column-gap",getComputedStyle(d).columnGap,o):Pf("row-gap",getComputedStyle(d).rowGap,o)),p!==null&&e(p)},[e,t,o,s,a,r]);return Yu(l,n,c)}function g5(e,t,n,r){const o=e.length;if(o===0)return null;const s=[];for(let a=0;a<o;a++){const i=e.item(a);if(!i||i.dataset.index===void 0)continue;const c=parseInt(i.dataset.index),l=parseFloat(i.dataset.knownSize),d=t(i,n);if(d===0&&r("Zero-sized element, this should not happen",{child:i},St.ERROR),d===l)continue;const p=s[s.length-1];s.length===0||p.size!==d||p.endIndex!==c-1?s.push({startIndex:c,endIndex:c,size:d}):s[s.length-1].endIndex++}return s}function Pf(e,t,n){return t!=="normal"&&!t?.endsWith("px")&&n(`${e} was not resolved to pixel value correctly`,t,St.WARN),t==="normal"?0:parseInt(t??"0",10)}function Bn(e,t){return Math.round(e.getBoundingClientRect()[t])}function ug(e,t){return Math.abs(e-t)<1.01}function cg(e,t,n,r=br,o,s){const a=$.useRef(null),i=$.useRef(null),c=$.useRef(null),l=$.useCallback(m=>{const h=m.target,g=h===window||h===document,f=s?g?window.pageXOffset||document.documentElement.scrollLeft:h.scrollLeft:g?window.pageYOffset||document.documentElement.scrollTop:h.scrollTop,C=s?g?document.documentElement.scrollWidth:h.scrollWidth:g?document.documentElement.scrollHeight:h.scrollHeight,E=s?g?window.innerWidth:h.offsetWidth:g?window.innerHeight:h.offsetHeight,v=()=>{e({scrollTop:Math.max(f,0),scrollHeight:C,viewportHeight:E})};m.suppressFlushSync?v():Ts.flushSync(v),i.current!==null&&(f===i.current||f<=0||f===C-E)&&(i.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t]);$.useEffect(()=>{const m=o||a.current;return r(o||a.current),l({target:m,suppressFlushSync:!0}),m.addEventListener("scroll",l,{passive:!0}),()=>{r(null),m.removeEventListener("scroll",l)}},[a,l,n,r,o]);function d(m){const h=a.current;if(!h||(s?"offsetWidth"in h&&h.offsetWidth===0:"offsetHeight"in h&&h.offsetHeight===0))return;const g=m.behavior==="smooth";let f,C,E;h===window?(C=Math.max(Bn(document.documentElement,s?"width":"height"),s?document.documentElement.scrollWidth:document.documentElement.scrollHeight),f=s?window.innerWidth:window.innerHeight,E=s?document.documentElement.scrollLeft:document.documentElement.scrollTop):(C=h[s?"scrollWidth":"scrollHeight"],f=Bn(h,s?"width":"height"),E=h[s?"scrollLeft":"scrollTop"]);const v=C-f;if(m.top=Math.ceil(Math.max(Math.min(v,m.top),0)),ug(f,C)||m.top===E){e({scrollTop:E,scrollHeight:C,viewportHeight:f}),g&&t(!0);return}g?(i.current=m.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,i.current=null,t(!0)},1e3)):i.current=null,s&&(m={left:m.top,behavior:m.behavior}),h.scrollTo(m)}function p(m){s&&(m={left:m.top,behavior:m.behavior}),a.current.scrollBy(m)}return{scrollerRef:a,scrollByCallback:p,scrollToCallback:d}}const Dt=Le(()=>{const e=je(),t=je(),n=ae(0),r=je(),o=ae(0),s=je(),a=je(),i=ae(0),c=ae(0),l=ae(0),d=ae(0),p=je(),m=je(),h=ae(!1),g=ae(!1),f=ae(!1);return ve(ee(e,me(({scrollTop:C})=>C)),t),ve(ee(e,me(({scrollHeight:C})=>C)),a),ve(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:s,headerHeight:i,fixedHeaderHeight:c,fixedFooterHeight:l,footerHeight:d,scrollHeight:a,smoothScrollTargetReached:r,horizontalDirection:g,skipAnimationFrameInResizeObserver:f,scrollTo:p,scrollBy:m,statefulScrollTop:o,deviation:n,scrollingInProgress:h}},[],{singleton:!0}),to={lvl:0};function lg(e,t,n,r=to,o=to){return{k:e,v:t,lvl:n,l:r,r:o}}function He(e){return e===to}function ir(){return to}function Mi(e,t){if(He(e))return to;const{k:n,l:r,r:o}=e;if(t===n){if(He(r))return o;if(He(o))return r;{const[s,a]=fg(r);return Qo(ot(e,{k:s,v:a,l:dg(r)}))}}else return t<n?Qo(ot(e,{l:Mi(r,t)})):Qo(ot(e,{r:Mi(o,t)}))}function no(e,t){if(!He(e))return t===e.k?e.v:t<e.k?no(e.l,t):no(e.r,t)}function Lt(e,t,n="k"){if(He(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){const r=Lt(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return Lt(e.l,t,n)}function xt(e,t,n){return He(e)?lg(t,n,1):t===e.k?ot(e,{k:t,v:n}):t<e.k?jf(ot(e,{l:xt(e.l,t,n)})):jf(ot(e,{r:xt(e.r,t,n)}))}function Ni(e,t,n){if(He(e))return[];const{k:r,v:o,l:s,r:a}=e;let i=[];return r>t&&(i=i.concat(Ni(s,t,n))),r>=t&&r<=n&&i.push({k:r,v:o}),r<=n&&(i=i.concat(Ni(a,t,n))),i}function kn(e){return He(e)?[]:[...kn(e.l),{k:e.k,v:e.v},...kn(e.r)]}function fg(e){return He(e.r)?[e.k,e.v]:fg(e.r)}function dg(e){return He(e.r)?e.l:Qo(ot(e,{r:dg(e.r)}))}function ot(e,t){return lg(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function za(e){return He(e)||e.lvl>e.r.lvl}function jf(e){return Li(mg(e))}function Qo(e){const{l:t,r:n,lvl:r}=e;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(za(t))return mg(ot(e,{lvl:r-1}));if(!He(t)&&!He(t.r))return ot(t.r,{l:ot(t,{r:t.r.l}),r:ot(e,{l:t.r.r,lvl:r-1}),lvl:r});throw new Error("Unexpected empty nodes")}else{if(za(e))return Li(ot(e,{lvl:r-1}));if(!He(n)&&!He(n.l)){const o=n.l,s=za(o)?n.lvl-1:n.lvl;return ot(o,{l:ot(e,{r:o.l,lvl:r-1}),r:Li(ot(n,{l:o.r,lvl:s})),lvl:o.lvl+1})}else throw new Error("Unexpected empty nodes")}}function sa(e,t,n){if(He(e))return[];const r=Lt(e,t)[0];return v5(Ni(e,r,n))}function pg(e,t){const n=e.length;if(n===0)return[];let{index:r,value:o}=t(e[0]);const s=[];for(let a=1;a<n;a++){const{index:i,value:c}=t(e[a]);s.push({start:r,end:i-1,value:o}),r=i,o=c}return s.push({start:r,end:1/0,value:o}),s}function v5(e){return pg(e,({k:t,v:n})=>({index:t,value:n}))}function Li(e){const{r:t,lvl:n}=e;return!He(t)&&!He(t.r)&&t.lvl===n&&t.r.lvl===n?ot(t,{l:ot(e,{r:t.l}),lvl:n+1}):e}function mg(e){const{l:t}=e;return!He(t)&&t.lvl===e.lvl?ot(t,{r:ot(e,{l:t.r})}):e}function ys(e,t,n,r=0){let o=e.length-1;for(;r<=o;){const s=Math.floor((r+o)/2),a=e[s],i=n(a,t);if(i===0)return s;if(i===-1){if(o-r<2)return s-1;o=s-1}else{if(o===r)return s;r=s+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function hg(e,t,n){return e[ys(e,t,n)]}function C5(e,t,n,r){const o=ys(e,t,r),s=ys(e,n,r,o);return e.slice(o,s+1)}const Xu=Le(()=>({recalcInProgress:ae(!1)}),[],{singleton:!0});function D5(e){const{size:t,startIndex:n,endIndex:r}=e;return o=>o.start===n&&(o.end===r||o.end===1/0)&&o.value===t}function kf(e,t){let n=0,r=0;for(;n<e;)n+=t[r+1]-t[r]-1,r++;return r-(n===e?0:1)}function E5(e,t){let n=He(e)?0:1/0;for(const r of t){const{size:o,startIndex:s,endIndex:a}=r;if(n=Math.min(n,s),He(e)){e=xt(e,0,o);continue}const i=sa(e,s-1,a+1);if(i.some(D5(r)))continue;let c=!1,l=!1;for(const{start:d,end:p,value:m}of i)c?(a>=d||o===m)&&(e=Mi(e,d)):(l=m!==o,c=!0),p>a&&a>=d&&m!==o&&(e=xt(e,a+1,m));l&&(e=xt(e,s,o))}return[e,n]}function w5(){return{offsetTree:[],sizeTree:ir(),groupOffsetTree:ir(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function Ju({index:e},t){return t===e?0:t<e?-1:1}function b5({offset:e},t){return t===e?0:t<e?-1:1}function y5(e){return{index:e.index,value:e}}function x5(e,t,n,r=0){return r>0&&(t=Math.max(t,hg(e,r,Ju).offset)),pg(C5(e,t,n,b5),y5)}function _i(e,t,n,r){let o=e,s=0,a=0,i=0,c=0;if(t!==0){c=ys(o,t-1,Ju),i=o[c].offset;const d=Lt(n,t-1);s=d[0],a=d[1],o.length&&o[c].size===Lt(n,t)[1]&&(c-=1),o=o.slice(0,c+1)}else o=[];for(const{start:l,value:d}of sa(n,t,1/0)){const p=l-s,m=p*a+i+p*r;o.push({offset:m,size:d,index:l}),s=l,i=m,a=d}return{offsetTree:o,lastIndex:s,lastOffset:i,lastSize:a}}function A5(e,[t,n,r,o]){t.length>0&&r("received item sizes",t,St.DEBUG);const s=e.sizeTree;let a=s,i=0;if(n.length>0&&He(s)&&t.length===2){const m=t[0].size,h=t[1].size;a=n.reduce((g,f)=>xt(xt(g,f,m),f+1,h),a)}else[a,i]=E5(a,t);if(a===s)return e;const{offsetTree:c,lastIndex:l,lastSize:d,lastOffset:p}=_i(e.offsetTree,i,a,o);return{sizeTree:a,offsetTree:c,lastIndex:l,lastOffset:p,lastSize:d,groupOffsetTree:n.reduce((m,h)=>xt(m,h,ro(h,c,o)),ir()),groupIndices:n}}function ro(e,t,n){if(t.length===0)return 0;const{offset:r,index:o,size:s}=hg(t,e,Ju),a=e-o,i=s*a+(a-1)*n+r;return i>0?i+n:i}function B5(e){return typeof e.groupIndex<"u"}function gg(e,t,n){if(B5(e))return t.groupIndices[e.groupIndex]+1;{const r=e.index==="LAST"?n:e.index;let o=vg(r,t);return o=Math.max(0,o,Math.min(n,o)),o}}function vg(e,t){if(!aa(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function aa(e){return!He(e.groupOffsetTree)}function S5(e){return kn(e).map(({k:t,v:n},r,o)=>{const s=o[r+1],a=s?s.k-1:1/0;return{startIndex:t,endIndex:a,size:n}})}const O5={offsetHeight:"height",offsetWidth:"width"},Yt=Le(([{log:e},{recalcInProgress:t}])=>{const n=je(),r=je(),o=dt(r,0),s=je(),a=je(),i=ae(0),c=ae([]),l=ae(void 0),d=ae(void 0),p=ae((A,x)=>Bn(A,O5[x])),m=ae(void 0),h=ae(0),g=w5(),f=dt(ee(n,$e(c,e,h),Ut(A5,g),Ke()),g),C=dt(ee(c,Ke(),Ut((A,x)=>({prev:A.current,current:x}),{prev:[],current:[]}),me(({prev:A})=>A)),[]);ve(ee(c,ye(A=>A.length>0),$e(f,h),me(([A,x,B])=>{const S=A.reduce((O,R,_)=>xt(O,R,ro(R,x.offsetTree,B)||_),ir());return{...x,groupIndices:A,groupOffsetTree:S}})),f),ve(ee(r,$e(f),ye(([A,{lastIndex:x}])=>A<x),me(([A,{lastIndex:x,lastSize:B}])=>[{startIndex:A,endIndex:x,size:B}])),n),ve(l,d);const E=dt(ee(l,me(A=>A===void 0)),!0);ve(ee(d,ye(A=>A!==void 0&&He(ut(f).sizeTree)),me(A=>[{startIndex:0,endIndex:0,size:A}])),n);const v=Bt(ee(n,$e(f),Ut(({sizes:A},[x,B])=>({changed:B!==A,sizes:B}),{changed:!1,sizes:g}),me(A=>A.changed)));Ne(ee(i,Ut((A,x)=>({diff:A.prev-x,prev:x}),{diff:0,prev:0}),me(A=>A.diff)),A=>{const{groupIndices:x}=ut(f);if(A>0)Fe(t,!0),Fe(s,A+kf(A,x));else if(A<0){const B=ut(C);B.length>0&&(A-=kf(-A,B)),Fe(a,A)}}),Ne(ee(i,$e(e)),([A,x])=>{A<0&&x("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:i},St.ERROR)});const y=Bt(s);ve(ee(s,$e(f),me(([A,x])=>{const B=x.groupIndices.length>0,S=[],O=x.lastSize;if(B){const R=no(x.sizeTree,0);let _=0,j=0;for(;_<A;){const P=x.groupIndices[j],G=x.groupIndices.length===j+1?1/0:x.groupIndices[j+1]-P-1;S.push({startIndex:P,endIndex:P,size:R}),S.push({startIndex:P+1,endIndex:P+1+G-1,size:O}),j++,_+=G+1}const H=kn(x.sizeTree);return _!==A&&H.shift(),H.reduce((P,{k:G,v:N})=>{let X=P.ranges;return P.prevSize!==0&&(X=[...P.ranges,{startIndex:P.prevIndex,endIndex:G+A-1,size:P.prevSize}]),{ranges:X,prevIndex:G+A,prevSize:N}},{ranges:S,prevIndex:A,prevSize:0}).ranges}return kn(x.sizeTree).reduce((R,{k:_,v:j})=>({ranges:[...R.ranges,{startIndex:R.prevIndex,endIndex:_+A-1,size:R.prevSize}],prevIndex:_+A,prevSize:j}),{ranges:[],prevIndex:0,prevSize:O}).ranges})),n);const b=Bt(ee(a,$e(f,h),me(([A,{offsetTree:x},B])=>{const S=-A;return ro(S,x,B)})));return ve(ee(a,$e(f,h),me(([A,x,B])=>{if(x.groupIndices.length>0){if(He(x.sizeTree))return x;let O=ir();const R=ut(C);let _=0,j=0,H=0;for(;_<-A;){H=R[j];const P=R[j+1]-H-1;j++,_+=P+1}if(O=kn(x.sizeTree).reduce((P,{k:G,v:N})=>xt(P,Math.max(0,G+A),N),O),_!==-A){const P=no(x.sizeTree,H);O=xt(O,0,P);const G=Lt(x.sizeTree,-A+1)[1];O=xt(O,1,G)}return{...x,sizeTree:O,..._i(x.offsetTree,0,O,B)}}else{const O=kn(x.sizeTree).reduce((R,{k:_,v:j})=>xt(R,Math.max(0,_+A),j),ir());return{...x,sizeTree:O,..._i(x.offsetTree,0,O,B)}}})),f),{data:m,totalCount:r,sizeRanges:n,groupIndices:c,defaultItemSize:d,fixedItemSize:l,unshiftWith:s,shiftWith:a,shiftWithOffset:b,beforeUnshiftWith:y,firstItemIndex:i,gap:h,sizes:f,listRefresh:v,statefulTotalCount:o,trackItemSizes:E,itemSize:p}},Ge(In,Xu),{singleton:!0}),F5=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Cg(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!F5)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const ho=Le(([{sizes:e,totalCount:t,listRefresh:n,gap:r},{scrollingInProgress:o,viewportHeight:s,scrollTo:a,smoothScrollTargetReached:i,headerHeight:c,footerHeight:l,fixedHeaderHeight:d,fixedFooterHeight:p},{log:m}])=>{const h=je(),g=je(),f=ae(0);let C=null,E=null,v=null;function y(){C&&(C(),C=null),v&&(v(),v=null),E&&(clearTimeout(E),E=null),Fe(o,!1)}return ve(ee(h,$e(e,s,t,f,c,l,m),$e(r,d,p),me(([[b,A,x,B,S,O,R,_],j,H,k])=>{const P=Cg(b),{align:G,behavior:N,offset:X}=P,V=B-1,J=gg(P,A,V);let re=ro(J,A.offsetTree,j)+O;G==="end"?(re+=H+Lt(A.sizeTree,J)[1]-x+k,J===V&&(re+=R)):G==="center"?re+=(H+Lt(A.sizeTree,J)[1]-x+k)/2:re-=S,X&&(re+=X);const K=Q=>{y(),Q?(_("retrying to scroll to",{location:b},St.DEBUG),Fe(h,b)):(Fe(g,!0),_("list did not change, scroll successful",{},St.DEBUG))};if(y(),N==="smooth"){let Q=!1;v=Ne(n,F=>{Q=Q||F}),C=Zt(i,()=>{K(Q)})}else C=Zt(ee(n,I5(150)),K);return E=setTimeout(()=>{y()},1200),Fe(o,!0),_("scrolling from index to",{index:J,top:re,behavior:N},St.DEBUG),{top:re,behavior:N}})),a),{scrollToIndex:h,scrollTargetReached:g,topListHeight:f}},Ge(Yt,Dt,In),{singleton:!0});function I5(e){return t=>{const n=setTimeout(()=>{t(!1)},e);return r=>{r&&(t(!0),clearTimeout(n))}}}const oo="up",kr="down",$5="none",R5={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},T5=0,go=Le(([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:r,footerHeight:o,scrollBy:s}])=>{const a=ae(!1),i=ae(!0),c=je(),l=je(),d=ae(4),p=ae(T5),m=dt(ee(Tf(ee(be(t),hr(1),Wt(!0)),ee(be(t),hr(1),Wt(!1),Rf(100))),Ke()),!1),h=dt(ee(Tf(ee(s,Wt(!0)),ee(s,Wt(!1),Rf(200))),Ke()),!1);ve(ee(at(be(t),be(p)),me(([v,y])=>v<=y),Ke()),i),ve(ee(i,Cn(50)),l);const g=Bt(ee(at(e,be(n),be(r),be(o),be(d)),Ut((v,[{scrollTop:y,scrollHeight:b},A,x,B,S])=>{const O=y+A-b>-S,R={viewportHeight:A,scrollTop:y,scrollHeight:b};if(O){let j,H;return y>v.state.scrollTop?(j="SCROLLED_DOWN",H=v.state.scrollTop-y):(j="SIZE_DECREASED",H=v.state.scrollTop-y||v.scrollTopDelta),{atBottom:!0,state:R,atBottomBecause:j,scrollTopDelta:H}}let _;return R.scrollHeight>v.state.scrollHeight?_="SIZE_INCREASED":A<v.state.viewportHeight?_="VIEWPORT_HEIGHT_DECREASING":y<v.state.scrollTop?_="SCROLLING_UPWARDS":_="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:_,state:R}},R5),Ke((v,y)=>v&&v.atBottom===y.atBottom))),f=dt(ee(e,Ut((v,{scrollTop:y,scrollHeight:b,viewportHeight:A})=>{if(ug(v.scrollHeight,b))return{scrollTop:y,scrollHeight:b,jump:0,changed:!1};{const x=b-(y+A)<1;return v.scrollTop!==y&&x?{scrollHeight:b,scrollTop:y,jump:v.scrollTop-y,changed:!0}:{scrollHeight:b,scrollTop:y,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),ye(v=>v.changed),me(v=>v.jump)),0);ve(ee(g,me(v=>v.atBottom)),a),ve(ee(a,Cn(50)),c);const C=ae(kr);ve(ee(e,me(({scrollTop:v})=>v),Ke(),Ut((v,y)=>ut(h)?{direction:v.direction,prevScrollTop:y}:{direction:y<v.prevScrollTop?oo:kr,prevScrollTop:y},{direction:kr,prevScrollTop:0}),me(v=>v.direction)),C),ve(ee(e,Cn(50),Wt($5)),C);const E=ae(0);return ve(ee(m,ye(v=>!v),Wt(0)),E),ve(ee(t,Cn(100),$e(m),ye(([v,y])=>!!y),Ut(([v,y],[b])=>[y,b],[0,0]),me(([v,y])=>y-v)),E),{isScrolling:m,isAtTop:i,isAtBottom:a,atBottomState:g,atTopStateChange:l,atBottomStateChange:c,scrollDirection:C,atBottomThreshold:d,atTopThreshold:p,scrollVelocity:E,lastJumpDueToItemResize:f}},Ge(Dt)),$n=Le(([{log:e}])=>{const t=ae(!1),n=Bt(ee(t,ye(r=>r),Ke()));return Ne(t,r=>{r&&ut(e)("props updated",{},St.DEBUG)}),{propsReady:t,didMount:n}},Ge(In),{singleton:!0});function Qu(e,t){e==0?t():requestAnimationFrame(()=>Qu(e-1,t))}function ec(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}const vo=Le(([{sizes:e,listRefresh:t,defaultItemSize:n},{scrollTop:r},{scrollToIndex:o,scrollTargetReached:s},{didMount:a}])=>{const i=ae(!0),c=ae(0),l=ae(!0);return ve(ee(a,$e(c),ye(([d,p])=>!!p),Wt(!1)),i),ve(ee(a,$e(c),ye(([d,p])=>!!p),Wt(!1)),l),Ne(ee(at(t,a),$e(i,e,n,l),ye(([[,d],p,{sizeTree:m},h,g])=>d&&(!He(m)||qu(h))&&!p&&!g),$e(c)),([,d])=>{Zt(s,()=>{Fe(l,!0)}),Qu(4,()=>{Zt(r,()=>{Fe(i,!0)}),Fe(o,d)})}),{scrolledToInitialItem:i,initialTopMostItemIndex:c,initialItemFinalLocationReached:l}},Ge(Yt,Dt,ho,$n),{singleton:!0});function Mf(e){return e?e==="smooth"?"smooth":"auto":!1}const P5=(e,t)=>typeof e=="function"?Mf(e(t)):t&&Mf(e),j5=Le(([{totalCount:e,listRefresh:t},{isAtBottom:n,atBottomState:r},{scrollToIndex:o},{scrolledToInitialItem:s},{propsReady:a,didMount:i},{log:c},{scrollingInProgress:l}])=>{const d=ae(!1),p=je();let m=null;function h(f){Fe(o,{index:"LAST",align:"end",behavior:f})}Ne(ee(at(ee(be(e),hr(1)),i),$e(be(d),n,s,l),me(([[f,C],E,v,y,b])=>{let A=C&&y,x="auto";return A&&(x=P5(E,v||b),A=A&&!!x),{totalCount:f,shouldFollow:A,followOutputBehavior:x}}),ye(({shouldFollow:f})=>f)),({totalCount:f,followOutputBehavior:C})=>{m&&(m(),m=null),m=Zt(t,()=>{ut(c)("following output to ",{totalCount:f},St.DEBUG),h(C),m=null})});function g(f){const C=Zt(r,E=>{f&&!E.atBottom&&E.notAtBottomBecause==="SIZE_INCREASED"&&!m&&(ut(c)("scrolling to bottom due to increased size",{},St.DEBUG),h("auto"))});setTimeout(C,100)}return Ne(ee(at(be(d),e,a),ye(([f,,C])=>f&&C),Ut(({value:f},[,C])=>({refreshed:f===C,value:C}),{refreshed:!1,value:0}),ye(({refreshed:f})=>f),$e(d,e)),([,f])=>{ut(s)&&g(f!==!1)}),Ne(p,()=>{g(ut(d)!==!1)}),Ne(at(be(d),r),([f,C])=>{f&&!C.atBottom&&C.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&h("auto")}),{followOutput:d,autoscrollToBottom:p}},Ge(Yt,go,ho,vo,$n,In,Dt));function k5(e){return e.reduce((t,n)=>(t.groupIndices.push(t.totalCount),t.totalCount+=n+1,t),{totalCount:0,groupIndices:[]})}const Dg=Le(([{totalCount:e,groupIndices:t,sizes:n},{scrollTop:r,headerHeight:o}])=>{const s=je(),a=je(),i=Bt(ee(s,me(k5)));return ve(ee(i,me(c=>c.totalCount)),e),ve(ee(i,me(c=>c.groupIndices)),t),ve(ee(at(r,n,o),ye(([c,l])=>aa(l)),me(([c,l,d])=>Lt(l.groupOffsetTree,Math.max(c-d,0),"v")[0]),Ke(),me(c=>[c])),a),{groupCounts:s,topItemsIndexes:a}},Ge(Yt,Dt));function so(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function Eg(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const xs="top",As="bottom",Nf="none";function Lf(e,t,n){return typeof e=="number"?n===oo&&t===xs||n===kr&&t===As?e:0:n===oo?t===xs?e.main:e.reverse:t===As?e.main:e.reverse}function _f(e,t){return typeof e=="number"?e:e[t]||0}const tc=Le(([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:r,fixedHeaderHeight:o}])=>{const s=je(),a=ae(0),i=ae(0),c=ae(0),l=dt(ee(at(be(e),be(t),be(r),be(s,so),be(c),be(a),be(o),be(n),be(i)),me(([d,p,m,[h,g],f,C,E,v,y])=>{const b=d-v,A=C+E,x=Math.max(m-b,0);let B=Nf;const S=_f(y,xs),O=_f(y,As);return h-=v,h+=m+E,g+=m+E,g-=v,h>d+A-S&&(B=oo),g<d-x+p+O&&(B=kr),B!==Nf?[Math.max(b-m-Lf(f,xs,B)-S,0),b-x-E+p+Lf(f,As,B)+O]:null}),ye(d=>d!=null),Ke(so)),[0,0]);return{listBoundary:s,overscan:c,topListHeight:a,increaseViewportBy:i,visibleRange:l}},Ge(Dt),{singleton:!0});function M5(e,t,n){if(aa(t)){const r=vg(e,t);return[{index:Lt(t.groupOffsetTree,r)[0],size:0,offset:0},{index:r,size:0,offset:0,data:n&&n[0]}]}return[{index:e,size:0,offset:0,data:n&&n[0]}]}const Ha={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function zf(e,t,n){if(e.length===0)return[];if(!aa(t))return e.map(l=>({...l,index:l.index+n,originalIndex:l.index}));const r=e[0].index,o=e[e.length-1].index,s=[],a=sa(t.groupOffsetTree,r,o);let i,c=0;for(const l of e){(!i||i.end<l.index)&&(i=a.shift(),c=t.groupIndices.indexOf(i.start));let d;l.index===i.start?d={type:"group",index:c}:d={index:l.index-(c+1)+n,groupIndex:c},s.push({...d,size:l.size,offset:l.offset,originalIndex:l.index,data:l.data})}return s}function es(e,t,n,r,o,s){const{lastSize:a,lastOffset:i,lastIndex:c}=o;let l=0,d=0;if(e.length>0){l=e[0].offset;const f=e[e.length-1];d=f.offset+f.size}const p=n-c,m=i+p*a+(p-1)*r,h=l,g=m-d;return{items:zf(e,o,s),topItems:zf(t,o,s),topListHeight:t.reduce((f,C)=>C.size+f,0),offsetTop:l,offsetBottom:g,top:h,bottom:d,totalCount:n,firstItemIndex:s}}function wg(e,t,n,r,o,s){let a=0;if(n.groupIndices.length>0)for(const d of n.groupIndices){if(d-a>=e)break;a++}const i=e+a,c=ec(t,i),l=Array.from({length:i}).map((d,p)=>({index:p+c,size:0,offset:0,data:s[p+c]}));return es(l,[],i,o,n,r)}const qn=Le(([{sizes:e,totalCount:t,data:n,firstItemIndex:r,gap:o},s,{visibleRange:a,listBoundary:i,topListHeight:c},{scrolledToInitialItem:l,initialTopMostItemIndex:d},{topListHeight:p},m,{didMount:h},{recalcInProgress:g}])=>{const f=ae([]),C=ae(0),E=je();ve(s.topItemsIndexes,f);const v=dt(ee(at(h,g,be(a,so),be(t),be(e),be(d),l,be(f),be(r),be(o),n),ye(([x,B,,S,,,,,,,O])=>{const R=O&&O.length!==S;return x&&!B&&!R}),me(([,,[x,B],S,O,R,_,j,H,k,P])=>{const G=O,{sizeTree:N,offsetTree:X}=G,V=ut(C);if(S===0)return{...Ha,totalCount:S};if(x===0&&B===0)return V===0?{...Ha,totalCount:S}:wg(V,R,O,H,k,P||[]);if(He(N))return V>0?null:es(M5(ec(R,S),G,P),[],S,k,G,H);const J=[];if(j.length>0){const L=j[0],U=j[j.length-1];let M=0;for(const W of sa(N,L,U)){const Z=W.value,ne=Math.max(W.start,L),pe=Math.min(W.end,U);for(let ce=ne;ce<=pe;ce++)J.push({index:ce,size:Z,offset:M,data:P&&P[ce]}),M+=Z}}if(!_)return es([],J,S,k,G,H);const re=j.length>0?j[j.length-1]+1:0,K=x5(X,x,B,re);if(K.length===0)return null;const Q=S-1,F=oa([],L=>{for(const U of K){const M=U.value;let W=M.offset,Z=U.start;const ne=M.size;if(M.offset<x){Z+=Math.floor((x-M.offset+k)/(ne+k));const ce=Z-U.start;W+=ce*ne+ce*k}Z<re&&(W+=(re-Z)*ne,Z=re);const pe=Math.min(U.end,Q);for(let ce=Z;ce<=pe&&!(W>=B);ce++)L.push({index:ce,size:ne,offset:W,data:P&&P[ce]}),W+=ne+k}});return es(F,J,S,k,G,H)}),ye(x=>x!==null),Ke()),Ha);ve(ee(n,ye(qu),me(x=>x?.length)),t),ve(ee(v,me(x=>x.topListHeight)),p),ve(p,c),ve(ee(v,me(x=>[x.top,x.bottom])),i),ve(ee(v,me(x=>x.items)),E);const y=Bt(ee(v,ye(({items:x})=>x.length>0),$e(t,n),ye(([{items:x},B])=>x[x.length-1].originalIndex===B-1),me(([,x,B])=>[x-1,B]),Ke(so),me(([x])=>x))),b=Bt(ee(v,Cn(200),ye(({items:x,topItems:B})=>x.length>0&&x[0].originalIndex===B.length),me(({items:x})=>x[0].index),Ke())),A=Bt(ee(v,ye(({items:x})=>x.length>0),me(({items:x})=>{let B=0,S=x.length-1;for(;x[B].type==="group"&&B<S;)B++;for(;x[S].type==="group"&&S>B;)S--;return{startIndex:x[B].index,endIndex:x[S].index}}),Ke(Eg)));return{listState:v,topItemsIndexes:f,endReached:y,startReached:b,rangeChanged:A,itemsRendered:E,initialItemCount:C,...m}},Ge(Yt,Dg,tc,vo,ho,go,$n,Xu),{singleton:!0}),N5=Le(([{sizes:e,firstItemIndex:t,data:n,gap:r},{initialTopMostItemIndex:o},{initialItemCount:s,listState:a},{didMount:i}])=>(ve(ee(i,$e(s),ye(([,c])=>c!==0),$e(o,e,t,r,n),me(([[,c],l,d,p,m,h=[]])=>wg(c,l,d,p,m,h))),a),{}),Ge(Yt,vo,qn,$n),{singleton:!0}),bg=Le(([{scrollVelocity:e}])=>{const t=ae(!1),n=je(),r=ae(!1);return ve(ee(e,$e(r,t,n),ye(([o,s])=>!!s),me(([o,s,a,i])=>{const{exit:c,enter:l}=s;if(a){if(c(o,i))return!1}else if(l(o,i))return!0;return a}),Ke()),t),Ne(ee(at(t,e,n),$e(r)),([[o,s,a],i])=>o&&i&&i.change&&i.change(s,a)),{isSeeking:t,scrollSeekConfiguration:r,scrollVelocity:e,scrollSeekRangeChanged:n}},Ge(go),{singleton:!0}),L5=Le(([{topItemsIndexes:e}])=>{const t=ae(0);return ve(ee(t,ye(n=>n>0),me(n=>Array.from({length:n}).map((r,o)=>o))),e),{topItemCount:t}},Ge(qn)),yg=Le(([{footerHeight:e,headerHeight:t,fixedHeaderHeight:n,fixedFooterHeight:r},{listState:o}])=>{const s=je(),a=dt(ee(at(e,r,t,n,o),me(([i,c,l,d,p])=>i+c+l+d+p.offsetBottom+p.bottom)),0);return ve(be(a),s),{totalListHeight:a,totalListHeightChanged:s}},Ge(Dt,qn),{singleton:!0});function xg(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const _5=xg(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),z5=Le(([{scrollBy:e,scrollTop:t,deviation:n,scrollingInProgress:r},{isScrolling:o,isAtBottom:s,scrollDirection:a,lastJumpDueToItemResize:i},{listState:c},{beforeUnshiftWith:l,shiftWithOffset:d,sizes:p,gap:m},{log:h},{recalcInProgress:g}])=>{const f=Bt(ee(c,$e(i),Ut(([,E,v,y],[{items:b,totalCount:A,bottom:x,offsetBottom:B},S])=>{const O=x+B;let R=0;return v===A&&E.length>0&&b.length>0&&(b[0].originalIndex===0&&E[0].originalIndex===0||(R=O-y,R!==0&&(R+=S))),[R,b,A,O]},[0,[],0,0]),ye(([E])=>E!==0),$e(t,a,r,s,h,g),ye(([,E,v,y,,,b])=>!b&&!y&&E!==0&&v===oo),me(([[E],,,,,v])=>(v("Upward scrolling compensation",{amount:E},St.DEBUG),E))));function C(E){E>0?(Fe(e,{top:-E,behavior:"auto"}),Fe(n,0)):(Fe(n,0),Fe(e,{top:-E,behavior:"auto"}))}return Ne(ee(f,$e(n,o)),([E,v,y])=>{y&&_5()?Fe(n,v-E):C(-E)}),Ne(ee(at(dt(o,!1),n,g),ye(([E,v,y])=>!E&&!y&&v!==0),me(([E,v])=>v),Cn(1)),C),ve(ee(d,me(E=>({top:-E}))),e),Ne(ee(l,$e(p,m),me(([E,{lastSize:v,groupIndices:y,sizeTree:b},A])=>{function x(B){return B*(v+A)}if(y.length===0)return x(E);{let B=0;const S=no(b,0);let O=0,R=0;for(;O<E;){O++,B+=S;let _=y.length===R+1?1/0:y[R+1]-y[R]-1;O+_>E&&(B-=S,_=E-O+1),O+=_,B+=x(_),R++}return B}})),E=>{Fe(n,E),requestAnimationFrame(()=>{Fe(e,{top:E}),requestAnimationFrame(()=>{Fe(n,0),Fe(g,!1)})})}),{deviation:n}},Ge(Dt,go,qn,Yt,In,Xu)),H5=Le(([{didMount:e},{scrollTo:t},{listState:n}])=>{const r=ae(0);return Ne(ee(e,$e(r),ye(([,o])=>o!==0),me(([,o])=>({top:o}))),o=>{Zt(ee(n,hr(1),ye(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{Fe(t,o)})})}),{initialScrollTop:r}},Ge($n,Dt,qn),{singleton:!0}),V5=Le(([{viewportHeight:e},{totalListHeight:t}])=>{const n=ae(!1),r=dt(ee(at(n,e,t),ye(([o])=>o),me(([,o,s])=>Math.max(0,o-s)),Cn(0),Ke()),0);return{alignToBottom:n,paddingTopAddition:r}},Ge(Dt,yg),{singleton:!0}),nc=Le(([{scrollTo:e,scrollContainerState:t}])=>{const n=je(),r=je(),o=je(),s=ae(!1),a=ae(void 0);return ve(ee(at(n,r),me(([{viewportHeight:i,scrollTop:c,scrollHeight:l},{offsetTop:d}])=>({scrollTop:Math.max(0,c-d),scrollHeight:l,viewportHeight:i}))),t),ve(ee(e,$e(r),me(([i,{offsetTop:c}])=>({...i,top:i.top+c}))),o),{useWindowScroll:s,customScrollParent:a,windowScrollContainerState:n,windowViewportRect:r,windowScrollTo:o}},Ge(Dt)),W5=({itemTop:e,itemBottom:t,viewportTop:n,viewportBottom:r,locationParams:{behavior:o,align:s,...a}})=>e<n?{...a,behavior:o,align:s??"start"}:t>r?{...a,behavior:o,align:s??"end"}:null,U5=Le(([{sizes:e,totalCount:t,gap:n},{scrollTop:r,viewportHeight:o,headerHeight:s,fixedHeaderHeight:a,fixedFooterHeight:i,scrollingInProgress:c},{scrollToIndex:l}])=>{const d=je();return ve(ee(d,$e(e,o,t,s,a,i,r),$e(n),me(([[p,m,h,g,f,C,E,v],y])=>{const{done:b,behavior:A,align:x,calculateViewLocation:B=W5,...S}=p,O=gg(p,m,g-1),R=ro(O,m.offsetTree,y)+f+C,_=R+Lt(m.sizeTree,O)[1],j=v+C,H=v+h-E,k=B({itemTop:R,itemBottom:_,viewportTop:j,viewportBottom:H,locationParams:{behavior:A,align:x,...S}});return k?b&&Zt(ee(c,ye(P=>P===!1),hr(ut(c)?1:2)),b):b&&b(),k}),ye(p=>p!==null)),l),{scrollIntoView:d}},Ge(Yt,Dt,ho,qn,In),{singleton:!0}),K5=Le(([{sizes:e,sizeRanges:t},{scrollTop:n,headerHeight:r},{initialTopMostItemIndex:o},{didMount:s},{useWindowScroll:a,windowScrollContainerState:i,windowViewportRect:c}])=>{const l=je(),d=ae(void 0),p=ae(null),m=ae(null);return ve(i,p),ve(c,m),Ne(ee(l,$e(e,n,a,p,m,r)),([h,g,f,C,E,v,y])=>{const b=S5(g.sizeTree);C&&E!==null&&v!==null&&(f=E.scrollTop-v.offsetTop),f-=y,h({ranges:b,scrollTop:f})}),ve(ee(d,ye(qu),me(G5)),o),ve(ee(s,$e(d),ye(([,h])=>h!==void 0),Ke(),me(([,h])=>h.ranges)),t),{getState:l,restoreStateFrom:d}},Ge(Yt,Dt,vo,$n,nc));function G5(e){return{offset:e.scrollTop,index:0,align:"start"}}const q5=Le(([e,t,n,r,o,s,a,i,c,l])=>({...e,...t,...n,...r,...o,...s,...a,...i,...c,...l}),Ge(tc,N5,$n,bg,yg,H5,V5,nc,U5,In)),Z5=Le(([{totalCount:e,sizeRanges:t,fixedItemSize:n,defaultItemSize:r,trackItemSizes:o,itemSize:s,data:a,firstItemIndex:i,groupIndices:c,statefulTotalCount:l,gap:d,sizes:p},{initialTopMostItemIndex:m,scrolledToInitialItem:h,initialItemFinalLocationReached:g},f,C,E,{listState:v,topItemsIndexes:y,...b},{scrollToIndex:A},x,{topItemCount:B},{groupCounts:S},O])=>(ve(b.rangeChanged,O.scrollSeekRangeChanged),ve(ee(O.windowViewportRect,me(R=>R.visibleHeight)),f.viewportHeight),{totalCount:e,data:a,firstItemIndex:i,sizeRanges:t,initialTopMostItemIndex:m,scrolledToInitialItem:h,initialItemFinalLocationReached:g,topItemsIndexes:y,topItemCount:B,groupCounts:S,fixedItemHeight:n,defaultItemHeight:r,gap:d,...E,statefulTotalCount:l,listState:v,scrollToIndex:A,trackItemSizes:o,itemSize:s,groupIndices:c,...b,...O,...f,sizes:p,...C}),Ge(Yt,vo,Dt,K5,j5,qn,ho,z5,L5,Dg,q5)),Va="-webkit-sticky",Hf="sticky",Ag=xg(()=>{if(typeof document>"u")return Hf;const e=document.createElement("div");return e.style.position=Va,e.style.position===Va?Va:Hf});function Bg(e,t,n){const r=$.useRef(null),o=$.useCallback(c=>{if(c===null||!c.offsetParent)return;const l=c.getBoundingClientRect(),d=l.width;let p,m;if(t){const h=t.getBoundingClientRect(),g=l.top-h.top;p=h.height-Math.max(0,g),m=g+t.scrollTop}else p=window.innerHeight-Math.max(0,l.top),m=l.top+window.pageYOffset;r.current={offsetTop:m,visibleHeight:p,visibleWidth:d},e(r.current)},[e,t]),{callbackRef:s,ref:a}=Yu(o,!0,n),i=$.useCallback(()=>{o(a.current)},[o,a]);return $.useEffect(()=>{if(t){t.addEventListener("scroll",i);const c=new ResizeObserver(()=>{requestAnimationFrame(i)});return c.observe(t),()=>{t.removeEventListener("scroll",i),c.unobserve(t)}}else return window.addEventListener("scroll",i),window.addEventListener("resize",i),()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",i)}},[i,t]),s}const Sg=$.createContext(void 0),Og=$.createContext(void 0);function Fg(e){return e}const Y5=Le(()=>{const e=ae(c=>`Item ${c}`),t=ae(null),n=ae(c=>`Group ${c}`),r=ae({}),o=ae(Fg),s=ae("div"),a=ae(br),i=(c,l=null)=>dt(ee(r,me(d=>d[c]),Ke()),l);return{context:t,itemContent:e,groupContent:n,components:r,computeItemKey:o,HeaderFooterTag:s,scrollerRef:a,FooterComponent:i("Footer"),HeaderComponent:i("Header"),TopItemListComponent:i("TopItemList"),ListComponent:i("List","div"),ItemComponent:i("Item","div"),GroupComponent:i("Group","div"),ScrollerComponent:i("Scroller","div"),EmptyPlaceholder:i("EmptyPlaceholder"),ScrollSeekPlaceholder:i("ScrollSeekPlaceholder")}}),X5=Le(([e,t])=>({...e,...t}),Ge(Z5,Y5)),J5=({height:e})=>w.jsx("div",{style:{height:e}}),Q5={position:Ag(),zIndex:1,overflowAnchor:"none"},Ig={overflowAnchor:"none"},e6={...Ig,display:"inline-block",height:"100%"},Vf=$.memo(function({showTopList:t=!1}){const n=Ae("listState"),r=$t("sizeRanges"),o=Ae("useWindowScroll"),s=Ae("customScrollParent"),a=$t("windowScrollContainerState"),i=$t("scrollContainerState"),c=s||o?a:i,l=Ae("itemContent"),d=Ae("context"),p=Ae("groupContent"),m=Ae("trackItemSizes"),h=Ae("itemSize"),g=Ae("log"),f=$t("gap"),C=Ae("horizontalDirection"),{callbackRef:E}=h5(r,h,m,t?br:c,g,f,s,C,Ae("skipAnimationFrameInResizeObserver")),[v,y]=$.useState(0);rc("deviation",P=>{v!==P&&y(P)});const b=Ae("EmptyPlaceholder"),A=Ae("ScrollSeekPlaceholder")||J5,x=Ae("ListComponent"),B=Ae("ItemComponent"),S=Ae("GroupComponent"),O=Ae("computeItemKey"),R=Ae("isSeeking"),_=Ae("groupIndices").length>0,j=Ae("alignToBottom"),H=Ae("initialItemFinalLocationReached"),k=t?{}:{boxSizing:"border-box",...C?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:n.offsetTop,paddingRight:n.offsetBottom,marginLeft:v!==0?v:j?"auto":0}:{marginTop:v!==0?v:j?"auto":0,paddingTop:n.offsetTop,paddingBottom:n.offsetBottom},...H?{}:{visibility:"hidden"}};return!t&&n.totalCount===0&&b?w.jsx(b,{...ft(b,d)}):w.jsx(x,{...ft(x,d),ref:E,style:k,"data-testid":t?"virtuoso-top-item-list":"virtuoso-item-list",children:(t?n.topItems:n.items).map(P=>{const G=P.originalIndex,N=O(G+n.firstItemIndex,P.data,d);return R?u.createElement(A,{...ft(A,d),key:N,index:P.index,height:P.size,type:P.type||"item",...P.type==="group"?{}:{groupIndex:P.groupIndex}}):P.type==="group"?u.createElement(S,{...ft(S,d),key:N,"data-index":G,"data-known-size":P.size,"data-item-index":P.index,style:Q5},p(P.index,d)):u.createElement(B,{...ft(B,d),...o6(B,P.data),key:N,"data-index":G,"data-known-size":P.size,"data-item-index":P.index,"data-item-group-index":P.groupIndex,style:C?e6:Ig},_?l(P.index,P.groupIndex,P.data,d):l(P.index,P.data,d))})})}),t6={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n6={outline:"none",overflowX:"auto",position:"relative"},ia=e=>({width:"100%",height:"100%",position:"absolute",top:0,...e?{display:"flex",flexDirection:"column"}:{}}),r6={width:"100%",position:Ag(),top:0,zIndex:1};function ft(e,t){if(typeof e!="string")return{context:t}}function o6(e,t){return{item:typeof e=="string"?void 0:t}}const s6=$.memo(function(){const t=Ae("HeaderComponent"),n=$t("headerHeight"),r=Ae("HeaderFooterTag"),o=Gn($.useMemo(()=>a=>n(Bn(a,"height")),[n]),!0,Ae("skipAnimationFrameInResizeObserver")),s=Ae("context");return t?w.jsx(r,{ref:o,children:w.jsx(t,{...ft(t,s)})}):null}),a6=$.memo(function(){const t=Ae("FooterComponent"),n=$t("footerHeight"),r=Ae("HeaderFooterTag"),o=Gn($.useMemo(()=>a=>n(Bn(a,"height")),[n]),!0,Ae("skipAnimationFrameInResizeObserver")),s=Ae("context");return t?w.jsx(r,{ref:o,children:w.jsx(t,{...ft(t,s)})}):null});function $g({usePublisher:e,useEmitter:t,useEmitterValue:n}){return $.memo(function({style:s,children:a,...i}){const c=e("scrollContainerState"),l=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),p=n("scrollerRef"),m=n("context"),h=n("horizontalDirection")||!1,{scrollerRef:g,scrollByCallback:f,scrollToCallback:C}=cg(c,d,l,p,void 0,h);t("scrollTo",C),t("scrollBy",f);const E=h?n6:t6;return w.jsx(l,{ref:g,style:{...E,...s},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...i,...ft(l,m),children:a})})}function Rg({usePublisher:e,useEmitter:t,useEmitterValue:n}){return $.memo(function({style:s,children:a,...i}){const c=e("windowScrollContainerState"),l=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),p=n("totalListHeight"),m=n("deviation"),h=n("customScrollParent"),g=n("context"),{scrollerRef:f,scrollByCallback:C,scrollToCallback:E}=cg(c,d,l,br,h);return ig(()=>(f.current=h||window,()=>{f.current=null}),[f,h]),t("windowScrollTo",E),t("scrollBy",C),w.jsx(l,{style:{position:"relative",...s,...p!==0?{height:p+m}:{}},"data-virtuoso-scroller":!0,...i,...ft(l,g),children:a})})}const i6=({children:e})=>{const t=$.useContext(Sg),n=$t("viewportHeight"),r=$t("fixedItemHeight"),o=Ae("alignToBottom"),s=Ae("horizontalDirection"),a=$.useMemo(()=>rg(n,c=>Bn(c,s?"width":"height")),[n,s]),i=Gn(a,!0,Ae("skipAnimationFrameInResizeObserver"));return $.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),w.jsx("div",{style:ia(o),ref:i,"data-viewport-type":"element",children:e})},u6=({children:e})=>{const t=$.useContext(Sg),n=$t("windowViewportRect"),r=$t("fixedItemHeight"),o=Ae("customScrollParent"),s=Bg(n,o,Ae("skipAnimationFrameInResizeObserver")),a=Ae("alignToBottom");return $.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),w.jsx("div",{ref:s,style:ia(a),"data-viewport-type":"window",children:e})},c6=({children:e})=>{const t=Ae("TopItemListComponent")||"div",n=Ae("headerHeight"),r={...r6,marginTop:`${n}px`},o=Ae("context");return w.jsx(t,{style:r,...ft(t,o),children:e})},l6=$.memo(function(t){const n=Ae("useWindowScroll"),r=Ae("topItemsIndexes").length>0,o=Ae("customScrollParent"),s=o||n?p6:d6,a=o||n?u6:i6;return w.jsxs(s,{...t,children:[r&&w.jsx(c6,{children:w.jsx(Vf,{showTopList:!0})}),w.jsxs(a,{children:[w.jsx(s6,{}),w.jsx(Vf,{}),w.jsx(a6,{})]})]})}),{Component:f6,usePublisher:$t,useEmitterValue:Ae,useEmitter:rc}=ag(X5,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},l6),d6=$g({usePublisher:$t,useEmitterValue:Ae,useEmitter:rc}),p6=Rg({usePublisher:$t,useEmitterValue:Ae,useEmitter:rc}),m6=f6,Wf={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},h6={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:Uf,ceil:Kf,floor:Bs,min:Wa,max:Mr}=Math;function g6(e){return{...h6,items:e}}function Gf(e,t,n){return Array.from({length:t-e+1}).map((r,o)=>{const s=n===null?null:n[o+e];return{index:o+e,data:s}})}function v6(e,t){return e&&e.column===t.column&&e.row===t.row}function zo(e,t){return e&&e.width===t.width&&e.height===t.height}const C6=Le(([{overscan:e,visibleRange:t,listBoundary:n},{scrollTop:r,viewportHeight:o,scrollBy:s,scrollTo:a,smoothScrollTargetReached:i,scrollContainerState:c,footerHeight:l,headerHeight:d},p,m,{propsReady:h,didMount:g},{windowViewportRect:f,useWindowScroll:C,customScrollParent:E,windowScrollContainerState:v,windowScrollTo:y},b])=>{const A=ae(0),x=ae(0),B=ae(Wf),S=ae({height:0,width:0}),O=ae({height:0,width:0}),R=je(),_=je(),j=ae(0),H=ae(null),k=ae({row:0,column:0}),P=je(),G=je(),N=ae(!1),X=ae(0),V=ae(!0),J=ae(!1),re=ae(!1);Ne(ee(g,$e(X),ye(([M,W])=>!!W)),()=>{Fe(V,!1)}),Ne(ee(at(g,V,O,S,X,J),ye(([M,W,Z,ne,,pe])=>M&&!W&&Z.height!==0&&ne.height!==0&&!pe)),([,,,,M])=>{Fe(J,!0),Qu(1,()=>{Fe(R,M)}),Zt(ee(r),()=>{Fe(n,[0,0]),Fe(V,!0)})}),ve(ee(G,ye(M=>M!=null&&M.scrollTop>0),Wt(0)),x),Ne(ee(g,$e(G),ye(([,M])=>M!=null)),([,M])=>{M&&(Fe(S,M.viewport),Fe(O,M?.item),Fe(k,M.gap),M.scrollTop>0&&(Fe(N,!0),Zt(ee(r,hr(1)),W=>{Fe(N,!1)}),Fe(a,{top:M.scrollTop})))}),ve(ee(S,me(({height:M})=>M)),o),ve(ee(at(be(S,zo),be(O,zo),be(k,(M,W)=>M&&M.column===W.column&&M.row===W.row),be(r)),me(([M,W,Z,ne])=>({viewport:M,item:W,gap:Z,scrollTop:ne}))),P),ve(ee(at(be(A),t,be(k,v6),be(O,zo),be(S,zo),be(H),be(x),be(N),be(V),be(X)),ye(([,,,,,,,M])=>!M),me(([M,[W,Z],ne,pe,ce,De,he,,oe,de])=>{const{row:ge,column:Me}=ne,{height:Pe,width:_e}=pe,{width:Te}=ce;if(he===0&&(M===0||Te===0))return Wf;if(_e===0){const _t=ec(de,M),ua=Math.max(_t+he-1,0);return g6(Gf(_t,ua,De))}const Be=Tg(Te,_e,Me);let ue,Ce;oe?W===0&&Z===0&&he>0?(ue=0,Ce=he-1):(ue=Be*Bs((W+ge)/(Pe+ge)),Ce=Be*Kf((Z+ge)/(Pe+ge))-1,Ce=Wa(M-1,Mr(Ce,Be-1)),ue=Wa(Ce,Mr(0,ue))):(ue=0,Ce=-1);const we=Gf(ue,Ce,De),{top:ke,bottom:bt}=qf(ce,ne,pe,we),Ye=Kf(M/Be),Zn=Ye*Pe+(Ye-1)*ge-bt;return{items:we,offsetTop:ke,offsetBottom:Zn,top:ke,bottom:bt,itemHeight:Pe,itemWidth:_e}})),B),ve(ee(H,ye(M=>M!==null),me(M=>M.length)),A),ve(ee(at(S,O,B,k),ye(([M,W,{items:Z}])=>Z.length>0&&W.height!==0&&M.height!==0),me(([M,W,{items:Z},ne])=>{const{top:pe,bottom:ce}=qf(M,ne,W,Z);return[pe,ce]}),Ke(so)),n);const K=ae(!1);ve(ee(r,$e(K),me(([M,W])=>W||M!==0)),K);const Q=Bt(ee(be(B),ye(({items:M})=>M.length>0),$e(A,K),ye(([{items:M},W,Z])=>Z&&M[M.length-1].index===W-1),me(([,M])=>M-1),Ke())),F=Bt(ee(be(B),ye(({items:M})=>M.length>0&&M[0].index===0),Wt(0),Ke())),L=Bt(ee(be(B),$e(N),ye(([{items:M},W])=>M.length>0&&!W),me(([{items:M}])=>({startIndex:M[0].index,endIndex:M[M.length-1].index})),Ke(Eg),Cn(0)));ve(L,m.scrollSeekRangeChanged),ve(ee(R,$e(S,O,A,k),me(([M,W,Z,ne,pe])=>{const ce=Cg(M),{align:De,behavior:he,offset:oe}=ce;let de=ce.index;de==="LAST"&&(de=ne-1),de=Mr(0,de,Wa(ne-1,de));let ge=zi(W,pe,Z,de);return De==="end"?ge=Uf(ge-W.height+Z.height):De==="center"&&(ge=Uf(ge-W.height/2+Z.height/2)),oe&&(ge+=oe),{top:ge,behavior:he}})),a);const U=dt(ee(B,me(M=>M.offsetBottom+M.bottom)),0);return ve(ee(f,me(M=>({width:M.visibleWidth,height:M.visibleHeight}))),S),{data:H,totalCount:A,viewportDimensions:S,itemDimensions:O,scrollTop:r,scrollHeight:_,overscan:e,scrollBy:s,scrollTo:a,scrollToIndex:R,smoothScrollTargetReached:i,windowViewportRect:f,windowScrollTo:y,useWindowScroll:C,customScrollParent:E,windowScrollContainerState:v,deviation:j,scrollContainerState:c,footerHeight:l,headerHeight:d,initialItemCount:x,gap:k,restoreStateFrom:G,...m,initialTopMostItemIndex:X,horizontalDirection:re,gridState:B,totalListHeight:U,...p,startReached:F,endReached:Q,rangeChanged:L,stateChanged:P,propsReady:h,stateRestoreInProgress:N,...b}},Ge(tc,Dt,go,bg,$n,nc,In));function qf(e,t,n,r){const{height:o}=n;if(o===void 0||r.length===0)return{top:0,bottom:0};const s=zi(e,t,n,r[0].index),a=zi(e,t,n,r[r.length-1].index)+o;return{top:s,bottom:a}}function zi(e,t,n,r){const o=Tg(e.width,n.width,t.column),s=Bs(r/o),a=s*n.height+Mr(0,s-1)*t.row;return a>0?a+t.row:a}function Tg(e,t,n){return Mr(1,Bs((e+n)/(Bs(t)+n)))}const D6=Le(()=>{const e=ae(p=>`Item ${p}`),t=ae({}),n=ae(null),r=ae("virtuoso-grid-item"),o=ae("virtuoso-grid-list"),s=ae(Fg),a=ae("div"),i=ae(br),c=(p,m=null)=>dt(ee(t,me(h=>h[p]),Ke()),m),l=ae(!1),d=ae(!1);return ve(be(d),l),{readyStateChanged:l,reportReadyState:d,context:n,itemContent:e,components:t,computeItemKey:s,itemClassName:r,listClassName:o,headerFooterTag:a,scrollerRef:i,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),E6=Le(([e,t])=>({...e,...t}),Ge(C6,D6)),w6=$.memo(function(){const t=Ze("gridState"),n=Ze("listClassName"),r=Ze("itemClassName"),o=Ze("itemContent"),s=Ze("computeItemKey"),a=Ze("isSeeking"),i=Rt("scrollHeight"),c=Ze("ItemComponent"),l=Ze("ListComponent"),d=Ze("ScrollSeekPlaceholder"),p=Ze("context"),m=Rt("itemDimensions"),h=Rt("gap"),g=Ze("log"),f=Ze("stateRestoreInProgress"),C=Rt("reportReadyState"),E=Gn($.useMemo(()=>v=>{const y=v.parentElement.parentElement.scrollHeight;i(y);const b=v.firstChild;if(b){const{width:A,height:x}=b.getBoundingClientRect();m({width:A,height:x})}h({row:Zf("row-gap",getComputedStyle(v).rowGap,g),column:Zf("column-gap",getComputedStyle(v).columnGap,g)})},[i,m,h,g]),!0,!1);return ig(()=>{t.itemHeight>0&&t.itemWidth>0&&C(!0)},[t]),f?null:w.jsx(l,{ref:E,className:n,...ft(l,p),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-testid":"virtuoso-item-list",children:t.items.map(v=>{const y=s(v.index,v.data,p);return a?w.jsx(d,{...ft(d,p),index:v.index,height:t.itemHeight,width:t.itemWidth},y):u.createElement(c,{...ft(c,p),className:r,"data-index":v.index,key:y},o(v.index,v.data,p))})})}),b6=$.memo(function(){const t=Ze("HeaderComponent"),n=Rt("headerHeight"),r=Ze("headerFooterTag"),o=Gn($.useMemo(()=>a=>n(Bn(a,"height")),[n]),!0,!1),s=Ze("context");return t?w.jsx(r,{ref:o,children:w.jsx(t,{...ft(t,s)})}):null}),y6=$.memo(function(){const t=Ze("FooterComponent"),n=Rt("footerHeight"),r=Ze("headerFooterTag"),o=Gn($.useMemo(()=>a=>n(Bn(a,"height")),[n]),!0,!1),s=Ze("context");return t?w.jsx(r,{ref:o,children:w.jsx(t,{...ft(t,s)})}):null}),x6=({children:e})=>{const t=$.useContext(Og),n=Rt("itemDimensions"),r=Rt("viewportDimensions"),o=Gn($.useMemo(()=>s=>{r(s.getBoundingClientRect())},[r]),!0,!1);return $.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),w.jsx("div",{style:ia(!1),ref:o,children:e})},A6=({children:e})=>{const t=$.useContext(Og),n=Rt("windowViewportRect"),r=Rt("itemDimensions"),o=Ze("customScrollParent"),s=Bg(n,o,!1);return $.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),w.jsx("div",{ref:s,style:ia(!1),children:e})},B6=$.memo(function({...t}){const n=Ze("useWindowScroll"),r=Ze("customScrollParent"),o=r||n?O6:S6,s=r||n?A6:x6;return w.jsx(o,{...t,children:w.jsxs(s,{children:[w.jsx(b6,{}),w.jsx(w6,{}),w.jsx(y6,{})]})})}),{Component:CI,usePublisher:Rt,useEmitterValue:Ze,useEmitter:Pg}=ag(E6,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},B6),S6=$g({usePublisher:Rt,useEmitterValue:Ze,useEmitter:Pg}),O6=Rg({usePublisher:Rt,useEmitterValue:Ze,useEmitter:Pg});function Zf(e,t,n){return t!=="normal"&&!t?.endsWith("px")&&n(`${e} was not resolved to pixel value correctly`,t,St.WARN),t==="normal"?0:parseInt(t??"0",10)}const F6=100;function I6(e,t){return setTimeout(e,Math.min(t?.timeout??1/0,F6))}const $6=(typeof window<"u"?window.requestIdleCallback:null)??I6,R6=(typeof window<"u"?window.cancelIdleCallback:null)??clearTimeout,T6=$.useTransition;function P6(){return[!1,u.useCallback(t=>t(),[])]}const j6=T6??P6,k6={position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},jg=u.createContext(null);function kg(){const e=u.useContext(jg);return ao(e,"EmojiPicker.Root is missing from the React tree.")}function M6(e,t){const n=[];for(let r=0,o=e.length;r<o;r+=t)n.push(e.slice(r,r+t));return n}const N6="15.3.0",Mg=`https://cdn.jsdelivr.net/npm/emojibase-data@${N6}`,Ng=e=>`${Mg}/${e}/data.json`,Lg=e=>`${Mg}/${e}/messages.json`,L6=["bn","da","de","en","en-gb","es","es-mx","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","zh","zh-hant"],_6="en",_g=e=>`lb-emoji-data-${e}`,zg=e=>`lb-emoji-metadata-${e}`,Yf="lb-emoji-metadata",pn=20,Ss=25,z6="";function H6(e,t){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function Ua(e,t){const n=e.getItem(t);return n?JSON.parse(n):null}function Hi(e,t,n){e.setItem(t,JSON.stringify(n))}async function Xf(e){try{return(await fetch(e,{method:"HEAD"})).headers.get("etag")}catch{return null}}function V6(e){return L6.includes(e)?e:_6}async function W6(e){const[{emojis:t,emojisEtag:n},{messages:r,messagesEtag:o}]=await Promise.all([fetch(Ng(e)).then(async s=>({emojis:await s.json(),emojisEtag:s.headers.get("etag")})),fetch(Lg(e)).then(async s=>({messages:await s.json(),messagesEtag:s.headers.get("etag")}))]);return{emojis:t,messages:r,emojisEtag:n,messagesEtag:o}}async function U6(e){const[t,n]=await Promise.all([Xf(Ng(e)),Xf(Lg(e))]);return{emojisEtag:t,messagesEtag:n}}async function Jf(e){const{emojis:t,emojisEtag:n,messages:r,messagesEtag:o}=await W6(e),s=r.subgroups.find(m=>m.key==="subdivision-flag"),a=r.groups.filter(m=>m.key!=="component"),i=t.filter(m=>"group"in m),c=a.map(m=>({key:m.order,name:Ra(m.message)})),l=r.skinTones.map(m=>({key:m.key,name:Ra(m.message)})),p={emojis:i.map(m=>{const h={emoji:m.emoji,category:m.group,version:m.version,name:Ra(m.label),tags:m.tags};return s&&m.subgroup===s.order&&(h.countryFlag=!0),h}),categories:c,skinTones:l};return Hi(localStorage,_g(e),p),Hi(localStorage,zg(e),{emojisEtag:n,messagesEtag:o}),p}function Qf(e,t){e.clearRect(0,0,pn*2,Ss),e.fillStyle="#f00",e.fillText(t,0,22),e.fillStyle="#00f",e.fillText(t,pn,22);const n=e.getImageData(0,0,pn,Ss).data,r=n.length;let o=0;for(;o<r&&!n[o+3];o+=4);if(o>=r)return!1;const s=pn+o/4%pn,a=Math.floor(o/4/pn),i=e.getImageData(s,a,1,1).data;return!(n[o]!==i[0]||n[o+2]!==i[2]||e.measureText(t).width>=pn)}function K6(){try{const e=document.createElement("span");e.style.display="none",e.dataset.emoji="",document.body.appendChild(e);const t=window.getComputedStyle(e).fontFamily;return document.body.removeChild(e),t}catch{return Np}}function G6(e){const t=new Map;for(const s of e)t.has(s.version)||t.set(s.version,s.emoji);const n=[...t.keys()].sort((s,a)=>a-s),r=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});if(!r)return{emojiVersion:n[0],countryFlags:!0};r.font=`${Math.floor(Ss/2)}px ${K6()}`,r.textBaseline="top",r.canvas.width=pn*2,r.canvas.height=Ss;const o=Qf(r,z6);for(const s of n){const a=t.get(s);if(Qf(r,a))return{emojiVersion:s,countryFlags:o}}return{emojiVersion:n[0],countryFlags:o}}async function q6(e){const t=V6(e),n=Ua(sessionStorage,Yf),r=Ua(localStorage,_g(t));let o;if(r)if(n)o=r;else{const{emojisEtag:i,messagesEtag:c}=await U6(t),l=Ua(localStorage,zg(t));l&&i===l.emojisEtag&&c===l.messagesEtag?o=r:o=await Jf(t)}else o=await Jf(t);const s=n??G6(o.emojis);return Hi(sessionStorage,Yf,s),{emojis:o.emojis.filter(i=>{const c=i.version<=s.emojiVersion;return i.countryFlag?c&&s.countryFlags:c}),categories:o.categories,skinTones:o.skinTones}}function Z6(e,t){if(!t)return e;const n=t.toLowerCase().trim();return e.filter(r=>r.name.toLowerCase().includes(n)||r.tags?.some(o=>o.toLowerCase().includes(n)))}function Y6(e,t,n){let r=0;const o=[],s=e.map((d,p)=>({...d,index:p})),a=[],i=[],c=[],l=t.map(d=>({...d,emojis:s.filter(p=>p.category===d.key)})).filter(d=>d.emojis.length>0);for(const d of l){const p=M6(d.emojis,n),m=r+p.length;o.push(...p),c.push(d.name),a.push(p.length),i.push(H6(r,m-1)),r=m}return{count:e.length,rows:o,categories:c,categoriesRowCounts:a,categoriesRowIndices:i}}const X6=10,J6="en",Q6=100;function eF({columns:e=X6,locale:t=J6,onEmojiSelect:n,children:r}){const o=u.useRef(),s=u.useRef(""),[,a]=j6(),[i,c]=u.useState(),[l,d]=u.useState(),[p,m]=u.useState(0),[h,g]=u.useState(0),[f,C]=u.useState("none"),E=u.useCallback(()=>{if(n){const S=i?.rows[h]?.[p];S&&n(S.emoji)}},[i?.rows,n,p,h]),v=u.useCallback(()=>{m(0),g(0)},[]),y=u.useCallback((S,O)=>{C("pointer"),m(S),g(O)},[]),b=u.useCallback((S,O)=>{if(i){if(O.preventDefault(),f==="none"){C("keyboard");return}switch(C("keyboard"),S){case"left":{if(p===0){const R=h-1,_=i.rows[R];_&&(g(R),m(_.length-1))}else m(p-1);break}case"right":{const R=i.rows[h];if(p===R.length-1){const _=h+1;i.rows[_]&&(g(_),m(0))}else m(p+1);break}case"up":{const R=i.rows[h-1];R&&(g(h-1),R[p]||m(R.length-1));break}case"down":{const R=i.rows[h+1];R&&(g(h+1),R[p]||m(R.length-1));break}}}},[i,f,p,h]),A=u.useCallback(()=>{o.current&&a(()=>{c(()=>{if(!o.current)return;const S=Z6(o.current.emojis,s.current);return Y6(S,o.current.categories,e)}),v()})},[e,v]),x=u.useCallback(S=>{s.current=S,A()},[A]),B=u.useCallback(async S=>{try{o.current=await q6(S),A()}catch(O){d(O)}},[A]);return u.useEffect(()=>{let S;const O=setTimeout(()=>{S=$6(()=>{B(t)})},Q6);return()=>{clearTimeout(O),R6(S)}},[t]),u.useEffect(()=>{f==="none"&&v()},[f]),$.createElement(jg.Provider,{value:{data:i,error:l,isLoading:!i&&!l,columns:e,onSearch:x,onEmojiSelect:n,selectCurrentEmoji:E,selectedRowIndex:h,selectedColumnIndex:p,moveSelection:b,setPointerSelection:y,interaction:f,setInteraction:C}},r)}const tF=u.forwardRef(({asChild:e,value:t,defaultValue:n,onChange:r,...o},s)=>{const a=e?vt:"input",{onSearch:i,selectCurrentEmoji:c,moveSelection:l,interaction:d,setInteraction:p}=kg(),m=u.useCallback(g=>{if(r?.(g),g.isDefaultPrevented())return;const f=g.target.value;p(f?"keyboard":"none"),i(f)},[r,i,p]),h=u.useCallback(g=>{g.isDefaultPrevented()||(rt(g,"ArrowLeft")?l("left",g):rt(g,"ArrowRight")?l("right",g):rt(g,"ArrowUp")?l("up",g):rt(g,"ArrowDown")?l("down",g):rt(g,"Enter")&&d!=="none"&&(g.preventDefault(),c()))},[d,l,c]);return u.useEffect(()=>{i(t?String(t):n?String(n):"")},[]),$.createElement(a,{type:"search",value:t,defaultValue:n,onChange:m,onKeyDown:h,...o,ref:s})}),nF={CategoryHeader:({category:e,...t})=>$.createElement("div",{...t},e),Row:({children:e,attributes:t,...n})=>$.createElement("div",{...n},e),Emoji:({emoji:e,...t})=>$.createElement("button",{...t},$.createElement(Lp,{emoji:e})),Loading:e=>$.createElement("div",{...e}),Empty:e=>$.createElement("div",{...e}),Grid:e=>$.createElement("div",{...e}),Error:({error:e,...t})=>$.createElement("div",{...t})},rF={rowIndex:-1,categoryRowIndex:-1,categoryRowsCount:0},oF=u.forwardRef(({children:e,...t},n)=>$.createElement("div",{...t,tabIndex:-1,"data-testid":void 0,ref:n},e)),sF=u.forwardRef(({children:e,...t},n)=>$.createElement("div",{...t,"data-testid":void 0,ref:n},e)),aF=u.forwardRef(({components:e,asChild:t,...n},r)=>{const o=t?vt:"div",s=u.useRef(null),a=u.useRef(null),i=u.useRef(0),c=u.useRef(0),l=u.useRef(0),{data:d,error:p,isLoading:m,columns:h,onEmojiSelect:g,selectedColumnIndex:f,selectedRowIndex:C,setPointerSelection:E,interaction:v,setInteraction:y}=kg(),b=u.useMemo(()=>d?.rows[C]?.[f],[d?.rows,f,C]),{Loading:A,Empty:x,Error:B,CategoryHeader:S,Grid:O,Row:R,Emoji:_}=u.useMemo(()=>({...nF,...e}),[e]),j=u.useMemo(()=>u.forwardRef(({children:N,...X},V)=>$.createElement("div",{role:"grid","aria-colcount":h,...X,"data-testid":void 0,ref:V},N)),[h]),H=u.useMemo(()=>Array(h).fill(""),[h]),k=u.useCallback(N=>{N.preventDefault()},[]),P=u.useCallback(()=>{v==="pointer"&&y("none")},[v,y]);Un(()=>{if(!a.current)return;const N=a.current.childNodes[0],X=a.current.childNodes[1];if(N instanceof HTMLElement){const V=window.getComputedStyle(N);i.current=parseFloat(V.scrollMarginTop),c.current=parseFloat(V.scrollMarginBottom)}X instanceof HTMLElement&&(l.current=X.offsetHeight)},[]);const G=u.useCallback(({itemTop:N,itemBottom:X,viewportTop:V,viewportBottom:J,locationParams:{behavior:re,align:K,...Q}})=>N-(l.current+i.current)<V?{...Q,behavior:re,align:K??"start"}:X>J?{...Q,behavior:re,align:K??"end",offset:c.current}:null,[]);return u.useEffect(()=>{v==="keyboard"&&s.current?.scrollIntoView({index:C,behavior:"auto",calculateViewLocation:G})},[v,C,G]),$.createElement(o,{...n,ref:r},$.createElement("div",{style:{visibility:"hidden",height:0},ref:a},$.createElement(R,{attributes:rF},H.map((N,X)=>$.createElement(_,{emoji:N,key:X}))),$.createElement(S,{category:"Category"})),m?$.createElement(A,null):p?$.createElement(B,{error:p}):d.count===0?$.createElement(x,null):$.createElement(O,null,$.createElement(m6,{ref:s,components:{Scroller:oF,List:j,TopItemList:sF},groupCounts:d.categoriesRowCounts,groupContent:N=>$.createElement(S,{category:d.categories[N]}),itemContent:(N,X)=>{const V=d.categoriesRowIndices[X].indexOf(N),J=d.categoriesRowCounts[X];return $.createElement(R,{attributes:{rowIndex:N,categoryRowIndex:V,categoryRowsCount:J}},d.rows[N].map((re,K)=>{const Q=v!=="none"&&f===K&&C===N;return $.createElement(_,{key:re.emoji,role:"gridcell","aria-colindex":K,"aria-selected":Q||void 0,"data-selected":Q||void 0,onMouseDown:k,tabIndex:-1,onPointerEnter:()=>{E(K,N)},onPointerLeave:P,onClick:F=>{g?.(re.emoji),F.stopPropagation()},emoji:re.emoji})}))}})),b&&v!=="none"&&$.createElement("div",{"aria-live":"polite",style:k6},b.name))}),iF=()=>{const[e,t]=u.useState(ac()),[n,r]=u.useState(ic());return u.useEffect(()=>{const o=new MutationObserver(()=>{const a=ac(),i=ic();e!==a&&t(a),n!==i&&r(i)}),s=document.body;if(s)return o.observe(s,{childList:!0,subtree:!0}),()=>o.disconnect()},[n,e]),[e,n]},uF=()=>{const[e,t]=u.useState(null),[n,r]=u.useState(Dd[sc.ShowKL]),[o,s]=u.useState(!1),[a,i]=u.useState(!1),[c,l]=u.useState(!1),[d,p]=u.useState(null),[m,h]=u.useState(!1),[g,f]=u.useState([]),[C,E]=u.useState(null),{route:v,params:y}=i0(),{currentWorkspace:b,user:A}=io(),[,x]=iF(),B=`kl:${b?.id}:${Z0(x)}`,S=b?.id??"",O=A?.id??"",R=v===yr.NewPin&&!e,_=u.useCallback(()=>{r(K=>(X0(sc.ShowKL,!K),Qe({name:Ue.KLVisibility,data:!K}),!K))},[]),j=u.useCallback(()=>{h(K=>!K)},[]),H=u.useCallback(()=>{l(K=>!K)},[]),k=K=>{if(d===K){p(null);return}p(K)},P=async()=>{const K=await Qe({name:Ue.GetHiddenThreads});f(K)},G=async K=>{f(Q=>[...Q,K]),await Qe({name:Ue.HideThread,threadId:K})},N=async K=>{f(Q=>Q.filter(F=>F!==K)),await Qe({name:Ue.ShowThread,threadId:K})},X=u.useCallback(()=>{t(null)},[]),V=K=>{if(p(null),!K){E(null);return}E(K)},J=u.useCallback(K=>{if(K.message.name===Ue.KLVisibility&&(J0(),r(K.message.data)),K.message.name===Ue.PinData&&!e&&(Qe({name:Ue.NavigateTo,route:yr.Hidden}),t(K.message.data)),K.message.name===Ue.OpenThread){if(h(!0),K.message.threadMetadata.resolved){l(!0);return}p(K.message.threadId)}},[e]);U0(J),u.useEffect(()=>{P()},[]);const re=u.useCallback(K=>{K.key==="Escape"&&(v===yr.NewPin&&Qe({name:Ue.NavigateTo,route:yr.Hidden}),C&&E(null))},[C,v]);return u.useEffect(()=>{v===yr.NewPin?i(!0):i(!1)},[v,y]),u.useLayoutEffect(()=>{const K=Nr(()=>{s(!1)},300),Q=()=>{s(!0),K()};return window.addEventListener("resize",Q),document.addEventListener("keydown",re),()=>{window.removeEventListener("resize",Q),document.removeEventListener("keydown",re),s(!1),K.cancel()}},[re]),{room:B,currentWorkspaceId:S,userId:O,isVisuallyHidden:o,isOn:n,toggleKL:_,isAddingComment:a,expandedThreadId:d,draggedThreadId:C,toggleDrag:V,handlePinClick:k,shouldScrollExpandedThreadInView:m,toggleScrollExpandedThreadInView:j,shouldShowResolvedThreadPopup:c,toggleResolvedThreadPopup:H,hideThread:G,showThread:N,hiddenThreads:g,commentPinData:e,clearCommentPinData:X,shouldShowShortcutTooltip:R}},Hg=u.createContext(void 0),cF=({children:e,url:t})=>{const n=uF();return w.jsx(Hg.Provider,{value:{...n,url:t},children:e})},Vg=()=>u.useContext(Hg),lF=()=>{const e=u.useRef(null),t=n=>{n.stopPropagation()};return u.useEffect(()=>{const n=e.current;return n?.addEventListener("keypress",t),n?.addEventListener("keydown",t),n?.addEventListener("keyup",t),()=>{n?.removeEventListener("keypress",t),n?.removeEventListener("keydown",t),n?.removeEventListener("keyup",t)}},[]),e},DI=e=>{const{children:t,url:n}=e,r=lF(),[o,s]=u.useState();return w.jsx(cF,{url:n||window.location.href,children:w.jsxs(lA,{portalContainer:o,children:[t,w.jsx(Re,{ref:r,children:w.jsx(Re,{css:{position:"absolute",pointerEvents:"all",zIndex:f0,fontFamily:T.fonts.sans},id:d0,ref:a=>{a&&s(a)}})})]})})};var Tt=(e=>(e.Page="Page",e.Wildcard="Wildcard",e))(Tt||{});async function EI(e,t,n,r){const o=bd();let s=null;try{const a=await Qe({name:Ue.GetLastKLEvent,nuggetId:n.id});if(a&&typeof a=="number"&&Date.now()-a<6e5)throw new Error("Last event was less than 10 minutes ago");if(await Qe({name:Ue.SetLastKLEvent,nuggetId:n.id,timestamp:Date.now()}),s=wd(document,{}),s){const c={rrWebSnapshot:s,innerHTML:""};await Qe({name:Ue.UploadNuggetSnapshot,payload:{snapshotType:Ed.DISPLAY,workspaceId:e,nuggetId:n.id,snapshot:c,fileName:o}})}const i=JSON.stringify({metadata:n.metadata,automatixResult:r,snapshotIdentifier:s?o:null});await Qe({name:Ue.KLAnalytics,event:{nuggetTrackingEvents:[{context:i,eventTimestamp:new Date().toISOString(),eventType:cd.NuggetDisplay,nuggetId:n.id,trackingId:t,workspaceId:e}]}})}catch{}}async function fF(e,t,n){const r=bd(),s={rrWebSnapshot:wd(document,{}),innerHTML:""};Qe({name:Ue.UploadNuggetSnapshot,payload:{snapshotType:Ed.CREATE,workspaceId:e,nuggetId:n.id,snapshot:s,fileName:r}}).then(()=>{const a=JSON.stringify({metadata:n.metadata,snapshotIdentifier:r});Qe({name:Ue.KLAnalytics,event:{nuggetTrackingEvents:[{context:a,eventTimestamp:new Date().toISOString(),eventType:cd.NuggetCreate,nuggetId:n.id,trackingId:t,workspaceId:e}]}})})}const Wg=({href:e,children:t,size:n="2"})=>(mt(),w.jsx(rm,{asChild:!0,children:w.jsx(Se,{as:"a",css:{cursor:"pointer",color:T.colors.primary500},href:e,size:n,children:t})})),Ug=e=>{const{userId:t,size:n="2"}=e,{user:r}=qi(t);return mt(),w.jsx(nm,{asChild:!0,children:w.jsxs(Se,{css:{color:T.colors.primary500},size:n,weight:"med",children:["@",r?.name]})})},dF=e=>{const{tango:t,canDelete:n,onDelete:r}=e,s=q0({onClick:()=>Qe({name:Ue.ViewWorkflow,id:t.workflowId,workspaceId:t.workspaceId,preview:!0,eventSource:"Pinned Tango"})}),a=()=>{r?.(t.workflowId)};return w.jsxs(Re,{as:"li",css:{position:"relative",listStyle:"none","--delete-button-opacity":0,"&:hover":{"--delete-button-opacity":1},"&:focus-within":{"--delete-button-opacity":1}},children:[n?w.jsx(Re,{css:{position:"absolute",top:-4,right:-4,zIndex:1,opacity:"var(--delete-button-opacity)",transition:"opacity 0.3s"},children:w.jsx(nt,{"aria-label":"Delete Pinned Tango","data-testid":"delete-pinned-tango-button",css:{bg:T.colors.white},onClick:a,size:"sm",variant:"outline",children:w.jsx(Wi,{})})}):null,w.jsxs(Ie,{as:"button",ref:s,css:{position:"relative",textAlign:"left",width:"100%",padding:12,background:"linear-gradient(122.75deg, rgba(244, 236, 249, 0) -41.29%, #FFEEE7 137.36%)",borderRadius:T.radii.sm,transition:"background 0.3s ease-in-out","&:before":{content:'""',position:"absolute",inset:0,borderRadius:T.radii.sm,padding:1,background:"linear-gradient(126.13deg, rgba(232, 216, 255, 0.1) -35.27%, #FEC2AC 177.64%)","-webkit-mask":"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)","-webkit-mask-composite":"xor",maskComposite:"exclude",transition:"padding 0.3s ease-in-out"},"&:hover":{background:"linear-gradient(122.75deg, rgba(244, 236, 249, 0) -41.29%, #FFEEE7 137.36%),  linear-gradient(0deg, rgba(254, 194, 172, 0.1), rgba(254, 194, 172, 0.1))","&:before":{padding:2}}},direction:"column",gap:"1",children:[w.jsx(Se,{css:{color:T.colors.gray700,"@supports (-webkit-line-clamp: 2)":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"initial",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"}},size:"2",weight:"med",children:t.name}),w.jsxs(Ie,{alignItems:"center",css:{width:"100%"},justifyContent:"between",children:[w.jsx(Se,{css:{color:T.colors.gray500},size:"1",children:t.stepCount===1?`${t.stepCount} step`:`${t.stepCount} steps`}),w.jsx(md,{apps:t.apps,max:3,portalledTooltip:!1,size:"sm"})]})]})]})},Kg=e=>{const{tangos:t,canDelete:n,onDelete:r}=e;return w.jsx(w.Fragment,{children:t.length>0?w.jsx(Ie,{as:"ul",direction:"column",css:{padding:0,my:T.space[1]},gap:"2",children:t.map(o=>w.jsx(dF,{canDelete:n,onDelete:r,tango:o},o.workflowId))}):null})},pF=(e,t)=>{switch(t.type){case"doneWithSearch":return{...e,isSearching:!1,searchResults:t.searchResults};case"cancelSearch":return{...e,isSearching:!1,searchResults:[]};case"triggerSearch":return{value:t.value,isSearching:!0,searchResults:[]};default:return e}},ed=e=>{const{workflow:t,onClick:n}=e,r=()=>{n(t)};return mt([t]),w.jsx(Re,{as:"li",css:{listStyle:"none"},children:w.jsxs(Ie,{alignItems:"center",as:"button",css:{unset:"all",py:12,px:20,cursor:"pointer",borderRadius:T.radii.xs,transition:"background 0.3s ease-in-out",width:"100%","&:hover":{bg:T.colors.gray100},"&:focus-visible":{bg:T.colors.gray100,outline:`3px solid ${T.colors.primary300}`,outlineOffset:"0px"}},justifyContent:"between",onClick:r,children:[w.jsx(Se,{css:{color:T.colors.gray700,maxWidth:220},size:"2",truncate:!0,children:t.name}),w.jsx(md,{apps:t.apps||[],max:2,portalledTooltip:!1,size:"xs"})]})})},Os=e=>{const{align:t="center",side:n="bottom",alignOffset:r=0,children:o,onSelect:s,open:a,onClose:i}=e,[c,l]=u.useReducer(pF,{value:"",isSearching:!1,searchResults:[]}),d=Sn(),{workflows:p,hasLoaded:m}=O0({listenForTabChanges:!0,bustCache:!0});mt([c.searchResults,c.isSearching,p,m]);const h=async B=>{if(B?.length<3){l({type:"cancelSearch"});return}const O=(await Qe({name:Ue.SearchWorkflows,query:B}))?.workflows?.searchContent?.results||[];l({type:"doneWithSearch",searchResults:O})},g=u.useCallback(Nr(h,600),[]),f=B=>{l({type:"triggerSearch",value:B.currentTarget.value}),g(B.currentTarget.value)},C=B=>{s(B),i()},E=Kt({zIndex:"101 !important"})(),v=Kt({height:148})(),y=c.isSearching||!m,b=!c.value,A=c.value&&c.searchResults.length>0,x=c.value&&(c.searchResults?.length===0||p?.length===0);return w.jsxs(Qs,{open:a,children:[o,w.jsx(ta,{container:d,children:w.jsx(na,{align:t,alignOffset:r,className:E,asChild:!0,side:n,sideOffset:8,onInteractOutside:i,onFocusOutside:i,onPointerDownOutside:i,children:w.jsxs(Ie,{css:{bg:T.colors.white,borderRadius:T.radii.md,border:`1px solid ${T.colors.gray200}`,boxShadow:"0px 4px 6px -1px rgba(37, 31, 45, 0.1), 0px 2px 4px -2px rgba(37, 31, 45, 0.1)",width:300,overflow:"hidden"},direction:"column",gap:"2",children:[w.jsx(Re,{css:{pt:T.space[4],px:T.space[4]},children:w.jsx(hd,{value:c.value,onChange:f,onKeyDown:B=>{B.stopPropagation()},placeholder:"Search for a Tango",autoFocus:!0})}),w.jsx(Ie,{as:"ul",css:{my:0,p:0},direction:"column",children:y?w.jsx(Ie,{alignItems:"center",className:v,justifyContent:"center",children:w.jsx(Ga,{})}):w.jsxs(w.Fragment,{children:[b&&p?.slice(0,4)?.map(B=>w.jsx(ed,{onClick:C,workflow:B},B.workflowId)),A&&c.searchResults?.slice(0,7).map(B=>w.jsx(ed,{onClick:C,workflow:B},B.workflowId)),x?w.jsx(Ie,{alignItems:"center",className:v,justifyContent:"center",children:w.jsx(Se,{size:"2",children:"No results found"})}):null]})})]})})})]})};Os.displayName="TangoSelector";Os.Anchor=ea;const Gg=e=>{const{userId:t,size:n="sm"}=e,{user:r}=qi(t);return mt(),w.jsx(u0,{size:n,src:r?.avatar||""})},Fs=e=>{const{userId:t,size:n="2",useSelfName:r=!0,css:o}=e,{user:s}=io(),a=s?.id||"",{user:i,isLoading:c}=qi(t),l=!r&&a===i?.id?"You":i?.name||"Unknown user";return c?w.jsx(F0,{css:{width:100,height:18,borderRadius:T.radii.xs}}):w.jsx(Se,{css:{color:T.colors.gray700,...o},size:n,weight:"med",children:l})},mF=({userId:e})=>(mt(),w.jsx(wh,{className:"lb-composer-suggestions-list-item lb-composer-mention-suggestion",value:e,children:w.jsxs(Ie,{alignItems:"center",gap:"2",children:[w.jsx(Gg,{userId:e,size:"sm"}),w.jsx(Fs,{userId:e})]})})),hF=({userIds:e})=>e.length>0?w.jsx(Dh,{className:"lb-root lb-portal lb-composer lb-composer-form lb-composer-editor lb-elevation lb-composer-suggestions lb-composer-mention-suggestions",children:w.jsx(Eh,{className:"lb-composer-suggestions-list lb-composer-mention-suggestions-list",children:e.map(t=>w.jsx(mF,{userId:t},t))})}):null,gF=e=>{const{size:t="md"}=e,{createMention:n}=Xs(),r=()=>{n()};return w.jsx(tt,{content:"Tag someone",portalled:!1,side:"top",children:w.jsx(nt,{"aria-label":"Insert Mention","data-testid":"insert-mention",onClick:r,size:t,type:"button",children:w.jsx(Rp,{})})})},vF={workspace:"Workspace","selected-only":"Selected only"},CF={workspace:"Select group to adjust the setting","selected-only":"Remove group to adjust the setting"},DF={workspace:w.jsx(Ns,{color:T.colors.gray500.value,size:"16"}),"selected-only":w.jsx(Ls,{color:T.colors.gray500.value,size:"16"})},EF=e=>{const{item:t}=e;return mt([]),w.jsxs(Ie,{alignItems:"center",css:{p:T.space[1]},gap:"3",children:[w.jsx(Ie,{alignItems:"center",justifyContent:"center",css:{size:T.space[6],borderRadius:T.radii.full,bg:T.colors.purple100,color:T.colors.purple500},children:w.jsx(Fp,{size:"16"})}),w.jsx(Se,{css:{color:T.colors.gray700},size:"2",truncate:!0,weight:"med",children:t.label})]})},Is=e=>{const{align:t="center",side:n="bottom",alignOffset:r=0,onSelect:o,onClose:s,open:a,children:i,sideOffset:c=8,value:l}=e,[d,p]=u.useState(l?"selected-only":"workspace"),[m,h]=u.useState(!1),{user:g}=io(),f=g?.userGroups??[];mt([m]);const C=Sn(),E={options:f.map(A=>({label:A.name,value:A.id}))},v=A=>{if(!A){p("workspace"),o(void 0);return}p("selected-only"),o(A)},y=()=>{p("workspace"),o(void 0)},b=Kt({zIndex:"100 !important"})();return w.jsxs(Qs,{open:a,children:[i,w.jsx(ta,{container:C,children:w.jsx(na,{align:t,alignOffset:r,className:b,asChild:!0,side:n,sideOffset:c,onInteractOutside:s,onFocusOutside:s,onPointerDownOutside:s,children:w.jsxs(Ie,{css:{bg:T.colors.white,borderRadius:T.radii.md,border:`1px solid ${T.colors.gray200}`,boxShadow:"0px 4px 6px -1px rgba(37, 31, 45, 0.1), 0px 2px 4px -2px rgba(37, 31, 45, 0.1)",width:300,overflow:"hidden",p:T.space[4]},direction:"column",gap:"3",children:[w.jsxs(Ie,{alignItems:"center",css:{width:"100%"},justifyContent:"between",children:[w.jsxs(Ie,{alignItems:"center",gap:"2",children:[w.jsx(Ie,{alignItems:"center",css:{borderRadius:T.radii.full,size:T.space[6],bg:T.colors.gray100,color:T.colors.gray400,flexShrink:0},justifyContent:"center",children:DF[d]}),w.jsx(Se,{css:{color:T.colors.gray600},size:"2",weight:"med",children:"Who can view"})]}),w.jsx(Ie,{alignItems:"center",css:{bg:"transparent",borderRadius:T.radii.xs,p:T.space[1],"&:hover":{bg:T.colors.gray100}},justifyContent:"center",children:w.jsx(tt,{container:C,content:CF[d],side:"top",children:w.jsx(Se,{css:{color:T.colors.gray600},size:"2",weight:"med",children:vF[d]})})})]}),w.jsx(BC,{components:{item:EF},container:C,disabled:f.length===0,onOpenChange:h,onItemSelect:v,onInputClear:y,options:E,placeholder:f.length===0?"No user group available":"Select a user group",value:l})]})})})]})};Is.displayName="VisibilityOptions";Is.Anchor=ea;const wF=e=>{const t=/-([a-f0-9]{8})([a-f0-9]{4})([a-f0-9]{4})([a-f0-9]{4})([a-f0-9]{12})(?:[/?]|$)/,n=e.match(t);return n?`${n[1]}-${n[2]}-${n[3]}-${n[4]}-${n[5]}`:null},bF=(e,t,n)=>{e.filter(o=>!t.some(s=>s.workflowId===o.workflowId)).forEach(o=>{Qe({name:Ue.DeleteWorkflowPin,pinId:n,workflowId:o.workflowId})})},yF=(e,t,n)=>{t.filter(o=>!e.some(s=>s.workflowId===o.workflowId)).forEach(o=>{Qe({name:Ue.UpsertWorkflowPin,pin:{pinId:n,externalId:n,url:window.location.href,workflowId:o.workflowId,title:document.title}})})},qg=e=>{const{autoFocus:t=!1,onSubmit:n,onCancel:r,defaultTangos:o=[],defaultCollapsed:s=!1,isFirstComment:a,placeholder:i,commentId:c,threadId:l,roomId:d,metadata:p,rawScreenshotURL:m,defaultValue:h,showVisibilityOptions:g=!1,showTangoSelector:f=!1,showCancel:C=!1,maxHeight:E=Y0,selectedUserGroup:v,onUserGroupChange:y}=e,[b,A]=u.useState(s),[x,B]=u.useState(!1),[S,O]=u.useState(o),[R,_]=u.useState(null),j=u.useRef(null),H=u.useRef(null);mt([b,S,R]);const{user:k}=io(),P=Zi(Ui.KL_PILOT),{handlePinClick:G,userId:N,currentWorkspaceId:X}=Vg(),V=I0(),J=$0(),re=R0(),K=gd(),Q=Sn(),F=u.useMemo(()=>{switch(!0){case(!!l&&!!c):return"Save";case!!l:return"Reply";default:return"Pin"}},[c,l]),L=u.useCallback(async({body:ue},Ce)=>{if(l&&c&&d)re({body:ue,threadId:l,commentId:c}),a&&(K({threadId:l,metadata:{tangos:JSON.stringify(S)}}),bF(o,S,l),yF(o,S,l));else if(l){const we=J({body:ue,threadId:l});Xe(Je.NuggetReplySent,{nugget_id:l,room_id:we.roomId,comment_id:we.id,email:k?.email})}else if(p){const we=V({body:ue,metadata:{...p,tangos:S?JSON.stringify(S):void 0,userGroups:v?JSON.stringify([v]):void 0}});Xe(Je.NuggetCreated,{nugget_id:we.id,room_id:we.roomId,email:k?.email}),G(we.id),S.length>0&&S.forEach(ke=>{Qe({name:Ue.UpsertWorkflowPin,pin:{pinId:we.id,externalId:we.roomId,url:p.location,workflowId:ke.workflowId,title:document.title}})}),await fF(X,N,we),x&&m&&Qe({name:Ue.UploadPinScreenshot,threadId:we.id,rawScreenshotURL:m}).then(ke=>{ke&&K({threadId:we.id,metadata:{screenshotURL:ke}})})}s&&A(!0),n?.()},[l,c,d,s,n,re,a,K,S,o,J,p,V,k?.email,v,G,x,m,X,N]),U=u.useCallback(()=>{s&&A(!0),r?.()},[s,r]),M=()=>{B(!0)},W=()=>{B(!1)},Z=Kt({color:T.colors.gray700,fontSize:T.fontSizes[2],overflowY:"auto",backgroundImage:`linear-gradient(to top, ${T.colors.white}, ${T.colors.white}),
       linear-gradient(to top, ${T.colors.white}, ${T.colors.white}),
       linear-gradient(to top, rgba(243, 242, 243, 0.9), rgba(255, 255, 255, 0.9)),
       linear-gradient(to bottom, rgba(243, 242, 243, 0.9), rgba(255, 255, 255, 0.9))`,backgroundPosition:"bottom center, top center, bottom center, top center",backgroundRepeat:"no-repeat",backgroundSize:"100% 32px, 100% 32px",backgroundAttachment:"local, local, scroll, scroll",maxHeight:E,'[data-slate-placeholder="true"]':{color:T.colors.gray300},"&:focus-visible":{outline:"none"}})(),ne=Kt({position:"relative",width:"100%",height:150,border:`1px solid ${T.colors.gray200}`,objectFit:"contain",borderRadius:T.radii.xs,my:8})(),pe=Kt({width:"100%",height:"100%",objectFit:"cover"})(),ce=ue=>{ue.stopPropagation()},De=ue=>{ue.target===document.getElementById(p0)&&ue.stopPropagation()},he=()=>{A(!1),window.addEventListener("keypress",De,!0)},oe=()=>{window.removeEventListener("keypress",De,!0)},de=async ue=>{if(!(l&&!a)&&!(S.length>=3)&&ue.clipboardData&&ue.clipboardData.getData("text/plain").trim().match(/^https:\/\/.*\.tango\.us\/app\/workflow\/.*/)){const Ce=wF(ue.clipboardData.getData("text/plain"));if(!Ce||S.some(bt=>bt.workflowId===Ce))return;const ke=await Qe({name:Ue.GetWorkflowData,workflowId:Ce});if(ke){const bt={workflowId:ke.exportWorkflow.id,name:ke.exportWorkflow.name,apps:ke.exportWorkflow.apps,workspaceId:ke.exportWorkflow.workspaceId,stepCount:ke.exportWorkflow.stepCount};O(Ye=>[...Ye,bt]),Xe(Je.TangoPinned,{workflow_id:ke.exportWorkflow.id,room_id:d,nugget_id:l,email:k?.email,event_context:"pasted workflow"})}}},ge=ue=>{S.length>=3||(O(Ce=>Ce.some(ke=>ke.workflowId===ue.workflowId)?Ce:[...Ce,ue]),Xe(Je.TangoPinned,{workflow_id:ue.workflowId,room_id:d,nugget_id:l,email:k?.email,event_context:"tango selector"}),setTimeout(()=>{H.current?.focus()},50))},Me=ue=>{O(Ce=>Ce.filter(we=>we.workflowId!==ue)),Xe(Je.TangoUnpinned,{workflow_id:ue,room_id:d,email:k?.email,nugget_id:l})},Pe=()=>{_(null)},_e=()=>{_("tango-selector")},Te=()=>{_("visibility-options")},Be=v?"Visible to selected group only.":"Visible to the entire workspace.";return w.jsx(WB,{asChild:!0,onComposerSubmit:L,children:w.jsxs(Ie,{as:"form",direction:"column",justifyContent:"between",style:{minHeight:b?16:52,width:"100%"},children:[w.jsx(VB,{ref:H,autoFocus:t,className:Z,defaultValue:h,placeholder:i||"Write something...",onFocus:he,onBlur:oe,onKeyDown:ce,onPaste:de,components:{Mention:Ug,MentionSuggestions:hF,Link:Wg}}),w.jsx(Kg,{canDelete:!0,onDelete:Me,tangos:S}),P?w.jsxs(Re,{className:ne,css:{display:x?"block":"none","--remove-button-opacity":0,"&:hover":{"--remove-button-opacity":1},"&:focus-within":{"--remove-button-opacity":1}},children:[w.jsx(Re,{as:"img",className:pe,src:m,alt:"Screenshot preview"}),w.jsx(nt,{"aria-label":"Remove screenshot","data-testid":"remove-screenshot-preview",css:{bg:T.colors.gray100,position:"absolute",top:-12,right:-8,opacity:"var(--remove-button-opacity)",transition:"opacity 0.3s"},onClick:W,size:"sm",type:"button",variant:"outline",children:w.jsx(Wi,{})})]}):null,b?null:w.jsxs(Ie,{alignItems:"center",css:{pt:T.space[1]},justifyContent:"between",children:[w.jsxs(Ie,{alignItems:"center",gap:"0",children:[P?w.jsx(gF,{size:l?"sm":"md"}):null,!l&&P?w.jsx(tt,{content:"Add screenshot",container:Q,side:"top",children:w.jsx(nt,{"aria-label":"Add screenshot","data-testid":"add-screenshot-button",disabled:x,onClick:M,size:l?"sm":"md",type:"button",children:w.jsx($p,{})})}):null,f?w.jsxs(Re,{children:[w.jsx(tt,{content:"Add Tango",container:Q,side:"top",children:w.jsx(nt,{ref:j,"aria-label":"Add Tango","data-testid":"add-tango-button",disabled:S.length>=3,onClick:_e,type:"button",children:w.jsx(T0,{})})}),w.jsx(Os,{onClose:Pe,open:R==="tango-selector",onSelect:ge,align:"start",children:w.jsx(Os.Anchor,{})})]}):null,g&&y?w.jsxs(Re,{children:[w.jsx(tt,{content:Be,container:Q,side:"top",children:w.jsx(nt,{"aria-label":Be,"data-testid":"visibility-options-button",onClick:Te,type:"button",children:v?w.jsx(Ls,{}):w.jsx(Ns,{})})}),w.jsx(Is,{align:"start",onSelect:y,onClose:Pe,open:R==="visibility-options",value:v,children:w.jsx(Is.Anchor,{})})]}):null]}),w.jsxs(Ie,{alignItems:"center",gap:"2",children:[C?w.jsx(Mn,{onClick:U,size:l?"sm":"md",variant:"text",type:"button",children:"Cancel"}):null,w.jsx(UB,{asChild:!0,children:w.jsx(Mn,{size:l?"sm":"md",type:"submit",children:F})})]})]})]})})},$s="[commentmeta]",td=e=>{const t=e.body?.content[0]?.children[0]?.text;if(t&&t.includes($s)){const n=structuredClone(e.body);return n.content[0].children[0].text=t.split($s)[0],n}return e.body},xF=e=>{const t=e.body?.content[0]?.children[0].text;if(t&&t.includes($s)){const n=t.split($s)[1];return JSON.parse(n)}return{}},AF=e=>btoa(encodeURIComponent(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),BF=()=>w.jsx(Se,{css:{color:T.colors.gray300},size:"2",children:"/"}),SF=e=>{const{targetRef:t,children:n}=e,r=Sn(),o=u.useRef(null),s=u.useCallback(()=>{const a=t.current?.getBoundingClientRect();!a||!o.current||(o.current.style.position="fixed",o.current.style.top=`${a.top-a.height-12}px`,o.current.style.left=`${a.left}px`,o.current.style.zIndex="102")},[t]);return u.useLayoutEffect(()=>{if(s(),Cd()){const a=document.querySelector(m0);return a.shadowRoot.addEventListener("scroll",s,!0),()=>{a.shadowRoot.removeEventListener("scroll",s,!0)}}else return window.addEventListener("scroll",s,!0),()=>{window.removeEventListener("scroll",s,!0)}},[s]),sn.createPortal(w.jsx(Re,{ref:o,children:n}),r)},OF=e=>{const{path:t,toggled:n,onToggle:r,onBlockEdit:o,onToggleWildcard:s,onBlockDelete:a}=e,[i,c]=u.useState(!1),l=u.useRef(null),d=Sn();mt([t]);const p=()=>{h.current&&(c(!0),r(),setTimeout(()=>{const C=h.current;if(C){const E=document.createRange(),v=window.getSelection();if(E.selectNodeContents(C),E.collapse(!1),!v)return;v.removeAllRanges(),v.addRange(E),C.focus()}},100))},m=u.useCallback(()=>{if(!h.current)return;c(!1);const C=h.current.textContent?.trim();if(!C){h.current.textContent=t;return}o(C)},[o,t]),h=u.useRef(null),g=C=>{C.code==="Space"&&C.preventDefault(),(C.key==="Enter"||C.key==="Escape")&&(C.preventDefault(),m())};return u.useEffect(()=>{const C=E=>{i&&h.current&&!h.current.contains(E.target)&&m()};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[m,i]),t==="*"?w.jsx(Re,{as:"button","aria-label":"Remove wildcard",css:{unset:"all",p:T.space[1],borderRadius:T.radii.xs,cursor:"pointer",color:T.colors.purple700,background:T.colors.purple100.value,wordBreak:"break-word",textAlign:"left","&:focus-visible":{outline:`2px solid ${T.colors.purple300} !important`}},onClick:s,children:w.jsx(Vr,{css:{verticalAlign:"text-top"},size:16})}):w.jsxs(Re,{ref:l,children:[n?w.jsx(SF,{targetRef:l,children:w.jsxs(vd,{size:"sm",children:[w.jsx(tt,{container:d,content:"Add wildcard",side:"top",children:w.jsx(nt,{"aria-label":"Add wildcard",onClick:s,children:w.jsx(Vr,{})})}),w.jsx(tt,{container:d,content:"Edit text",side:"top",children:w.jsx(nt,{"aria-label":"Edit text",onClick:p,children:w.jsx(is,{})})}),w.jsx(tt,{container:d,content:"Remove",side:"top",children:w.jsx(nt,{"aria-label":"Remove",onClick:a,children:w.jsx(Ka,{})})})]})}):null,w.jsx(Re,{as:"button",css:{unset:"all",p:T.space[1],borderRadius:T.radii.xs,cursor:"pointer",wordBreak:"break-word",textAlign:"left","&:focus-visible":{outline:`2px solid ${T.colors.purple300} !important`}},onClick:i?void 0:r,style:{background:i?T.colors.white.value:T.colors.purple100.value,outline:!i&&n?`2px solid ${T.colors.purple300}`:"none",color:!i&&n?T.colors.purple500.value:T.colors.purple700.value},children:w.jsx(Se,{ref:h,as:"p",contentEditable:i,css:{m:0,color:"currentColor",borderRadius:T.radii.xs},dangerouslySetInnerHTML:{__html:t},onBlur:m,onKeyDown:g,size:"2",style:{outline:"none",maxWidth:i?"unset":"20ch",whiteSpace:i?"pre-wrap":"nowrap"},truncate:!0})})]})},FF=e=>{const{defaultValue:t,value:n,onSave:r,onCancel:o}=e,{pathname:s,host:a,protocol:i}=new URL(n),c=s.split("/").filter(x=>x!=="").map(x=>({originalValue:x,targetValue:x})),[l,d]=u.useState([...c]),[p,m]=u.useState(null),h=x=>{const B=l.map((S,O)=>{switch(!0){case(O===x&&S.targetValue!=="*"):return{...S,targetValue:"*"};case(O===x&&S.originalValue!=="*"&&S.targetValue==="*"):return{...S,targetValue:S.originalValue};case(O===x&&S.originalValue==="*"):return;default:return S}}).filter(S=>typeof S<"u");d(B),f(x)},g=x=>{const B=l.filter((S,O)=>O!==x);d(B),f(x)},f=x=>{m(B=>B===x?null:x)},C=()=>{d([...l,{originalValue:"*",targetValue:"*"}])},E=(x,B)=>{if(B.includes("/")){const S=B.split("/").filter(R=>R!=="").map(R=>({originalValue:R,targetValue:R})),O=l.slice(0,x).concat(S,l.slice(x+1));d(O)}else{const S=l.map((O,R)=>R===x?{...O,targetValue:B}:O);d(S)}},v=()=>{const{pathname:x}=new URL(t),B=x.split("/").filter(S=>S!=="").map(S=>({originalValue:S,targetValue:S}));d([...B])},y=()=>{o()},b=()=>{const x=`${i}//${a}/${l.map(B=>B.targetValue).join("/")}`;r(x)},A=l[l.length-1]?.targetValue==="*";return w.jsxs(Ie,{"data-testid":"custom-wildcard-input",css:{gap:12},direction:"column",children:[w.jsxs(Re,{children:[w.jsxs(Se,{as:"p",css:{color:T.colors.gray600,m:0},size:"2",children:["Click blocks to change URL parameters."," "]}),w.jsxs(Se,{as:"p",css:{color:T.colors.gray600,m:0},size:"2",children:["Use"," ",w.jsx(Vr,{css:{verticalAlign:"middle"},size:"16"})," ","as a wildcard to represent any text, or edit and remove blocks as needed."]})]}),w.jsxs(Ie,{alignItems:"center",css:{p:T.space[2],bg:T.colors.white,border:`1px solid ${T.colors.gray300}`,borderRadius:T.radii.sm,maxHeight:160,overflowY:"auto"},gap:"1",wrap:"wrap",children:[w.jsx(Se,{css:{color:T.colors.gray300},size:"2",children:`${i}//${a}/`}),l.map((x,B)=>w.jsxs(Ie,{alignItems:"center",gap:"1",children:[w.jsx(OF,{onBlockDelete:()=>g(B),onBlockEdit:S=>E(B,S),onToggle:()=>f(B),onToggleWildcard:()=>h(B),path:x.targetValue,toggled:p===B}),B!==l.length-1?w.jsx(BF,{}):null]},`${x}-${B}`)),A?null:w.jsx(Re,{as:"button","aria-label":"Add wildcard at end of path",css:{unset:"all",p:T.space[1],borderRadius:T.radii.xs,border:`1px solid ${T.colors.gray200}`,cursor:"pointer",color:T.colors.gray300,background:T.colors.white,transition:"color 0.2s ease-in-out, border 0.2s ease-in-out","&:hover":{color:T.colors.gray500,border:`1px solid ${T.colors.gray300}`}},onClick:C,children:w.jsx(Vr,{css:{verticalAlign:"text-top"},size:16})})]},l.join("/")),w.jsxs(Ie,{alignItems:"center",justifyContent:"between",children:[w.jsx(Mn,{StartIcon:w.jsx(P0,{size:"12"}),onClick:v,size:"sm",variant:"text",children:"Reset"}),w.jsxs(Ie,{alignItems:"center",gap:"2",children:[w.jsx(Mn,{onClick:y,variant:"text",children:"Cancel"}),w.jsx(Mn,{onClick:b,children:"Save"})]})]})]})},IF=pt(En.Trigger,{display:"flex",alignItems:"center",justifyContent:"space-between",color:T.colors.gray700,border:`1px solid ${T.colors.gray300}`,p:T.space[2],borderRadius:T.radii.sm,width:"100%",height:36,transitionDuration:"0.2s",transitionProperty:"background, color, border, border-color, opacity",transitionTimingFunction:"ease-in-out","&:hover":{backgroundColor:T.colors.gray100,border:`1px solid ${T.colors.purple500}`,outline:`2px solid  ${T.colors.purple300}`},"&:focus-visible":{outline:`2px solid  ${T.colors.purple300}`,border:`1px solid ${T.colors.purple500}`},"&:disabled":{cursor:"not-allowed",opacity:.5}}),$F=pt(En.Item,{display:"flex",alignItems:"center",cursor:"pointer",justifyContent:"space-between",px:10,height:"fit-content",borderRadius:T.radii.sm}),RF=e=>{const{onCancel:t,onSave:n,defaultValue:r}=e;mt([r]);const o=()=>{n(r)};return w.jsxs(Ie,{alignItems:"center","data-testid":"original-page",gap:"2",justifyContent:"end",children:[w.jsx(Mn,{onClick:t,variant:"text",children:"Cancel"}),w.jsx(Mn,{onClick:o,children:"Save"})]})},nd={[Tt.Page]:"Original page only",[Tt.Wildcard]:"Custom"},TF={[Tt.Page]:"Display where it was first posted",[Tt.Wildcard]:"Set your custom URL pattern"},Rs=e=>{const{align:t="center",side:n="bottom",alignOffset:r=0,onSave:o,value:s,currentUrl:a,open:i,children:c,onClose:l,sideOffset:d=8}=e,[p,m]=u.useState(s.type||Tt.Page),[h,g]=u.useState(!1);mt([h]);const f=Sn(),C=b=>{m(b)},E=b=>{o(p,b),l()},v=Kt({zIndex:"100 !important"})(),y=Kt({zIndex:"100 !important",width:266})();return w.jsxs(Qs,{open:i,children:[c,w.jsx(ta,{container:f,children:w.jsx(na,{align:t,alignOffset:r,className:v,asChild:!0,side:n,sideOffset:d,onWheel:b=>b.stopPropagation(),children:w.jsxs(Ie,{css:{bg:T.colors.white,borderRadius:T.radii.md,border:`1px solid ${T.colors.gray200}`,boxShadow:"0px 4px 6px -1px rgba(37, 31, 45, 0.1), 0px 2px 4px -2px rgba(37, 31, 45, 0.1)",width:300,overflow:"hidden",p:T.space[4]},direction:"column",gap:"2",children:[w.jsxs(Re,{children:[w.jsx(Se,{css:{color:T.colors.gray700},weight:"med",children:"Set display pages"}),w.jsx(Se,{as:"p",css:{color:T.colors.gray600,mt:2,mb:0},size:"2",children:"Choose where your nugget appears."})]}),w.jsxs(En,{onOpenChange:b=>g(b),children:[w.jsxs(IF,{children:[nd[p]," ",w.jsx(tv,{color:T.colors.gray600.value,size:20})]}),w.jsx(En.Content,{container:f,className:y,sideOffset:8,children:Object.values(Tt).map(b=>w.jsxs($F,{onClick:()=>C(b),children:[w.jsxs(Ie,{direction:"column",gap:"2",children:[w.jsx(Se,{css:{color:T.colors.gray700},size:"2",weight:"med",children:nd[b]}),w.jsx(Se,{css:{color:T.colors.gray500},size:"1",children:TF[b]})]})," ",p===b?w.jsx(j0,{color:T.colors.gray500.value,size:16}):null]},b))})]}),p===Tt.Page?w.jsx(RF,{defaultValue:a,onCancel:l,onSave:E}):null,p===Tt.Wildcard?w.jsx(FF,{defaultValue:a,onCancel:l,onSave:E,value:s.url||a}):null]})})})]})};Rs.displayName="DisplayOptionsWildcardPopover";Rs.Anchor=ea;const PF=8,jF=10,kF=()=>w.jsx(Ie,{alignItems:"center",css:{size:"100%"},justifyContent:"center",children:w.jsx(Se,{children:"Loading..."})}),rd=()=>w.jsx(Ie,{alignItems:"center",css:{size:"100%"},justifyContent:"center",children:w.jsx(Se,{children:"No emoji matching query"})}),MF=({category:e})=>(mt(),w.jsx(Re,{css:{bg:T.colors.white,p:"16px 16px 4px 16px"},children:w.jsx(Se,{css:{color:T.colors.gray500,textTransform:"uppercase"},size:"2",children:e})})),NF=({children:e})=>w.jsx(Re,{css:{position:"absolute",inset:0},children:e}),LF=({children:e})=>w.jsx(Ie,{css:{px:T.space[4]},gap:"1",children:e}),_F=({emoji:e,...t})=>w.jsx(Ie,{as:"button",alignItems:"center",css:{unset:"all",borderRadius:T.radii.sm,border:"none",bg:"transparent",cursor:"pointer",size:25},justifyContent:"center",...t,children:w.jsx(Se,{css:{fontSize:20},children:e})}),Vt=e=>{const{align:t="center",side:n="bottom",alignOffset:r=0,children:o,onEmojiSelect:s,sideOffset:a=PF,open:i,onClose:c}=e,l=Sn();mt([]);const d=m=>{s?.(m),c?.()},p=Kt({zIndex:"100 !important"})();return w.jsx(w.Fragment,{children:w.jsxs(Qs,{open:i,children:[o,w.jsx(ta,{container:l,children:w.jsx(na,{asChild:!0,align:t,alignOffset:r,className:p,collisionPadding:jF,side:n,sideOffset:a,onInteractOutside:c,onFocusOutside:c,onPointerDownOutside:c,onWheel:m=>m.stopPropagation(),children:w.jsx(Ie,{css:{bg:T.colors.white,borderRadius:T.radii.md,border:`1px solid ${T.colors.gray200}`,boxShadow:"0px 4px 6px -1px rgba(37, 31, 45, 0.1), 0px 2px 4px -2px rgba(37, 31, 45, 0.1)",width:315,height:288,overflow:"hidden"},direction:"column",children:w.jsxs(eF,{onEmojiSelect:d,children:[w.jsx(Re,{css:{pt:T.space[4],px:T.space[4],pb:T.space[1]},children:w.jsx(tF,{placeholder:"Search emoji",autoFocus:!0,asChild:!0,children:w.jsx(hd,{StartElement:w.jsx(k0,{}),placeholder:"Search..."})})}),w.jsx(aF,{className:"lb-emoji-picker-content",components:{Loading:kF,Empty:rd,Error:rd,CategoryHeader:MF,Grid:NF,Row:LF,Emoji:_F}})]})})})})]})})};Vt.displayName="EmojiPicker";Vt.Anchor=ea;const Rn=u.forwardRef((e,t)=>{const{children:n,...r}=e;return w.jsx(En.Item,{ref:t,css:{display:"flex",gap:T.space[2],borderRadius:T.radii.sm,cursor:"pointer",px:10,py:T.space[2],color:T.colors.gray500},...r,children:e.children})}),zF=e=>{const{userIds:t}=e;return w.jsxs(w.Fragment,{children:[t.length>1?t.slice(0,-1).map((n,r)=>w.jsxs(u.Fragment,{children:[w.jsx(Fs,{userId:n.id,useSelfName:!1}),r<t.length-2?", ":" and "]},n.id)):null,t.length>0&&w.jsx(Fs,{userId:t[t.length-1].id,useSelfName:!1})]})},HF=e=>{const{userIds:t,emoji:n}=e;return w.jsxs(Se,{css:{color:T.colors.gray700},size:"2",weight:"reg",children:[w.jsx(zF,{userIds:t})," reacted with ",n]})},VF=e=>{const{reactions:t,onReactionClick:n}=e;return t.length===0?null:w.jsx(Ie,{alignItems:"center",gap:"1",css:{mt:T.space[2]},wrap:"wrap",children:t.map(r=>w.jsx(tt,{content:w.jsx(HF,{emoji:r.emoji,userIds:r.users}),portalled:!1,side:"top",children:w.jsxs(Ie,{alignItems:"center",as:"button",css:{unset:"all",cursor:n?"pointer":"default",overflow:"hidden",height:24,minWidth:44,px:T.space[2],border:`1px solid ${T.colors.gray100}`,borderRadius:T.radii.xs,"&:focus-visible":{outline:`2px solid ${T.colors.primary300}`},"&:hover":{borderColor:T.colors.gray200,background:T.colors.gray100},"&:active":{borderColor:T.colors.primary300,background:T.colors.primary100}},gap:"2",onClick:()=>n?.(r.emoji),children:[w.jsx(Se,{size:"2",children:r.emoji}),w.jsx(Se,{size:"2",children:r.users.length})]})},r.emoji))})},WF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20id='Livello_1'%20x='0'%20y='0'%20style='enable-background:new%200%200%202228.83%202073.33'%20version='1.1'%20viewBox='0%200%202228.83%202073.33'%3e%3cstyle%3e.st0{fill:%235059c9}.st1{fill:%237b83eb}.st2,.st3{opacity:.1;enable-background:new}.st3{opacity:.2}%3c/style%3e%3cpath%20d='M1554.64%20777.5h575.71c54.39%200%2098.48%2044.09%2098.48%2098.48v524.4c0%20199.9-162.05%20361.95-361.95%20361.95h-1.71c-199.9.03-361.97-162-362-361.9V828.97c0-28.43%2023.04-51.47%2051.47-51.47z'%20class='st0'/%3e%3ccircle%20cx='1943.75'%20cy='440.58'%20r='233.25'%20class='st0'/%3e%3ccircle%20cx='1218.08'%20cy='336.92'%20r='336.92'%20class='st1'/%3e%3cpath%20d='M1667.32%20777.5H717.01c-53.74%201.33-96.26%2045.93-95.01%2099.68v598.1c-7.51%20322.52%20247.66%20590.16%20570.17%20598.05%20322.51-7.89%20577.67-275.53%20570.17-598.05v-598.1c1.24-53.75-41.27-98.35-95.02-99.68z'%20class='st1'/%3e%3cpath%20d='M1244%20777.5v838.15c-.26%2038.44-23.55%2072.96-59.09%2087.6a91.96%2091.96%200%200%201-35.77%207.26H667.61c-6.74-17.1-12.96-34.21-18.14-51.83A631.45%20631.45%200%200%201%20622%201475.19V877.02c-1.25-53.66%2041.2-98.19%2094.85-99.52H1244z'%20class='st2'/%3e%3cpath%20d='M1192.17%20777.5v889.98a91.78%2091.78%200%200%201-7.26%2035.77c-14.63%2035.54-49.16%2058.83-87.6%2059.09H691.97c-8.81-17.1-17.1-34.21-24.36-51.83s-12.96-34.21-18.14-51.83A631.45%20631.45%200%200%201%20622%201475.19V877.02c-1.25-53.66%2041.2-98.19%2094.85-99.52h475.32z'%20class='st3'/%3e%3cpath%20d='M1192.17%20777.5v786.31c-.4%2052.22-42.63%2094.46-94.85%2094.85H649.47A631.45%20631.45%200%200%201%20622%201475.17V877.02c-1.25-53.66%2041.2-98.19%2094.85-99.52h475.32z'%20class='st3'/%3e%3cpath%20d='M1140.33%20777.5v786.31c-.4%2052.22-42.63%2094.46-94.85%2094.85H649.47A631.45%20631.45%200%200%201%20622%201475.17V877.02c-1.25-53.66%2041.2-98.19%2094.85-99.52h423.48z'%20class='st3'/%3e%3cpath%20d='M1244%20509.52V672.8c-8.81.52-17.1%201.04-25.92%201.04s-17.1-.52-25.92-1.04c-17.5-1.16-34.85-3.94-51.83-8.29-104.96-24.86-191.68-98.47-233.25-198a288.083%20288.083%200%200%201-16.59-51.83h258.65c52.31.19%2094.66%2042.54%2094.86%2094.84z'%20class='st2'/%3e%3cpath%20d='M1192.17%20561.35V672.8c-17.5-1.16-34.85-3.94-51.83-8.29-104.96-24.86-191.68-98.47-233.25-198h190.23c52.3.19%2094.65%2042.54%2094.85%2094.84z'%20class='st3'/%3e%3cpath%20d='M1192.17%20561.35V672.8c-17.5-1.16-34.85-3.94-51.83-8.29-104.96-24.86-191.68-98.47-233.25-198h190.23c52.3.19%2094.65%2042.54%2094.85%2094.84z'%20class='st3'/%3e%3cpath%20d='M1140.33%20561.35V664.5c-104.96-24.86-191.68-98.47-233.25-198h138.4c52.3.2%2094.65%2042.55%2094.85%2094.85z'%20class='st3'/%3e%3clinearGradient%20id='SVGID_1_'%20x1='198.099'%20x2='942.233'%20y1='-1123.072'%20y2='165.738'%20gradientTransform='translate(0%201515.333)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20style='stop-color:%235a62c3'/%3e%3cstop%20offset='.5'%20style='stop-color:%234d55bd'/%3e%3cstop%20offset='1'%20style='stop-color:%233940ab'/%3e%3c/linearGradient%3e%3cpath%20d='M95.01%20466.5h950.31c52.47%200%2095.01%2042.54%2095.01%2095.01v950.31c0%2052.47-42.54%2095.01-95.01%2095.01H95.01c-52.47%200-95.01-42.54-95.01-95.01V561.51c0-52.47%2042.54-95.01%2095.01-95.01z'%20style='fill:url(%23SVGID_1_)'/%3e%3cpath%20d='M820.21%20828.19H630.24v517.3H509.21v-517.3H320.12V727.84h500.09v100.35z'%20style='fill:%23fff'/%3e%3c/svg%3e",Ho=()=>{setTimeout(()=>{document.body.style.removeProperty("pointer-events")},300)},UF=e=>{const{comment:t,isPinnedInDropdownOrModal:n,isFirstComment:r,isThreadResolved:o,displayOption:s,wildcard:a,tangos:i,userGroups:c}=e,{user:l}=io(),[d,p]=u.useState(!1),[m,h]=u.useState(null),[g,f]=u.useState(!1),[C,E]=u.useState(null),v=xF(t),y=Zi(Ui.KL_PILOT),{url:b,hideThread:A,hiddenThreads:x,showThread:B,toggleDrag:S}=Vg(),O=Gi(),R=M0(),_=N0(),j=gd(),H=L0(),k=_0(),[,P]=z0(3e3);mt([g,C]);const G=Sn(),N=Cd(),X=O?.id===t.userId,V=x.includes(t.threadId),J=AF(t.roomId),re=`${Dd.webUrl}app/threads/${J}/thread/${t.threadId}`,K=u.useMemo(()=>{switch(!0){case!N:return"To move this Nugget, interact with it directly on the page.";case n:return"This option is disabled due to the current layout. Drag the Tango T icon to move instead.";default:return null}},[n,N]),Q=u.useMemo(()=>c?`Visible to: ${c.map(ue=>ue.label).join(", ")}. To change this, create a new Nugget.`:"Visible to the entire workspace.",[c]),F=u.useCallback(ue=>{E(ue),setTimeout(()=>{E(null)},3e3)},[]),L=u.useCallback(()=>{Xe(Je.CopyLinkToNugget,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email}),P(re),Nr(F,300)("Link copied!")},[t.threadId,t.roomId,l?.email,P,re,F]),U=u.useCallback(()=>{Xe(Je.NuggetReplyDeleted,{nugget_id:t.threadId,room_id:t.roomId,comment_id:t.id,email:l?.email}),R({threadId:t.threadId,commentId:t.id})},[t.threadId,t.roomId,t.id,l?.email,R]),M=()=>{i&&i.forEach(ue=>{Qe({name:Ue.DeleteWorkflowPin,pinId:t.threadId,workflowId:ue.workflowId})}),Xe(Je.NuggetDeleted,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email}),_(t.threadId),Ho()},W=()=>{o?Xe(Je.NuggetReopened,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email}):Xe(Je.NuggetArchived,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email}),j({threadId:t.threadId,metadata:{resolved:!o}})},Z=u.useCallback(()=>{Xe(Je.NuggetHidden,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email}),A(t.threadId),Ho()},[t.threadId,t.roomId,l?.email,A]),ne=u.useCallback(()=>{Xe(Je.NuggetShown,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email}),B(t.threadId)},[t.threadId,t.roomId,l?.email,B]),pe=()=>{Xe(Je.NuggetMoved,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email}),S(t.threadId)},ce=(ue,Ce)=>{he(!1),ue===Tt.Page&&(Xe(Je.ResetWildcard,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email,type:ue}),j({threadId:t.threadId,metadata:{wildcard:null,displayOption:null,location:Ce}})),ue===Tt.Wildcard&&(Xe(Je.CreatedNewWildcard,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email,type:ue,wildcard:Ce}),j({threadId:t.threadId,metadata:{wildcard:Ce,displayOption:Tt.Wildcard}})),Nr(F,300)("Wildcard updated!")},De=u.useCallback(ue=>{if(o)return;const Ce=t.reactions.findIndex(we=>we.emoji===ue);Ce>=0&&O?.id&&t.reactions[Ce].users.some(we=>we.id===O?.id)?(Xe(Je.RemovedReactionFromNugget,{nugget_id:t.threadId,room_id:t.roomId,comment_id:t.id,email:l?.email}),k({threadId:t.threadId,commentId:t.id,emoji:ue})):(Qe({name:Ue.SendNotification,kind:"$threadReaction",userId:t.userId,subjectId:t.id,roomId:t.roomId,activityData:{threadId:t.threadId,reaction:ue,reactedBy:O?.id,url:re}}),Xe(Je.ReactedToNugget,{nugget_id:t.threadId,room_id:t.roomId,comment_id:t.id,email:l?.email}),H({threadId:t.threadId,commentId:t.id,emoji:ue}))},[l?.email,o,t.reactions,t.threadId,t.id,t.userId,t.roomId,O?.id,k,re,H]),he=ue=>{p(ue),ue||(Ho(),h(null))},oe=ue=>{ue.preventDefault()},de=u.useCallback(()=>{Xe(Je.EditNugget,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email,comment_id:t.id}),f(!0)},[t.threadId,t.roomId,t.id,l?.email]),ge=()=>{f(!1),Xe(Je.EditNuggetSaved,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email,comment_id:t.id})},Me=()=>{f(!1),Xe(Je.EditNuggetCancelled,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email,comment_id:t.id})},Pe=u.useCallback(()=>{m==="display-options"&&Xe(Je.CancelWildcard,{nugget_id:t.threadId,room_id:t.roomId,email:l?.email}),Ho(),h(null)},[t.roomId,t.threadId,m,l?.email]),_e=ue=>{ue.preventDefault(),h("display-options")},Te=ue=>{ue.preventDefault(),h("emoji-picker")},Be=u.useMemo(()=>r&&X?[w.jsx(tt,{container:G,content:Q,side:"top",children:w.jsx(nt,{"aria-label":"Visibility options","data-testid":"visibility-options",disabled:!0,children:c?w.jsx(Ls,{}):w.jsx(Ns,{})})},"visibility-options"),w.jsx(tt,{container:G,content:"Copy link",side:"top",children:w.jsx(nt,{"aria-label":"Copy link","data-testid":"copy-link",onClick:L,children:w.jsx(uc,{})})},"copy-link")]:!r&&X?[w.jsxs(Re,{children:[w.jsx(tt,{container:G,content:"Add a reaction",side:"top",children:w.jsx(nt,{"aria-label":"Add a reaction","data-testid":"add-reaction",onClick:Te,children:w.jsx(Br,{})})}),w.jsx(Vt,{onEmojiSelect:De,open:m==="emoji-picker",onClose:Pe,children:w.jsx(Vt.Anchor,{})})]},"add-reaction"),w.jsx(tt,{container:G,content:"Edit",side:"top",children:w.jsx(nt,{"aria-label":"Edit Comment","data-testid":"edit-comment",onClick:de,children:w.jsx(is,{})})},"edit"),w.jsx(tt,{container:G,content:"Delete",side:"top",children:w.jsx(nt,{"aria-label":"Delete Comment","data-testid":"delete-comment",onClick:U,children:w.jsx(Ka,{})})},"delete")]:r&&!X?[w.jsxs(Re,{children:[w.jsx(tt,{container:G,content:"Add a reaction",side:"top",children:w.jsx(nt,{"aria-label":"Add a reaction","data-testid":"add-reaction",onClick:Te,children:w.jsx(Br,{})})}),w.jsx(Vt,{onEmojiSelect:De,open:m==="emoji-picker",onClose:Pe,children:w.jsx(Vt.Anchor,{})})]},"add-reaction"),w.jsx(tt,{container:G,content:"Copy link",side:"top",children:w.jsx(nt,{"aria-label":"Copy link","data-testid":"copy-link",onClick:L,children:w.jsx(uc,{})})},"copy-link"),w.jsx(tt,{container:G,content:V?"Show nugget":"Hide nugget",side:"top",children:w.jsx(nt,{"aria-label":V?"Show nugget":"Hide nugget","data-testid":V?"show-nugget":"hide-nugget",onClick:V?ne:Z,children:V?w.jsx(oc,{size:"16"}):w.jsx(ai,{size:"16"})})},"hide-nugget")]:[w.jsxs(Re,{children:[w.jsx(tt,{container:G,content:"Add a reaction",side:"top",children:w.jsx(nt,{"aria-label":"Add a reaction","data-testid":"add-reaction",children:w.jsx(Br,{})})}),w.jsx(Vt,{onEmojiSelect:De,open:m==="emoji-picker",onClose:Pe,children:w.jsx(Vt.Anchor,{})})]},"add-reaction")],[L,U,de,Z,Pe,De,ne,X,r,V,m,G,c,Q]);return w.jsxs(Re,{css:{position:"relative","--icon-button-menu-opacity":(d||m)&&!C?1:0,"&:hover":{"--icon-button-menu-opacity":C||(o&&!X?0:1)},"&:focus-within":{"--icon-button-menu-opacity":C||(o&&!X?0:1)}},children:[g?w.jsx(Re,{css:{pt:T.space[2],px:T.space[4]},children:w.jsx(Re,{css:{p:12,borderRadius:T.radii.sm,border:"1px solid",borderColor:T.colors.gray200,transition:"border-color 0.2s","&:focus-within":{outline:`2px solid ${T.colors.primary300}`,borderColor:T.colors.primary500}},children:w.jsx(qg,{autoFocus:!0,commentId:t.id,defaultTangos:r?i:[],defaultValue:t.body?td(t):void 0,isFirstComment:r,maxHeight:120,onCancel:Me,onSubmit:ge,placeholder:"Reply to thread...",roomId:t.roomId,threadId:t.threadId,showCancel:!0})})}):w.jsxs(Ie,{alignItems:"start",css:{position:"relative",px:T.space[4]},gap:"3",children:[w.jsx(Gg,{userId:t.userId}),w.jsxs(Re,{css:{width:"100%"},children:[w.jsxs(Se,{css:{color:T.colors.gray700},size:"2",weight:"med",children:[w.jsx(Fs,{userId:t.userId}),v.source==="ms-teams"?w.jsx(tt,{content:"From Microsoft Teams",container:G,children:w.jsx("img",{src:WF,width:12,height:12,alt:"MS Teams",style:{marginLeft:T.space[2].value}})}):"",w.jsx(Se,{css:{color:T.colors.gray500,ml:T.space[2]},size:"1",children:H0(t.createdAt.toISOString())})]}),w.jsx(Se,{css:{display:"block",color:T.colors.gray600,mt:"4px !important","& p":{minHeight:18,wordBreak:"break-word"}},size:"2",weight:"reg",children:w.jsx(f3,{body:td(t),components:{Mention:Ug,Link:Wg}})}),r&&i?w.jsx(Kg,{tangos:i}):null,w.jsx(VF,{reactions:t.reactions,onReactionClick:De})]})]}),r?w.jsx(V0,{text:C}):null,w.jsxs(vd,{className:"showOnHover",css:{position:"absolute",opacity:"var(--icon-button-menu-opacity)",transition:"opacity 0.2s ease-in",top:-6,right:T.space[2]},size:"sm",children:[Be,r&&X?w.jsxs(En,{open:d,onOpenChange:he,children:[w.jsx(En.Trigger,{asChild:!0,children:w.jsx(nt,{"aria-label":"More options","data-testid":"more-options",children:w.jsx(Tp,{})})}),w.jsxs(En.Content,{align:"end",alignOffset:-6,sideOffset:8,container:G,css:{width:200},onCloseAutoFocus:oe,children:[w.jsxs(Rn,{onClick:de,children:[w.jsx(is,{size:"16"}),w.jsx(Se,{css:{color:T.colors.gray500},size:"2",children:"Edit"})]}),w.jsx(tt,{container:G,content:K,sideOffset:-4,side:N?"right":"bottom",children:w.jsxs(Rn,{disabled:!N||n,onClick:pe,children:[w.jsx(Pp,{size:"16"}),w.jsx(Se,{css:{color:T.colors.gray500},size:"2",style:{opacity:!N||n?.2:1},children:"Adjust position"})]})}),w.jsxs(Rn,{onClick:_e,children:[w.jsx(kp,{size:"16"}),w.jsx(Se,{css:{color:T.colors.gray500},size:"2",children:"Set display pages"})]}),w.jsx(Rs,{align:"start",alignOffset:-40,currentUrl:b,onClose:Pe,open:m==="display-options",onSave:ce,side:N?"right":"bottom",sideOffset:-16,value:{type:s,url:a||b},children:w.jsx(Rs.Anchor,{})}),w.jsxs(Rn,{onClick:Te,children:[w.jsx(Br,{size:"16"}),w.jsx(Se,{css:{color:T.colors.gray500},size:"2",children:"Add a reaction"})]}),w.jsx(Vt,{align:"start",alignOffset:-40,onEmojiSelect:De,open:m==="emoji-picker",onClose:Pe,side:N?"right":"bottom",sideOffset:-16,children:w.jsx(Vt.Anchor,{})}),w.jsxs(Rn,{onClick:V?ne:Z,children:[V?w.jsx(oc,{size:"16"}):w.jsx(ai,{size:"16"}),w.jsx(Se,{css:{color:T.colors.gray500},size:"2",children:V?"Show":"Hide"})]}),y?w.jsxs(Rn,{onClick:W,children:[o?w.jsx(jp,{size:"16"}):w.jsx(Ip,{size:"16"}),w.jsx(Se,{css:{color:T.colors.gray500},size:"2",children:o?"Reopen":"Archive"})]}):null,w.jsxs(Rn,{onClick:M,children:[w.jsx(Ka,{size:"16"}),w.jsx(Se,{css:{color:T.colors.gray500},size:"2",children:"Delete"})]})]})]}):null]})]})},KF=(e,t)=>e.thread.updatedAt?.getTime()===t.thread.updatedAt?.getTime()&&e.isPinnedInDropdownOrModal===t.isPinnedInDropdownOrModal,GF=e=>{const{threadId:t}=e;return w.jsx(Re,{css:{pt:T.space[2],px:T.space[4],pb:T.space[4]},children:w.jsx(Re,{css:{p:12,borderRadius:T.radii.sm,border:"1px solid",borderColor:T.colors.gray200,transition:"border-color 0.2s","&:focus-within":{outline:`2px solid ${T.colors.primary300}`,borderColor:T.colors.primary500}},children:w.jsx(qg,{threadId:t,defaultCollapsed:!0,maxHeight:120,placeholder:"Reply to thread...",showCancel:!0})})})},wI=u.memo(e=>{const{thread:t,maxHeight:n,isPinnedInDropdownOrModal:r}=e,o=Zi(Ui.KL_PILOT),s=u.useRef(null),a=fv(s,{once:!0}),i=W0(),c=t.comments.filter(h=>!h.deletedAt),l=t.comments[0].id,d=u.useCallback(()=>{i(t.id)},[i,t.id]),p=t.metadata.tangos&&JSON.parse(t.metadata.tangos),m=t.metadata.userGroups&&JSON.parse(t.metadata.userGroups);return u.useEffect(()=>{a&&d()},[d,a]),w.jsxs(Re,{ref:s,children:[w.jsx(Re,{css:{overflowY:"auto",backgroundImage:`linear-gradient(to top, ${T.colors.white}, ${T.colors.white}), 
       linear-gradient(to top, ${T.colors.white}, ${T.colors.white}),
       linear-gradient(to top, rgba(243, 242, 243, 0.9), rgba(255, 255, 255, 0.9)), 
       linear-gradient(to bottom, rgba(243, 242, 243, 0.9), rgba(255, 255, 255, 0.9))`,backgroundPosition:"bottom center, top center, bottom center, top center",backgroundRepeat:"no-repeat",backgroundSize:"100% 32px, 100% 32px",backgroundAttachment:"local, local, scroll, scroll",maxHeight:n||"unset"},children:w.jsx(Ie,{css:{pt:T.space[4]},direction:"column",gap:"4",style:{paddingBottom:o?"4px":"16px"},children:c.map(h=>w.jsx(UF,{comment:h,displayOption:t.metadata.displayOption,isPinnedInDropdownOrModal:r,isThreadResolved:t.metadata.resolved,isFirstComment:l===h.id,tangos:p,userGroups:m,wildcard:t.metadata.wildcard},h.id))})}),!t.metadata.resolved&&o?w.jsx(GF,{threadId:t.id}):null]})},KF);export{wI as C,Tt as D,qg as E,DI as K,ai as a,iF as b,Fs as c,f3 as d,Ug as e,Wg as f,Gg as g,Pp as o,EI as t,Vg as u,En as v};
//# sourceMappingURL=DyC068QH.js.map
