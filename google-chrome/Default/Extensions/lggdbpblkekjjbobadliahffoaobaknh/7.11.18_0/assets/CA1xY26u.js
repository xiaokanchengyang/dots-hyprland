import{j as t,c as B}from"./CMhnKYCA.js";import{r as o}from"./bVFUYZgl.js";import{c as F}from"./YaqZrkt8.js";import{E as L,O as h,M as T}from"./SHnOzo4l.js";import{l as X,s as m}from"./BjgJiouD.js";import"./Cpj98o6Y.js";import"./QipNwzXz.js";import"./DxyQva6U.js";import"./ChlyaM6j.js";import"./CRUnMUWV.js";import"./DaneALmD.js";import"./uDekdLYy.js";import"./CTuBfHaM.js";import"./CqgvlWIA.js";import"./D8aEg3BZ.js";const i={display:"flex",padding:"4px 0",marginLeft:16,alignItems:"center"},l={display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:"12px",width:"100%",alignItems:"center",marginLeft:4},g={color:"#3a3a3a",fontSize:"12px",fontWeight:"normal"},M={borderRadius:4,background:"#ff7442",border:0,padding:"8px 16px",color:"white"},N={border:0,borderBottom:"1px solid #d5d5d5",margin:"16px 0"};let s;const A=()=>{const[w,S]=o.useState(!1),[n,c]=o.useState(""),[x,p]=o.useState(""),[r,b]=o.useState(!1),[d,f]=o.useState(!1),[y,j]=o.useState(!1),[U,C]=o.useState(0);o.useEffect(()=>{X().then(e=>{if(s=e,!s.webUrl.match("app.tango|int.tango|localhost"))return p(s.webUrl),c("custom");s.isDeveloper&&f(!0),c(s.webUrl),j(s.actionBoxOnboardingRepeat)})},[]),o.useEffect(()=>{n==="custom"&&!r&&b(!0),n!=="custom"&&r&&(b(!1),p(""))},[n,r]);const O=e=>{if(S(!0),!s)return;e.preventDefault(),m(h.ActionBoxOnboardingRepeat,y);const D=s.webUrl,u=x||n;if(s.webUrl===u){window.close();return}async function E(){await F(),await m(h.WebUrl,u);const R=await chrome.tabs.query({url:`${D}*`}),W=await chrome.tabs.query({url:`${u}*`});for(const v of R.concat(W))v.id&&await chrome.tabs.reload(v.id);window.close(),chrome.runtime.sendMessage({message:{name:T.UnloadContentScript}})}E()},a=e=>{c(e.target.value)},I=e=>{p(e.target.value)},k=()=>{(U+1)%3===0&&(f(!d),m(h.IsDeveloper,!d)),C(e=>e+1)};return t.jsxs("div",{children:[d&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{style:{margin:0},children:"Developer Options"}),t.jsxs("form",{id:"form",onSubmit:O,children:[t.jsx("h3",{children:"Web App URL"}),t.jsxs("div",{style:i,children:[t.jsx("input",{onChange:a,type:"radio",id:"prod",name:"webUrl",value:"https://app.tango.us/",checked:!!n.match("https://app.tango.us")}),t.jsxs("label",{style:l,htmlFor:"prod",children:["Production ",t.jsx("span",{style:g,children:"https://app.tango.us"})]})]}),t.jsxs("div",{style:i,children:[t.jsx("input",{onChange:a,type:"radio",id:"int",name:"webUrl",value:"https://int.tango.us/",checked:!!n.match("https://int.tango.us")}),t.jsxs("label",{style:l,htmlFor:"int",children:["Integration ",t.jsx("span",{style:g,children:"https://int.tango.us"})]})]}),t.jsxs("div",{style:i,children:[t.jsx("input",{onChange:a,type:"radio",id:"local",name:"webUrl",value:"http://localhost:8000/",checked:!!n.match("http://localhost:8000")}),t.jsxs("label",{style:l,htmlFor:"local",children:["Local ",t.jsx("span",{style:g,children:"http://localhost:8000"})]})]}),t.jsxs("div",{style:i,children:[t.jsx("input",{onChange:a,type:"radio",id:"custom",name:"webUrl",value:"custom",checked:n==="custom"}),t.jsxs("label",{style:l,htmlFor:"custom",children:["Custom",t.jsx("input",{placeholder:"eg. https://deploy-preview-XXXX--tango-integration.netlify.app",onChange:I,value:x,disabled:!r,type:"url"})]})]}),t.jsx("h3",{children:"Demo options"}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:y,onChange:e=>j(e.target.checked)}),"Â "," Show onboarding for Guidance every time"]}),t.jsx("hr",{style:N}),t.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:t.jsx("button",{style:M,children:w?"Saving":"Save"})})]})]}),t.jsxs("p",{"data-testid":"version",style:{position:"absolute",bottom:0,cursor:"pointer"},onClick:k,children:["v",L]})]})},q=document.getElementById("app"),z=B(q);z.render(t.jsx(A,{}));
//# sourceMappingURL=CA1xY26u.js.map
