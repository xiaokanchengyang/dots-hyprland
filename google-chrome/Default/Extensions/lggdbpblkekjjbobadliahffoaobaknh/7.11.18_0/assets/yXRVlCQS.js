var Se=Object.defineProperty,Ee=(e,t,r)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,B=(e,t,r)=>Ee(e,typeof t!="symbol"?t+"":t,r),y=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(y||{});function te(e){return e.nodeType===e.ELEMENT_NODE}function Ne(e){const t=e?.host;return t?.shadowRoot===e}function Q(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function ke(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function xe(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const r=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function q(e){try{const t=e.rules||e.cssRules;return t?ke(Array.from(t,Te).join("")):null}catch{return null}}function Te(e){let t;if(Me(e))try{t=q(e.styleSheet)||xe(e)}catch{}else if(ve(e)&&e.selectorText.includes(":"))return _e(e.cssText);return t||e.cssText}function _e(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Me(e){return"styleSheet"in e}function ve(e){return"selectorText"in e}class ue{constructor(){B(this,"idNodeMap",new Map),B(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){const i=r.id;this.idNodeMap.set(i,t),this.nodeMetaMap.set(t,r)}replace(t,r){const i=this.getNode(t);if(i){const a=this.nodeMetaMap.get(i);a&&this.nodeMetaMap.set(r,a)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Le({element:e,maskInputOptions:t,tagName:r,type:i,value:a,maskInputFn:l}){let f=a||"";const o=i&&J(i);return(t[r.toLowerCase()]||o&&t[o])&&(l?f=l(f,e):f="*".repeat(f.length)),f}function J(e){return e.toLowerCase()}const re="__rrweb_original__";function Re(e){const t=e.getContext("2d");if(!t)return!0;const r=50;for(let i=0;i<e.width;i+=r)for(let a=0;a<e.height;a+=r){const l=t.getImageData,f=re in l?l[re]:l;if(new Uint32Array(f.call(t,i,a,Math.min(r,e.width-i),Math.min(r,e.height-a)).data.buffer).some(u=>u!==0))return!1}return!0}function Ie(e,t){return!e||!t||e.type!==t.type?!1:e.type===y.Document?e.compatMode===t.compatMode:e.type===y.DocumentType?e.name===t.name&&e.publicId===t.publicId&&e.systemId===t.systemId:e.type===y.Comment||e.type===y.Text||e.type===y.CDATA?e.textContent===t.textContent:e.type===y.Element?e.tagName===t.tagName&&JSON.stringify(e.attributes)===JSON.stringify(t.attributes)&&e.isSVG===t.isSVG&&e.needBlock===t.needBlock:!1}function De(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?J(t):null}function fe(e,t){let r;try{r=new URL(e,t??window.location.href)}catch{return null}const i=/\.([0-9a-z]+)(?:$)/i,a=r.pathname.match(i);return a?.[1]??null}let Ae=1;const Oe=new RegExp("[^a-z0-9-_:]"),ie=-2;function $e(){return Ae++}function Pe(e){if(e instanceof HTMLFormElement)return"form";const t=J(e.tagName);return Oe.test(t)?"div":t}function Ue(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let G,ne;const We=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Fe=/^(?:[a-z+]+:)?\/\//i,Be=/^www\..*/i,ze=/^(data:)([^,]*),(.*)/i;function Y(e,t){return(e||"").replace(We,(r,i,a,l,f,o)=>{const u=a||f||o,n=i||l||"";if(!u)return r;if(Fe.test(u)||Be.test(u))return`url(${n}${u}${n})`;if(ze.test(u))return`url(${n}${u}${n})`;if(u[0]==="/")return`url(${n}${Ue(t)+u}${n})`;const c=t.split("/"),g=u.split("/");c.pop();for(const b of g)b!=="."&&(b===".."?c.pop():c.push(b));return`url(${n}${c.join("/")}${n})`})}const Ge=/^[^ \t\n\r\u000c]+/,je=/^[, \t\n\r\u000c]+/;function Ve(e,t){if(t.trim()==="")return t;let r=0;function i(l){let f;const o=l.exec(t.substring(r));return o?(f=o[0],r+=f.length,f):""}const a=[];for(;i(je),!(r>=t.length);){let l=i(Ge);if(l.slice(-1)===",")l=j(e,l.substring(0,l.length-1)),a.push(l);else{let f="";l=j(e,l);let o=!1;for(;;){const u=t.charAt(r);if(u===""){a.push((l+f).trim());break}else if(o)u===")"&&(o=!1);else if(u===","){r+=1,a.push((l+f).trim());break}else u==="("&&(o=!0);f+=u,r+=1}}}return a.join(", ")}const se=new WeakMap;function j(e,t){return!t||t.trim()===""?t:K(e,t)}function He(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function K(e,t){let r=se.get(e);if(r||(r=e.createElement("a"),se.set(e,r)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return r.setAttribute("href",t),r.href}function qe(e,t,r,i){return i&&(r==="src"||r==="href"&&!(t==="use"&&i[0]==="#")||r==="xlink:href"&&i[0]!=="#"||r==="background"&&(t==="table"||t==="td"||t==="th")?j(e,i):r==="srcset"?Ve(e,i):r==="style"?Y(i,K(e)):t==="object"&&r==="data"?j(e,i):i)}function Ye(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function Je(e,t,r){try{if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const a=e.classList[i];if(t.test(a))return!0}if(r)return e.matches(r)}catch{}return!1}function Z(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return r?Z(e.parentNode,t,r):!1;for(let i=e.classList.length;i--;){const a=e.classList[i];if(t.test(a))return!0}return r?Z(e.parentNode,t,r):!1}function Ke(e,t,r,i){let a;if(te(e)){if(a=e,!a.childNodes.length)return!1}else{if(e.parentElement===null)return!1;a=e.parentElement}try{if(typeof t=="string"){if(i){if(a.closest(`.${t}`))return!0}else if(a.classList.contains(t))return!0}else if(Z(a,t,i))return!0;if(r){if(i){if(a.closest(r))return!0}else if(a.matches(r))return!0}}catch{}return!1}function Xe(e,t,r){const i=e.contentWindow;if(!i)return;let a=!1,l;try{l=i.document.readyState}catch{return}if(l!=="complete"){const o=setTimeout(()=>{a||(t(),a=!0)},r);e.addEventListener("load",()=>{clearTimeout(o),a=!0,t()});return}const f="about:blank";if(i.location.href!==f||e.src===f||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Qe(e,t,r){let i=!1,a;try{a=e.sheet}catch{return}if(a)return;const l=setTimeout(()=>{i||(t(),i=!0)},r);e.addEventListener("load",()=>{clearTimeout(l),i=!0,t()})}function Ze(e,t){const{doc:r,mirror:i,blockClass:a,blockSelector:l,needsMask:f,inlineStylesheet:o,maskInputOptions:u={},maskTextFn:n,maskInputFn:c,dataURLOptions:g={},inlineImages:b,recordCanvas:k,keepIframeSrcFn:w,newlyAddedElement:C=!1}=t,m=et(r,i);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:y.Document,childNodes:[],compatMode:e.compatMode}:{type:y.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:y.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:m};case e.ELEMENT_NODE:return rt(e,{doc:r,blockClass:a,blockSelector:l,inlineStylesheet:o,maskInputOptions:u,maskInputFn:c,dataURLOptions:g,inlineImages:b,recordCanvas:k,keepIframeSrcFn:w,newlyAddedElement:C,rootId:m});case e.TEXT_NODE:return tt(e,{doc:r,needsMask:f,maskTextFn:n,rootId:m});case e.CDATA_SECTION_NODE:return{type:y.CDATA,textContent:"",rootId:m};case e.COMMENT_NODE:return{type:y.Comment,textContent:e.textContent||"",rootId:m};default:return!1}}function et(e,t){if(!t.hasNode(e))return;const r=t.getId(e);return r===1?void 0:r}function tt(e,t){var r;const{needsMask:i,maskTextFn:a,rootId:l}=t,f=e.parentNode&&e.parentNode.tagName;let o=e.textContent;const u=f==="STYLE"?!0:void 0,n=f==="SCRIPT"?!0:void 0;if(u&&o){try{e.nextSibling||e.previousSibling||(r=e.parentNode.sheet)!=null&&r.cssRules&&(o=q(e.parentNode.sheet))}catch(c){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${c}`,e)}o=Y(o,K(t.doc))}return n&&(o="SCRIPT_PLACEHOLDER"),!u&&!n&&o&&i&&(o=a?a(o,e.parentElement):o.replace(/[\S]/g,"*")),{type:y.Text,textContent:o||"",isStyle:u,rootId:l}}function rt(e,t){const{doc:r,blockClass:i,blockSelector:a,inlineStylesheet:l,maskInputOptions:f={},maskInputFn:o,dataURLOptions:u={},inlineImages:n,recordCanvas:c,keepIframeSrcFn:g,newlyAddedElement:b=!1,rootId:k}=t,w=Je(e,i,a),C=Pe(e);let m={};const L=e.attributes.length;for(let p=0;p<L;p++){const S=e.attributes[p];Ye(C,S.name,S.value)||(m[S.name]=qe(r,C,J(S.name),S.value))}if(C==="link"&&l){const p=Array.from(r.styleSheets).find(T=>T.href===e.href);let S=null;p&&(S=q(p)),S&&(delete m.rel,delete m.href,m._cssText=Y(S,p.href))}if(C==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const p=q(e.sheet);p&&(m._cssText=Y(p,K(r)))}if(C==="input"||C==="textarea"||C==="select"){const p=e.value,S=e.checked;m.type!=="radio"&&m.type!=="checkbox"&&m.type!=="submit"&&m.type!=="button"&&p?m.value=Le({element:e,type:De(e),tagName:C,value:p,maskInputOptions:f,maskInputFn:o}):S&&(m.checked=S)}if(C==="option"&&(e.selected&&!f.select?m.selected=!0:delete m.selected),C==="canvas"&&c){if(e.__context==="2d")Re(e)||(m.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const p=e.toDataURL(u.type,u.quality),S=r.createElement("canvas");S.width=e.width,S.height=e.height;const T=S.toDataURL(u.type,u.quality);p!==T&&(m.rr_dataURL=p)}}if(C==="img"&&n){G||(G=r.createElement("canvas"),ne=G.getContext("2d"));const p=e,S=p.currentSrc||p.getAttribute("src")||"<unknown-src>",T=p.crossOrigin,v=()=>{p.removeEventListener("load",v);try{G.width=p.naturalWidth,G.height=p.naturalHeight,ne.drawImage(p,0,0),m.rr_dataURL=G.toDataURL(u.type,u.quality)}catch(z){if(p.crossOrigin!=="anonymous"){p.crossOrigin="anonymous",p.complete&&p.naturalWidth!==0?v():p.addEventListener("load",v);return}else console.warn(`Cannot inline img src=${S}! Error: ${z}`)}p.crossOrigin==="anonymous"&&(T?m.crossOrigin=T:p.removeAttribute("crossorigin"))};p.complete&&p.naturalWidth!==0?v():p.addEventListener("load",v)}if(C==="audio"||C==="video"){const p=m;p.rr_mediaState=e.paused?"paused":"played",p.rr_mediaCurrentTime=e.currentTime,p.rr_mediaPlaybackRate=e.playbackRate,p.rr_mediaMuted=e.muted,p.rr_mediaLoop=e.loop,p.rr_mediaVolume=e.volume}if(b||(e.scrollLeft&&(m.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(m.rr_scrollTop=e.scrollTop)),w){const{width:p,height:S}=e.getBoundingClientRect();m={class:m.class,rr_width:`${p}px`,rr_height:`${S}px`}}C==="iframe"&&!g(m.src)&&(e.contentDocument||(m.rr_src=m.src),delete m.src);let R;try{customElements.get(C)&&(R=!0)}catch{}return{type:y.Element,tagName:C,attributes:m,childNodes:[],isSVG:He(e)||void 0,needBlock:w,rootId:k,isCustom:R}}function N(e){return e==null?"":e.toLowerCase()}function it(e,t){if(t.comment&&e.type===y.Comment)return!0;if(e.type===y.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&fe(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(N(e.attributes.name).match(/^msapplication-tile(image|color)$/)||N(e.attributes.name)==="application-name"||N(e.attributes.rel)==="icon"||N(e.attributes.rel)==="apple-touch-icon"||N(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&N(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(N(e.attributes.property).match(/^(og|twitter|fb):/)||N(e.attributes.name).match(/^(og|twitter):/)||N(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(N(e.attributes.name)==="robots"||N(e.attributes.name)==="googlebot"||N(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(N(e.attributes.name)==="author"||N(e.attributes.name)==="generator"||N(e.attributes.name)==="framework"||N(e.attributes.name)==="publisher"||N(e.attributes.name)==="progid"||N(e.attributes.property).match(/^article:/)||N(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(N(e.attributes.name)==="google-site-verification"||N(e.attributes.name)==="yandex-verification"||N(e.attributes.name)==="csrf-token"||N(e.attributes.name)==="p:domain_verify"||N(e.attributes.name)==="verify-v1"||N(e.attributes.name)==="verification"||N(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function H(e,t){const{doc:r,mirror:i,blockClass:a,blockSelector:l,maskTextClass:f,maskTextSelector:o,skipChild:u=!1,inlineStylesheet:n=!0,maskInputOptions:c={},maskTextFn:g,maskInputFn:b,slimDOMOptions:k,dataURLOptions:w={},inlineImages:C=!1,recordCanvas:m=!1,onSerialize:L,onIframeLoad:R,iframeLoadTimeout:p=5e3,onStylesheetLoad:S,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:v=()=>!1,newlyAddedElement:z=!1}=t;let{needsMask:I}=t,{preserveWhiteSpace:W=!0}=t;I||(I=Ke(e,f,o,I===void 0));const O=Ze(e,{doc:r,mirror:i,blockClass:a,blockSelector:l,needsMask:I,inlineStylesheet:n,maskInputOptions:c,maskTextFn:g,maskInputFn:b,dataURLOptions:w,inlineImages:C,recordCanvas:m,keepIframeSrcFn:v,newlyAddedElement:z});if(!O)return console.warn(e,"not serialized"),null;let F;i.hasNode(e)?F=i.getId(e):it(O,k)||!W&&O.type===y.Text&&!O.isStyle&&!O.textContent.replace(/^\s+|\s+$/gm,"").length?F=ie:F=$e();const E=Object.assign(O,{id:F});if(i.add(e,E),F===ie)return null;L&&L(e);let V=!u;if(E.type===y.Element){V=V&&!E.needBlock,delete E.needBlock;const M=e.shadowRoot;M&&Q(M)&&(E.isShadowHost=!0)}if((E.type===y.Document||E.type===y.Element)&&V){k.headWhitespace&&E.type===y.Element&&E.tagName==="head"&&(W=!1);const M={doc:r,mirror:i,blockClass:a,blockSelector:l,needsMask:I,maskTextClass:f,maskTextSelector:o,skipChild:u,inlineStylesheet:n,maskInputOptions:c,maskTextFn:g,maskInputFn:b,slimDOMOptions:k,dataURLOptions:w,inlineImages:C,recordCanvas:m,preserveWhiteSpace:W,onSerialize:L,onIframeLoad:R,iframeLoadTimeout:p,onStylesheetLoad:S,stylesheetLoadTimeout:T,keepIframeSrcFn:v};if(!(E.type===y.Element&&E.tagName==="textarea"&&E.attributes.value!==void 0))for(const $ of Array.from(e.childNodes)){const P=H($,M);P&&E.childNodes.push(P)}if(te(e)&&e.shadowRoot)for(const $ of Array.from(e.shadowRoot.childNodes)){const P=H($,M);P&&(Q(e.shadowRoot)&&(P.isShadow=!0),E.childNodes.push(P))}}return e.parentNode&&Ne(e.parentNode)&&Q(e.parentNode)&&(E.isShadow=!0),E.type===y.Element&&E.tagName==="iframe"&&Xe(e,()=>{const M=e.contentDocument;if(M&&R){const $=H(M,{doc:M,mirror:i,blockClass:a,blockSelector:l,needsMask:I,maskTextClass:f,maskTextSelector:o,skipChild:!1,inlineStylesheet:n,maskInputOptions:c,maskTextFn:g,maskInputFn:b,slimDOMOptions:k,dataURLOptions:w,inlineImages:C,recordCanvas:m,preserveWhiteSpace:W,onSerialize:L,onIframeLoad:R,iframeLoadTimeout:p,onStylesheetLoad:S,stylesheetLoadTimeout:T,keepIframeSrcFn:v});$&&R(e,$)}},p),E.type===y.Element&&E.tagName==="link"&&typeof E.attributes.rel=="string"&&(E.attributes.rel==="stylesheet"||E.attributes.rel==="preload"&&typeof E.attributes.href=="string"&&fe(E.attributes.href)==="css")&&Qe(e,()=>{if(S){const M=H(e,{doc:r,mirror:i,blockClass:a,blockSelector:l,needsMask:I,maskTextClass:f,maskTextSelector:o,skipChild:!1,inlineStylesheet:n,maskInputOptions:c,maskTextFn:g,maskInputFn:b,slimDOMOptions:k,dataURLOptions:w,inlineImages:C,recordCanvas:m,preserveWhiteSpace:W,onSerialize:L,onIframeLoad:R,iframeLoadTimeout:p,onStylesheetLoad:S,stylesheetLoadTimeout:T,keepIframeSrcFn:v});M&&S(e,M)}},T),E}function ft(e,t){const{mirror:r=new ue,blockClass:i="rr-block",blockSelector:a=null,maskTextClass:l="rr-mask",maskTextSelector:f=null,inlineStylesheet:o=!0,inlineImages:u=!1,recordCanvas:n=!1,maskAllInputs:c=!1,maskTextFn:g,maskInputFn:b,slimDOM:k=!1,dataURLOptions:w,preserveWhiteSpace:C,onSerialize:m,onIframeLoad:L,iframeLoadTimeout:R,onStylesheetLoad:p,stylesheetLoadTimeout:S,keepIframeSrcFn:T=()=>!1}=t||{};return H(e,{doc:e,mirror:r,blockClass:i,blockSelector:a,maskTextClass:l,maskTextSelector:f,skipChild:!1,inlineStylesheet:o,maskInputOptions:c===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:c===!1?{password:!0}:c,maskTextFn:g,maskInputFn:b,slimDOMOptions:k===!0||k==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:k==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:k===!1?{}:k,dataURLOptions:w,inlineImages:u,recordCanvas:n,preserveWhiteSpace:C,onSerialize:m,onIframeLoad:L,iframeLoadTimeout:R,onStylesheetLoad:p,stylesheetLoadTimeout:S,keepIframeSrcFn:T,newlyAddedElement:!1})}const oe=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function nt(e,t={}){let r=1,i=1;function a(d){const s=d.match(/\n/g);s&&(r+=s.length);const h=d.lastIndexOf(`
`);i=h===-1?i+d.length:d.length-h}function l(){const d={line:r,column:i};return s=>(s.position=new o(d),C(),s)}const f=class de{constructor(s){B(this,"content"),B(this,"start"),B(this,"end"),B(this,"source"),this.start=s,this.end={line:r,column:i},this.source=t.source,this.content=de.content}};B(f,"content");let o=f;o.content=e;const u=[];function n(d){const s=new Error(`${t.source||""}:${r}:${i}: ${d}`);if(s.reason=d,s.filename=t.source,s.line=r,s.column=i,s.source=e,t.silent)u.push(s);else throw s}function c(){const d=k();return{type:"stylesheet",stylesheet:{source:t.source,rules:d,parsingErrors:u}}}function g(){return w(/^{\s*/)}function b(){return w(/^}/)}function k(){let d;const s=[];for(C(),m(s);e.length&&e.charAt(0)!=="}"&&(d=be()||we());)d&&(s.push(d),m(s));return s}function w(d){const s=d.exec(e);if(!s)return;const h=s[0];return a(h),e=e.slice(h.length),s}function C(){w(/^\s*/)}function m(d=[]){let s;for(;s=L();)s&&d.push(s),s=L();return d}function L(){const d=l();if(e.charAt(0)!=="/"||e.charAt(1)!=="*")return;let s=2;for(;e.charAt(s)!==""&&(e.charAt(s)!=="*"||e.charAt(s+1)!=="/");)++s;if(s+=2,e.charAt(s-1)==="")return n("End of comment missing");const h=e.slice(2,s-2);return i+=2,a(h),e=e.slice(s),i+=2,d({type:"comment",comment:h})}const R=new RegExp("^(("+[/[^\\]"(?:\\"|[^"])*"/.source,/[^\\]'(?:\\'|[^'])*'/.source,"[^{]"].join("|")+")+)");function p(){for(C();e[0]=="}";)n("extra closing bracket"),e=e.slice(1),C();const d=w(R);if(!d)return;const s=d[0].trim().replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,h=>h.replace(/,/g,"â€Œ"));return S(s).map(h=>h.replace(/\u200C/g,",").trim())}function S(d){const s=[];let h="",x=0,_=0,D=null;for(const A of d){const Ce=h.endsWith("\\");D?D===A&&!Ce&&(D=null):A==="("?x++:A===")"?x--:A==="["?_++:A==="]"?_--:`'"`.includes(A)&&(D=A),A===","&&x===0&&_===0?(s.push(h),h=""):h+=A}return h&&s.push(h),s}function T(){const d=l(),s=w(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(!s)return;const h=U(s[0]);if(!w(/^:\s*/))return n("property missing ':'");const x=w(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),_=d({type:"declaration",property:h.replace(oe,""),value:x?U(x[0]).replace(oe,""):""});return w(/^[;\s]*/),_}function v(){const d=[];if(!g())return n("missing '{'");m(d);let s;for(;s=T();)s!==!1&&(d.push(s),m(d)),s=T();return b()?d:n("missing '}'")}function z(){let d;const s=[],h=l();for(;d=w(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)s.push(d[1]),w(/^,\s*/);if(s.length)return h({type:"keyframe",values:s,declarations:v()})}function I(){const d=l();let s=w(/^@([-\w]+)?keyframes\s*/);if(!s)return;const h=s[1];if(s=w(/^([-\w]+)\s*/),!s)return n("@keyframes missing name");const x=s[1];if(!g())return n("@keyframes missing '{'");let _,D=m();for(;_=z();)D.push(_),D=D.concat(m());return b()?d({type:"keyframes",name:x,vendor:h,keyframes:D}):n("@keyframes missing '}'")}function W(){const d=l(),s=w(/^@supports *([^{]+)/);if(!s)return;const h=U(s[1]);if(!g())return n("@supports missing '{'");const x=m().concat(k());return b()?d({type:"supports",supports:h,rules:x}):n("@supports missing '}'")}function O(){const d=l();if(!w(/^@host\s*/))return;if(!g())return n("@host missing '{'");const h=m().concat(k());return b()?d({type:"host",rules:h}):n("@host missing '}'")}function F(){const d=l(),s=w(/^@media *([^{]+)/);if(!s)return;const h=U(s[1]);if(!g())return n("@media missing '{'");const x=m().concat(k());return b()?d({type:"media",media:h,rules:x}):n("@media missing '}'")}function E(){const d=l(),s=w(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(s)return d({type:"custom-media",name:U(s[1]),media:U(s[2])})}function V(){const d=l();if(!w(/^@page */))return;const h=p()||[];if(!g())return n("@page missing '{'");let x=m(),_;for(;_=T();)x.push(_),x=x.concat(m());return b()?d({type:"page",selectors:h,declarations:x}):n("@page missing '}'")}function M(){const d=l(),s=w(/^@([-\w]+)?document *([^{]+)/);if(!s)return;const h=U(s[1]),x=U(s[2]);if(!g())return n("@document missing '{'");const _=m().concat(k());return b()?d({type:"document",document:x,vendor:h,rules:_}):n("@document missing '}'")}function $(){const d=l();if(!w(/^@font-face\s*/))return;if(!g())return n("@font-face missing '{'");let h=m(),x;for(;x=T();)h.push(x),h=h.concat(m());return b()?d({type:"font-face",declarations:h}):n("@font-face missing '}'")}const P=X("import"),ge=X("charset"),ye=X("namespace");function X(d){const s=new RegExp("^@"+d+"\\s*((?:"+[/[^\\]"(?:\\"|[^"])*"/.source,/[^\\]'(?:\\'|[^'])*'/.source,"[^;]"].join("|")+")+);");return()=>{const h=l(),x=w(s);if(!x)return;const _={type:d};return _[d]=x[1].trim(),h(_)}}function be(){if(e[0]==="@")return I()||F()||E()||W()||P()||ge()||ye()||M()||V()||O()||$()}function we(){const d=l(),s=p();return s?(m(),d({type:"rule",selectors:s,declarations:v()})):n("selector missing")}return ee(c())}function U(e){return e?e.replace(/^\s+|\s+$/g,""):""}function ee(e,t){const r=e&&typeof e.type=="string",i=r?e:t;for(const a of Object.keys(e)){const l=e[a];Array.isArray(l)?l.forEach(f=>{ee(f,i)}):l&&typeof l=="object"&&ee(l,i)}return r&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),e}const ae={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function st(e){let t=ae[e.tagName]?ae[e.tagName]:e.tagName;return t==="link"&&e.attributes._cssText&&(t="style"),t}function le(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const me=/(max|min)-device-(width|height)/,ot=new RegExp(me.source,"g"),pe=/([^\\]):hover/,at=new RegExp(pe.source,"g");function ce(e,t){const r=t?.stylesWithHoverClass.get(e);if(r)return r;const i=nt(e,{silent:!0});if(!i.stylesheet)return e;const a=[],l=[];function f(u){"selectors"in u&&u.selectors&&u.selectors.forEach(n=>{pe.test(n)&&a.push(n)}),"media"in u&&u.media&&me.test(u.media)&&l.push(u.media),"rules"in u&&u.rules&&u.rules.forEach(f)}f(i.stylesheet);let o=e;if(a.length>0){const u=new RegExp(a.filter((n,c)=>a.indexOf(n)===c).sort((n,c)=>c.length-n.length).map(n=>le(n)).join("|"),"g");o=o.replace(u,n=>{const c=n.replace(at,"$1.\\:hover");return`${n}, ${c}`})}if(l.length>0){const u=new RegExp(l.filter((n,c)=>l.indexOf(n)===c).sort((n,c)=>c.length-n.length).map(n=>le(n)).join("|"),"g");o=o.replace(u,n=>n.replace(ot,"$1-$2"))}return t?.stylesWithHoverClass.set(e,o),o}function lt(e,t){var r;const{doc:i,hackCss:a,cache:l}=t;switch(e.type){case y.Document:return i.implementation.createDocument(null,"",null);case y.DocumentType:return i.implementation.createDocumentType(e.name||"html",e.publicId,e.systemId);case y.Element:{const f=st(e);let o;e.isSVG?o=i.createElementNS("http://www.w3.org/2000/svg",f):(e.isCustom&&((r=i.defaultView)!=null&&r.customElements)&&!i.defaultView.customElements.get(e.tagName)&&i.defaultView.customElements.define(e.tagName,class extends i.defaultView.HTMLElement{}),o=i.createElement(f));const u={};for(const n in e.attributes){if(!Object.prototype.hasOwnProperty.call(e.attributes,n))continue;let c=e.attributes[n];if(f==="option"&&n==="selected"&&c===!1||c===null)continue;if(c===!0&&(c=""),n.startsWith("rr_")){u[n]=c;continue}const g=f==="textarea"&&n==="value",b=f==="style"&&n==="_cssText";if(b&&a&&typeof c=="string"&&(c=ce(c,l)),(g||b)&&typeof c=="string"){o.appendChild(i.createTextNode(c)),e.childNodes=[];continue}try{if(e.isSVG&&n==="xlink:href")o.setAttributeNS("http://www.w3.org/1999/xlink",n,c.toString());else if(n==="onload"||n==="onclick"||n.substring(0,7)==="onmouse")o.setAttribute("_"+n,c.toString());else if(f==="meta"&&e.attributes["http-equiv"]==="Content-Security-Policy"&&n==="content"){o.setAttribute("csp-content",c.toString());continue}else f==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||f==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")||(f==="img"&&e.attributes.srcset&&e.attributes.rr_dataURL?o.setAttribute("rrweb-original-srcset",e.attributes.srcset):o.setAttribute(n,c.toString()))}catch{}}for(const n in u){const c=u[n];if(f==="canvas"&&n==="rr_dataURL"){const g=i.createElement("img");g.onload=()=>{const b=o.getContext("2d");b&&b.drawImage(g,0,0,g.width,g.height)},g.src=c.toString(),o.RRNodeType&&(o.rr_dataURL=c.toString())}else if(f==="img"&&n==="rr_dataURL"){const g=o;g.currentSrc.startsWith("data:")||(g.setAttribute("rrweb-original-src",e.attributes.src),g.src=c.toString())}if(n==="rr_width")o.style.width=c.toString();else if(n==="rr_height")o.style.height=c.toString();else if(n==="rr_mediaCurrentTime"&&typeof c=="number")o.currentTime=c;else if(n==="rr_mediaState")switch(c){case"played":o.play().catch(g=>console.warn("media playback error",g));break;case"paused":o.pause();break}else n==="rr_mediaPlaybackRate"&&typeof c=="number"?o.playbackRate=c:n==="rr_mediaMuted"&&typeof c=="boolean"?o.muted=c:n==="rr_mediaLoop"&&typeof c=="boolean"?o.loop=c:n==="rr_mediaVolume"&&typeof c=="number"&&(o.volume=c)}if(e.isShadowHost)if(!o.shadowRoot)o.attachShadow({mode:"open"});else for(;o.shadowRoot.firstChild;)o.shadowRoot.removeChild(o.shadowRoot.firstChild);return o}case y.Text:return i.createTextNode(e.isStyle&&a?ce(e.textContent,l):e.textContent);case y.CDATA:return i.createCDATASection(e.textContent);case y.Comment:return i.createComment(e.textContent);default:return null}}function he(e,t){const{doc:r,mirror:i,skipChild:a=!1,hackCss:l=!0,afterAppend:f,cache:o}=t;if(i.has(e.id)){const n=i.getNode(e.id),c=i.getMeta(n);if(Ie(c,e))return i.getNode(e.id)}let u=lt(e,{doc:r,hackCss:l,cache:o});if(!u)return null;if(e.rootId&&i.getNode(e.rootId)!==r&&i.replace(e.rootId,r),e.type===y.Document&&(r.close(),r.open(),e.compatMode==="BackCompat"&&e.childNodes&&e.childNodes[0].type!==y.DocumentType&&(e.childNodes[0].type===y.Element&&"xmlns"in e.childNodes[0].attributes&&e.childNodes[0].attributes.xmlns==="http://www.w3.org/1999/xhtml"?r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),u=r),i.add(u,e),(e.type===y.Document||e.type===y.Element)&&!a)for(const n of e.childNodes){const c=he(n,{doc:r,mirror:i,skipChild:!1,hackCss:l,afterAppend:f,cache:o});if(!c){console.warn("Failed to rebuild",n);continue}if(n.isShadow&&te(u)&&u.shadowRoot)u.shadowRoot.appendChild(c);else if(e.type===y.Document&&n.type==y.Element){const g=c;let b=null;g.childNodes.forEach(k=>{k.nodeName==="BODY"&&(b=k)}),b?(g.removeChild(b),u.appendChild(c),g.appendChild(b)):u.appendChild(c)}else u.appendChild(c);f&&f(c,n.id)}return u}function ct(e,t){function r(i){t(i)}for(const i of e.getIds())e.has(i)&&r(e.getNode(i))}function ut(e,t){const r=t.getMeta(e);if(r?.type!==y.Element)return;const i=e;for(const a in r.attributes){if(!(Object.prototype.hasOwnProperty.call(r.attributes,a)&&a.startsWith("rr_")))continue;const l=r.attributes[a];a==="rr_scrollLeft"&&(i.scrollLeft=l),a==="rr_scrollTop"&&(i.scrollTop=l)}}function dt(e,t){const{doc:r,onVisit:i,hackCss:a=!0,afterAppend:l,cache:f,mirror:o=new ue}=t,u=he(e,{doc:r,mirror:o,skipChild:!1,hackCss:a,afterAppend:l,cache:f});return ct(o,n=>{i&&i(n),ut(n,o)}),u}export{ue as M,y as N,dt as r,ft as s};
//# sourceMappingURL=yXRVlCQS.js.map
