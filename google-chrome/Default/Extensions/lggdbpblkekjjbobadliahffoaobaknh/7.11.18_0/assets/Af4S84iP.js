function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as o,R as Gn,c as Vn}from"./CMhnKYCA.js";import{F as Pt,A as se,a as z,M as A,x as tt,R as D,w as Zn,r as kt,p as Xn,P as jt,s as Et,z as Ve,m as nt,h as W,O as qn,H as le,J as St,b as Yn,G as Kn,o as Jn,y as Qn,v as eo}from"./SHnOzo4l.js";import{o as ye,s as to,S as ve,C as no,a as oo,l as ro}from"./BjgJiouD.js";import{d as V,a8 as Ze,Q as Ht,l as L,U as ot,T as io,C as rt,t as Nt,a5 as ao,G as Wt,a9 as so,a7 as Ut,_ as co,a3 as Te,n as Xe,a0 as lo,aa as uo,a2 as fo,ab as He,V as bo,A as It,S as po,H as mo,a4 as go,z as ho,a6 as vo}from"./Cm1H3WaY.js";import{b as Bt,a as Ae,u as $t,e as _,A as xo,F as wo}from"./Dph_3Rnf.js";import{_ as yo}from"./CRTsvRaD.js";import{R as Re,r as c}from"./bVFUYZgl.js";import{m as ue,s as T,a as Z,b as K,c as ko,p as Gt,d as jo,e as Eo,T as So,A as Io,f as Co}from"./DieEiE9e.js";import{i as B}from"./Cjbr4oTZ.js";import{u as X,a as To,c as it,b as Ao,d as Ro}from"./BIl7BGEd.js";import{f as m,b as R,h as Vt}from"./DlLMD6w7.js";import{I as zo,e as Fo,_ as qe}from"./BAD7DE-7.js";import{A as Ct}from"./ChlyaM6j.js";import{i as Ne}from"./uDekdLYy.js";import{l as Zt,W as Lo}from"./Cil-fwZs.js";import{f as Xt,S as qt}from"./XELyL0QY.js";import{d as Tt}from"./CRUnMUWV.js";import{i as Oo,a as Mo}from"./D_5xdqhq.js";import{d as Yt}from"./bTMwkpkr.js";import{r as xe}from"./CTuBfHaM.js";import{g as Ye,a as $,u as Do}from"./CavFI0yr.js";import{n as _o}from"./wJ2w6DWc.js";import{d as Po}from"./QipNwzXz.js";import"./Cpj98o6Y.js";import"./BsnvV3p5.js";import"./yXRVlCQS.js";import"./XaMN_HiL.js";import"./CfHFiLj0.js";import"./D8aEg3BZ.js";const Ho=({children:e,css:t,imgSrc:n,alt:r})=>n?ue.jsx(V,{alt:r,as:"img",css:{width:"100%",objectFit:"cover",...t},src:n}):ue.jsx(V,{css:t,children:e}),No=Re.forwardRef(({children:e,css:t},n)=>ue.jsx(T,{css:{p:m.space[4],height:"100%",...t},ref:n,children:e})),Wo=Re.forwardRef(({children:e,css:t},n)=>ue.jsx(T,{css:{p:m.space[4],...t},gap:2,justifyContent:"end",ref:n,children:e})),Uo=Re.forwardRef(({children:e,css:t,...n},r)=>ue.jsx(T,{...n,css:{position:"relative",borderRadius:"$md",border:"1px solid $gray200",overflow:"hidden",background:"$white",...t},direction:"column",ref:r,children:e})),Bo={...Uo,Media:Ho,Actions:Wo,Content:No},$o=Bo;function Ke(e,t){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ke(e,t)}function Go(e,t){if(Ze(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ze(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vo(e){var t=Go(e,"string");return Ze(t)=="symbol"?t:t+""}function Zo(e,t,n){return(t=Vo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Kt=e=>o.jsx(zo,{icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 40 40",children:o.jsx("path",{fill:"currentColor",d:"M10 21.667c-.917 0-1.667.75-1.667 1.666C8.333 24.25 9.083 25 10 25s1.667-.75 1.667-1.667c0-.916-.75-1.666-1.667-1.666Zm0 6.666c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667-.75-1.667-1.667-1.667ZM10 15c-.917 0-1.667.75-1.667 1.667 0 .916.75 1.666 1.667 1.666s1.667-.75 1.667-1.666c0-.917-.75-1.667-1.667-1.667Zm-5 .833a.825.825 0 0 0-.833.834c0 .466.366.833.833.833a.825.825 0 0 0 .833-.833.825.825 0 0 0-.833-.834Zm5-7.5c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667-.75-1.667-1.667-1.667ZM35 17.5a.825.825 0 0 0 .833-.833.825.825 0 0 0-.833-.834.825.825 0 0 0-.833.834c0 .466.366.833.833.833Zm-11.667-5.833c.917 0 1.667-.75 1.667-1.667s-.75-1.667-1.667-1.667c-.916 0-1.666.75-1.666 1.667s.75 1.667 1.666 1.667Zm0-5.834A.825.825 0 0 0 24.167 5a.825.825 0 0 0-.834-.833A.825.825 0 0 0 22.5 5c0 .467.367.833.833.833ZM5 22.5a.825.825 0 0 0-.833.833c0 .467.366.834.833.834a.825.825 0 0 0 .833-.834A.825.825 0 0 0 5 22.5Zm11.667 11.667a.825.825 0 0 0-.834.833c0 .467.367.833.834.833A.825.825 0 0 0 17.5 35a.825.825 0 0 0-.833-.833Zm0-28.334A.825.825 0 0 0 17.5 5a.825.825 0 0 0-.833-.833.825.825 0 0 0-.834.833c0 .467.367.833.834.833Zm0 5.834c.916 0 1.666-.75 1.666-1.667s-.75-1.667-1.666-1.667C15.75 8.333 15 9.083 15 10s.75 1.667 1.667 1.667Zm0 9.166a2.497 2.497 0 0 0-2.5 2.5c0 1.384 1.116 2.5 2.5 2.5 1.383 0 2.5-1.116 2.5-2.5 0-1.383-1.117-2.5-2.5-2.5ZM30 21.667c-.917 0-1.667.75-1.667 1.666 0 .917.75 1.667 1.667 1.667s1.667-.75 1.667-1.667c0-.916-.75-1.666-1.667-1.666Zm0 6.666c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667-.75-1.667-1.667-1.667ZM30 15c-.917 0-1.667.75-1.667 1.667 0 .916.75 1.666 1.667 1.666s1.667-.75 1.667-1.666c0-.917-.75-1.667-1.667-1.667Zm0-6.667c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667-.75-1.667-1.667-1.667ZM35 22.5a.825.825 0 0 0-.833.833c0 .467.366.834.833.834a.825.825 0 0 0 .833-.834A.825.825 0 0 0 35 22.5Zm-11.667 5.833c-.916 0-1.666.75-1.666 1.667s.75 1.667 1.666 1.667c.917 0 1.667-.75 1.667-1.667s-.75-1.667-1.667-1.667Zm0 5.834A.825.825 0 0 0 22.5 35c0 .467.367.833.833.833a.825.825 0 0 0 .834-.833.825.825 0 0 0-.834-.833Zm-6.666-20a2.497 2.497 0 0 0-2.5 2.5c0 1.383 1.116 2.5 2.5 2.5 1.383 0 2.5-1.117 2.5-2.5 0-1.384-1.117-2.5-2.5-2.5Zm0 14.166c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667c.916 0 1.666-.75 1.666-1.667s-.75-1.667-1.666-1.667Zm6.666-7.5a2.497 2.497 0 0 0-2.5 2.5c0 1.384 1.117 2.5 2.5 2.5 1.384 0 2.5-1.116 2.5-2.5 0-1.383-1.116-2.5-2.5-2.5Zm0-6.666a2.497 2.497 0 0 0-2.5 2.5c0 1.383 1.117 2.5 2.5 2.5 1.384 0 2.5-1.117 2.5-2.5 0-1.384-1.116-2.5-2.5-2.5Z"})}),...e});Kt.displayName="IconBlur";const Xo='.lb-root{--lb-radius:.5em;--lb-spacing:1em;--lb-accent:#17f;--lb-accent-foreground:#fff;--lb-destructive:#f45;--lb-destructive-foreground:#fff;--lb-background:#fff;--lb-foreground:#111;--lb-icon-size:20px;--lb-icon-weight:1.5px;--lb-avatar-radius:50%;--lb-button-radius:calc(.75*var(--lb-radius));--lb-transition-duration:.1s;--lb-transition-easing:cubic-bezier(.4,0,.2,1);--lb-elevation-shadow:0 0 0 1px #0000000a,0 2px 6px #00000014,0 8px 26px #0000001f;--lb-tooltip-shadow:0 2px 4px #00000014,0 4px 12px #0000001f;--lb-accent-contrast:8%;--lb-destructive-contrast:8%;--lb-foreground-contrast:8%;--lb-background-foreground-faint:color-mix(in srgb,var(--lb-foreground),var(--lb-background)calc(100% - var(--lb-foreground-contrast) + ((100% - var(--lb-foreground-contrast))/9)/2));--lb-background-accent-faint:color-mix(in srgb,var(--lb-accent),var(--lb-background)calc(100% - var(--lb-accent-contrast) + ((100% - var(--lb-accent-contrast))/9)/2));--lb-background-accent-subtle:color-mix(in srgb,var(--lb-accent),var(--lb-background)calc(100% - var(--lb-accent-contrast)));--lb-accent-subtle:color-mix(in srgb,var(--lb-accent),var(--lb-dynamic-background)calc(100% - var(--lb-accent-contrast)));--lb-accent-moderate:color-mix(in srgb,var(--lb-accent),var(--lb-dynamic-background)calc(100% - (var(--lb-accent-contrast) + 3*((100% - var(--lb-accent-contrast))/9))));--lb-accent-tertiary:color-mix(in srgb,var(--lb-accent),var(--lb-dynamic-background)calc(100% - (var(--lb-accent-contrast) + 5*((100% - var(--lb-accent-contrast))/9))));--lb-accent-secondary:color-mix(in srgb,var(--lb-accent),var(--lb-dynamic-background)calc(100% - (var(--lb-accent-contrast) + 7*((100% - var(--lb-accent-contrast))/9))));--lb-foreground-subtle:color-mix(in srgb,var(--lb-foreground),var(--lb-dynamic-background)calc(100% - var(--lb-foreground-contrast)));--lb-foreground-moderate:color-mix(in srgb,var(--lb-foreground),var(--lb-dynamic-background)calc(100% - (var(--lb-foreground-contrast) + 3*((100% - var(--lb-foreground-contrast))/9))));--lb-foreground-tertiary:color-mix(in srgb,var(--lb-foreground),var(--lb-dynamic-background)calc(100% - (var(--lb-foreground-contrast) + 5*((100% - var(--lb-foreground-contrast))/9))));--lb-foreground-secondary:color-mix(in srgb,var(--lb-foreground),var(--lb-dynamic-background)calc(100% - (var(--lb-foreground-contrast) + 7*((100% - var(--lb-foreground-contrast))/9))));--lb-selection:color-mix(in srgb,var(--lb-accent)40%,transparent);overflow-wrap:break-word;accent-color:var(--lb-accent);-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.lb-root,.lb-root *,.lb-root :before,.lb-root :after{box-sizing:border-box;transition:none var(--lb-transition-duration)var(--lb-transition-easing)}.lb-root:where(:not(.lb-root .lb-root)){--lb-dynamic-background:var(--lb-background)}.lb-loading,.lb-empty,.lb-error{justify-content:center;align-items:center;display:flex;position:absolute;inset:0}.lb-loading{color:var(--lb-foreground-moderate)}.lb-empty,.lb-error{padding:var(--lb-spacing);color:var(--lb-foreground-tertiary);text-align:center;text-wrap:balance;font-size:.875em}.lb-icon{--lb-icon-background:var(--lb-dynamic-background);inline-size:var(--lb-icon-size);block-size:var(--lb-icon-size)}.lb-icon *{stroke-width:var(--lb-icon-weight);vector-effect:non-scaling-stroke}.lb-button{--lb-button-background:var(--lb-dynamic-background);all:unset;box-sizing:inherit;padding:calc(.25*var(--lb-spacing));border-radius:var(--lb-button-radius);background:var(--lb-button-background);color:var(--lb-foreground-moderate);cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;outline:none;justify-content:center;align-items:center;transition-property:background,color,opacity;display:flex;position:relative}.lb-button:after{content:"";border-radius:inherit;pointer-events:none;transition-property:box-shadow;position:absolute;inset:0}.lb-button:where(:focus-visible){z-index:1}.lb-button:where(:focus-visible):after{box-shadow:var(--lb-dynamic-background) 0 0 0 2px,var(--lb-accent) 0 0 0 4px}.lb-button:where(.lb-button\\:non-disableable:disabled){cursor:default}.lb-button:where(:not(.lb-button\\:non-disableable):disabled){opacity:.5;cursor:not-allowed}.lb-button:where(:enabled:hover,:enabled:focus-visible,[aria-expanded=true],[aria-selected=true]){--lb-button-background:var(--lb-foreground-subtle);color:var(--lb-foreground-tertiary)}.lb-button:where([data-variant=default]:not(:is(:enabled:hover,:enabled:focus-visible,[aria-expanded=true],[aria-selected=true]))){background:0 0}.lb-button:where([data-variant=primary]){--lb-button-background:var(--lb-accent);color:var(--lb-accent-foreground)}.lb-button:where([data-variant=primary]):where(:enabled:hover,:enabled:focus-visible,[aria-expanded=true],[aria-selected=true]){--lb-button-background:var(--lb-accent-secondary);color:var(--lb-accent-foreground)}.lb-button:where([data-variant=outline]){box-shadow:inset 0 0 0 1px var(--lb-foreground-subtle);transition-property:background,color,opacity,box-shadow}.lb-button:where(:has(.lb-button-label)){gap:calc(.25*var(--lb-spacing));padding-inline:calc(.5*var(--lb-spacing))}.lb-button:where([data-size=large]){padding:calc(.5*var(--lb-spacing))}.lb-button:where([data-size=large]):where(:has(.lb-button-label)){gap:calc(.35*var(--lb-spacing));padding-inline:calc(.7*var(--lb-spacing))}.lb-button-icon{--lb-icon-background:var(--lb-button-background)}.lb-button-label{font-weight:500}.lb-dropdown-item-icon{color:var(--lb-foreground-moderate);margin-inline-start:calc(-.125*var(--lb-spacing));margin-inline-end:calc(.375*var(--lb-spacing));transition-property:color}.lb-dropdown-item:where(:is([data-highlighted],[data-selected])) :where(.lb-dropdown-item-icon){color:var(--lb-foreground-tertiary)}.lb-composer-suggestions-list{margin:0;padding:0;list-style:none}.lb-composer-suggestions-list-item{scroll-margin-block:4px}.lb-composer-mention-suggestions{--lb-composer-mention-suggestion-avatar-size:1.25rem}.lb-composer-mention-suggestion{padding:calc(.375*var(--lb-spacing))calc(.625*var(--lb-spacing))}.lb-composer-mention-suggestion-avatar{inline-size:var(--lb-composer-mention-suggestion-avatar-size);margin-inline-start:calc(-.125*var(--lb-spacing));margin-inline-end:calc(.5*var(--lb-spacing));margin-block:calc(.125*var(--lb-spacing));background:var(--lb-foreground-subtle);color:var(--lb-foreground-moderate)}.lb-list{display:contents}.lb-list :where(:first-child):first-letter,.lb-date:first-letter{text-transform:capitalize}@supports (background:-webkit-named-image(i)){.lb-emoji{will-change:transform;transform:scale(.825)}}.lb-emoji-picker{--lb-emoji-picker-padding:6px;--lb-emoji-picker-offset-padding:calc(6px + .375*var(--lb-spacing));color:var(--lb-foreground);flex-direction:column;block-size:360px;display:flex}.lb-emoji-picker-header{border-block-end:1px solid var(--lb-foreground-subtle);flex:none}.lb-emoji-picker-search-container{align-items:center;display:flex;position:relative}.lb-emoji-picker-search{all:unset;box-sizing:inherit;padding:var(--lb-emoji-picker-offset-padding);-webkit-appearance:textfield;appearance:textfield;background:0 0;outline:none;inline-size:100%;padding-inline-start:calc(var(--lb-icon-size) + var(--lb-emoji-picker-offset-padding) + .375*var(--lb-spacing))}.lb-emoji-picker-search::placeholder{color:var(--lb-foreground-moderate)}.lb-emoji-picker-search::-webkit-search-cancel-button{display:none}.lb-emoji-picker-search-icon{color:var(--lb-foreground-moderate);pointer-events:none;position:absolute;inset-inline-start:var(--lb-emoji-picker-offset-padding)}.lb-emoji-picker-content{flex:1;position:relative}.lb-emoji-picker-category-header{padding:var(--lb-emoji-picker-padding)var(--lb-emoji-picker-offset-padding);background:var(--lb-dynamic-background)}.lb-emoji-picker-category-header-title{color:var(--lb-foreground-tertiary);text-transform:uppercase;font-size:.675em;font-weight:600}.lb-emoji-picker-grid{animation:lb-animation-appear var(--lb-transition-duration)var(--lb-transition-easing)both;position:absolute;inset:0}.lb-emoji-picker-row{padding-inline:var(--lb-emoji-picker-padding);scroll-margin-block-end:var(--lb-emoji-picker-padding);display:flex}.lb-emoji-picker-row:where([data-last]){padding-block-end:var(--lb-emoji-picker-padding)}.lb-emoji-picker-emoji{all:unset;box-sizing:inherit;aspect-ratio:1;padding:calc(.375*var(--lb-spacing));border-radius:calc(var(--lb-radius) - .75*6px);text-align:center;justify-content:center;align-items:center;display:flex;overflow:hidden}.lb-tooltip{--lb-background:#222;--lb-foreground:#fff;--lb-foreground-contrast:10%;min-block-size:calc(calc(1em + 2*.25*var(--lb-spacing)) + 2*5px);padding-inline:calc(.75*var(--lb-spacing));border-radius:var(--lb-radius);background:var(--lb-dynamic-background);color:var(--lb-foreground);box-shadow:var(--lb-tooltip-shadow);pointer-events:none;align-items:center;font-size:.75rem;line-height:1;display:flex;position:relative}.lb-tooltip:after{content:"";z-index:1;border-radius:inherit;box-shadow:var(--lb-inset-shadow);pointer-events:none;position:absolute;inset:0}.lb-tooltip\\:multiline{padding-block:calc(calc(.625*var(--lb-spacing))*(1/1.5));text-align:center;justify-content:center;line-height:1.5}.lb-tooltip-shortcut{gap:calc(.125*var(--lb-spacing));block-size:calc(1em + 2*.25*var(--lb-spacing));padding-inline:calc(.25*var(--lb-spacing));border-radius:calc(var(--lb-radius) - .625*5px);background:var(--lb-foreground-subtle);color:var(--lb-foreground-tertiary);text-transform:uppercase;justify-content:center;align-items:center;margin-inline-start:calc(.75*var(--lb-spacing));margin-inline-end:calc(-1*calc(.75*var(--lb-spacing)) + 5px);font-family:inherit;line-height:1;display:flex}.lb-tooltip-shortcut :where(abbr){all:unset}.lb-avatar{aspect-ratio:1;border-radius:var(--lb-avatar-radius);background:var(--lb-foreground-subtle);color:var(--lb-foreground-moderate);justify-content:center;align-items:center;display:flex;position:relative;overflow:hidden;container-type:inline-size}.lb-avatar:where([data-loading]){background:var(--lb-foreground);opacity:.12}.lb-avatar-image{object-fit:cover;block-size:100%;inline-size:100%;position:absolute;inset:0}.lb-avatar-fallback{white-space:nowrap;font-size:35cqi;font-weight:500}@supports not (container-type:inline-size){.lb-avatar-fallback{display:none}}.lb-name:where([data-loading]):before{content:"\\feff";vertical-align:middle;border-radius:calc(.5*var(--lb-radius));opacity:.12;-webkit-user-select:none;user-select:none;background:currentColor;block-size:1.75ex;inline-size:8ch;display:inline-block}:is(.lb-avatar,.lb-name):where([data-loading]){animation:8s linear infinite lb-animation-shimmer}:is(.lb-comment-body,.lb-composer-editor){color:var(--lb-foreground-secondary)}:is(.lb-comment-body,.lb-composer-editor) :where(p){margin-block:.25em}:is(.lb-comment-body,.lb-composer-editor) :where(p):where(:first-of-type){margin-block-start:0}:is(.lb-comment-body,.lb-composer-editor) :where(p):where(:last-of-type){margin-block-end:0}:is(.lb-comment-body,.lb-composer-editor) :where(strong){font-weight:600}.lb-comment-mention,.lb-composer-mention{color:var(--lb-accent);-webkit-box-decoration-break:clone;box-decoration-break:clone;font-weight:500}:is(.lb-comment-link,.lb-composer-link){color:var(--lb-foreground);text-decoration-line:underline;-webkit-text-decoration-color:var(--lb-foreground-moderate);text-decoration-color:var(--lb-foreground-moderate);text-underline-offset:2px;outline:none;font-weight:500;transition-property:color,text-decoration-color}:is(.lb-comment-link,.lb-composer-link):where([href]):where(:hover,:focus-visible){color:var(--lb-accent);-webkit-text-decoration-color:var(--lb-accent-moderate);text-decoration-color:var(--lb-accent-moderate)}.lb-comment-mention:where([data-self]),.lb-composer-mention{border-radius:calc(.675*var(--lb-radius));background:var(--lb-accent-subtle);padding:.1em .3em}.lb-composer{background:var(--lb-dynamic-background);color:var(--lb-foreground);transition-property:background}.lb-composer-form{margin:0}@supports selector(:has(*)){.lb-composer:where(:has(.lb-composer-editor:not(:focus-visible))) :where(.lb-button[data-variant=primary]){--lb-button-background:var(--lb-foreground-subtle);color:var(--lb-foreground-tertiary)}.lb-composer:where(:has(.lb-composer-editor:not(:focus-visible))) :where(.lb-button[data-variant=primary]):where(:enabled:hover,:enabled:focus-visible){--lb-button-background:var(--lb-accent);color:var(--lb-accent-foreground)}}@supports not selector(:has(*)){.lb-composer:where(:not(:focus-within)) :where(.lb-button[data-variant=primary]){--lb-button-background:var(--lb-foreground-subtle);color:var(--lb-foreground-tertiary)}.lb-composer:where(:not(:focus-within)) :where(.lb-button[data-variant=primary]):where(:enabled:hover,:enabled:focus-visible){--lb-button-background:var(--lb-accent);color:var(--lb-accent-foreground)}}.lb-composer-editor{padding:var(--lb-spacing);outline:none}.lb-composer-editor :where([data-placeholder]){color:var(--lb-foreground-moderate)}.lb-composer-mention::selection{background:0 0}.lb-composer-mention ::selection{background:0 0}.lb-composer-mention:where([data-selected]){background:var(--lb-accent);color:var(--lb-accent-foreground)}.lb-composer-footer{gap:calc(.75*var(--lb-spacing));block-size:calc(calc(2*.25*var(--lb-spacing) + var(--lb-icon-size)) + var(--lb-spacing));padding:0 var(--lb-spacing)var(--lb-spacing);align-items:center;display:flex}.lb-composer-actions,.lb-composer-editor-actions{gap:calc(.125*var(--lb-spacing));align-items:center;display:flex}.lb-composer-editor-actions{margin-inline-end:auto}.lb-composer-attribution{color:var(--lb-foreground-moderate);outline:none;transition-property:color}.lb-composer-attribution:where(:hover,:focus-visible){color:var(--lb-foreground-tertiary)}.lb-composer-attribution :where(svg){block-size:calc(.75*calc(2*.25*var(--lb-spacing) + var(--lb-icon-size)))}.lb-composer:where(:not([data-collapsed])) :where(.lb-composer-editor){padding-block-end:calc(.875*var(--lb-spacing))}.lb-comment{--lb-comment-avatar-size:calc(2*.25*var(--lb-spacing) + var(--lb-icon-size));padding:var(--lb-spacing);background:var(--lb-dynamic-background);color:var(--lb-foreground);scroll-margin:var(--lb-spacing);font-weight:400;position:relative}.lb-comment:where(:target,[data-target]){--lb-dynamic-background:var(--lb-background-accent-faint)}.lb-comment:where([data-editing]){--lb-dynamic-background:var(--lb-background-foreground-faint)}.lb-comment-header{gap:calc(.75*var(--lb-spacing));block-size:var(--lb-comment-avatar-size);align-items:center;margin-block-end:calc(.75*var(--lb-spacing));display:flex;position:relative}.lb-comment-details{gap:calc(.75*var(--lb-spacing));align-items:center;min-inline-size:0;display:flex}.lb-comment-avatar{inline-size:var(--lb-comment-avatar-size);flex:none}.lb-comment-details-labels{gap:calc(.5*var(--lb-spacing));align-items:baseline;min-inline-size:0;display:flex}.lb-comment-author,.lb-comment-date{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.lb-comment-author:first-letter,.lb-comment-date:first-letter{text-transform:capitalize}.lb-comment-author{font-weight:500}.lb-comment-date{color:var(--lb-foreground-tertiary);font-size:.875em}.lb-comment-date-created,.lb-comment-date-edited{display:contents}.lb-comment-actions{gap:calc(.125*var(--lb-spacing));margin-inline-start:auto;display:flex}.lb-comment-composer{margin:calc(-1*var(--lb-spacing));background:unset}.lb-comment-body :where(p span:only-child:empty):before{content:"\\feff";-webkit-user-select:none;user-select:none}.lb-comment-reactions{gap:calc(.375*var(--lb-spacing));flex-wrap:wrap;margin-block-start:calc(.75*var(--lb-spacing));display:flex}.lb-comment-reaction{gap:calc(.375*var(--lb-spacing));block-size:calc(2*.25*var(--lb-spacing) + var(--lb-icon-size));padding-inline:calc(.575*var(--lb-spacing));border-radius:9999px}.lb-comment-reaction:where([data-self]){background:var(--lb-accent-subtle);color:var(--lb-accent-secondary);box-shadow:inset 0 0 0 1px var(--lb-accent-moderate)}.lb-comment-reaction:where([data-self]):where(:enabled:hover,:enabled:focus-visible,[aria-expanded=true],[aria-selected=true]){color:var(--lb-accent)}.lb-comment-reaction-count{font-variant-numeric:tabular-nums;font-size:.75em;font-weight:500}.lb-comment-reaction-tooltip{max-inline-size:200px}.lb-comment-deleted{color:var(--lb-foreground-tertiary);font-size:.875em}.lb-comment\\:indent-content{min-block-size:calc(var(--lb-comment-avatar-size) + 2*var(--lb-spacing))}.lb-comment\\:indent-content :where(.lb-comment-header){block-size:calc(2*.25*var(--lb-spacing) + var(--lb-icon-size));margin-block-end:calc(.25*var(--lb-spacing))}.lb-comment\\:indent-content :where(.lb-comment-avatar){position:absolute;inset-block-start:0;inset-inline-start:0}.lb-comment\\:indent-content :where(.lb-comment-details-labels){margin-inline-start:calc(var(--lb-comment-avatar-size) + .75*var(--lb-spacing))}.lb-comment\\:indent-content :where(.lb-comment-content){padding-inline-start:calc(var(--lb-comment-avatar-size) + .75*var(--lb-spacing))}.lb-thread{background:var(--lb-dynamic-background);color:var(--lb-foreground);transition-property:background}.lb-thread-comments{z-index:0;flex-direction:column;display:flex;position:relative}.lb-thread-comment{z-index:0;padding-block:calc(.6*var(--lb-spacing));transition-property:background}.lb-thread-comment:where(.lb-comment\\:indent-content){min-block-size:calc(var(--lb-comment-avatar-size) + var(--lb-spacing))}.lb-thread-comment:where(:first-of-type){padding-block-start:var(--lb-spacing)}.lb-thread-comment:where(:first-of-type):where(.lb-comment\\:indent-content){min-block-size:calc(var(--lb-comment-avatar-size) + 1.5*var(--lb-spacing))}.lb-thread-comment:where(:last-of-type){padding-block-end:var(--lb-spacing)}.lb-thread-comment:where(:last-of-type):where(.lb-comment\\:indent-content){min-block-size:calc(var(--lb-comment-avatar-size) + 1.75*var(--lb-spacing))}.lb-thread-new-indicator{z-index:1;justify-content:center;align-items:center;block-size:0;display:flex;position:relative}.lb-thread-new-indicator:before,.lb-thread-new-indicator:after{content:"";z-index:0;border-block-start:1px solid var(--lb-foreground-subtle);flex:1;block-size:0;transition-property:border}.lb-thread-new-indicator-label{z-index:1;gap:calc(.325*var(--lb-spacing));padding:calc(.25*var(--lb-spacing))var(--lb-spacing);color:var(--lb-accent);text-transform:uppercase;flex:none;align-items:center;font-size:.675em;font-weight:600;display:flex}.lb-thread-new-indicator-label-icon{inline-size:calc(.6*var(--lb-icon-size));block-size:calc(.6*var(--lb-icon-size))}.lb-thread-composer{position:relative}.lb-thread-composer:after{content:"";border-block-start:1px solid var(--lb-foreground-subtle);pointer-events:none;block-size:100%;inline-size:100%;transition-property:border;position:absolute;inset:0}.lb-inbox-notification{--lb-inbox-notification-aside-size:36px;gap:calc(.75*var(--lb-spacing));padding:var(--lb-spacing);background:var(--lb-dynamic-background);color:var(--lb-foreground);-webkit-text-decoration:inherit;text-decoration:inherit;font-weight:400;transition-property:background;display:flex;position:relative;overflow:hidden}.lb-inbox-notification:where([data-missing]){--lb-dynamic-background:var(--lb-background-accent-faint);--lb-accent:var(--lb-destructive)!important;--lb-accent-foreground:var(--lb-destructive-foreground)!important;--lb-accent-contrast:var(--lb-destructive-contrast)!important}.lb-inbox-notification:where([data-unread]){--lb-dynamic-background:var(--lb-background-accent-faint)}.lb-inbox-notification:where([href]){cursor:pointer}.lb-inbox-notification:where([href]):where(:hover,:focus-visible,:focus-within){--lb-dynamic-background:var(--lb-background-foreground-faint)}.lb-inbox-notification:where([href]):where([data-unread]):where(:hover,:focus-visible,:focus-within){--lb-dynamic-background:var(--lb-background-accent-subtle)}.lb-inbox-notification-aside{inline-size:var(--lb-inbox-notification-aside-size);flex:none}.lb-inbox-notification-icon{aspect-ratio:1;background:var(--lb-foreground-subtle);border-radius:50%;justify-content:center;place-items:center;display:flex}.lb-inbox-notification:where([data-missing]) :where(.lb-inbox-notification-icon){background:var(--lb-accent-subtle);color:var(--lb-accent)}.lb-inbox-notification-content{flex:1}.lb-inbox-notification-content,.lb-inbox-notification-body{min-inline-size:0;max-inline-size:100%}.lb-inbox-notification-header{gap:calc(.75*var(--lb-spacing));align-items:center;margin-block-start:calc(.25*var(--lb-spacing));margin-block-end:calc(.5*var(--lb-spacing));display:flex}.lb-inbox-notification-title{min-block-size:calc(2*.25*var(--lb-spacing) + var(--lb-icon-size))}.lb-inbox-notification-title:first-letter{text-transform:capitalize}.lb-inbox-notification-title :where(strong,.lb-list,.lb-name){font-weight:500}.lb-inbox-notification-details{block-size:calc(2*.25*var(--lb-spacing) + var(--lb-icon-size));flex:none;align-self:start;min-inline-size:0;margin-inline-start:auto}.lb-inbox-notification-details-labels{align-items:baseline;min-inline-size:0;display:flex}.lb-inbox-notification-details-labels:before{content:"\\feff"}.lb-inbox-notification-actions{gap:calc(.125*var(--lb-spacing));grid-area:actions;align-self:start;display:flex}.lb-inbox-notification-comments{gap:var(--lb-spacing);flex-direction:column;display:flex}.lb-inbox-notification-comment{background:0 0;padding:0}.lb-inbox-notification-comment :where(.lb-comment-header){color:var(--lb-foreground-tertiary);block-size:auto;font-size:.875rem}.lb-inbox-notification-comment :where(.lb-comment-reaction){pointer-events:none}.lb-inbox-notification-date{color:var(--lb-foreground-tertiary);font-size:.875em}.lb-inbox-notification-unread-indicator{background:var(--lb-accent);border-radius:50%;align-self:center;block-size:10px;inline-size:10px;margin-inline-start:calc(.5*var(--lb-spacing))}.lb-history-version-summary{gap:calc(.25*var(--lb-spacing));padding:var(--lb-spacing);background:var(--lb-dynamic-background);flex-direction:column;justify-content:center;inline-size:100%;min-inline-size:0;transition-property:background;display:flex;position:relative}.lb-history-version-summary:where(:hover,:focus-visible,:focus-within,[data-selected]){--lb-dynamic-background:var(--lb-background-foreground-faint)}.lb-history-version-summary-date,.lb-history-version-summary-authors{text-overflow:ellipsis;white-space:nowrap;min-inline-size:0;max-inline-size:100%;overflow:hidden}.lb-history-version-summary-date:first-letter,.lb-history-version-summary-authors:first-letter{text-transform:capitalize}.lb-history-version-summary-date{color:var(--lb-foreground-secondary);font-weight:500}.lb-history-version-summary-authors{color:var(--lb-foreground-tertiary)}.lb-history-version-preview{background:var(--lb-dynamic-background);flex-direction:column;display:flex;position:relative;overflow-y:auto}.lb-history-version-preview-content{padding:var(--lb-spacing);flex:1 0 auto}.lb-history-version-preview-footer{gap:var(--lb-spacing);padding:var(--lb-spacing);border-block-start:1px solid var(--lb-foreground-subtle);background:var(--lb-dynamic-background);flex:none;align-items:center;margin-block-start:auto;display:flex;position:sticky;inset-block-end:0}.lb-history-version-preview-authors{text-overflow:ellipsis;white-space:nowrap;color:var(--lb-foreground-tertiary);flex:auto;min-inline-size:0;overflow:hidden}.lb-history-version-preview-actions{gap:calc(.35*var(--lb-spacing));flex:none;align-items:center;margin-inline-start:auto;display:flex}.lb-inbox-notification-list,.lb-history-version-summary-list{margin:0;padding:0;list-style:none}.lb-inbox-notification-list-item:where(:not(:last-of-type)),.lb-history-version-summary-list-item:where(:not(:last-of-type)){border-block-end:1px solid var(--lb-foreground-subtle)}.lb-root :where(code){border-radius:calc(.75*var(--lb-radius));background:var(--lb-foreground-subtle);-webkit-box-decoration-break:clone;box-decoration-break:clone;padding:.2em .4em;font-size:85%;line-height:1}.lb-root :where(span:has(code)+span code){border-start-start-radius:0;border-end-start-radius:0;padding-inline-start:0}.lb-root :where(span:has(code):has(+span code) code){border-start-end-radius:0;border-end-end-radius:0;padding-inline-end:0}:where(.lb-root code){font-family:ui-monospace,Menlo,Monaco,Roboto Mono,Cascadia Code,Source Code Pro,Consolas,DejaVu Sans Mono,monospace}.lb-elevation{border-radius:var(--lb-radius);background:var(--lb-dynamic-background);box-shadow:var(--lb-elevation-shadow);position:relative;overflow:hidden}.lb-elevation:after{content:"";z-index:1;border-radius:inherit;box-shadow:var(--lb-inset-shadow);pointer-events:none;position:absolute;inset:0}.lb-dropdown,.lb-composer-suggestions{padding:4px}.lb-dropdown-item,.lb-composer-suggestions-list-item{padding:calc(.25*var(--lb-spacing))calc(.5*var(--lb-spacing));align-items:center;font-size:.875rem;display:flex}.lb-dropdown-item,.lb-composer-suggestions-list-item,.lb-emoji-picker-emoji{border-radius:calc(var(--lb-radius) - .75*4px);color:var(--lb-foreground-secondary);cursor:pointer;-webkit-user-select:none;user-select:none;outline:none;transition-property:background,color,opacity}:is(.lb-dropdown-item,.lb-composer-suggestions-list-item,.lb-emoji-picker-emoji):where([data-highlighted],[data-selected]){background:var(--lb-foreground-subtle);transition-duration:calc(var(--lb-transition-duration)/2)}:is(.lb-dropdown-item,.lb-composer-suggestions-list-item,.lb-emoji-picker-emoji):where(:disabled,[data-disabled]){opacity:.5;cursor:not-allowed}.lb-dropdown,.lb-composer-suggestions,.lb-tooltip,.lb-emoji-picker{animation-duration:var(--lb-transition-duration);animation-timing-function:var(--lb-transition-easing);will-change:transform,opacity}:is(.lb-dropdown,.lb-emoji-picker,.lb-tooltip:where([data-state=delayed-open]),.lb-composer-suggestions):where([data-side=top]){animation-name:lb-animation-slide-up}:is(.lb-dropdown,.lb-emoji-picker,.lb-tooltip:where([data-state=delayed-open]),.lb-composer-suggestions):where([data-side=bottom]){animation-name:lb-animation-slide-down}:is(.lb-dropdown,.lb-emoji-picker,.lb-tooltip,.lb-composer-suggestions):where([data-state=closed]){animation-name:lb-animation-disappear}@keyframes lb-animation-slide-down{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}@keyframes lb-animation-slide-up{0%{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}@keyframes lb-animation-appear{0%{opacity:0}to{opacity:1}}@keyframes lb-animation-disappear{0%{opacity:1}to{opacity:0}}@keyframes lb-animation-shimmer{0%,to{-webkit-mask-image:linear-gradient(90deg,#00000080,#000,#000,#00000080);mask-image:linear-gradient(90deg,#00000080,#000,#000,#00000080);-webkit-mask-size:400% 100%;mask-size:400% 100%}0%{-webkit-mask-position:200% 0;mask-position:200% 0}to{-webkit-mask-position:-200% 0;mask-position:-200% 0}}@media (hover:hover){.lb-comment:where(.lb-comment\\:show-actions-hover) :where(.lb-comment-actions){opacity:0;transition-property:opacity;position:absolute;inset-inline-end:0}.lb-comment:where(.lb-comment\\:show-actions-hover):where(:is(:hover,:focus-within,.lb-comment\\:action-open)) :where(.lb-comment-actions){opacity:1;position:relative}.lb-thread:where(.lb-thread\\:show-actions-hover :is(:hover,:focus-within)) :where(.lb-thread-actions){opacity:1}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover) :where(.lb-inbox-notification-header){grid-template:"title secondary"/1fr max-content;display:grid}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover) :where(.lb-inbox-notification-details){opacity:1;transition-property:opacity}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover) :where(.lb-inbox-notification-actions){opacity:0;transition-property:opacity}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover):where(:is(:hover,:focus-within,.lb-inbox-notification\\:action-open)) :where(.lb-inbox-notification-details){opacity:0}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover):where(:is(:hover,:focus-within,.lb-inbox-notification\\:action-open)) :where(.lb-inbox-notification-actions){opacity:1}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover) :where(.lb-inbox-notification-details),.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover) :where(.lb-inbox-notification-actions){grid-area:secondary;justify-self:end}}@media (prefers-reduced-motion){.lb-dropdown:where(:not([data-state=closed])),.lb-emoji-picker:where(:not([data-state=closed])),.lb-tooltip:where([data-state=delayed-open]:not([data-state=closed])),.lb-composer-suggestions:where(:not([data-state=closed])){animation-name:lb-animation-appear}}',qo="body{background-color:transparent;margin:0;padding:0;overflow:hidden}button{border:0;padding:0;background:none;font-family:inherit;cursor:pointer}::-webkit-scrollbar{background-color:transparent;width:8px;height:8px;position:absolute}::-webkit-scrollbar-track{background-color:transparent}::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px}::-webkit-scrollbar-button{display:none}.lb-root{--lb-accent: #7f4ec3}",Yo=()=>{const[e,t]=c.useState(!1),n=c.useRef(null);return c.useLayoutEffect(()=>{const r=a=>{const i=a.clientX,s=a.clientY,l=n.current?.getBoundingClientRect();if(!l)return;const u=i>=l.left&&i<=l.right&&s>=l.top&&s<=l.bottom;t(u)};return document.addEventListener("mousemove",r),()=>{document.removeEventListener("mousemove",r)}},[]),o.jsx(V,{css:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",opacity:1,transition:"opacity 0.5s",pointerEvents:"none"},children:o.jsx(T,{css:{borderRadius:m.radii.lg,bg:m.colors.white,boxShadow:m.shadows.xl,padding:m.space[3],pointerEvents:"none",border:`3px solid ${m.colors.gray300}`},initial:{opacity:0,y:20},exit:{opacity:0,y:20},animate:{opacity:e?0:1,y:e?20:0},transition:{duration:.1,delay:.1},as:L.div,ref:n,children:o.jsxs(T,{alignItems:"center",gap:"2",children:[o.jsx(T,{css:{borderRadius:m.radii.full,bg:m.colors.gray100,padding:m.space[2]},"data-tango-ignore":!0,children:o.jsx(Kt,{color:m.colors.gray500.value,size:24})}),o.jsx(Z,{css:{marginRight:m.space[6]},children:"Click anywhere to create a new blur."})]})})})},Ko=()=>Bt(Pt.SECURE_BLUR_V2)?Gn.createPortal(o.jsx(Yo,{}),Ht()):null,at=R("div",{position:"fixed",zIndex:se}),ze=R(at,{width:"100%",height:"100%",left:0,bottom:0,right:0,backdropFilter:"blur(var(--overlay-blur, 0px))",variants:{background:{purple:{background:"hsla(270.9, 34.7%, 18.6%, 80%)"},gray:{background:"#27212FCC"},none:{background:"transparent"}}},defaultVariants:{background:"none"}}),Jo=R(at,{top:"var(--cutoutTop)",left:"var(--cutoutLeft)",width:"var(--cutoutWidth)",height:"var(--cutoutHeight)",boxShadow:"0 0 0 9999px hsla(270.9, 34.7%, 18.6%, 80%)",borderRadius:10}),Jt=R(ze,{display:"flex",justifyContent:"center",alignItems:"center"}),Qo=Vt({"0%":{opacity:0},"100%":{opacity:1}}),er=Vt({"0%":{opacity:1},"100%":{opacity:0}}),tr=R(V,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"hsla(270.9, 34.7%, 18.6%, 80%)",'&[data-state="open"]':{animation:`${Qo} ease 0.2s`},'&[data-state="closed"]':{animation:`${er} ease 0.5s forwards`}}),nr=()=>{const[e,t]=c.useState(2);return X([]),c.useEffect(()=>{let r=setTimeout(()=>{e===1?(clearTimeout(r),z({name:A.StartRecording,countdown:!1})):t(()=>e-1)},1e3);return()=>clearTimeout(r)},[e]),o.jsx(ze,{children:o.jsx(tr,{"data-state":e===1?"closed":"open",children:o.jsx(Z,{as:"p",css:{color:m.colors.white,textAlign:"center"},size:"7",children:"Capture has started!"})})})};function or(){c.useEffect(()=>{const e=t=>{const n=document.querySelector(tt);n?.shadowRoot&&t.target instanceof Node&&n.contains(t.target)||z({name:A.NavigateTo,route:D.Hidden})};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}},[])}const rr=()=>{const{user:e,createHomeUrl:t}=Ae(),n=()=>{window.open(t())};return o.jsxs(T,{justifyContent:"between",children:[o.jsx(V,{as:"button","aria-label":"Navigate to the home page",css:{color:m.colors.orange500,"&:focus-visible":{outline:"2px solid $gray600",outlineOffset:4,borderRadius:"$md"}},onClick:n,children:o.jsx(ot,{})}),o.jsx(Z,{css:{color:m.colors.gray700,letterSpacing:"0.05em"},size:"1",children:e?.email||""})]})},st=({children:e,notificationArea:t,showHeader:n=!0,padding:r,width:a=470,minWidth:i=470,overflow:s="hidden"})=>(or(),o.jsx(at,{"data-testid":"tango-overlay",style:{width:a,minWidth:i,top:10,right:86},children:o.jsxs(V,{css:{position:"relative"},children:[o.jsxs(V,{css:{background:m.colors.white,border:`3px solid ${m.colors.gray100}`,borderRadius:m.radii.lg,width:"calc(100% - 16px)",boxShadow:"0px 8px 8px rgba(0, 0, 0, 0.1)",mx:"auto",px:r||m.space[5],pt:r||m.space[5],pb:r||m.space[5],position:"relative",overflow:s,zIndex:m.zIndices.above},children:[!!n&&o.jsx(rr,{}),e]}),t]})})),ir=({workflow:e})=>{const[t,n]=c.useState(""),[r,a]=c.useState(!1),i=new URL(window.location.href);if((i?.host.includes("tango.us")||Zn)&&i.pathname.includes(kt)&&i.pathname.includes(Xn))return;const u=b=>{if(b.preventDefault(),t||r)return;a(!0),(async()=>{const p=await z({name:A.ViewWorkflow,id:e.id,workspaceId:e.workspaceId,eventSource:"Direct to Guidance - Overlay",shouldUpdateTab:!0});p&&"errorMessage"in p&&p.errorMessage.includes("Workflow not found")&&n("This Tango canâ€™t be found. It may have recently been moved or deleted."),a(!1)})()},f=()=>{z({name:A.NavigateTo,route:D.Hidden})},d=e?.userPermissionLevel===jt.Edit||e?.userPermissionLevel===jt.Owner;return o.jsx(st,{width:352,minWidth:352,showHeader:!1,padding:"0px",overflow:"hidden",children:o.jsxs(T,{justifyContent:"between",alignItems:"center",css:{width:"100%",boxSizing:"border-box",padding:`${m.space[6]} ${m.space[5]} ${m.space[5]} ${m.space[5]}`,position:"relative",textAlign:"center"},direction:"column",children:[o.jsxs(T,{css:{mb:m.space[6],width:"100%"},justifyContent:"between",alignItems:"center",children:[o.jsx(io,{}),o.jsx(rt,{"aria-label":"Search","data-testid":"search-button",onClick:f,children:o.jsx(Nt,{})})]}),e?o.jsxs(o.Fragment,{children:[o.jsx(ao,{workflow:e,css:{pt:0,pl:0,textAlign:"left"}}),o.jsxs(T,{css:{mb:m.space[4],width:"100%"},direction:"column",gap:"2",children:[o.jsx(Wt,{children:o.jsx(K,{"data-testid":"guide-me-button",fullWidth:!0,onPointerDown:u,disabled:r||t!=="",size:"md",children:"Start"})}),d&&o.jsx(K,{fullWidth:!0,variant:"tertiary",onClick:()=>{z({name:A.OpenNewTab,path:kt.replace(":id",e.id)}),z({name:A.NavigateTo,route:D.Hidden})},children:"View on Tango.us"})]})]}):o.jsx(ko,{})]})})};function ar({guidanceUrl:e}){const t=()=>{z({name:A.NavigateTo,route:D.Hidden})},n=()=>{Et(Ct.ForceInstallDirectToGuidanceClicked,{}),z({name:A.OpenSidePanel,signInRedirect:e,eventSource:"DTG - sign in prompt"})};return c.useEffect(()=>{Et(Ct.ForceInstallDirectToGuidanceViewed,{})},[]),o.jsx(st,{width:352,minWidth:352,showHeader:!1,overflow:"hidden",children:o.jsxs(T,{alignItems:"center",css:{width:"100%",boxSizing:"border-box",position:"relative"},direction:"column",gap:"6",children:[o.jsxs(T,{css:{width:"100%",px:m.space[2]},justifyContent:"between",alignItems:"center",children:[o.jsx(ot,{variant:"logotype",size:"sm"}),o.jsx(rt,{"aria-label":"Search","data-testid":"search-button",onClick:t,children:o.jsx(Nt,{})})]}),o.jsxs(T,{direction:"column",gap:"5",css:{px:m.space[2]},children:[o.jsxs(T,{direction:"column",gap:"1",children:[o.jsx(Z,{size:"6",font:"serif",children:"Looking for help?"}),o.jsx(Z,{css:{color:m.colors.gray600},children:"You're in luck, your team created a step-by-step guide with Tango."})]}),o.jsx(V,{css:{width:"100%",mb:m.space[4]},children:o.jsx(Wt,{children:o.jsx(K,{size:"lg",onClick:n,fullWidth:!0,children:"Get Started"})})})]})]})})}function sr({workspace:e}){const[t,n]=c.useState(!1),{switchWorkspace:r,currentWorkspace:a}=Ae();c.useEffect(()=>{a?.id!==e.id&&r(e.id)},[a,r,e.id]);const i=()=>{n(!0),z({name:A.RequestWorkspaceInvitation,workspaceId:e.id})};return o.jsx(st,{padding:m.space[6].value,children:o.jsxs(T,{gap:"7",direction:"column",css:{mt:m.space[7],px:m.space[5],textAlign:"center"},children:[o.jsxs(T,{gap:"2",direction:"column",children:[o.jsx(Gt,{css:{color:m.colors.gray600},children:"You're out of guided views."}),o.jsxs(Z,{css:{color:m.colors.gray500},size:3,children:["Join the ",e?.settings.name," Workspace for unlimited access to Guidance."]})]}),o.jsx(K,{size:"lg",onClick:i,disabled:t,children:t?"Request sent to admin":"Ask to join the Workspace"})]})})}const cr=e=>{const[t,n]=c.useState(null),[r,a]=c.useState(!1),[i,s]=c.useState(!1),[l,u]=so(null),[f,d]=c.useState(new DOMRect(48,48)),b=c.useCallback(y=>{if(y.message.name===A.HighlightStep){a(y.message.finished),n(y.message.stepId);const v=document.getElementById(Ve);v&&v.style.setProperty("--overlay-blur","0px")}y.message.name===A.ZoomScreenshotStep&&s(y.message.value)},[]);$t(b);const g=c.useCallback(()=>{z({name:A.ZoomScreenshotStep,value:!1})},[]);c.useEffect(()=>{l?.status===_.Success&&l.bounds&&d(l.bounds)},[l?.bounds,l?.status]),c.useEffect(()=>{z({name:A.HighlightStep})},[]);const p=y=>y&&Ne(y)&&y.id===t,h=e.contentBlocks.flatMap(y=>"children"in y&&y.children?.length?y.children:y);let k=h.findIndex(p),S=h[k],F=h.find((y,v)=>v>k&&Ne(y));if(i){const y=e.contentBlocks.find(v=>v.children?.find(p));y&&(S=y)}const j=l?.status===_.NoTargetDetails,E=(l?.status===_.NoElements||l?.status===_.ScoreTooLow||l?.status===_.ElementHidden)&&!!l?.timeout;return{step:S,nextStep:F,finished:r,zoomScreenshot:i,stopZoomScreenshot:g,workflow:e,result:l,setResult:u,isElementNotFound:E,isManualStep:j,lastValidBounds:f,highlightFirstNonAuthStep:()=>{const y=h.find((x,I)=>I>k&&Ne(x)&&!x.classifications?.includes(nt.Authentication));if(!y)return;const v=e.contentBlocks.find(x=>x.children?.some(I=>I.id===y.id))??y;z({name:A.MarkHighlightStep,stepId:v.id})}}},Qt=c.createContext(void 0),lr=({children:e,workflow:t})=>{const n=cr(t);return o.jsx(Qt.Provider,{value:n,children:e})},en=()=>c.useContext(Qt),dr=e=>e.url&&We(e.url)||e.targetDetails&&We(e.targetDetails.baseURI)?!1:!!We(document.baseURI),We=e=>/log(-|_)?in|sign(-|_)?in|sign(-|_)?up|auth/.test(e.toLowerCase()),ur=new Date("2024-09-27"),fr=(e,t=!1)=>{if(dr(e))return!0;if(!t)return!1;const n=e.classifications?.includes(nt.Authentication);return new Date(e.createdAt)<=ur?!1:!!(!n&&Yt())},br=e=>{const t=xe(document.baseURI);if(!t)return!1;if(e.targetDetails?.iframeURI){const a=xe(e.targetDetails.iframeURI);return a&&a===t}const n=xe(e.url??void 0),r=xe(e.targetDetails?.baseURI);return!!(n&&n===t||r&&r===t)},fe=(e,{x:t,y:n})=>{const r=e.y,a=e.x,i=e.x+e.width,s=e.y+e.height;return r<=n&&t<=i&&a<=t&&n<=s},we=(e,t)=>{let n=e.target instanceof Node?e.target:null;return!n||!t?!1:tn(n)&&n.shadowRoot?e.composedPath().includes(t):n instanceof Node&&!!t.contains(n)},tn=e=>"shadowRoot"in e,ne=(e,t)=>{let n=e.target instanceof Node?e.target:null;return!n||!t?!1:tn(n)&&n.shadowRoot?e.composedPath().includes(t):n instanceof Node&&(!!n.contains(t)||!!t.contains(n))},pr=R(L.div,{boxSizing:"content-box",overflow:"visible",zIndex:se,position:"absolute",transition:"opacity 0.2s ease-in-out, box-shadow 0.1s linear"}),q=2,te=({bounds:e,isFlexible:t,artemisStatus:n,big:r=!1})=>{const[a,i]=c.useState(!1),{params:s}=Ut(),l=s,u=ye.highlighterColor;let f=`0px 0px 0px ${q}px ${a?"rgba(0, 0, 0, 0.2)":"transparent"}, 0px 0px 0px ${q}px ${u}, 0px 0px 10px 6px ${u}70`;l.artemis&&n==="waiting"&&(f=`0px 0px 0px ${q}px #E8D8FF, 0px 0px 6px 2px rgba(127, 78, 195, 0.7)`),l.artemis&&n==="halfway"&&(f=`0px 0px 0px ${q}px #7F4EC3, 0px 0px 6px 2px rgba(127, 78, 195, 0.7)`),c.useEffect(()=>{const g=p=>{const h=fe(e,{x:p.clientX,y:p.clientY});i(h)};return document.addEventListener("mousemove",g),()=>document.removeEventListener("mousemove",g)},[e]);let d=r?8:4;const b=he(e,d);return o.jsx(pr,{layoutId:"action-box",style:{width:b.width,height:b.height,left:b.left,top:b.top,borderRadius:"8px",boxShadow:f,opacity:t&&!a?"0.5":"0.99",padding:d,marginLeft:-d,marginTop:-d},variants:mr,initial:"initial",animate:"enter"})},he=(e,t)=>{const n=Math.max(e.left,t+q),r=Math.max(e.top,t+q),a=Math.min(e.width+(e.left<0?e.left:0),window.innerWidth-n-t-q),i=Math.min(e.height+(e.top<0?e.top:0),window.innerHeight-r-t-q);return DOMRect.fromRect({x:n,y:r,width:a,height:i})},mr={initial:{scale:0},enter:{scale:1,transition:{duration:.15,ease:"easeInOut"}}},ee=430,ke=200,gr=R("div",{zIndex:se,position:"absolute",top:0,left:0,right:0,bottom:0,width:ee,height:ke,willChange:"transform"}),hr=({bounds:e,eventType:t})=>{const n=vr(e);let r=0,a=0,i={},s={};return n==="bottomLeft"?(r=e.left-ee,a=e.bottom,i={top:22,right:0,transform:"scaleX(-1)"},s={top:106,right:120}):n==="bottomRight"?(r=e.right,a=e.bottom,i={top:22,left:0},s={top:106,left:120}):n==="topLeft"?(r=e.left-ee,a=e.top-ke,i={bottom:22,right:0,transform:"scaleY(-1) scaleX(-1)"},s={bottom:116,right:120}):n==="topRight"?(r=e.right,a=e.top-ke,i={bottom:22,left:0,transform:"scaleY(-1)"},s={bottom:116,left:120}):(r=e.left+40,a=e.bottom,i={top:22,left:0},s={top:112,left:116}),o.jsx(o.Fragment,{children:o.jsxs(gr,{style:{transform:`translate3d(${r}px, ${a}px, 0px)`},children:[o.jsx(xr,{style:{position:"absolute",...i}}),o.jsx(jo,{css:{fontSize:34,position:"absolute",color:"white"},style:s,children:t==="input"?"Type in the Action Box":"Click the action box"})]})})},At=({bounds:e,children:t,eventType:n})=>o.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},children:o.jsxs(ze,{children:[o.jsx(Jo,{style:{"--cutoutLeft":`${e.left-10}px`,"--cutoutTop":`${e.top-10}px`,"--cutoutWidth":`${e.width+20}px`,"--cutoutHeight":`${e.height+20}px`}}),t,o.jsx(hr,{bounds:e,eventType:n})]})});function vr(e){if(e.bottom+ke<window.innerHeight){if(e.left-ee>0)return"bottomLeft";if(e.right+ee<window.innerWidth)return"bottomRight"}return e.left-ee>0?"topLeft":e.right+ee<window.innerWidth?"topRight":"bottomCenter"}const xr=e=>o.jsxs("svg",{width:"104",height:"120",viewBox:"0 0 104 120",fill:"white",xmlns:"http://www.w3.org/2000/svg",...e,children:[o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M59.933 73.721C59.6109 73.1361 59.3866 72.4713 59.1632 71.8076C57.7827 68.3693 56.1246 64.3994 55.9318 60.611C55.7175 55.6113 57.3561 52.2471 60.0007 50.092C63.725 47.0619 69.7775 46.6343 75.2119 48.4265C80.618 50.1847 85.4401 54.0061 87.0845 58.9471C88.2386 62.3107 87.9156 66.2687 85.2128 70.5277C82.1766 75.3731 77.2608 77.5635 71.753 78.054C69.6385 78.2778 67.565 78.1552 65.3992 77.9221C66.4238 79.7469 67.4609 81.5875 68.5171 83.4501C72.1518 89.401 76.5945 95.139 81.3333 100.244C87.5076 107.075 94.5926 112.629 102.75 116.905C103.447 117.347 103.731 118.282 103.355 119.015C102.978 119.747 102.059 120.025 101.265 119.663C92.7966 115.211 85.3926 109.472 78.9872 102.363C74.2163 97.021 69.5429 91.203 65.8769 85.0165C64.3847 82.432 62.9271 79.8893 61.5878 77.291C56.959 76.27 52.55 74.5256 49.2195 72.6943C27.2875 60.1544 15.7496 28.3018 10.78 4.54364C10.5916 3.72434 11.0895 2.93874 11.926 2.75904C12.7633 2.58034 13.553 3.13464 13.7415 3.95404C18.5622 26.9404 29.5073 57.8843 50.7587 70.001C53.2582 71.4257 56.4981 72.7523 59.933 73.721ZM63.7373 74.5404C63.0671 73.3394 62.4992 72.065 62.0314 70.7121C60.8391 67.5003 59.1876 63.9341 58.9637 60.5035C58.7902 56.7384 59.9121 54.1341 61.8711 52.5378C65.0062 49.9847 69.8669 49.9024 74.2226 51.3855C78.7029 52.8209 82.8365 55.8148 84.1339 59.9434C85.0048 62.5713 84.7127 65.5799 82.6624 68.8446C80.105 72.8826 75.9691 74.6265 71.4952 74.977C68.922 75.2421 66.2903 75.0415 63.7373 74.5404Z"}),o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.794 3.39524C11.5935 4.14204 11.5343 5.05884 11.476 5.97664C11.3262 7.77244 11.3227 9.54684 11.0044 10.7449C9.16774 18.0206 6.87454 26.7228 2.81924 33.1092C2.40364 33.795 1.44014 34.0195 0.728744 33.5594C0.0182443 33.1003 -0.245456 32.1907 0.267244 31.4242C4.09084 25.352 6.19854 17.0178 8.05194 9.95984C8.33304 8.71714 8.35074 6.56614 8.48034 4.74614C8.64044 3.16034 8.94535 1.74824 9.61275 0.77244C9.95305 0.19364 10.9888 -0.33916 12.4813 0.26994C14.5478 1.17394 18.8088 4.91314 19.2525 5.24904C23.7349 8.66284 27.7955 11.5697 33.7035 11.1652C34.5083 11.145 35.2217 11.8055 35.369 12.5754C35.4191 13.426 34.7387 14.189 33.9331 14.2083C27.2291 14.6436 22.4092 11.614 17.3385 7.69054C17.0832 7.38354 14.5546 5.13354 12.4845 3.82994C12.2266 3.71734 12.0495 3.50484 11.794 3.39524Z"})]}),wr=200,yr=()=>{const[e,t]=c.useState(!1);return c.useEffect(()=>{let n;const r=()=>{clearTimeout(n),t(!0),n=setTimeout(()=>{t(!1)},wr)};return document.addEventListener("scroll",r,!0),()=>document.removeEventListener("scroll",r,!0)},[]),e},ct=R(L.div,{position:"absolute",top:4,right:4,opacity:1,transition:"opacity 0.2s ease-in-out",background:"radial-gradient(circle, #201B28 50%, rgba(0,0,0,0) 100%)",pointerEvents:"none"}),nn=R(ct,{opacity:0}),Fe=({defaultComponent:e,hoverComponent:t})=>o.jsxs(o.Fragment,{children:[!!e&&o.jsx(ct,{layout:"size",children:e}),!!t&&o.jsx(nn,{layout:"size",children:t})]}),Le=({expanded:e})=>{const t=e?Fo:_o;return o.jsx(t,{size:16,color:m.colors.purple300.value,css:{margin:4}})},Oe=R("div",{position:"absolute",bottom:m.space[1],left:m.space[1],right:m.space[1],background:"#201B28",display:"flex",flexDirection:"column",gap:m.space[2],"&:before":{content:"",display:"block",position:"absolute",background:"linear-gradient(0deg, #201B28 0%, rgba(0,0,0,0) 100%)",top:-20,height:20,left:0,right:0}}),Me=({value:e})=>o.jsx(co,{css:{color:"$gray200",a:{color:"$orange500"}},value:e,size:"1"}),be=204,pe=360,on=R(L.div,{position:"absolute",willChange:"top, left, right, bottom, transform",zIndex:se,pointerEvents:"auto","&:hover":{[`& ${ct}`]:{opacity:0},[`& ${nn}`]:{opacity:1}}}),rn=R(L.div,{border:"1px solid rgba(232, 216, 255, 0.2)",px:12,py:7,fontFamily:"$sans",fontSize:"$1",display:"flex",flexDirection:"column",gap:m.space[2],lineHeight:0,cursor:"default",width:"max-content",minHeight:32,maxWidth:be,maxHeight:pe,backgroundColor:"#241F2C",boxShadow:m.shadows.md,color:"$white",overflow:"hidden","&:hover":{backgroundColor:"#201B28"}}),J=R("div",{display:"-webkit-box","-webkit-line-clamp":4,"-webkit-box-orient":"vertical",overflow:"hidden",textOverflow:"ellipsis",variants:{lines:{all:{"-webkit-line-clamp":"initial"},one:{"-webkit-line-clamp":1},two:{"-webkit-line-clamp":2},three:{"-webkit-line-clamp":3},four:{"-webkit-line-clamp":4}}}}),Y=R("span",{fontFamily:"$sans",color:"$white",fontWeight:500,fontSize:"$1",lineHeight:"15.6px",variants:{short:{true:{lineHeight:"22px"}}}}),kr=c.forwardRef((e,t)=>{const{bounds:n,children:r,onClick:a,actions:i,preferredSide:s}=e,l=jr(n,s);let u=6,f,d,b,g,p;switch(l){case"bottom-left":f=n.left,b=n.bottom+u,p="2px 6px 6px 6px";break;case"top-left":f=n.left,g=window.innerHeight-n.top+u,p="6px 6px 6px 2px";break;case"bottom-right":d=window.innerWidth-n.right-u,b=n.bottom+u,p="6px 2px 6px 6px";break;case"top-right":d=window.innerWidth-n.right-u,g=window.innerHeight-n.top+u,p="6px 6px 2px 6px";break}return o.jsxs(on,{style:{top:b,left:f,bottom:g,right:d,originX:l.includes("left")?0:1,originY:l.includes("bottom")?0:1,borderRadius:p,overflow:"hidden"},initial:{scale:0},animate:{scale:1},transition:{ease:"easeInOut",duration:.05},onClick:a,ref:t,children:[o.jsx(rn,{transition:{layout:{duration:.3}},layout:"size",children:r}),i]})}),lt=c.forwardRef((e,t)=>o.jsx(kr,{...e,ref:t},e.content));function jr(e,t){const n=[],r=e.bottom+pe<window.innerHeight,a=e.top-pe>0,i=window.innerWidth-be-e.left>0,s=e.left-be>0;return r&&i&&n.push("bottom-left"),r&&s&&n.push("bottom-right"),a&&i&&n.push("top-left"),a&&s&&n.push("top-right"),t&&n.includes(t)?t:n.at(0)||"bottom-right"}R("svg");R(rt,{position:"absolute",zIndex:se,width:"34px!important",height:"34px!important",pointerEvents:"all",border:"none",top:2,variants:{side:{left:{left:0,transform:"translate(calc(-100% - 12px), 0)"},right:{right:0,transform:"translate(calc(100% + 12px), 0)"}}}});const Er=R("div",{position:"absolute",'&[data-side="top-right"]':{transform:"rotate(90deg)",top:12,left:-3},'&[data-side="top-left"]':{transform:"rotate(-90deg)",top:12,right:-3},'&[data-side="top-center"]':{transform:"rotate(180deg)",top:-7,left:"calc(50% - 5px)"},'&[data-side="bottom-right"]':{transform:"rotate(90deg)",bottom:12,left:-3},'&[data-side="bottom-left"]':{transform:"rotate(-90deg)",bottom:12,right:-3},'&[data-side="bottom-center"]':{transform:"rotate(0deg)",bottom:-7,left:"calc(50% - 5px)"}}),Sr=({side:e})=>o.jsx(Er,{"data-side":e,children:o.jsxs(L.svg,{layout:"position",transition:{duration:null},width:"10",height:"5",viewBox:"0 0 10 5",children:[o.jsx("path",{d:"M5 4.35969L1.42539 1.5L8.57461 1.5L5 4.35969Z",fill:"#4C4457",stroke:"#4C4457"}),o.jsx("path",{d:"M10 -1.09903e-06L5 4L0 0L10 -1.09903e-06Z",fill:"#251F2D"})]})}),Ir=c.forwardRef(({bounds:e,children:t,onClick:n,isShort:r,actions:a},i)=>{const s=Tr(e),l=16,u=6;let f,d,b,g,p,h;switch(s){case"top-right":f=e.right+l,b=e.top-u,r&&(b+=e.height/2+u,h="-50%");break;case"top-left":d=window.innerWidth-e.left+l,b=e.top-u,r&&(b+=e.height/2+u,h="-50%");break;case"top-center":f=e.left+e.width/2,b=e.bottom+l,p="-50%";break;case"bottom-right":f=e.right+l,g=window.innerHeight-e.bottom-u,r&&(g+=e.height/2+u,h="50%");break;case"bottom-left":d=window.innerWidth-e.left+l,g=window.innerHeight-e.bottom-u,r&&(g+=e.height/2+u,h="50%");break;case"bottom-center":f=e.left+e.width/2,g=window.innerHeight-e.top+l,p="-50%";break}return o.jsx(o.Fragment,{children:o.jsxs(on,{style:{top:b,left:f,right:d,bottom:g,originX:s.includes("left")?1:0,originY:s.includes("bottom")?1:0,x:p,y:h},initial:{scale:0},animate:{scale:1},transition:{ease:"easeInOut",duration:.05,delay:.15},onClick:n,ref:i,children:[o.jsx(rn,{style:{borderRadius:6},transition:{layout:{duration:s.includes("bottom")?0:.3}},layout:"size",children:t}),a,o.jsx(Sr,{side:s}),!1]})})}),Cr=c.forwardRef((e,t)=>o.jsx(Ir,{...e,ref:t},e.content));function Tr(e){const t=[],n=window.innerHeight-pe-e.y-e.height>0,r=e.y-pe>0,a=window.innerWidth-be-e.x-e.width>0,i=e.x-be>0;return a&&n&&t.push("top-right"),i&&n&&t.push("top-left"),a&&r&&t.push("bottom-right"),i&&r&&t.push("bottom-left"),r&&t.push("bottom-center"),n&&t.push("top-center"),t.at(0)??"bottom-center"}const G={lastSimilarElement:null,lastScrolledElements:[]},je=e=>{const t=e.getBoundingClientRect();if(e instanceof HTMLInputElement&&t.width<5&&t.height<5){const n=e.labels?.[0];if(n)return n.getBoundingClientRect()}return t},De=({stepId:e})=>o.jsx(K,{onClick:t=>{t.stopPropagation(),z({name:A.ReadStep,stepId:e})},EndIcon:o.jsx(Ar,{}),fullWidth:!0,variant:"tertiary",inverted:!0,size:"sm",children:"Read all"}),Ar=()=>o.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M1.5 9.6748C1.225 9.6748 0.989583 9.57689 0.79375 9.38105C0.597917 9.18522 0.5 8.94981 0.5 8.6748V1.6748C0.5 1.3998 0.597917 1.16439 0.79375 0.968555C0.989583 0.772721 1.225 0.674805 1.5 0.674805H8.5C8.775 0.674805 9.01042 0.772721 9.20625 0.968555C9.40208 1.16439 9.5 1.3998 9.5 1.6748V8.6748C9.5 8.94981 9.40208 9.18522 9.20625 9.38105C9.01042 9.57689 8.775 9.6748 8.5 9.6748H1.5ZM7 8.6748H8.5V1.6748H7V8.6748ZM6 8.6748V1.6748H1.5V8.6748H6Z",fill:"#7F4EC3"})}),an=(e,t)=>{const n=c.useRef(e),r=c.useRef(t);c.useLayoutEffect(()=>{r.current=t,n.current=e},[t,e]),c.useEffect(()=>{let a=null,i;const s=f=>{i=n.current(f);const d=f.target;a=setTimeout(()=>u(f,d),300)},l=f=>{clearTimeout(a),!(!f.isTrusted||!f.isPrimary)&&u(f,f.target)},u=async(f,d)=>{if(!(d instanceof HTMLElement)&&!(d instanceof SVGElement))return;const b=document.querySelector(tt);d instanceof Node&&b?.contains(d)||r.current(f,d,i)};return document.addEventListener("pointerdown",s,!0),document.addEventListener("pointerup",l,!0),()=>{document.removeEventListener("pointerdown",s,!0),document.removeEventListener("pointerup",l,!0)}},[])},Rt=({step:e,highlightedElement:t,bounds:n,onComplete:r})=>{const[a,i]=c.useState(!1),[s,l]=c.useState(!1),u=c.useRef(null),f=()=>i(!a);X([a,s]),an(h=>{const k={x:h.clientX,y:h.clientY};return n&&fe(n,k)||t&&fe(je(t),k)||we(h,t)},async(h,k,S)=>{if(e){if(S)r(e.id,W.INTERACTIVE_AUTOMATIX);else if(e.isFlexible&&G.lastSimilarElement){r(e.id,W.INTERACTIVE_AUTOMATIX_SIMILAR_ELEMENT);return}}});const g=Te(e.description),p=(e.title||"").length>110||g;return c.useLayoutEffect(()=>{const h=u.current?.clientHeight;l(a&&!!h&&h>300)},[a]),o.jsxs(Cr,{bounds:he(n,4),content:e.title||"",onClick:p?f:void 0,ref:u,isShort:!p,actions:p&&o.jsx(Fe,{hoverComponent:o.jsx(Le,{expanded:a})}),children:[o.jsx(J,{lines:a?"all":g?"three":"four",css:{flex:"1 0"},as:L.div,layout:"position",transition:{duration:null},children:o.jsx(Y,{children:e.title})}),g&&o.jsxs(o.Fragment,{children:[o.jsx(J,{lines:a?"all":"one",css:{flex:"1"},as:L.div,layout:"position",transition:{duration:null},children:o.jsx(Me,{value:e.description})}),a&&s&&o.jsx(Oe,{children:o.jsx(De,{stepId:e.id})})]})]})},Rr=R("div",{display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(74, 67, 84, 0.34)",boxShadow:"0px 2px 0px rgba(26, 20, 35, 0.95)",borderRadius:"$xs",color:"$purple300",p:m.space[1],lineHeight:1,minWidth:20,height:22,fontFamily:"$sans",pointerEvents:"none",transition:"opacity 150ms ease",variants:{disabled:{true:{opacity:.4}},inverted:{true:{background:"$gray200",boxShadow:"0px 2px 0px rgba(74, 67, 84, 0.34)",color:"$gray600"}}}}),zr=navigator.platform.startsWith("Win"),dt=({shortcuts:e,disabled:t,inverted:n=!1})=>o.jsx(T,{gap:"1",css:{alignSelf:"start"},children:e.map(r=>o.jsx(Rr,{disabled:t,inverted:n,children:r==="âŒ˜"&&zr?"Ctrl":r},r))}),Fr=800,Lr=({step:e,highlightedElement:t,bounds:n,onComplete:r})=>{const[a,i]=c.useState(!1),[s,l]=c.useState(!1),u=c.useRef(null),f=()=>i(!a);X([a,s]);const[d,b]=c.useState(null),[g,p]=c.useState(!1);c.useEffect(()=>{const E=async P=>{const y=ne(P,t),v=ne(P,G.lastSimilarElement);e&&(!y&&!v||b({element:P.target,isSimilar:v}))};return window.addEventListener("copy",E,!0),()=>{window.removeEventListener("copy",E,!0)}},[e,n,t]),c.useEffect(()=>{const E=()=>{p(Oo())};return document.addEventListener("selectionchange",E),()=>{document.removeEventListener("selectionchange",E)}},[]);const h=()=>{r(e.id,d?.isSimilar?W.INTERACTIVE_AUTOMATIX_SIMILAR_ELEMENT:W.INTERACTIVE_AUTOMATIX)};c.useEffect(()=>{if(!d)return;const E=setTimeout(h,Fr);return()=>clearTimeout(E)},[d]),c.useLayoutEffect(()=>{const E=u.current?.clientHeight;l(a&&!!E&&E>300)},[a]);const k=Te(e.description),S=(e.title||"").length>38||k,F=(e.title||"").length>110||k,j=o.jsx(dt,{shortcuts:["âŒ˜","C"],disabled:!g});return o.jsx(lt,{bounds:he(n,8),content:e.title||"",onClick:f,ref:u,actions:!!d&&o.jsx(Fe,{defaultComponent:j,hoverComponent:F?o.jsx(Le,{expanded:a}):void 0}),children:d?o.jsx(Y,{children:"Copied!"}):S?o.jsxs(o.Fragment,{children:[o.jsx(J,{lines:a?"all":k?"two":"three",css:{flex:"1 0"},as:L.div,layout:"position",children:o.jsx(Y,{short:!S,children:e.title})}),k&&o.jsxs(o.Fragment,{children:[o.jsx(J,{lines:a?"all":"one",css:{flex:"1"},as:L.div,layout:"position",children:o.jsx(Me,{value:e.description})}),a&&s&&o.jsx(Oe,{children:o.jsx(De,{stepId:e.id})})]})]}):o.jsx(o.Fragment,{children:o.jsxs(T,{gap:"2",direction:"row",alignItems:"center",children:[o.jsx(Y,{short:!0,css:{flex:"1"},children:e.title}),j]})})})},de=({onNext:e,disabled:t,fullWidth:n})=>{const r=To({onClick:e}),a=o.jsxs(o.Fragment,{children:["Continue to the next step ",o.jsx(dt,{shortcuts:["âŒ˜","E"],inverted:!0})]});return o.jsxs(L.div,{layout:"size",children:[o.jsx(Xe,{css:zt,content:a,side:"bottom",sideOffset:12,delayDuration:300,portalled:!0,container:Ht(),children:o.jsx(K,{ref:r,EndIcon:o.jsx(lo,{size:12}),disabled:t,variant:"secondary",inverted:!0,size:"sm",css:{fontSize:"$1",alignSelf:"start"},fullWidth:n,children:"Next"})}),o.jsx(Xe,{css:zt,content:a,portalled:!0,container:uo(),forceMount:!0,children:o.jsx("div",{})})]})},zt={display:"flex",alignItems:"center",gap:m.space[2],fontSize:"$1",maxWidth:224,letterSpacing:"normal"};function sn(e){c.useEffect(()=>{const t=n=>{(n.ctrlKey||n.metaKey)&&n.key==="e"&&(n.preventDefault(),n.stopImmediatePropagation(),e()),n.key==="Tab"&&e(),n.key==="Enter"&&n.target instanceof HTMLInputElement&&e()};return document.addEventListener("keydown",t,{capture:!0}),()=>{document.removeEventListener("keydown",t,{capture:!0})}},[])}const Or=800,Ft=({step:e,highlightedElement:t,bounds:n,onComplete:r,nextStep:a})=>{const[i,s]=c.useState(!1),[l,u]=c.useState(!1),[f,d]=c.useState(null),[b,g]=c.useState(!1),[p,h]=c.useState(!0),k=c.useRef(null),S=()=>s(!i);X([i,l]);const F=c.useMemo(()=>t?Ye(t):null,[t]),j=()=>{r(e.id,f?.isSimilar?W.INTERACTIVE_AUTOMATIX_SIMILAR_ELEMENT:W.INTERACTIVE_AUTOMATIX)};sn(j),c.useLayoutEffect(()=>{e.isFlexible||!t||t.tabIndex<0||t.focus()},[t,e.isFlexible]),c.useEffect(()=>{if(t&&Ye(t)!==$.textbox){h(!1);return}if(cn(t)){d({element:t,isSimilar:!1});return}const O=Po(async M=>{const H=we(M,t),N=we(M,G.lastSimilarElement);!H&&!N||d({element:M.target,isSimilar:N})},Or);return document.addEventListener("input",O,{capture:!0}),()=>{document.removeEventListener("input",O,{capture:!0})}},[t]);const E=!!f||b;c.useEffect(()=>{if(E)return j},[E,e.id]),an(w=>{const O={x:w.clientX,y:w.clientY};(n&&fe(n,O)||t&&fe(je(t),O)||we(w,t))&&g(!0)},async(w,O)=>{if(!a||!a.targetDetails||a.targetDetails.userAction)return;const M=Zt(O);if(!M)return;const H=await Xt({...a,isFlexible:!!e.isFlexible}),N=async()=>{await r(e.id,W.INTERACTIVE_AUTOMATIX),await r(a.id,W.INTERACTIVE_AUTOMATIX)};if(H.status===_.Success&&H.element===M){N();return}a.isFlexible&&qt({targetDetails:a.targetDetails,baseElement:"element"in H?H.element:null,candidateElement:M})?.isWinner&&N()}),c.useLayoutEffect(()=>{const w=k.current?.clientHeight;u(i&&!!w&&w>300)},[i]);const v=Te(e.description),x=(e.title||"").length>38||v,I=(e.title||"").length>110||v,C=p&&!f;return o.jsx(lt,{bounds:he(n,8),content:e.title||"",onClick:S,ref:k,actions:I&&o.jsx(Fe,{hoverComponent:o.jsx(Le,{expanded:i})}),preferredSide:F===$.combobox?"top-left":void 0,children:x?o.jsxs(o.Fragment,{children:[o.jsx(J,{lines:i?"all":v?"two":"three",css:{flex:"1 0"},as:L.div,layout:"position",children:o.jsx(Y,{children:e.title})}),v&&o.jsx(J,{lines:i?"all":"one",css:{flex:"1"},as:L.div,layout:"position",children:o.jsx(Me,{value:e.description})}),v&&i&&l?o.jsxs(Oe,{children:[o.jsx(De,{stepId:e.id}),o.jsx(de,{disabled:C,onNext:j,fullWidth:!0})]}):o.jsx(de,{disabled:C,onNext:j,fullWidth:!0})]}):o.jsxs(T,{gap:"2",direction:"row",alignItems:"center",children:[o.jsx(Y,{css:{flex:"1"},children:e.title}),o.jsx(de,{disabled:C,onNext:j,fullWidth:!1})]})})},cn=e=>(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.value?.trim().length>0||!1,Mr=({step:e,highlightedElement:t,bounds:n,onComplete:r})=>{const[a,i]=c.useState(!1),[s,l]=c.useState(!1),u=c.useRef(null),f=()=>i(!a);X([a,s]);const[d,b]=c.useState(null),g=()=>{r(e.id,d?.isSimilar?W.INTERACTIVE_AUTOMATIX_SIMILAR_ELEMENT:W.INTERACTIVE_AUTOMATIX)};sn(g),c.useLayoutEffect(()=>{e.isFlexible||!t||t.tabIndex<0||t.focus()},[t,e.isFlexible]),c.useEffect(()=>{const j=async E=>{const P=ne(E,t),y=ne(E,G.lastSimilarElement);!P&&!y||g()};return window.addEventListener("paste",j,!0),()=>{window.removeEventListener("paste",j,!0)}},[t]),c.useEffect(()=>{const j=E=>{const P=ne(E,t),y=ne(E,G.lastSimilarElement);!P&&!y||b({element:E.target,isSimilar:y})};if(cn(t)){b({element:t,isSimilar:!1});return}return document.addEventListener("input",j,{capture:!0}),()=>{document.removeEventListener("input",j,{capture:!0})}},[t]),c.useLayoutEffect(()=>{const j=u.current?.clientHeight;l(a&&!!j&&j>300)},[a]);const p=Te(e.description),h=(e.title||"").length>38||p,k=(e.title||"").length>110||p,S=o.jsx(de,{onNext:g,fullWidth:h,disabled:!d}),F=o.jsx(dt,{shortcuts:["âŒ˜","V"]});return o.jsx(lt,{bounds:he(n,8),content:e.title||"",onClick:f,ref:u,actions:h&&o.jsx(Fe,{defaultComponent:F,hoverComponent:k?o.jsx(Le,{expanded:a}):void 0}),children:h?o.jsxs(o.Fragment,{children:[o.jsx(J,{lines:a?"all":p?"two":"three",css:{flex:"1 0"},as:L.div,layout:"position",children:o.jsx(Y,{children:e.title})}),p&&o.jsx(J,{lines:a?"all":"one",css:{flex:"1"},as:L.div,layout:"position",children:o.jsx(Me,{value:e.description})}),p&&a&&s?o.jsxs(Oe,{children:[o.jsx(De,{stepId:e.id}),S]}):S]}):o.jsx(o.Fragment,{children:o.jsxs(T,{gap:"2",direction:"row",alignItems:"center",children:[o.jsx(Y,{short:!0,css:{flex:"1"},children:e.title}),d?o.jsx(de,{disabled:!d,onNext:g,fullWidth:!1}):F]})})})},Dr=e=>{const{bounds:t,step:n,highlightedElement:r,artemisStatus:a}=e,i=yr(),s=ye.actionBoxOnboardingCompleted&&!(ye.actionBoxOnboardingRepeat&&n.index===1);if(_r(t)||i)return null;const l={bounds:t,isFlexible:!!n.isFlexible,artemisStatus:a};switch(!0){case ln(r,n.eventType||""):return!n.isFlexible&&!s?o.jsxs(At,{bounds:t,eventType:n.eventType,children:[o.jsx(te,{...l,big:!0}),o.jsx(Ft,{...e},n.id)]}):o.jsxs(o.Fragment,{children:[o.jsx(te,{...l,big:!0}),o.jsx(Ft,{...e},n.id)]});case n.eventType==="copy":return o.jsxs(o.Fragment,{children:[o.jsx(te,{...l,big:!0}),o.jsx(Lr,{...e},n.id)]});case n.eventType==="paste":return o.jsxs(o.Fragment,{children:[o.jsx(te,{...l,big:!0}),o.jsx(Mr,{...e},n.id)]});default:return!n.isFlexible&&!s?o.jsxs(At,{bounds:t,eventType:n.eventType,children:[o.jsx(te,{...l}),o.jsx(Rt,{...e},n.id)]}):o.jsxs(o.Fragment,{children:[o.jsx(te,{...l}),o.jsx(Rt,{...e},n.id)]})}},_r=e=>e.x<=0&&e.y<=0&&e.width<10&&e.height<10,ln=(e,t)=>{if(!e)return!1;const n=Ye(e);if(n&&Pr.includes(n)||n===$.option&&(!!e.querySelector(Do($.checkbox))||e.closest('[aria-multiselectable="true"]')))return!0;if(t==="input"){if(n===$.radio||n===$.button)return!1;const r=e.querySelector("input");return r?ln(r,t):!0}return!1},Pr=[$.checkbox,$.searchbox,$.textbox],Hr=()=>(c.useEffect(()=>{const e=()=>{z({name:A.MarkHasInteractedWithPage})};return document.addEventListener("click",e,{once:!0}),document.addEventListener("input",e,{once:!0}),()=>{document.removeEventListener("click",e),document.removeEventListener("input",e)}},[]),null),Nr=async({result:e,snapshotIdentifier:t})=>({originalTargetDetails:e.step.targetDetails,automatixStatus:e.status,minimumScore:"minimumScore"in e?e.minimumScore:void 0,isInIframe:B(),snapshotIdentifier:t});let Wr=(...e)=>({status:"none"});const Ur=Wr,Br=(e,t,n)=>{const r=Array.from(document.querySelectorAll("*")).filter(a=>a.shadowRoot);for(const a of r){const i=a.shadowRoot;i&&i.addEventListener(e,t,n)}document.addEventListener(e,t,n)},$r=100,Gr=30,Vr=10,Zr=5,Xr=({showActionBox:e})=>{const{step:t,nextStep:n,zoomScreenshot:r,workflow:a,result:i,setResult:s,isManualStep:l,isElementNotFound:u,highlightFirstNonAuthStep:f}=en(),[d,b]=c.useState(null),g=Bt(Pt.OUT_OF_SEQUENCE),p=i&&"element"in i?i.element:null,h=i&&"closestElement"in i?i.closestElement:null,k=i?.bounds,S=i?.closestBounds,F=c.useCallback(async(v,x)=>{const I=p;ye.actionBoxOnboardingCompleted||to(qn.ActionBoxOnboardingCompleted,!0);const{snapshotIdentifier:C,snapshotFileName:w}=fo(a.id,v,ve.Guidance);await z({name:A.MarkCompletedStep,stepId:v,trackAction:x,snapshotIdentifier:C}),He({snapshotType:ve.Guidance,workflowId:a.id,workspaceId:a.workspaceId,stepId:v,document,fileName:w,target:I})},[p,a.id,a.workspaceId]),{status:j}=Ur({result:i,markStepAsCompleted:F}),E=c.useCallback(v=>{v.message.name===A.CaptureGuidanceSnapshot&&!(i?.step.targetDetails?.iframeURI&&!B())&&!(!i?.step.targetDetails?.iframeURI&&B())&&He({snapshotType:ve.Guidance,workflowId:v.message.workflowId,workspaceId:v.message.workspaceId,stepId:v.message.stepId,document,target:null,fileName:v.message.fileName})},[i]);$t(E),X([e,r,i?.step.title,!!k,i?.status,l,u]),c.useEffect(()=>{let v;b(null);const x=t;if(!x||x.type!==no.Step){s(null);return}if(!x.targetDetails||!x.url&&!x.targetDetails.baseURI||x.targetDetails.userAction){s({status:_.NoTargetDetails,step:x});return}if(x.targetDetails.iframeURI&&!B()||!x.targetDetails.iframeURI&&B()){s(null);return}let I=0;const C=async()=>{if(i&&"element"in i&&i.element.removeAttribute(le),!B()&&fr(x,g)){s({status:_.AccessRequired,step:x});return}if(!br(x)){s({status:_.DifferentDomain,scorecards:[],step:x});return}const w=await Xt({...x,isFlexible:!!x.isFlexible,createElementFeatures:!0},Zr);if(w.status===_.ScoreTooLow||w.status===_.NoElements)s({...w,step:x,timeout:I>Gr});else if(w.status===_.ElementHidden)s({...w,step:x,timeout:I>Vr});else if(w.status===_.Success){const O=je(w.element);s(M=>{const H=M?.step.id===x.id?M.closestElement:null,N=H?je(H):void 0;return{...w,closestElement:H,step:x,nextStep:n,bounds:O,closestBounds:N}}),w.element.hasAttribute(le)||w.element.setAttribute(le,"")}else s({...w,step:x});I===2&&P(),I=w.status===_.Success?0:I+1,g&&w.status!==_.Success&&I>10&&x.classifications?.includes(nt.Authentication)&&!Yt()&&f()};return C(),v=setInterval(C,$r),()=>{document.querySelectorAll(`[${le}]`).forEach(w=>{w.removeAttribute(le)}),document.querySelectorAll(`[${St}]`).forEach(w=>{w.removeAttribute(St)}),clearInterval(v)}},[t]);const P=async()=>{i&&requestIdleCallback(async()=>{let v=null;v=await He({snapshotType:ve.Guidance,workflowId:a.id,workspaceId:a.workspaceId,stepId:i.step.id,document,target:null}),b(v)},{timeout:1e3})};c.useEffect(()=>{p&&!G.lastScrolledElements.includes(p)&&(p.scrollIntoView({block:"center",inline:"nearest",behavior:"smooth"}),G.lastScrolledElements.push(p))},[p]),c.useEffect(()=>{i&&(i?.status&&bo.includes(i.status)&&!i.timeout?(async()=>{const x=await Nr({result:i,snapshotIdentifier:d});z({name:A.MarkFoundStep,stepId:i.step.id,status:i.status,scorecards:i.scorecards?.map(({element:I,...C})=>C)??null,timeout:i.timeout,data:x}),Tt(`Element Scorecard for step ${i.step.title}:`,i)})():z({name:A.MarkFoundStep,stepId:i.step.id,status:i?.status||null,scorecards:i?.scorecards??null,timeout:i?.timeout,data:null}))},[p,h,i?.status,i?.timeout]);const y=async(v,x,I)=>{let C=Zt(v);if(!C)return null;if(Mo(x)&&C instanceof HTMLLabelElement){const M=C.querySelector("input");M&&(C=M)}const w=x?await Lo(x,{}):I.targetDetails,O=qt({targetDetails:w,baseElement:x,candidateElement:C});return C.tagName===w?.tag&&Tt(`Similar Element Scorecard for step ${I.title}:`,{...O,targetDetails:w}),O?.isWinner?C:null};return c.useEffect(()=>{if(!i)return;if(!i.step.isFlexible){G.lastSimilarElement=null;return}const v=new AbortController;return Br("pointerover",async I=>{if(!i||I.target===document.documentElement)return;const C=await y(I.target,p,i.step);G.lastSimilarElement=C,C&&s(w=>w?{...w,closestElement:C}:null)},{signal:v.signal}),()=>{v.abort()}},[i?.step,p]),e?o.jsx(ze,{css:{pointerEvents:"none"},children:o.jsx(It,{mode:"wait",children:l?o.jsx(Hr,{},"step-without-guidance"):i&&k?o.jsx(Dr,{bounds:S||k,step:i.step,nextStep:i.nextStep,highlightedElement:"element"in i?i.element:null,onComplete:F,artemisStatus:j},"step-target-element"):null})}):o.jsx(It,{children:null})},qr=({step:e,onClose:t,isStepWithoutGuidance:n})=>{c.useEffect(()=>{const i=s=>{s.key==="Escape"&&(s.preventDefault(),s.stopImmediatePropagation(),t())};return document.addEventListener("keydown",i,!0),()=>document.removeEventListener("keydown",i,!0)},[t]);const r=i=>{i.target instanceof HTMLImageElement||t()};if(!e.screenshot)return null;const a=e.screenshot.fullSizeImgUrl||e.screenshot.imgUrl;return o.jsxs(Jt,{background:"gray",onClick:r,css:{padding:m.space[10],gap:m.space[4],flexDirection:"column"},as:L.div,initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0},children:[o.jsx(Yr,{}),o.jsx(V,{css:{flex:1,overflow:"hidden"},children:o.jsx(Kr,{src:a,alt:""})}),n&&o.jsx(po,{variant:"warning",css:{color:"$gray700"},children:"Complete this step manually and mark it as completed in the side panel"})]})},Yr=()=>o.jsxs(T,{css:{pointerEvents:"none",position:"absolute",top:12,left:12},gap:"2",alignItems:"center",children:[o.jsx(Z,{as:"div",css:{color:"$purple300",border:"1px solid rgba(232, 216, 255, 0.6)",p:m.space[2],borderRadius:"$xs"},size:"2",children:"esc"}),o.jsx(Z,{css:{color:"$purple300"},size:"2",children:"to close"})]}),Kr=R("img",{objectFit:"contain",borderRadius:"$sm",maxWidth:"100%",maxHeight:"100%"});function Jr(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Je="data-focus-lock",dn="data-focus-lock-disabled",Qr="data-no-focus-lock",ei="data-autofocus-inside",ti="data-no-autofocus",Ue={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},un=it({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),fn=it(),ni=it(),oi=Ao({async:!0}),ri=[],ut=c.forwardRef(function(t,n){var r,a=c.useState(),i=a[0],s=a[1],l=c.useRef(),u=c.useRef(!1),f=c.useRef(null),d=t.children,b=t.disabled,g=t.noFocusGuards,p=t.persistentFocus,h=t.crossFrame,k=t.autoFocus;t.allowTextSelection;var S=t.group,F=t.className,j=t.whiteList,E=t.hasPositiveIndices,P=t.shards,y=P===void 0?ri:P,v=t.as,x=v===void 0?"div":v,I=t.lockProps,C=I===void 0?{}:I,w=t.sideCar,O=t.returnFocus,M=t.focusOptions,H=t.onActivation,N=t.onDeactivation,xt=c.useState({}),Mn=xt[0],Dn=c.useCallback(function(){f.current=f.current||document&&document.activeElement,l.current&&H&&H(l.current),u.current=!0},[H]),_n=c.useCallback(function(){u.current=!1,N&&N(l.current)},[N]);c.useEffect(function(){b||(f.current=null)},[]);var Pn=c.useCallback(function(Q){var ce=f.current;if(ce&&ce.focus){var Pe=typeof O=="function"?O(ce):O;if(Pe){var yt=typeof Pe=="object"?Pe:void 0;f.current=null,Q?Promise.resolve().then(function(){return ce.focus(yt)}):ce.focus(yt)}}},[O]),Hn=c.useCallback(function(Q){u.current&&un.useMedium(Q)},[]),Nn=fn.useMedium,Wn=c.useCallback(function(Q){l.current!==Q&&(l.current=Q,s(Q))},[]),Un=qe((r={},r[dn]=b&&"disabled",r[Je]=S,r),C),wt=g!==!0,Bn=wt&&g!=="tail",$n=Ro([n,Wn]);return c.createElement(c.Fragment,null,wt&&[c.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:b?-1:0,style:Ue}),E?c.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:b?-1:1,style:Ue}):null],!b&&c.createElement(w,{id:Mn,sideCar:oi,observed:i,disabled:b,persistentFocus:p,crossFrame:h,autoFocus:k,whiteList:j,shards:y,onActivation:Dn,onDeactivation:_n,returnFocus:Pn,focusOptions:M}),c.createElement(x,qe({ref:$n},Un,{className:F,onBlur:Nn,onFocus:Hn}),d),Bn&&c.createElement("div",{"data-focus-guard":!0,tabIndex:b?-1:0,style:Ue}))});ut.propTypes={};ut.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const bn=ut;function ii(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ke(e,t)}function ai(e,t){function n(r){return r.displayName||r.name||"Component"}return function(a){var i=[],s;function l(){s=e(i.map(function(f){return f.props})),t(s)}var u=function(f){ii(d,f);function d(){return f.apply(this,arguments)||this}d.peek=function(){return s};var b=d.prototype;return b.componentDidMount=function(){i.push(this),l()},b.componentDidUpdate=function(){l()},b.componentWillUnmount=function(){var p=i.indexOf(this);i.splice(p,1),l()},b.render=function(){return Re.createElement(a,this.props)},d}(c.PureComponent);return Zo(u,"displayName","SideEffect("+n(a)+")"),u}}var U=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},Ee=function(e){return Array.isArray(e)?e:[e]},pn=function(e){return Array.isArray(e)?e[0]:e},si=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},mn=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},gn=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},ci=function(e,t){return!e||gn(e)||!si(e)&&t(mn(e))},hn=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=ci(t,hn.bind(void 0,e));return e.set(t,r),r},li=function(e,t){return e&&!gn(e)?fi(e)?t(mn(e)):!1:!0},vn=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=li(t,vn.bind(void 0,e));return e.set(t,r),r},xn=function(e){return e.dataset},di=function(e){return e.tagName==="BUTTON"},wn=function(e){return e.tagName==="INPUT"},yn=function(e){return wn(e)&&e.type==="radio"},ui=function(e){return!((wn(e)||di(e))&&(e.type==="hidden"||e.disabled))},fi=function(e){var t=e.getAttribute(ti);return![!0,"true",""].includes(t)},ft=function(e){var t;return!!(e&&(!((t=xn(e))===null||t===void 0)&&t.focusGuard))},Se=function(e){return!ft(e)},bi=function(e){return!!e},pi=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},kn=function(e,t,n){return U(e).map(function(r,a){return{node:r,index:a,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(pi)},mi=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],bt=mi.join(","),gi="".concat(bt,", [data-focus-guard]"),jn=function(e,t){return U((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?gi:bt)?[r]:[],jn(r))},[])},hi=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?_e([e.contentDocument.body],t):[e]},_e=function(e,t){return e.reduce(function(n,r){var a,i=jn(r,t),s=(a=[]).concat.apply(a,i.map(function(l){return hi(l,t)}));return n.concat(s,r.parentNode?U(r.parentNode.querySelectorAll(bt)).filter(function(l){return l===r}):[])},[])},vi=function(e){var t=e.querySelectorAll("[".concat(ei,"]"));return U(t).map(function(n){return _e([n])}).reduce(function(n,r){return n.concat(r)},[])},pt=function(e,t){return U(e).filter(function(n){return hn(t,n)}).filter(function(n){return ui(n)})},Lt=function(e,t){return t===void 0&&(t=new Map),U(e).filter(function(n){return vn(t,n)})},Qe=function(e,t,n){return kn(pt(_e(e,n),t),!0,n)},Ot=function(e,t){return kn(pt(_e(e),t),!1)},xi=function(e,t){return pt(vi(e),t)},re=function(e,t){return e.shadowRoot?re(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:U(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var a=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return a?re(a,t):!1}return re(n,t)})},wi=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var a=r+1;a<n;a+=1){var i=e[r].compareDocumentPosition(e[a]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(a),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,l){return!t.has(l)})},En=function(e){return e.parentNode?En(e.parentNode):e},mt=function(e){var t=Ee(e);return t.filter(Boolean).reduce(function(n,r){var a=r.getAttribute(Je);return n.push.apply(n,a?wi(U(En(r).querySelectorAll("[".concat(Je,'="').concat(a,'"]:not([').concat(dn,'="disabled"])')))):[r]),n},[])},yi=function(e){try{return e()}catch{return}},me=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?me(t.shadowRoot):t instanceof HTMLIFrameElement&&yi(function(){return t.contentWindow.document})?me(t.contentWindow.document):t}},ki=function(e,t){return e===t},ji=function(e,t){return!!U(e.querySelectorAll("iframe")).some(function(n){return ki(n,t)})},Sn=function(e,t){return t===void 0&&(t=me(pn(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:mt(e).some(function(n){return re(n,t)||ji(n,t)})},Ei=function(e){e===void 0&&(e=document);var t=me(e);return t?U(e.querySelectorAll("[".concat(Qr,"]"))).some(function(n){return re(n,t)}):!1},Si=function(e,t){return t.filter(yn).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},gt=function(e,t){return yn(e)&&e.name?Si(e,t):e},Ii=function(e){var t=new Set;return e.forEach(function(n){return t.add(gt(n,e))}),e.filter(function(n){return t.has(n)})},Mt=function(e){return e[0]&&e.length>1?gt(e[0],e):e[0]},Dt=function(e,t){return e.length>1?e.indexOf(gt(e[t],e)):t},In="NEW_FOCUS",Ci=function(e,t,n,r){var a=e.length,i=e[0],s=e[a-1],l=ft(n);if(!(n&&e.indexOf(n)>=0)){var u=n!==void 0?t.indexOf(n):-1,f=r?t.indexOf(r):u,d=r?e.indexOf(r):-1,b=u-f,g=t.indexOf(i),p=t.indexOf(s),h=Ii(t),k=n!==void 0?h.indexOf(n):-1,S=k-(r?h.indexOf(r):u),F=Dt(e,0),j=Dt(e,a-1);if(u===-1||d===-1)return In;if(!b&&d>=0)return d;if(u<=g&&l&&Math.abs(b)>1)return j;if(u>=p&&l&&Math.abs(b)>1)return F;if(b&&Math.abs(S)>1)return d;if(u<=g)return j;if(u>p)return F;if(b)return Math.abs(b)>1?d:(a+d+b)%a}},Ti=function(e){return function(t){var n,r=(n=xn(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},Ai=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),a=Lt(r.filter(Ti(n)));return a&&a.length?Mt(a):Mt(Lt(t))},et=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&et(e.parentNode.host||e.parentNode,t),t},Be=function(e,t){for(var n=et(e),r=et(t),a=0;a<n.length;a+=1){var i=n[a];if(r.indexOf(i)>=0)return i}return!1},Cn=function(e,t,n){var r=Ee(e),a=Ee(t),i=r[0],s=!1;return a.filter(Boolean).forEach(function(l){s=Be(s||l,l)||s,n.filter(Boolean).forEach(function(u){var f=Be(i,u);f&&(!s||re(f,s)?s=f:s=Be(f,s))})}),s},Ri=function(e,t){return e.reduce(function(n,r){return n.concat(xi(r,t))},[])},zi=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(bi)},Fi=function(e,t){var n=me(Ee(e).length>0?document:pn(e).ownerDocument),r=mt(e).filter(Se),a=Cn(n||e,e,r),i=new Map,s=Ot(r,i),l=Qe(r,i).filter(function(p){var h=p.node;return Se(h)});if(!(!l[0]&&(l=s,!l[0]))){var u=Ot([a],i).map(function(p){var h=p.node;return h}),f=zi(u,l),d=f.map(function(p){var h=p.node;return h}),b=Ci(d,u,n,t);if(b===In){var g=Ai(s,d,Ri(r,i));if(g)return{node:g};console.warn("focus-lock: cannot find any node to move focus into");return}return b===void 0?b:f[b]}},Li=function(e){var t=mt(e).filter(Se),n=Cn(e,e,t),r=new Map,a=Qe([n],r,!0),i=Qe(t,r).filter(function(s){var l=s.node;return Se(l)}).map(function(s){var l=s.node;return l});return a.map(function(s){var l=s.node,u=s.index;return{node:l,index:u,lockItem:i.indexOf(l)>=0,guard:ft(l)}})},Oi=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},$e=0,Ge=!1,Tn=function(e,t,n){n===void 0&&(n={});var r=Fi(e,t);if(!Ge&&r){if($e>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Ge=!0,setTimeout(function(){Ge=!1},1);return}$e++,Oi(r.node,n.focusOptions),$e--}};function ht(e){setTimeout(e,1)}var Mi=function(){return document&&document.activeElement===document.body},Di=function(){return Mi()||Ei()},ie=null,oe=null,ae=null,ge=!1,_i=function(){return!0},Pi=function(t){return(ie.whiteList||_i)(t)},Hi=function(t,n){ae={observerNode:t,portaledElement:n}},Ni=function(t){return ae&&ae.portaledElement===t};function _t(e,t,n,r){var a=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(a=s);else if(s.lockItem){if(i!==e)return;a=null}else break}while((i+=n)!==t);a&&(a.node.tabIndex=0)}var Wi=function(t){return t&&"current"in t?t.current:t},Ui=function(t){return t?!!ge:ge==="meanwhile"},Bi=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},$i=function(t,n){return n.some(function(r){return Bi(t,r,r)})},Ie=function(){var t=!1;if(ie){var n=ie,r=n.observed,a=n.persistentFocus,i=n.autoFocus,s=n.shards,l=n.crossFrame,u=n.focusOptions,f=r||ae&&ae.portaledElement,d=document&&document.activeElement;if(f){var b=[f].concat(s.map(Wi).filter(Boolean));if((!d||Pi(d))&&(a||Ui(l)||!Di()||!oe&&i)&&(f&&!(Sn(b)||d&&$i(d,b)||Ni(d))&&(document&&!oe&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=Tn(b,oe,{focusOptions:u}),ae={})),ge=!1,oe=document&&document.activeElement),document){var g=document&&document.activeElement,p=Li(b),h=p.map(function(k){var S=k.node;return S}).indexOf(g);h>-1&&(p.filter(function(k){var S=k.guard,F=k.node;return S&&F.dataset.focusAutoGuard}).forEach(function(k){var S=k.node;return S.removeAttribute("tabIndex")}),_t(h,p.length,1,p),_t(h,-1,-1,p))}}}return t},An=function(t){Ie()&&t&&(t.stopPropagation(),t.preventDefault())},vt=function(){return ht(Ie)},Gi=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||Hi(r,n)},Vi=function(){return null},Rn=function(){ge="just",ht(function(){ge="meanwhile"})},Zi=function(){document.addEventListener("focusin",An),document.addEventListener("focusout",vt),window.addEventListener("blur",Rn)},Xi=function(){document.removeEventListener("focusin",An),document.removeEventListener("focusout",vt),window.removeEventListener("blur",Rn)};function qi(e){return e.filter(function(t){var n=t.disabled;return!n})}function Yi(e){var t=e.slice(-1)[0];t&&!ie&&Zi();var n=ie,r=n&&t&&t.id===n.id;ie=t,n&&!r&&(n.onDeactivation(),e.filter(function(a){var i=a.id;return i===n.id}).length||n.returnFocus(!t)),t?(oe=null,(!r||n.observed!==t.observed)&&t.onActivation(),Ie(),ht(Ie)):(Xi(),oe=null)}un.assignSyncMedium(Gi);fn.assignMedium(vt);ni.assignMedium(function(e){return e({moveFocusInside:Tn,focusInside:Sn})});const Ki=ai(qi,Yi)(Vi);var zn=c.forwardRef(function(t,n){return c.createElement(bn,qe({sideCar:Ki,ref:n},t))}),Fn=bn.propTypes||{};Fn.sideCar;Jr(Fn,["sideCar"]);zn.propTypes={};const Ji=zn,Qi=R($o,{maxWidth:400,borderRadius:24,padding:m.space[6],border:`3px solid ${m.colors.gray100}`}),ea=({workspace:e})=>{const[t,n]=c.useState(!1);X([t]);const r=()=>{e&&(n(!0),z({name:A.RequestWorkspaceInvitation,workspaceId:e.id}))};return o.jsx(Qi,{children:o.jsxs(T,{gap:"4",direction:"column",css:{textAlign:"center",alignItems:"center"},children:[o.jsx(ot,{}),o.jsx(mo,{workspace:e}),o.jsxs(T,{gap:"4",direction:"column",css:{px:m.space[5]},children:[o.jsx(Gt,{css:{color:m.colors.gray600},children:"You've reached the end of your Guide Me trial"}),o.jsxs(Z,{css:{color:m.colors.gray500},size:3,children:["Join the ",e?.settings.name," Workspace for unlimited guided views."]})]}),o.jsxs(T,{direction:"column",css:{mt:m.space[4],width:"100%"},gap:"4",children:[o.jsx(K,{size:"lg",onClick:r,fullWidth:!0,disabled:t,children:t?"Request sent to admin":"Ask to join the Workspace"}),o.jsx(K,{onClick:()=>{z({name:A.ClosePanel})},variant:"text",children:"Close"})]})]})})},ta=({workflow:e})=>{const{user:t,workspaces:n}=Ae(),r=n.find(s=>s.id===e.workspaceId);return r?.workspaceUser?.role===Yn.Guest&&Number(r?.workspaceUser?.guidanceViewCount)>=Kn?o.jsx(Jt,{background:"purple",as:L.div,initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0},children:o.jsx(go,{user:t,workflow:e,children:o.jsx(Ji,{children:o.jsx(ea,{workspace:r})})})}):null},na=({workflow:e,paused:t,areWorkflowDomainsGuidanceAllowed:n,isWorkflowCompatibleWithGuidance:r,isGuidanceEnabled:a,preview:i})=>{const{step:s,zoomScreenshot:l,finished:u,stopZoomScreenshot:f,isManualStep:d}=en(),b=!i&&r&&n&&a;return X([l,s?.title]),l&&s?B()?null:o.jsx(qr,{step:s,onClose:f,isStepWithoutGuidance:d}):u?B()?null:o.jsx(ta,{workflow:e}):t&&t!==Jn.None?null:o.jsx(Xr,{showActionBox:!!b})},oa=e=>o.jsx(lr,{workflow:e.workflow,children:o.jsx(na,{...e})}),ra=c.lazy(()=>yo(()=>import("./B3HicAE1.js"),__vite__mapDeps([])));function ia(){const{loading:e}=Ae(),{route:t,params:n}=Ut(),r=ho();X(),Eo(),c.useLayoutEffect(()=>{oo()},[t,e]);const a=[D.Hidden,D.NewPin,D.Actions,D.Loading,D.Preferences],i=!e&&r&&(a.includes(t)||t===D.Viewing&&n.preview);if(B()&&(!t||!Qn.includes(t)))return null;switch(t){case D.OutOfGuidedViews:return o.jsx(sr,{...n});case D.Countdown:return o.jsx(nr,{});case D.DirectToGuidance:return o.jsx(ir,{...n});case D.DirectToGuidanceSignInPrompt:return o.jsx(ar,{...n});case D.Blurring:return o.jsx(Ko,{});default:return o.jsxs(o.Fragment,{children:[i?o.jsx(ra,{}):null,t===D.Viewing?c.createElement(oa,{...n,key:n.guidanceSessionId}):null]})}}const aa=()=>o.jsxs(o.Fragment,{children:[o.jsx("style",{id:eo}),o.jsx("style",{id:"liveblocks",children:Xo.replace(":root",":root, :host")}),o.jsx("style",{children:qo}),o.jsx(Xe.Provider,{disableHoverableContent:!0,children:o.jsx(xo,{children:o.jsx(wo,{children:o.jsx(vo,{children:o.jsx(ia,{})})})})}),o.jsx("div",{id:`${Ve}-modals`,style:{zIndex:se,position:"relative"}}),o.jsx("div",{id:`${Ve}-hidden`,style:{display:"none"}})]}),sa=`
@font-face {
    font-family: Tiempos Headline;
    font-weight: 300 400;
    font-style: normal;
    font-display: swap;
    src: url(${chrome.runtime.getURL(So)});
  }
  @font-face {
    font-family: Apercu;
    font-weight: 400;
    font-style: normal;
    font-display: swap;
    src: url(${chrome.runtime.getURL(Io)});
  }
  @font-face {
    font-family: Apercu;
    font-weight: 500 700;
    font-style: normal;
    font-display: swap;
    src: url(${chrome.runtime.getURL(Co)});
  }
`,ca=e=>{const t=document.createElement("style");t.textContent=sa,e.appendChild(t)};let Ce;function la(e){if(chrome.runtime?.id)switch(e.stopImmediatePropagation(),e.detail){case"render":da();break;case"remove":On();break}}document.addEventListener("tango-overlay",la);async function da(){On();const e=Ln(),t=e?.shadowRoot;t&&(ca(e),await ro(),Ce=Vn(t),Ce.render(o.jsx(aa,{})))}function Ln(){return document.querySelector(tt)}function On(){try{Ce?.unmount(),Ce=void 0}catch{}const e=Ln()?.shadowRoot;e&&(e.innerHTML="")}export{st as P};
//# sourceMappingURL=Af4S84iP.js.map
