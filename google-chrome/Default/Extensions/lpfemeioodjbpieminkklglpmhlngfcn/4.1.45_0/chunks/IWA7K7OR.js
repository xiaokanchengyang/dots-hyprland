import{c as m,w as n}from"./KHXRDVYA.js";import{a as h}from"./XXRKTLQP.js";import{f as b,i as g}from"./3PS7M655.js";var S=b(h());var y=class{constructor(e={}){g(this,"runtime");this.runtime=e.runtime||"client"}async postMessage(e){try{return await S.default.runtime.sendMessage({id:m,event:e.event,data:{...e.data,_RUNTIME_:this.runtime}})}catch(r){return{success:!1,message:r.message,data:{}}}}destroy(){}},G=()=>{var e,r,i,a,c,l,u;let o={"gpt-4-code-interpreter":"gpt-4-code-interpreter","gpt-4-plugins":"gpt-4-plugins","gpt-4":"gpt-4","text-davinci-002-render-sha":"text-davinci-002-render-sha"};try{let s=new URLSearchParams(location.search).get("model");if(s&&o[s])return o[s];let t=document.querySelector("header.sticky");if(document.querySelector('button[aria-label="Upload file"]')||(e=t==null?void 0:t.textContent)!=null&&e.includes("Code Interpreter"))return"gpt-4-code-interpreter";if(document.querySelector('button[id^="headlessui-listbox-button-"]')||(r=t==null?void 0:t.textContent)!=null&&r.includes("Plugins"))return"gpt-4-plugins";if(((i=document.querySelector("li[data-testid=gpt-4] > button > div"))==null?void 0:i.classList.contains("dark:bg-gray-700"))||(a=t==null?void 0:t.textContent)!=null&&a.includes("GPT-4"))return"gpt-4";if(((c=document.querySelector("li[data-testid=text-davinci-002-render-sha] > button > div"))==null?void 0:c.classList.contains("dark:bg-gray-700"))||(l=t==null?void 0:t.textContent)!=null&&l.includes("GPT-3.5"))return n;let d=Object.keys(localStorage).find(p=>p.includes("/lastModelUsed"));return d?JSON.parse((u=localStorage.getItem(d))!=null?u:"{}").modelId||n:n}catch(f){return n}};export{y as a,G as b};
