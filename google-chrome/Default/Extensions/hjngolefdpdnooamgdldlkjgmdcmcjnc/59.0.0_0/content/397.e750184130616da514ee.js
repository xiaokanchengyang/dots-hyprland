"use strict";(self.equatioChromeJsonp=self.equatioChromeJsonp||[]).push([[397],{35397:(n,t,e)=>{var r;e.r(t),e.d(t,{CasClient:()=>nt,extractSolvableEquations:()=>Un,isCalculatable:()=>Tn,isSolvable:()=>qn,latexToGoogleDocsEquations:()=>En}),function(n){n.Function="function",n.Symbol="symbol",n.EscapedCharacter="escapedCharacter",n.Skip="skip",n.AddArgumentsAsContent="addArgumentsAsContent",n.Text="text"}(r||(r={}));var o=new Map([["\\frac",{type:r.Function,args:2,isSupported:!0}],["\\sqrt",{type:r.Function,args:1,isSupported:!0,tryOnFail:"\\rootof"}],["\\rootof",{type:r.Function,args:2,isSupported:!0}],["\\subsuperscript",{type:r.Function,args:3,includePreviousSiblingAsArgument:!0,isSupported:!1}],["\\subscript",{type:r.Function,args:2,includePreviousSiblingAsArgument:!0,isSupported:!0}],["_",{type:r.Function,code:"\\subscript",args:2,includePreviousSiblingAsArgument:!0,isSupported:!0}],["\\superscript",{type:r.Function,args:2,includePreviousSiblingAsArgument:!0,isSupported:!0}],["^",{type:r.Function,code:"\\superscript",args:2,includePreviousSiblingAsArgument:!0,isSupported:!0}],["\\overline",{type:r.Function,args:1,isSupported:!0}],["\\widehat",{type:r.Function,args:1,isSupported:!0}],["\\left",{type:r.Skip}],["\\right",{type:r.Skip}],["\\text",{type:r.AddArgumentsAsContent}],["\\color",{type:r.AddArgumentsAsContent,indexes:[1]}],["\\textcolor",{type:r.AddArgumentsAsContent,indexes:[1]}],["\\arccsch",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\arcsech",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\arccoth",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\arctanh",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\arcsinh",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\arccosh",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\arccsc",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\arcsec",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\arccot",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\arcsin",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\arccos",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\arctan",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\sinh",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\cosh",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\tanh",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\sin",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\cos",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\tan",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\coth",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\sech",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\csch",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\cot",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\sec",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\csc",{type:r.Function,args:1,includeNextAsArgumentIfNeeded:!0,isSupported:!0,braces:["\\left(","\\right)"]}],["\\bigcapab",{type:r.Function,args:-1,isSupported:!1}],["\\bigcupab",{type:r.Function,args:-1,isSupported:!1}],["\\prodab",{type:r.Function,args:-1,isSupported:!1}],["\\coprodab",{type:r.Function,args:-1,isSupported:!1}],["\\rbracelr",{type:r.Function,args:1,isSupported:!0}],["\\sbracelr",{type:r.Function,args:1,isSupported:!0}],["\\bracelr",{type:r.Function,args:1,isSupported:!0}],["\\abs",{type:r.Function,args:1,isSupported:!0,braces:["\\left(","\\right)"]}],["\\intab",{type:r.Function,args:-1,isSupported:!1}],["\\ointab",{type:r.Function,args:-1,isSupported:!1}],["\\sumab",{type:r.Function,args:-1,isSupported:!1}],["\\limab",{type:r.Function,args:-1,isSupported:!1}],["\\alpha",{type:r.Symbol,isSupported:!0}],["\\beta",{type:r.Symbol,isSupported:!0}],["\\gamma",{type:r.Symbol,isSupported:!0}],["\\delta",{type:r.Symbol,isSupported:!0}],["\\epsilon",{type:r.Symbol,isSupported:!0}],["\\varepsilon",{type:r.Symbol,isSupported:!0}],["\\zeta",{type:r.Symbol,isSupported:!0}],["\\eta",{type:r.Symbol,isSupported:!0}],["\\theta",{type:r.Symbol,isSupported:!0}],["\\vartheta",{type:r.Symbol,isSupported:!0}],["\\iota",{type:r.Symbol,isSupported:!0}],["\\kappa",{type:r.Symbol,isSupported:!0}],["\\lambda",{type:r.Symbol,isSupported:!0}],["\\mu",{type:r.Symbol,isSupported:!0}],["\\nu",{type:r.Symbol,isSupported:!0}],["\\xi",{type:r.Symbol,isSupported:!0}],["\\pi",{type:r.Symbol,isSupported:!0}],["\\varpi",{type:r.Symbol,isSupported:!0}],["\\rho",{type:r.Symbol,isSupported:!0}],["\\varrho",{type:r.Symbol,isSupported:!0}],["\\sigma",{type:r.Symbol,isSupported:!0}],["\\varsigma",{type:r.Symbol,isSupported:!0}],["\\tau",{type:r.Symbol,isSupported:!0}],["\\upsilon",{type:r.Symbol,isSupported:!0}],["\\phi",{type:r.Symbol,isSupported:!0}],["\\varphi",{type:r.Symbol,isSupported:!0}],["\\chi",{type:r.Symbol,isSupported:!0}],["\\psi",{type:r.Symbol,isSupported:!0}],["\\omega",{type:r.Symbol,isSupported:!0}],["\\Gamma",{type:r.Symbol,isSupported:!0}],["\\Delta",{type:r.Symbol,isSupported:!0}],["\\Theta",{type:r.Symbol,isSupported:!0}],["\\Lambda",{type:r.Symbol,isSupported:!0}],["\\Xi",{type:r.Symbol,isSupported:!0}],["\\Pi",{type:r.Symbol,isSupported:!0}],["\\Sigma",{type:r.Symbol,isSupported:!0}],["\\Upsilon",{type:r.Symbol,isSupported:!0}],["\\Phi",{type:r.Symbol,isSupported:!0}],["\\Psi",{type:r.Symbol,isSupported:!0}],["\\Omega",{type:r.Symbol,isSupported:!0}],["\\log",{type:r.Symbol,isSupported:!0}],["\\times",{type:r.Symbol,isSupported:!0}],["\\div",{type:r.Symbol,isSupported:!0}],["\\cdot",{type:r.Symbol,isSupported:!0}],["\\pm",{type:r.Symbol,isSupported:!1}],["\\mp",{type:r.Symbol,isSupported:!1}],["\\ast",{type:r.Symbol,isSupported:!0}],["\\star",{type:r.Symbol,isSupported:!0}],["\\circ",{type:r.Text,text:"\xb0"}],["\\bullet",{type:r.Symbol,isSupported:!1}],["\\oplus",{type:r.Symbol,isSupported:!1}],["\\ominus",{type:r.Symbol,isSupported:!1}],["\\oslash",{type:r.Symbol,isSupported:!1}],["\\otimes",{type:r.Symbol,isSupported:!1}],["\\odot",{type:r.Symbol,isSupported:!1}],["\\dagger",{type:r.Symbol,isSupported:!1}],["\\ddagger",{type:r.Symbol,isSupported:!1}],["\\vee",{type:r.Symbol,isSupported:!1}],["\\wedge",{type:r.Symbol,isSupported:!1}],["\\cap",{type:r.Symbol,isSupported:!1}],["\\cup",{type:r.Symbol,isSupported:!1}],["\\aleph",{type:r.Symbol,isSupported:!1}],["\\Re",{type:r.Symbol,isSupported:!1}],["\\Im",{type:r.Symbol,isSupported:!1}],["\\top",{type:r.Symbol,isSupported:!1}],["\\bot",{type:r.Symbol,isSupported:!1}],["\\infty",{type:r.Symbol,isSupported:!0}],["\\partial",{type:r.Symbol,isSupported:!1}],["\\forall",{type:r.Symbol,isSupported:!1}],["\\exists",{type:r.Symbol,isSupported:!1}],["\\neg",{type:r.Symbol,isSupported:!1}],["\\triangle",{type:r.Symbol,isSupported:!1}],["\\diamond",{type:r.Symbol,isSupported:!1}],["\\leq",{type:r.Symbol,isSupported:!0}],["\\geq",{type:r.Symbol,isSupported:!0}],["\\prec",{type:r.Symbol,isSupported:!1}],["\\succ",{type:r.Symbol,isSupported:!1}],["\\preceq",{type:r.Symbol,isSupported:!1}],["\\succeq",{type:r.Symbol,isSupported:!1}],["\\ll",{type:r.Symbol,isSupported:!1}],["\\gg",{type:r.Symbol,isSupported:!1}],["\\equiv",{type:r.Symbol,isSupported:!1}],["\\sim",{type:r.Symbol,isSupported:!1}],["\\simeq",{type:r.Symbol,isSupported:!1}],["\\asymp",{type:r.Symbol,isSupported:!1}],["\\approx",{type:r.Symbol,isSupported:!1}],["\\ne",{type:r.Symbol,isSupported:!0}],["\\subset",{type:r.Symbol,isSupported:!1}],["\\supset",{type:r.Symbol,isSupported:!1}],["\\subseteq",{type:r.Symbol,isSupported:!1}],["\\supseteq",{type:r.Symbol,isSupported:!1}],["\\in",{type:r.Symbol,isSupported:!1}],["\\ni",{type:r.Symbol,isSupported:!1}],["\\notin",{type:r.Symbol,isSupported:!1}],["\\leftarrow",{type:r.Symbol,isSupported:!1}],["\\rightarrow",{type:r.Symbol,isSupported:!1}],["\\leftrightarrow",{type:r.Symbol,isSupported:!1}],["\\Leftarrow",{type:r.Symbol,isSupported:!1}],["\\Rightarrow",{type:r.Symbol,isSupported:!1}],["\\Leftrightarrow",{type:r.Symbol,isSupported:!1}],["\\uparrow",{type:r.Symbol,isSupported:!1}],["\\downarrow",{type:r.Symbol,isSupported:!1}],["\\updownarrow",{type:r.Symbol,isSupported:!1}],["\\Uparrow",{type:r.Symbol,isSupported:!1}],["\\Downarrow",{type:r.Symbol,isSupported:!1}],["\\Updownarrow",{type:r.Symbol,isSupported:!0}],["\\",{type:r.Skip}],["\\ ",{type:r.Skip}],["\\&",{type:r.EscapedCharacter,isSupported:!0}],["\\%",{type:r.EscapedCharacter,isSupported:!0}],["\\$",{type:r.EscapedCharacter,isSupported:!0}],["\\#",{type:r.EscapedCharacter,isSupported:!0}],["\\_",{type:r.EscapedCharacter,isSupported:!0}],["\\{",{type:r.EscapedCharacter,isSupported:!0}],["\\}",{type:r.EscapedCharacter,isSupported:!0}],["\\~",{type:r.EscapedCharacter,isSupported:!0}],["\\^",{type:r.EscapedCharacter,isSupported:!0}],["\\\\",{type:r.EscapedCharacter,isSupported:!0}]]);function i(n){return o.get(n)||null}var u,a,c=(u=function(n,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},u(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}u(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),s=function(n){function t(t,e){var r=n.call(this,e)||this;return r.type=t,r}return c(t,n),t}(Error),l=function(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))};function f(n,t){return t?"".concat(n).concat(t.start.line,":").concat(t.start.column):""}function p(n){for(var t,e=[],o=[],u=[n],c=function(){if(t===a.PopFromStack)return o.pop(),"continue";if(Array.isArray(t))return u.unshift.apply(u,t),"continue";if(0===o.length){var n=[];o.push(n),e.push(n)}if("string"===t.type){var c=t.content.match(/([A-Za-z0-9])(\^|_)([A-Za-z0-9])/);if(c){var p=t.content.substring(0,c.index||0),h=t.content.substring((c.index||0)+c[0].length);h.length>0&&u.unshift({type:"string",content:h}),u.unshift({type:"macro",escapeToken:"\\",content:"^"===c[2]?"superscript":"subscript",args:[{type:"argument",openMark:"{",closeMark:"}",content:[{type:"string",content:c[3]}]}]}),u.unshift({type:"string",content:c[1]}),t.content=p}}var g=o[o.length-1];if("string"===t.type)t.content.length>0&&(g.length>0&&"string"==typeof g[g.length-1]?g[g.length-1]+=t.content:g.push(t.content));else if("macro"===t.type){var d=function(n){for(var t=n.slice(),e=0;e<t.length;e++){if((r=t[e])!==a.PopFromStack){if(!Array.isArray(r)&&"macro"===r.type){if("left"===r.content)continue;if("right"===r.content)continue}if(!Array.isArray(r)&&"string"===r.type)if("("===r.content[0])(o=e-1>=0?t[e-1]:null)&&!Array.isArray(o)&&"macro"===o.type&&"left"===o.content&&(t.splice(e-1,1),e--),t[e]={type:"string",content:r.content.substring(1)};break}}for(e=t.length-1;e>=0;e--){var r;if((r=t[e])!==a.PopFromStack){if(!Array.isArray(r)&&"macro"===r.type){if("left"===r.content)continue;if("right"===r.content)continue}var o;if(!Array.isArray(r)&&"string"===r.type)(o=e-1>=0?t[e-1]:null)&&!Array.isArray(o)&&"macro"===o.type&&"right"===o.content&&(t.splice(e-1,1),e--),t[e]={type:"string",content:r.content.replace(/\)$/g,"")};break}}return t},m=function(n){void 0===n&&(n=0);for(var t=[];;){var e=u.shift();if(void 0===e)break;if(t.push(e),e!==a.PopFromStack){if(Array.isArray(e)||"macro"!==e.type){if(!Array.isArray(e)&&"string"===e.type){for(var r="",o=0,i=e.content.split("");o<i.length;o++){var c=i[o];if(r+=c,"("===c){n++;break}if(")"===c){n--;break}}var s=e.content.substring(r.length);s.length>0&&u.unshift({type:"string",content:s}),t[t.length-1]={type:"string",content:r}}}else{if("left"===e.content)continue;if("right"===e.content)continue}if(0===n)break}}return d(t)},y=function(n,t){var e=i(t);if(null===e){var c=n.position;throw new s("UNKNOWN_MACRO","Unknown macro: ".concat(t).concat(f(" at ",c)))}if("isSupported"in e&&!e.isSupported){c=n.position;throw new s("UNSUPPORTED_MACRO","Unsupported macro: ".concat(t).concat(f(" at ",c)))}try{if(e.type===r.Function){if(!("args"in n)||!Array.isArray(n.args)){if(!e.includeNextAsArgumentIfNeeded)throw new s("NO_ARGUMENTS","Function ".concat(t," requires arguments!"));n.args=[]}(C=n.args.slice()).length-1===e.args&&0===C[0].content.length&&""===C[0].openMark&&""===C[0].closeMark&&C.shift();var p=C.length+(e.includePreviousSiblingAsArgument?1:0);if(p!==e.args&&(!e.includeNextAsArgumentIfNeeded||p+1!==e.args)){c=n.position;throw new s("INVALID_ARGUMENT_AMOUNT","Incorrect amount of arguments for function ".concat(t," found ").concat(p," arguments but requires ").concat(e.args," arguments!").concat(f(" at ",c)))}var h={isFunction:!0,code:e.code||t,arguments:[]};if(e.includeNextAsArgumentIfNeeded&&p!==e.args){var d=m(),v=[];h.arguments.unshift(v),o.push(v),u.unshift.apply(u,l(l([],d,!1),[a.PopFromStack],!1))}else if(e.includeNextAsArgumentIfNeeded&&1===p&&1===C.length&&"string"===C[0].content[0].type&&"("===C[0].content[0].content){d=m(1),v=[];h.arguments.unshift(v),o.push(v),d.unshift(C[0]),u.unshift.apply(u,l(l([],d,!1),[a.PopFromStack],!1))}for(var b=0,A=C.reverse();b<A.length;b++){d=A[b],v=[];h.arguments.unshift(v),o.push(v),u.unshift.apply(u,l(l([],d.content,!1),[a.PopFromStack],!1))}if(e.includePreviousSiblingAsArgument){var x=g.pop();if(void 0===x&&(x=""),"string"==typeof x){var S=x.match(/([\u00C0-\u1FFF\u2C00-\uD7FF\w]+|[^\u00C0-\u1FFF\u2C00-\uD7FF\w]+)$/);if(S&&"number"==typeof S.index){var k=x.substring(0,S.index);k.length>0&&g.push(k),x=x.substring(S.index)}}h.arguments.unshift([x])}g.push(h)}else if(e.type===r.Symbol)g.push({isSymbol:!0,code:e.code||t});else if(e.type===r.EscapedCharacter)g.length>0&&"string"==typeof g[g.length-1]?g[g.length-1]+=t.substring(1):g.push(t.substring(1));else if(e.type===r.AddArgumentsAsContent){if(!("args"in n)||!Array.isArray(n.args))return;for(var M=e.indexes,C=n.args.slice().filter((function(n,t){return!Array.isArray(M)||M.includes(t)})).reverse(),w=0,I=C;w<I.length;w++){d=I[w];u.unshift(d)}}else e.type===r.Skip||e.type===r.Text&&u.unshift({type:"string",content:e.text})}catch(t){if(!("tryOnFail"in e)||!e.tryOnFail)throw t;y(n,e.tryOnFail)}};y(t,"".concat(void 0!==t.escapeToken?t.escapeToken:"\\").concat(t.content))}else if("environment"===t.type&&"array"===t.env&&1===o.length){u.unshift(a.PopFromStack);for(var v=0,b=t.content.slice().reverse();v<b.length;v++){var A=b[v];"macro"!==A.type||"\\"!==A.content?"string"!==A.type||"&"!==A.content?u.unshift(A):u.unshift(a.PopFromStack):u.unshift(a.PopFromStack)}u.unshift(a.PopFromStack)}else"content"in t&&Array.isArray(t.content)&&u.unshift.apply(u,t.content)};void 0!==(t=u.shift());)c();return e.filter((function(n){return n.length>0}))}!function(n){n[n.PopFromStack=0]="PopFromStack"}(a||(a={}));const h=Symbol("linebreak"),g="\\";function d(n){if("string"==typeof n)return[n];if(Array.isArray(n))return[].concat(...n.map((n=>d(n))));let t,e;switch(n.type){case"root":return d(n.content);case"argument":return[n.openMark,...d(n.content),n.closeMark];case"comment":let r=n.suffixParbreak?"":h,o="";return n.sameline&&n.leadingWhitespace&&(o=" "),n.sameline?[o,"%",...d(n.content),r]:[h,"%",...d(n.content),r];case"environment":case"mathenv":case"verbatim":let i=d(n.env),u=[g+"begin{",...i,"}"],a=[g+"end{",...i,"}"];return t=null==n.args?[]:d(n.args),[...u,...t,...d(n.content),...a];case"displaymath":return[g+"[",...d(n.content),g+"]"];case"group":return["{",...d(n.content),"}"];case"inlinemath":return["$",...d(n.content),"$"];case"macro":return t=null==n.args?[]:d(n.args),e=null==n.escapeToken?g:n.escapeToken,[e,...d(n.content),...t];case"parbreak":return[h,h];case"string":return[n.content];case"verb":return[g,n.env,n.escape,...d(n.content),n.escape];case"whitespace":return[" "];default:return[""+n]}}function m(n,t){const e=null!=t&&t.asArray,r=d(n);return e?r:r.map((n=>n===h?"\n":n)).join("")}function y(n){const t=Array.isArray(n)?n.length>0?"string"==typeof n[0]?Object.fromEntries(n.map((n=>{if("string"!=typeof n)throw new Error("Wrong branch of map function");return[n,{}]}))):Object.fromEntries(n.map((n=>{if("string"==typeof n)throw new Error("Wrong branch of map function");return null!=n.escapeToken?[n.content,{escapeToken:n.escapeToken}]:[n.content,{}]}))):{}:n;return function(n){if(null==n||"macro"!==n.type)return!1;const e=t[n.content];return!!e&&("object"!=typeof e||!("escapeToken"in e)||(null==e.escapeToken||e.escapeToken===n.escapeToken))}}function v(n){const t=Array.isArray(n)?Object.fromEntries(n.map((n=>[n,{}]))):n;return function(n){if(!b.anyEnvironment(n))return!1;const e=m(n.env);return!!t[e]}}const b={macro:(n,t)=>null!=n&&("macro"===n.type&&(null==t||n.content===t)),anyMacro:n=>b.macro(n),environment:(n,t)=>null!=n&&!("environment"!==n.type&&"mathenv"!==n.type||null!=t&&m(n.env)!==t),anyEnvironment:n=>b.environment(n),comment:n=>null!=n&&"comment"===n.type,parbreak:n=>null!=n&&"parbreak"===n.type,whitespace:n=>null!=n&&"whitespace"===n.type,whitespaceLike:n=>null!=n&&("whitespace"===n.type||"whitespace"===n.type&&!0===n.leadingWhitespace),string:(n,t)=>null!=n&&("string"===n.type&&(null==t||n.content===t)),anyString:n=>b.string(n),group:n=>null!=n&&"group"===n.type,argument:n=>null!=n&&"argument"===n.type,blankArgument:n=>!!b.argument(n)&&(""===n.openMark&&""===n.closeMark&&0===n.content.length),math:n=>null!=n&&("displaymath"===n.type||"inlinemath"===n.type),createMacroMatcher:y,createEnvironmentMatcher:v},{anyEnvironment:A,anyMacro:x,anyString:S,argument:k,blankArgument:M,comment:C,environment:w,group:I,macro:F,math:E,parbreak:O,string:_,whitespace:P}=b;const j=function(){function n(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function t(n,e,r,o){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,t.prototype),i.expected=e,i.found=r,i.location=o,i.name="SyntaxError",i}function e(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,n+(e+=e.repeat(t)).slice(0,t))}function r(n,e){var r,o={},i=(e=void 0!==e?e:{}).grammarSource,u={document:fr,math:pr},a=fr,c="%",s=".",l="verb*",f="verb",p="[",h="]",g="lstinline",d="mintinline",m="mint",y="minted",v="verbatim*",b="verbatim",A="filecontents*",x="filecontents",S="comment",k="lstlisting",M="(",C=")",w="begin",I="end",F="equation*",E="equation",O="align*",_="align",P="alignat*",j="alignat",N="gather*",R="gather",T="multline*",U="multline",q="flalign*",W="flalign",z="split",D="math",L="displaymath",V="\\",B="{",$="}",G="$",Z="&",X="\r",H="\n",J="\r\n",Q="#",K="^",Y="_",nn="\0",tn=/^[^ \t\n\r]/,en=/^[ \t]/,rn=/^[a-zA-Z]/,on=/^[0-9]/,un=/^[.,;:\-*\/()!?=+<>[\]`'"~]/,an=ur("document"),cn=ur("math"),sn=ur("token"),ln=or(),fn=ur("parbreak"),pn=ur("math token"),hn=ur("nonchar token"),gn=er("%",!1),dn=ur("whitespace"),mn=ur("number"),yn=er(".",!1),vn=ur("special macro"),bn=er("verb*",!1),An=er("verb",!1),xn=er("[",!1),Sn=er("]",!1),kn=rr([" ","\t","\n","\r"],!0,!1),Mn=ur("verbatim listings"),Cn=er("lstinline",!1),wn=ur("verbatim minted"),In=er("mintinline",!1),Fn=er("mint",!1),En=ur("verbatim minted environment"),On=er("minted",!1),_n=ur("verbatim environment"),Pn=er("verbatim*",!1),jn=er("verbatim",!1),Nn=er("filecontents*",!1),Rn=er("filecontents",!1),Tn=er("comment",!1),Un=er("lstlisting",!1),qn=ur("macro"),Wn=ur("group"),zn=ur("environment"),Dn=ur("math environment"),Ln=er("(",!1),Vn=er(")",!1),Bn=er("begin",!1),$n=er("end",!1),Gn=er("equation*",!1),Zn=er("equation",!1),Xn=er("align*",!1),Hn=er("align",!1),Jn=er("alignat*",!1),Qn=er("alignat",!1),Kn=er("gather*",!1),Yn=er("gather",!1),nt=er("multline*",!1),tt=er("multline",!1),et=er("flalign*",!1),rt=er("flalign",!1),ot=er("split",!1),it=er("math",!1),ut=er("displaymath",!1),at=ur("escape"),ct=er("\\",!1),st=er("{",!1),lt=er("}",!1),ft=er("$",!1),pt=er("&",!1),ht=ur("newline"),gt=er("\r",!1),dt=er("\n",!1),mt=er("\r\n",!1),yt=er("#",!1),vt=er("^",!1),bt=er("_",!1),At=er("\0",!1),xt=rr([" ","\t"],!1,!1),St=ur("letter"),kt=rr([["a","z"],["A","Z"]],!1,!1),Mt=ur("digit"),Ct=rr([["0","9"]],!1,!1),wt=ur("punctuation"),It=rr([".",",",";",":","-","*","/","(",")","!","?","=","+","<",">","[","]","`","'",'"',"~"],!1,!1),Ft=ur("full comment"),Et=ur("comment"),Ot=function(n){return lo("root",{content:n.flatMap((n=>n))})},_t=function(n){return n},Pt=function(n){return lo("inlinemath",{content:n.flatMap((n=>n))})},jt=function(n){return lo("string",{content:n})},Nt=function(n){return lo("string",{content:n})},Rt=function(){return lo("parbreak")},Tt=function(n){return n},Ut=function(n){return n},qt=function(){return lo("macro",{content:"^",escapeToken:""})},Wt=function(){return lo("macro",{content:"_",escapeToken:""})},zt=function(n){return lo("string",{content:n})},Dt=function(){return lo("whitespace")},Lt=function(n,t){return n.join("")+"."+t.join("")},Vt=function(n){return"."+n.join("")},Bt=function(n){return n.join("")+"."},$t=function(n){return lo("string",{content:n})},Gt=function(n,t,e){return e==t},Zt=function(n,t,e){return e},Xt=function(n,t,e,r){return r==t},Ht=function(n,t,e){return lo("verb",{env:n,escape:t,content:e.join("")})},Jt=function(n){return n},Qt=function(n){return lo("displaymath",{content:n.flatMap((n=>n))})},Kt=function(n){return n},Yt=function(n){return lo("inlinemath",{content:n.flatMap((n=>n))})},ne=function(n){return n},te=function(n){return lo("displaymath",{content:n.flatMap((n=>n))})},ee=function(n){return"string"===n.type&&"]"===n.content},re=function(n){return n},oe=function(n){return[lo("string",{content:"["}),...n,lo("string",{content:"]"})]},ie=function(n){return n},ue=function(n){return lo("group",{content:lo("string",{content:n.join("")})})},ae=function(n,t){return t==n},ce=function(n,t){return t},se=function(n,t,e){return e==n},le=function(n,t){return[lo("string",{content:n}),lo("string",{content:t.join("")}),lo("string",{content:n})]},fe=function(n,t,e){return[lo("macro",{content:n}),...t||[],...[].concat(e)]},pe=function(n,t,e,r){return[lo("macro",{content:n}),...t||[],e,...[].concat(r)]},he=function(n,t,e,r){return so({content:[n]},r)},ge=function(n,t,e,r){return lo("environment",{env:n,content:[...t||[],e,{type:"string",content:r}]})},de=function(n,t){return so({content:[n]},t)},me=function(n,t){return t},ye=function(n,t){return lo("verbatim",{env:n,content:t})},ve=function(n){return n.join("")},be=function(n){return n},Ae=function(n){return lo("macro",{content:n})},xe=function(n){return n},Se=function(n){return lo("group",{content:n.flatMap((n=>n))})},ke=function(n){return nr().slice(1,-1)},Me=function(n,t,e){return so(n,e)},Ce=function(n,t,e){return e},we=function(n,t,e){return e=e.flatMap((n=>n)),lo("environment",{env:n,content:t?[t,...e]:e})},Ie=function(n,t,e){return so({content:[n]},e)},Fe=function(n,t,e){return e},Ee=function(n,t,e){return e=e.flatMap((n=>n)),lo("mathenv",{env:n,content:t?[t,...e]:e})},Oe=function(n){return lo("string",{content:n})},_e=function(){return lo("string",{content:"\\"})},Pe=function(n){return lo("string",{content:n})},je=function(n){return lo("string",{content:n})},Ne=function(n){return lo("string",{content:n})},Re=function(n){return lo("string",{content:n})},Te=function(n){return lo("string",{content:n})},Ue=function(n){return lo("string",{content:n})},qe=function(n){return lo("string",{content:n})},We=function(){return" "},ze=function(n){return lo("string",{content:n})},De=function(n,t){return lo("comment",{...t,sameline:!1,leadingWhitespace:n.length>0})},Le=function(n,t){return lo("comment",{...t,sameline:!0,leadingWhitespace:n.length>0})},Ve=function(n){return n},Be=function(n){return{content:n.join(""),suffixParbreak:!0}},$e=function(n){return n},Ge=function(n){return{content:n.join("")}},Ze=function(){return 1===tr().start.column},Xe=0,He=0,Je=[{line:1,column:1}],Qe=0,Ke=[],Ye=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=u[e.startRule]}function nr(){return n.substring(He,Xe)}function tr(){return cr(He,Xe)}function er(n,t){return{type:"literal",text:n,ignoreCase:t}}function rr(n,t,e){return{type:"class",parts:n,inverted:t,ignoreCase:e}}function or(){return{type:"any"}}function ir(){return{type:"end"}}function ur(n){return{type:"other",description:n}}function ar(t){var e,r=Je[t];if(r)return r;for(e=t-1;!Je[e];)e--;for(r={line:(r=Je[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Je[t]=r,r}function cr(n,t,e){var r=ar(n),o=ar(t),u={source:i,start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return e&&i&&"function"==typeof i.offset&&(u.start=i.offset(u.start),u.end=i.offset(u.end)),u}function sr(n){Xe<Qe||(Xe>Qe&&(Qe=Xe,Ke=[]),Ke.push(n))}function lr(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function fr(){var n,t,e;for(Ye++,n=Xe,t=[],e=hr();e!==o;)t.push(e),e=hr();return He=n,n=t=Ot(t),Ye--,t=o,0===Ye&&sr(an),n}function pr(){var n,t;for(Ye++,n=[],t=dr();t!==o;)n.push(t),t=dr();return Ye--,t=o,0===Ye&&sr(cn),n}function hr(){var t,e,r,i,u,a;if(Ye++,(t=br())===o&&(t=Fr())===o&&(t=to())===o&&(t=Er())===o){if(t=Xe,(e=Vr())!==o){if(r=[],i=Xe,u=Xe,Ye++,a=Vr(),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o&&(a=dr())!==o?(He=i,i=_t(a)):(Xe=i,i=o),i!==o)for(;i!==o;)r.push(i),i=Xe,u=Xe,Ye++,a=Vr(),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o&&(a=dr())!==o?(He=i,i=_t(a)):(Xe=i,i=o);else r=o;r!==o&&(i=Vr())!==o?(He=t,t=Pt(r)):(Xe=t,t=o)}else Xe=t,t=o;if(t===o&&(t=Br())===o&&(t=gr())===o&&(t=Gr())===o&&(t=Hr())===o&&(t=vr())===o&&(t=yr())===o&&(t=Yr())===o){if(t=Xe,e=Xe,r=[],i=Xe,u=Xe,Ye++,a=mr(),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o?(n.length>Xe?(a=n.charAt(Xe),Xe++):(a=o,0===Ye&&sr(ln)),a!==o?i=u=[u,a]:(Xe=i,i=o)):(Xe=i,i=o),i!==o)for(;i!==o;)r.push(i),i=Xe,u=Xe,Ye++,a=mr(),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o?(n.length>Xe?(a=n.charAt(Xe),Xe++):(a=o,0===Ye&&sr(ln)),a!==o?i=u=[u,a]:(Xe=i,i=o)):(Xe=i,i=o);else r=o;(e=r!==o?n.substring(e,Xe):r)!==o&&(He=t,e=jt(e)),(t=e)===o&&(t=Dr())===o&&(t=Lr())===o&&(t=Vr())===o&&(t=Xe,n.length>Xe?(e=n.charAt(Xe),Xe++):(e=o,0===Ye&&sr(ln)),e!==o&&(He=t,e=Nt(e)),t=e)}}return Ye--,t===o&&(e=o,0===Ye&&sr(sn)),t}function gr(){var n,t,e,r,i,u,a,c;for(Ye++,n=Xe,t=Xe,e=[],r=Jr();r!==o;)e.push(r),r=Jr();if((r=$r())!==o){for(i=[],u=Xe,a=[],c=Jr();c!==o;)a.push(c),c=Jr();if((c=$r())!==o?u=a=[a,c]:(Xe=u,u=o),u!==o)for(;u!==o;){for(i.push(u),u=Xe,a=[],c=Jr();c!==o;)a.push(c),c=Jr();(c=$r())!==o?u=a=[a,c]:(Xe=u,u=o)}else i=o;if(i!==o){for(u=[],a=Jr();a!==o;)u.push(a),a=Jr();a=Xe,Ye++,c=no(),Ye--,c===o?a=void 0:(Xe=a,a=o),a!==o?t=e=[e,r,i,u,a]:(Xe=t,t=o)}else Xe=t,t=o}else Xe=t,t=o;if(t===o){for(t=Xe,e=[],r=Jr();r!==o;)e.push(r),r=Jr();if((r=$r())!==o){for(i=[],u=Xe,a=[],c=Jr();c!==o;)a.push(c),c=Jr();if((c=$r())!==o?u=a=[a,c]:(Xe=u,u=o),u!==o)for(;u!==o;){for(i.push(u),u=Xe,a=[],c=Jr();c!==o;)a.push(c),c=Jr();(c=$r())!==o?u=a=[a,c]:(Xe=u,u=o)}else i=o;i!==o?t=e=[e,r,i]:(Xe=t,t=o)}else Xe=t,t=o}return t!==o&&(He=n,t=Rt()),Ye--,(n=t)===o&&(t=o,0===Ye&&sr(fn)),n}function dr(){var t,e,r,i,u;if(Ye++,(t=br())===o&&(t=Fr())===o&&(t=to())===o){for(t=Xe,e=[],r=yr();r!==o;)e.push(r),r=yr();if((r=Er())!==o){for(i=[],u=yr();u!==o;)i.push(u),u=yr();He=t,t=Tt(r)}else Xe=t,t=o;if(t===o){for(t=Xe,e=[],r=yr();r!==o;)e.push(r),r=yr();if((r=Br())!==o){for(i=[],u=yr();u!==o;)i.push(u),u=yr();He=t,t=Ut(r)}else Xe=t,t=o;if(t===o&&(t=Gr())===o){for(t=Xe,e=[],r=yr();r!==o;)e.push(r),r=yr();if((r=Zr())!==o){for(i=[],u=yr();u!==o;)i.push(u),u=yr();He=t,t=qt()}else Xe=t,t=o;if(t===o){for(t=Xe,e=[],r=yr();r!==o;)e.push(r),r=yr();if((r=Xr())!==o){for(i=[],u=yr();u!==o;)i.push(u),u=yr();He=t,t=Wt()}else Xe=t,t=o;t===o&&(t=Hr())===o&&(t=yr())===o&&(t=Xe,n.length>Xe?(e=n.charAt(Xe),Xe++):(e=o,0===Ye&&sr(ln)),e!==o&&(He=t,e=zt(e)),t=e)}}}}return Ye--,t===o&&(e=o,0===Ye&&sr(pn)),t}function mr(){var t;return Ye++,(t=zr())===o&&(37===n.charCodeAt(Xe)?(t=c,Xe++):(t=o,0===Ye&&sr(gn)),t===o&&(t=Dr())===o&&(t=Lr())===o&&(t=Vr())===o&&(t=Br())===o&&(t=$r())===o&&(t=Gr())===o&&(t=Hr())===o&&(t=Jr())===o&&(t=Yr())===o&&(t=ao())),Ye--,t===o&&0===Ye&&sr(hn),t}function yr(){var n,t,e,r,i,u,a,c;if(Ye++,n=Xe,t=Xe,(e=$r())!==o){for(r=[],i=Jr();i!==o;)r.push(i),i=Jr();t=e=[e,r]}else Xe=t,t=o;if(t===o){if(t=Xe,e=[],(r=Jr())!==o)for(;r!==o;)e.push(r),r=Jr();else e=o;if(e!==o)if((r=$r())!==o)if(i=Xe,Ye++,u=no(),Ye--,u===o?i=void 0:(Xe=i,i=o),i!==o){for(u=[],a=Jr();a!==o;)u.push(a),a=Jr();a=Xe,Ye++,c=$r(),Ye--,c===o?a=void 0:(Xe=a,a=o),a!==o?t=e=[e,r,i,u,a]:(Xe=t,t=o)}else Xe=t,t=o;else Xe=t,t=o;else Xe=t,t=o;if(t===o)if(t=[],(e=Jr())!==o)for(;e!==o;)t.push(e),e=Jr();else t=o}return t!==o&&(He=n,t=Dt()),Ye--,(n=t)===o&&(t=o,0===Ye&&sr(dn)),n}function vr(){var t,e,r,i,u,a;if(Ye++,t=Xe,e=Xe,r=[],(i=Kr())!==o)for(;i!==o;)r.push(i),i=Kr();else r=o;if(r!==o)if(46===n.charCodeAt(Xe)?(i=s,Xe++):(i=o,0===Ye&&sr(yn)),i!==o){if(u=[],(a=Kr())!==o)for(;a!==o;)u.push(a),a=Kr();else u=o;u!==o?(He=e,e=Lt(r,u)):(Xe=e,e=o)}else Xe=e,e=o;else Xe=e,e=o;if(e===o){if(e=Xe,46===n.charCodeAt(Xe)?(r=s,Xe++):(r=o,0===Ye&&sr(yn)),r!==o){if(i=[],(u=Kr())!==o)for(;u!==o;)i.push(u),u=Kr();else i=o;i!==o?(He=e,e=Vt(i)):(Xe=e,e=o)}else Xe=e,e=o;if(e===o){if(e=Xe,r=[],(i=Kr())!==o)for(;i!==o;)r.push(i),i=Kr();else r=o;r!==o?(46===n.charCodeAt(Xe)?(i=s,Xe++):(i=o,0===Ye&&sr(yn)),i!==o?(He=e,e=Bt(r)):(Xe=e,e=o)):(Xe=e,e=o)}}return e!==o&&(He=t,e=$t(e)),Ye--,(t=e)===o&&(e=o,0===Ye&&sr(mn)),t}function br(){var t,e,r,i,u,a,c,s,p;if(Ye++,t=Xe,zr()!==o)if(n.substr(Xe,5)===l?(e=l,Xe+=5):(e=o,0===Ye&&sr(bn)),e===o&&(n.substr(Xe,4)===f?(e=f,Xe+=4):(e=o,0===Ye&&sr(An))),e!==o)if(n.length>Xe?(r=n.charAt(Xe),Xe++):(r=o,0===Ye&&sr(ln)),r!==o){for(i=[],u=Xe,a=Xe,Ye++,c=Xe,n.length>Xe?(s=n.charAt(Xe),Xe++):(s=o,0===Ye&&sr(ln)),s!==o?(He=Xe,(p=(p=Gt(e,r,s))?void 0:o)!==o?c=s=[s,p]:(Xe=c,c=o)):(Xe=c,c=o),Ye--,c===o?a=void 0:(Xe=a,a=o),a!==o?(n.length>Xe?(c=n.charAt(Xe),Xe++):(c=o,0===Ye&&sr(ln)),c!==o?(He=u,u=Zt(e,r,c)):(Xe=u,u=o)):(Xe=u,u=o);u!==o;)i.push(u),u=Xe,a=Xe,Ye++,c=Xe,n.length>Xe?(s=n.charAt(Xe),Xe++):(s=o,0===Ye&&sr(ln)),s!==o?(He=Xe,(p=(p=Gt(e,r,s))?void 0:o)!==o?c=s=[s,p]:(Xe=c,c=o)):(Xe=c,c=o),Ye--,c===o?a=void 0:(Xe=a,a=o),a!==o?(n.length>Xe?(c=n.charAt(Xe),Xe++):(c=o,0===Ye&&sr(ln)),c!==o?(He=u,u=Zt(e,r,c)):(Xe=u,u=o)):(Xe=u,u=o);u=Xe,n.length>Xe?(a=n.charAt(Xe),Xe++):(a=o,0===Ye&&sr(ln)),a!==o?(He=Xe,(c=(c=Xt(e,r,i,a))?void 0:o)!==o?u=a=[a,c]:(Xe=u,u=o)):(Xe=u,u=o),u!==o?(He=t,t=Ht(e,r,i)):(Xe=t,t=o)}else Xe=t,t=o;else Xe=t,t=o;else Xe=t,t=o;if(t===o&&(t=kr())===o&&(t=Mr())===o&&(t=Cr())===o&&(t=wr())===o){if(t=Xe,jr()!==o){for(e=[],r=Xe,i=Xe,Ye++,u=Nr(),Ye--,u===o?i=void 0:(Xe=i,i=o),i!==o&&(u=dr())!==o?(He=r,r=Jt(u)):(Xe=r,r=o);r!==o;)e.push(r),r=Xe,i=Xe,Ye++,u=Nr(),Ye--,u===o?i=void 0:(Xe=i,i=o),i!==o&&(u=dr())!==o?(He=r,r=Jt(u)):(Xe=r,r=o);(r=Nr())!==o?(He=t,t=Qt(e)):(Xe=t,t=o)}else Xe=t,t=o;if(t===o){if(t=Xe,Rr()!==o){for(e=[],r=Xe,i=Xe,Ye++,u=Tr(),Ye--,u===o?i=void 0:(Xe=i,i=o),i!==o&&(u=dr())!==o?(He=r,r=Kt(u)):(Xe=r,r=o);r!==o;)e.push(r),r=Xe,i=Xe,Ye++,u=Tr(),Ye--,u===o?i=void 0:(Xe=i,i=o),i!==o&&(u=dr())!==o?(He=r,r=Kt(u)):(Xe=r,r=o);(r=Tr())!==o?(He=t,t=Yt(e)):(Xe=t,t=o)}else Xe=t,t=o;if(t===o){if(t=Xe,Vr()!==o)if((e=Vr())!==o){for(r=[],i=Xe,u=Xe,Ye++,a=Xe,(c=Vr())!==o&&(s=Vr())!==o?a=c=[c,s]:(Xe=a,a=o),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o&&(a=dr())!==o?(He=i,i=ne(a)):(Xe=i,i=o);i!==o;)r.push(i),i=Xe,u=Xe,Ye++,a=Xe,(c=Vr())!==o&&(s=Vr())!==o?a=c=[c,s]:(Xe=a,a=o),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o&&(a=dr())!==o?(He=i,i=ne(a)):(Xe=i,i=o);(i=Vr())!==o&&(u=Vr())!==o?(He=t,t=te(r)):(Xe=t,t=o)}else Xe=t,t=o;else Xe=t,t=o;t===o&&(t=Pr())===o&&(t=_r())}}}return Ye--,t===o&&(o,0===Ye&&sr(vn)),t}function Ar(){var t,e,r,i,u,a,c,s;if(t=Xe,91===n.charCodeAt(Xe)?(e=p,Xe++):(e=o,0===Ye&&sr(xn)),e!==o){for(r=[],i=Xe,u=Xe,Ye++,a=Xe,(c=hr())!==o?(He=Xe,(s=(s=ee(c))?void 0:o)!==o?a=c=[c,s]:(Xe=a,a=o)):(Xe=a,a=o),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o&&(a=hr())!==o?(He=i,i=re(a)):(Xe=i,i=o);i!==o;)r.push(i),i=Xe,u=Xe,Ye++,a=Xe,(c=hr())!==o?(He=Xe,(s=(s=ee(c))?void 0:o)!==o?a=c=[c,s]:(Xe=a,a=o)):(Xe=a,a=o),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o&&(a=hr())!==o?(He=i,i=re(a)):(Xe=i,i=o);93===n.charCodeAt(Xe)?(i=h,Xe++):(i=o,0===Ye&&sr(Sn)),i!==o?(He=t,t=oe(r)):(Xe=t,t=o)}else Xe=t,t=o;return t}function xr(){var t,e,r,i,u;if(t=Xe,Dr()!==o){for(e=[],r=Xe,i=Xe,Ye++,u=Lr(),Ye--,u===o?i=void 0:(Xe=i,i=o),i!==o?(n.length>Xe?(u=n.charAt(Xe),Xe++):(u=o,0===Ye&&sr(ln)),u!==o?(He=r,r=ie(u)):(Xe=r,r=o)):(Xe=r,r=o);r!==o;)e.push(r),r=Xe,i=Xe,Ye++,u=Lr(),Ye--,u===o?i=void 0:(Xe=i,i=o),i!==o?(n.length>Xe?(u=n.charAt(Xe),Xe++):(u=o,0===Ye&&sr(ln)),u!==o?(He=r,r=ie(u)):(Xe=r,r=o)):(Xe=r,r=o);(r=Lr())!==o?(He=t,t=ue(e)):(Xe=t,t=o)}else Xe=t,t=o;return t}function Sr(){var t,e,r,i,u,a,c,s;if(t=Xe,tn.test(n.charAt(Xe))?(e=n.charAt(Xe),Xe++):(e=o,0===Ye&&sr(kn)),e!==o){for(r=[],i=Xe,u=Xe,Ye++,a=Xe,n.length>Xe?(c=n.charAt(Xe),Xe++):(c=o,0===Ye&&sr(ln)),c!==o?(He=Xe,(s=(s=ae(e,c))?void 0:o)!==o?a=c=[c,s]:(Xe=a,a=o)):(Xe=a,a=o),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o?(n.length>Xe?(a=n.charAt(Xe),Xe++):(a=o,0===Ye&&sr(ln)),a!==o?(He=i,i=ce(e,a)):(Xe=i,i=o)):(Xe=i,i=o);i!==o;)r.push(i),i=Xe,u=Xe,Ye++,a=Xe,n.length>Xe?(c=n.charAt(Xe),Xe++):(c=o,0===Ye&&sr(ln)),c!==o?(He=Xe,(s=(s=ae(e,c))?void 0:o)!==o?a=c=[c,s]:(Xe=a,a=o)):(Xe=a,a=o),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o?(n.length>Xe?(a=n.charAt(Xe),Xe++):(a=o,0===Ye&&sr(ln)),a!==o?(He=i,i=ce(e,a)):(Xe=i,i=o)):(Xe=i,i=o);i=Xe,n.length>Xe?(u=n.charAt(Xe),Xe++):(u=o,0===Ye&&sr(ln)),u!==o?(He=Xe,(a=(a=se(e,r,u))?void 0:o)!==o?i=u=[u,a]:(Xe=i,i=o)):(Xe=i,i=o),i!==o?(He=t,t=le(e,r)):(Xe=t,t=o)}else Xe=t,t=o;return t}function kr(){var t,e,r,i;return Ye++,t=Xe,zr()!==o?(n.substr(Xe,9)===g?(e=g,Xe+=9):(e=o,0===Ye&&sr(Cn)),e!==o?((r=Ar())===o&&(r=null),(i=xr())===o&&(i=Sr()),i!==o?(He=t,t=fe(e,r,i)):(Xe=t,t=o)):(Xe=t,t=o)):(Xe=t,t=o),Ye--,t===o&&(o,0===Ye&&sr(Mn)),t}function Mr(){var t,e,r,i,u;return Ye++,t=Xe,zr()!==o?(n.substr(Xe,10)===d?(e=d,Xe+=10):(e=o,0===Ye&&sr(In)),e===o&&(n.substr(Xe,4)===m?(e=m,Xe+=4):(e=o,0===Ye&&sr(Fn))),e!==o?((r=Ar())===o&&(r=null),(i=Er())!==o?((u=xr())===o&&(u=Sr()),u!==o?(He=t,t=pe(e,r,i,u)):(Xe=t,t=o)):(Xe=t,t=o)):(Xe=t,t=o)):(Xe=t,t=o),Ye--,t===o&&(o,0===Ye&&sr(wn)),t}function Cr(){var t,e,r,i,u,a,c,s,l,f,p,h;if(Ye++,t=Xe,Ur()!==o)if(Dr()!==o)if(n.substr(Xe,6)===y?(e=y,Xe+=6):(e=o,0===Ye&&sr(On)),e!==o)if(Lr()!==o)if((r=Ar())===o&&(r=null),(i=Er())!==o){for(u=Xe,a=[],c=Xe,s=Xe,Ye++,l=Xe,(f=qr())!==o&&(p=Er())!==o?(He=Xe,(h=(h=he(e,r,i,p))?void 0:o)!==o?l=f=[f,p,h]:(Xe=l,l=o)):(Xe=l,l=o),Ye--,l===o?s=void 0:(Xe=s,s=o),s!==o?(n.length>Xe?(l=n.charAt(Xe),Xe++):(l=o,0===Ye&&sr(ln)),l!==o?c=s=[s,l]:(Xe=c,c=o)):(Xe=c,c=o);c!==o;)a.push(c),c=Xe,s=Xe,Ye++,l=Xe,(f=qr())!==o&&(p=Er())!==o?(He=Xe,(h=(h=he(e,r,i,p))?void 0:o)!==o?l=f=[f,p,h]:(Xe=l,l=o)):(Xe=l,l=o),Ye--,l===o?s=void 0:(Xe=s,s=o),s!==o?(n.length>Xe?(l=n.charAt(Xe),Xe++):(l=o,0===Ye&&sr(ln)),l!==o?c=s=[s,l]:(Xe=c,c=o)):(Xe=c,c=o);u=n.substring(u,Xe),(a=qr())!==o&&(c=Dr())!==o?(n.substr(Xe,6)===y?(s=y,Xe+=6):(s=o,0===Ye&&sr(On)),s!==o&&(l=Lr())!==o?(He=t,t=ge(e,r,i,u)):(Xe=t,t=o)):(Xe=t,t=o)}else Xe=t,t=o;else Xe=t,t=o;else Xe=t,t=o;else Xe=t,t=o;else Xe=t,t=o;return Ye--,t===o&&(o,0===Ye&&sr(En)),t}function wr(){var t,e,r,i,u,a,c,s,l,f;if(Ye++,t=Xe,Ur()!==o)if(Dr()!==o)if((e=Ir())!==o)if(Lr()!==o){for(r=Xe,i=[],u=Xe,a=Xe,Ye++,c=Xe,(s=qr())!==o&&(l=Er())!==o?(He=Xe,(f=(f=de(e,l))?void 0:o)!==o?c=s=[s,l,f]:(Xe=c,c=o)):(Xe=c,c=o),Ye--,c===o?a=void 0:(Xe=a,a=o),a!==o?(n.length>Xe?(c=n.charAt(Xe),Xe++):(c=o,0===Ye&&sr(ln)),c!==o?(He=u,u=me(e,c)):(Xe=u,u=o)):(Xe=u,u=o);u!==o;)i.push(u),u=Xe,a=Xe,Ye++,c=Xe,(s=qr())!==o&&(l=Er())!==o?(He=Xe,(f=(f=de(e,l))?void 0:o)!==o?c=s=[s,l,f]:(Xe=c,c=o)):(Xe=c,c=o),Ye--,c===o?a=void 0:(Xe=a,a=o),a!==o?(n.length>Xe?(c=n.charAt(Xe),Xe++):(c=o,0===Ye&&sr(ln)),c!==o?(He=u,u=me(e,c)):(Xe=u,u=o)):(Xe=u,u=o);r=n.substring(r,Xe),(i=qr())!==o&&(u=Dr())!==o&&(a=Ir())!==o&&(c=Lr())!==o?(He=t,t=ye(e,r)):(Xe=t,t=o)}else Xe=t,t=o;else Xe=t,t=o;else Xe=t,t=o;else Xe=t,t=o;return Ye--,t===o&&(o,0===Ye&&sr(_n)),t}function Ir(){var t;return n.substr(Xe,9)===v?(t=v,Xe+=9):(t=o,0===Ye&&sr(Pn)),t===o&&(n.substr(Xe,8)===b?(t=b,Xe+=8):(t=o,0===Ye&&sr(jn)),t===o&&(n.substr(Xe,13)===A?(t=A,Xe+=13):(t=o,0===Ye&&sr(Nn)),t===o&&(n.substr(Xe,12)===x?(t=x,Xe+=12):(t=o,0===Ye&&sr(Rn)),t===o&&(n.substr(Xe,7)===S?(t=S,Xe+=7):(t=o,0===Ye&&sr(Tn)),t===o&&(n.substr(Xe,10)===k?(t=k,Xe+=10):(t=o,0===Ye&&sr(Un))))))),t}function Fr(){var t,e,r,i;if(Ye++,t=Xe,e=Xe,zr()!==o){if(r=[],(i=Qr())!==o)for(;i!==o;)r.push(i),i=Qr();else r=o;r!==o?(He=e,e=ve(r)):(Xe=e,e=o)}else Xe=e,e=o;return e===o&&(e=Xe,zr()!==o?(n.length>Xe?(r=n.charAt(Xe),Xe++):(r=o,0===Ye&&sr(ln)),r!==o?(He=e,e=be(r)):(Xe=e,e=o)):(Xe=e,e=o)),e!==o&&(He=t,e=Ae(e)),Ye--,(t=e)===o&&(e=o,0===Ye&&sr(qn)),t}function Er(){var n,t,e,r,i;if(Ye++,n=Xe,Dr()!==o){for(t=[],e=Xe,r=Xe,Ye++,i=Lr(),Ye--,i===o?r=void 0:(Xe=r,r=o),r!==o&&(i=hr())!==o?(He=e,e=xe(i)):(Xe=e,e=o);e!==o;)t.push(e),e=Xe,r=Xe,Ye++,i=Lr(),Ye--,i===o?r=void 0:(Xe=r,r=o),r!==o&&(i=hr())!==o?(He=e,e=xe(i)):(Xe=e,e=o);(e=Lr())!==o?(He=n,n=Se(t)):(Xe=n,n=o)}else Xe=n,n=o;return Ye--,n===o&&(o,0===Ye&&sr(Wn)),n}function Or(){var n,t;return n=Xe,(t=Er())!==o&&(He=n,t=ke()),n=t}function _r(){var n,t,e,r,i,u,a,c,s,l;if(Ye++,n=Xe,Ur()!==o)if((t=Or())!==o){for((e=ro())===o&&(e=null),r=[],i=Xe,u=Xe,Ye++,a=Xe,(c=qr())!==o&&(s=Or())!==o?(He=Xe,(l=(l=Me(t,e,s))?void 0:o)!==o?a=c=[c,s,l]:(Xe=a,a=o)):(Xe=a,a=o),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o&&(a=hr())!==o?(He=i,i=Ce(t,e,a)):(Xe=i,i=o);i!==o;)r.push(i),i=Xe,u=Xe,Ye++,a=Xe,(c=qr())!==o&&(s=Or())!==o?(He=Xe,(l=(l=Me(t,e,s))?void 0:o)!==o?a=c=[c,s,l]:(Xe=a,a=o)):(Xe=a,a=o),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o&&(a=hr())!==o?(He=i,i=Ce(t,e,a)):(Xe=i,i=o);(i=qr())!==o&&(u=Or())!==o?(He=n,n=we(t,e,r)):(Xe=n,n=o)}else Xe=n,n=o;else Xe=n,n=o;return Ye--,n===o&&(o,0===Ye&&sr(zn)),n}function Pr(){var n,t,e,r,i,u,a,c,s,l;if(Ye++,n=Xe,Ur()!==o)if(Dr()!==o)if((t=Wr())!==o)if(Lr()!==o){for((e=ro())===o&&(e=null),r=[],i=Xe,u=Xe,Ye++,a=Xe,(c=qr())!==o&&(s=Er())!==o?(He=Xe,(l=(l=Ie(t,e,s))?void 0:o)!==o?a=c=[c,s,l]:(Xe=a,a=o)):(Xe=a,a=o),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o&&(a=dr())!==o?(He=i,i=Fe(t,e,a)):(Xe=i,i=o);i!==o;)r.push(i),i=Xe,u=Xe,Ye++,a=Xe,(c=qr())!==o&&(s=Er())!==o?(He=Xe,(l=(l=Ie(t,e,s))?void 0:o)!==o?a=c=[c,s,l]:(Xe=a,a=o)):(Xe=a,a=o),Ye--,a===o?u=void 0:(Xe=u,u=o),u!==o&&(a=dr())!==o?(He=i,i=Fe(t,e,a)):(Xe=i,i=o);(i=qr())!==o&&(u=Dr())!==o&&(a=Wr())!==o&&(c=Lr())!==o?(He=n,n=Ee(t,e,r)):(Xe=n,n=o)}else Xe=n,n=o;else Xe=n,n=o;else Xe=n,n=o;else Xe=n,n=o;return Ye--,n===o&&(o,0===Ye&&sr(Dn)),n}function jr(){var t,e,r;return t=Xe,(e=zr())!==o?(91===n.charCodeAt(Xe)?(r=p,Xe++):(r=o,0===Ye&&sr(xn)),r!==o?t=e=[e,r]:(Xe=t,t=o)):(Xe=t,t=o),t}function Nr(){var t,e,r;return t=Xe,(e=zr())!==o?(93===n.charCodeAt(Xe)?(r=h,Xe++):(r=o,0===Ye&&sr(Sn)),r!==o?t=e=[e,r]:(Xe=t,t=o)):(Xe=t,t=o),t}function Rr(){var t,e,r;return t=Xe,(e=zr())!==o?(40===n.charCodeAt(Xe)?(r=M,Xe++):(r=o,0===Ye&&sr(Ln)),r!==o?t=e=[e,r]:(Xe=t,t=o)):(Xe=t,t=o),t}function Tr(){var t,e,r;return t=Xe,(e=zr())!==o?(41===n.charCodeAt(Xe)?(r=C,Xe++):(r=o,0===Ye&&sr(Vn)),r!==o?t=e=[e,r]:(Xe=t,t=o)):(Xe=t,t=o),t}function Ur(){var t,e,r;return t=Xe,(e=zr())!==o?(n.substr(Xe,5)===w?(r=w,Xe+=5):(r=o,0===Ye&&sr(Bn)),r!==o?t=e=[e,r]:(Xe=t,t=o)):(Xe=t,t=o),t}function qr(){var t,e,r;return t=Xe,(e=zr())!==o?(n.substr(Xe,3)===I?(r=I,Xe+=3):(r=o,0===Ye&&sr($n)),r!==o?t=e=[e,r]:(Xe=t,t=o)):(Xe=t,t=o),t}function Wr(){var t,e;return t=Xe,n.substr(Xe,9)===F?(e=F,Xe+=9):(e=o,0===Ye&&sr(Gn)),e===o&&(n.substr(Xe,8)===E?(e=E,Xe+=8):(e=o,0===Ye&&sr(Zn)),e===o&&(n.substr(Xe,6)===O?(e=O,Xe+=6):(e=o,0===Ye&&sr(Xn)),e===o&&(n.substr(Xe,5)===_?(e=_,Xe+=5):(e=o,0===Ye&&sr(Hn)),e===o&&(n.substr(Xe,8)===P?(e=P,Xe+=8):(e=o,0===Ye&&sr(Jn)),e===o&&(n.substr(Xe,7)===j?(e=j,Xe+=7):(e=o,0===Ye&&sr(Qn)),e===o&&(n.substr(Xe,7)===N?(e=N,Xe+=7):(e=o,0===Ye&&sr(Kn)),e===o&&(n.substr(Xe,6)===R?(e=R,Xe+=6):(e=o,0===Ye&&sr(Yn)),e===o&&(n.substr(Xe,9)===T?(e=T,Xe+=9):(e=o,0===Ye&&sr(nt)),e===o&&(n.substr(Xe,8)===U?(e=U,Xe+=8):(e=o,0===Ye&&sr(tt)),e===o&&(n.substr(Xe,8)===q?(e=q,Xe+=8):(e=o,0===Ye&&sr(et)),e===o&&(n.substr(Xe,7)===W?(e=W,Xe+=7):(e=o,0===Ye&&sr(rt)),e===o&&(n.substr(Xe,5)===z?(e=z,Xe+=5):(e=o,0===Ye&&sr(ot)),e===o&&(n.substr(Xe,4)===D?(e=D,Xe+=4):(e=o,0===Ye&&sr(it)),e===o&&(n.substr(Xe,11)===L?(e=L,Xe+=11):(e=o,0===Ye&&sr(ut)))))))))))))))),e!==o&&(He=t,e=Oe(e)),t=e}function zr(){var t,e;return Ye++,t=Xe,92===n.charCodeAt(Xe)?(e=V,Xe++):(e=o,0===Ye&&sr(ct)),e!==o&&(He=t,e=_e()),Ye--,(t=e)===o&&(e=o,0===Ye&&sr(at)),t}function Dr(){var t,e;return t=Xe,123===n.charCodeAt(Xe)?(e=B,Xe++):(e=o,0===Ye&&sr(st)),e!==o&&(He=t,e=Pe(e)),t=e}function Lr(){var t,e;return t=Xe,125===n.charCodeAt(Xe)?(e=$,Xe++):(e=o,0===Ye&&sr(lt)),e!==o&&(He=t,e=je(e)),t=e}function Vr(){var t,e;return t=Xe,36===n.charCodeAt(Xe)?(e=G,Xe++):(e=o,0===Ye&&sr(ft)),e!==o&&(He=t,e=Ne(e)),t=e}function Br(){var t,e;return t=Xe,38===n.charCodeAt(Xe)?(e=Z,Xe++):(e=o,0===Ye&&sr(pt)),e!==o&&(He=t,e=Re(e)),t=e}function $r(){var t,e,r;return Ye++,t=Xe,e=Xe,Ye++,13===n.charCodeAt(Xe)?(r=X,Xe++):(r=o,0===Ye&&sr(gt)),Ye--,r===o?e=void 0:(Xe=e,e=o),e!==o?(10===n.charCodeAt(Xe)?(r=H,Xe++):(r=o,0===Ye&&sr(dt)),r!==o?t=e=[e,r]:(Xe=t,t=o)):(Xe=t,t=o),t===o&&(13===n.charCodeAt(Xe)?(t=X,Xe++):(t=o,0===Ye&&sr(gt)),t===o&&(n.substr(Xe,2)===J?(t=J,Xe+=2):(t=o,0===Ye&&sr(mt)))),Ye--,t===o&&(e=o,0===Ye&&sr(ht)),t}function Gr(){var t,e;return t=Xe,35===n.charCodeAt(Xe)?(e=Q,Xe++):(e=o,0===Ye&&sr(yt)),e!==o&&(He=t,e=Te(e)),t=e}function Zr(){var t,e;return t=Xe,94===n.charCodeAt(Xe)?(e=K,Xe++):(e=o,0===Ye&&sr(vt)),e!==o&&(He=t,e=Ue(e)),t=e}function Xr(){var t,e;return t=Xe,95===n.charCodeAt(Xe)?(e=Y,Xe++):(e=o,0===Ye&&sr(bt)),e!==o&&(He=t,e=qe(e)),t=e}function Hr(){var t;return 0===n.charCodeAt(Xe)?(t=nn,Xe++):(t=o,0===Ye&&sr(At)),t}function Jr(){var t,e,r;if(Ye++,t=Xe,e=[],en.test(n.charAt(Xe))?(r=n.charAt(Xe),Xe++):(r=o,0===Ye&&sr(xt)),r!==o)for(;r!==o;)e.push(r),en.test(n.charAt(Xe))?(r=n.charAt(Xe),Xe++):(r=o,0===Ye&&sr(xt));else e=o;return e!==o&&(He=t,e=We()),Ye--,(t=e)===o&&(e=o,0===Ye&&sr(dn)),t}function Qr(){var t;return Ye++,rn.test(n.charAt(Xe))?(t=n.charAt(Xe),Xe++):(t=o,0===Ye&&sr(kt)),Ye--,t===o&&0===Ye&&sr(St),t}function Kr(){var t;return Ye++,on.test(n.charAt(Xe))?(t=n.charAt(Xe),Xe++):(t=o,0===Ye&&sr(Ct)),Ye--,t===o&&0===Ye&&sr(Mt),t}function Yr(){var t,e;return Ye++,t=Xe,un.test(n.charAt(Xe))?(e=n.charAt(Xe),Xe++):(e=o,0===Ye&&sr(It)),e!==o&&(He=t,e=ze(e)),Ye--,(t=e)===o&&(e=o,0===Ye&&sr(wt)),t}function no(){var t;return 37===n.charCodeAt(Xe)?(t=c,Xe++):(t=o,0===Ye&&sr(gn)),t}function to(){var n;return Ye++,(n=eo())===o&&(n=ro()),Ye--,n===o&&0===Ye&&sr(Ft),n}function eo(){var n,t,e,r;for(n=Xe,t=Xe,e=[],r=Jr();r!==o;)e.push(r),r=Jr();return(r=$r())!==o?t=e=[e,r]:(Xe=t,t=o),t===o&&(t=null),(e=io())!==o&&(r=oo())!==o?(He=n,n=De(e,r)):(Xe=n,n=o),n}function ro(){var n,t,e;for(n=Xe,t=[],e=Jr();e!==o;)t.push(e),e=Jr();return(e=oo())!==o?(He=n,n=Le(t,e)):(Xe=n,n=o),n}function oo(){var t,e,r,i,u,a,c;if(Ye++,t=Xe,no()!==o){for(e=[],r=Xe,i=Xe,Ye++,u=$r(),Ye--,u===o?i=void 0:(Xe=i,i=o),i!==o?(n.length>Xe?(u=n.charAt(Xe),Xe++):(u=o,0===Ye&&sr(ln)),u!==o?(He=r,r=Ve(u)):(Xe=r,r=o)):(Xe=r,r=o);r!==o;)e.push(r),r=Xe,i=Xe,Ye++,u=$r(),Ye--,u===o?i=void 0:(Xe=i,i=o),i!==o?(n.length>Xe?(u=n.charAt(Xe),Xe++):(u=o,0===Ye&&sr(ln)),u!==o?(He=r,r=Ve(u)):(Xe=r,r=o)):(Xe=r,r=o);r=Xe,Ye++,i=gr(),Ye--,i!==o?(Xe=r,r=void 0):r=o,r!==o?(He=t,t=Be(e)):(Xe=t,t=o)}else Xe=t,t=o;if(t===o)if(t=Xe,no()!==o){for(e=[],r=Xe,i=Xe,Ye++,u=$r(),Ye--,u===o?i=void 0:(Xe=i,i=o),i!==o?(n.length>Xe?(u=n.charAt(Xe),Xe++):(u=o,0===Ye&&sr(ln)),u!==o?(He=r,r=$e(u)):(Xe=r,r=o)):(Xe=r,r=o);r!==o;)e.push(r),r=Xe,i=Xe,Ye++,u=$r(),Ye--,u===o?i=void 0:(Xe=i,i=o),i!==o?(n.length>Xe?(u=n.charAt(Xe),Xe++):(u=o,0===Ye&&sr(ln)),u!==o?(He=r,r=$e(u)):(Xe=r,r=o)):(Xe=r,r=o);if(r=Xe,(i=$r())!==o){for(u=[],a=Jr();a!==o;)u.push(a),a=Jr();a=Xe,Ye++,c=no(),Ye--,c===o?a=void 0:(Xe=a,a=o),a!==o?r=i=[i,u,a]:(Xe=r,r=o)}else Xe=r,r=o;r===o&&(r=$r())===o&&(r=ao()),r!==o?(He=t,t=Ge(e)):(Xe=t,t=o)}else Xe=t,t=o;return Ye--,t===o&&(o,0===Ye&&sr(Et)),t}function io(){var t,e,r,i,u;if(t=Xe,e=Xe,(r=uo())!==o){for(i=[],u=Jr();u!==o;)i.push(u),u=Jr();e=r=[r,i]}else Xe=e,e=o;return t=e!==o?n.substring(t,Xe):e}function uo(){return He=Xe,Ze()?void 0:o}function ao(){var t,e;return t=Xe,Ye++,n.length>Xe?(e=n.charAt(Xe),Xe++):(e=o,0===Ye&&sr(ln)),Ye--,e===o?t=void 0:(Xe=t,t=o),t}function co(n){return"string"==typeof n?n:"string"==typeof n.content?n.content:n&&"whitespace"===n.type?" ":n}function so(n,t){return("string"==typeof n?n:n.content.map(co).join(""))===("string"==typeof t?t:t.content.map(co).join(""))}function lo(n,t={}){return{type:n,...t,position:tr()}}if((r=a())!==o&&Xe===n.length)return r;throw r!==o&&Xe<n.length&&sr(ir()),lr(Ke,Qe<n.length?n.charAt(Qe):null,Qe<n.length?cr(Qe,Qe+1):cr(Qe,Qe))}return n(t,Error),t.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){o=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+u.line+":"+u.column;if(o){var c=this.location.end,s=e("",u.line.toString().length," "),l=o[i.line-1],f=(i.line===c.line?c.column:l.length+1)-i.column||1;t+="\n --\x3e "+a+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+e("",i.column-1," ")+e("",f,"^")}else t+="\n at "+a}return t},t.buildMessage=function(n,t){var e={literal:function(n){return'"'+o(n.text)+'"'},class:function(n){var t=n.parts.map((function(n){return Array.isArray(n)?i(n[0])+"-"+i(n[1]):i(n)}));return"["+(n.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(n){return n.description}};function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}function o(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function i(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function u(n){return e[n.type](n)}function a(n){var t,e,r=n.map(u);if(r.sort(),r.length>0){for(t=1,e=1;t<r.length;t++)r[t-1]!==r[t]&&(r[e]=r[t],e++);r.length=e}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(n){return n?'"'+o(n)+'"':"end of input"}return"Expected "+a(n)+" but "+c(t)+" found."},{SyntaxError:t,parse:r}}(),N=(function(){function n(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function t(n,e,r,o){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,t.prototype),i.expected=e,i.found=r,i.location=o,i.name="SyntaxError",i}function e(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,n+(e+=e.repeat(t)).slice(0,t))}function r(n,e){var r,o={},i=(e=void 0!==e?e:{}).grammarSource,u={body:D},a=D,c=R(),s=function(){return[]},l=function(n){return{cells:[],colSeps:[],...n}},f=function(n,t,e){return{...n,rowSep:t,trailingComment:e}},p=function(n,t){return{...n,rowSep:null,trailingComment:t}},h=function(n){return n},g=function(n){return{cells:[],colSeps:[],rowSep:null,trailingComment:n}},d=function(n){return n},m=function(n,t){return{colSep:n,cell:t}},y=function(n){return{colSep:n}},v=function(n,t){return en(n,t)},b=function(n){return en(null,n)},A=function(n){return e.isSameLineComment(n)},x=function(n){return n},S=function(n){return e.isOwnLineComment(n)},k=function(n){return n},M=function(n){return e.isWhitespace(n)},C=function(n){return n},w=function(n){return e.isRowSep(n)},I=function(n){return n},F=function(n){return e.isColSep(n)},E=function(n){return n},O=0,_=[{line:1,column:1}],P=0,j=[],N=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=u[e.startRule]}function R(){return{type:"any"}}function T(){return{type:"end"}}function U(t){var e,r=_[t];if(r)return r;for(e=t-1;!_[e];)e--;for(r={line:(r=_[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return _[t]=r,r}function q(n,t,e){var r=U(n),o=U(t),u={source:i,start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return e&&i&&"function"==typeof i.offset&&(u.start=i.offset(u.start),u.end=i.offset(u.end)),u}function W(n){O<P||(O>P&&(P=O,j=[]),j.push(n))}function z(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function D(){var n,t;if(n=[],(t=$())===o&&(t=L())===o&&(t=V()),t!==o)for(;t!==o;)n.push(t),(t=$())===o&&(t=L())===o&&(t=V());else n=o;return n===o&&(n=O,(t=tn())!==o&&(t=s()),n=t),n}function L(){var n,t,e,r;return n=O,t=O,(e=H())===o&&(e=null),t=e=l(e),(e=Y())!==o?((r=B())===o&&(r=null),n=f(t,e,r)):(O=n,n=o),n}function V(){var n,t,e;return n=O,(t=H())!==o?((e=B())===o&&(e=null),n=p(t,e)):(O=n,n=o),n}function B(){var n,t,e;for(n=O,t=[],e=K();e!==o;)t.push(e),e=K();return(e=J())!==o?n=h(e):(O=n,n=o),n}function $(){var n,t,e;for(n=O,t=[],e=K();e!==o;)t.push(e),e=K();return(e=Q())!==o?n=g(e):(O=n,n=o),n}function G(){var t,e,r;return t=O,e=O,N++,(r=Y())===o&&(r=nn())===o&&(r=B())===o&&(r=Q()),N--,r===o?e=void 0:(O=e,e=o),e!==o?(n.length>O?(r=n.charAt(O),O++):(r=o,0===N&&W(c)),r!==o?t=d(r):(O=t,t=o)):(O=t,t=o),t}function Z(){var t,e,r;if(t=O,e=[],(r=G())!==o)for(;r!==o;)e.push(r),r=G();else e=o;return t=e!==o?n.substring(t,O):e}function X(){var n,t,e;return n=O,(t=nn())!==o&&(e=Z())!==o?n=m(t,e):(O=n,n=o),n===o&&(n=O,(t=nn())!==o&&(t=y(t)),n=t),n}function H(){var n,t,e,r;if(n=O,(t=Z())!==o){for(e=[],r=X();r!==o;)e.push(r),r=X();n=v(t,e)}else O=n,n=o;if(n===o){if(n=O,t=[],(e=X())!==o)for(;e!==o;)t.push(e),e=X();else t=o;t!==o&&(t=b(t)),n=t}return n}function J(){var t,e;return t=O,n.length>O?(e=n.charAt(O),O++):(e=o,0===N&&W(c)),e!==o&&(A(e)?void 0:o)!==o?t=x(e):(O=t,t=o),t}function Q(){var t,e;return t=O,n.length>O?(e=n.charAt(O),O++):(e=o,0===N&&W(c)),e!==o&&(S(e)?void 0:o)!==o?t=k(e):(O=t,t=o),t}function K(){var t,e;return t=O,n.length>O?(e=n.charAt(O),O++):(e=o,0===N&&W(c)),e!==o&&(M(e)?void 0:o)!==o?t=C(e):(O=t,t=o),t}function Y(){var t,e;return t=O,n.length>O?(e=n.charAt(O),O++):(e=o,0===N&&W(c)),e!==o&&(w(e)?void 0:o)!==o?t=I(e):(O=t,t=o),t}function nn(){var t,e;return t=O,n.length>O?(e=n.charAt(O),O++):(e=o,0===N&&W(c)),e!==o&&(F(e)?void 0:o)!==o?t=E(e):(O=t,t=o),t}function tn(){var t,e;return t=O,N++,n.length>O?(e=n.charAt(O),O++):(e=o,0===N&&W(c)),N--,e===o?t=void 0:(O=t,t=o),t}function en(n,t){const e=[n||[]],r=[];for(const n of t)e.push(n.cell||[]),r.push(n.colSep);return{cells:e,colSeps:r}}if(!e.isWhitespace)try{Object.assign(e,createMatchers(["\\","hline","cr"],["&"]))}catch(n){}if((r=a())!==o&&O===n.length)return r;throw r!==o&&O<n.length&&W(T()),z(j,P<n.length?n.charAt(P):null,P<n.length?q(P,P+1):q(P,P))}n(t,Error),t.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){o=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+u.line+":"+u.column;if(o){var c=this.location.end,s=e("",u.line.toString().length," "),l=o[i.line-1],f=(i.line===c.line?c.column:l.length+1)-i.column||1;t+="\n --\x3e "+a+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+e("",i.column-1," ")+e("",f,"^")}else t+="\n at "+a}return t},t.buildMessage=function(n,t){var e={literal:function(n){return'"'+o(n.text)+'"'},class:function(n){var t=n.parts.map((function(n){return Array.isArray(n)?i(n[0])+"-"+i(n[1]):i(n)}));return"["+(n.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(n){return n.description}};function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}function o(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function i(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function u(n){return e[n.type](n)}function a(n){var t,e,r=n.map(u);if(r.sort(),r.length>0){for(t=1,e=1;t<r.length;t++)r[t-1]!==r[t]&&(r[e]=r[t],e++);r.length=e}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(n){return n?'"'+o(n)+'"':"end of input"}return"Expected "+a(n)+" but "+c(t)+" found."}}(),function(){function n(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function t(n,e,r,o){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,t.prototype),i.expected=e,i.found=r,i.location=o,i.name="SyntaxError",i}function e(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,n+(e+=e.repeat(t)).slice(0,t))}function r(n,e){var r,o={},i=(e=void 0!==e?e:{}).grammarSource,u={args_spec_list:Bn},a=Bn,c="v",s="b",l="!",f="D",p="d",h="s",g="O",d="o",m="e",y="E",v="t",b="R",A="r",x="u",S="m",k="{",M="}",C=" ",w="\n",I="\r",F="\\",E=/^[{ ]/,O=/^[a-zA-Z]/,_=/^[{}]/,P=Tn("+",!1),j=Tn("v",!1),N=qn(),R=Tn("b",!1),T=Tn("!",!1),U=Tn("D",!1),q=Tn("d",!1),W=Tn("s",!1),z=Tn("O",!1),D=Tn("o",!1),L=Tn("e",!1),V=Tn("E",!1),B=Tn("t",!1),$=Tn("R",!1),G=Tn("r",!1),Z=Tn("u",!1),X=Un(["{"," "],!1,!1),H=Tn("m",!1),J=Tn("{",!1),Q=Tn("}",!1),K=Tn(" ",!1),Y=Tn("\n",!1),nn=Tn("\r",!1),tn=Tn("\\",!1),en=Un([["a","z"],["A","Z"]],!1,!1),rn=Un(["{","}"],!1,!1),on=function(n){return n},un=function(n){return n},an=function(n){return n},cn=function(n){return ht("verbatim",{openBrace:n,closeBrace:n})},sn=function(){return ht("body")},ln=function(n,t){return n?{...t,noLeadingWhitespace:!0}:t},fn=function(n,t){return ht("optional",{...n,defaultArg:t})},pn=function(n){return ht("optional",n)},hn=function(){return ht("optionalStar")},gn=function(n){return ht("optional",{defaultArg:n})},dn=function(){return ht("optional")},mn=function(n){return ht("embellishment",{embellishmentTokens:n})},yn=function(n,t){return ht("embellishment",{embellishmentTokens:n,defaultArg:t})},vn=function(n){return ht("optionalToken",{token:n})},bn=function(n,t){return ht("mandatory",{...n,defaultArg:t})},An=function(n){return ht("mandatory",n)},xn=function(n){return ht("until",{stopTokens:n})},Sn=function(n){return[n]},kn=function(n){return n.content},Mn=function(){return ht("mandatory")},Cn=function(n,t){return{openBrace:n,closeBrace:t}},wn=function(n){return n.content.map(gt).join("")},In=function(n){return[n]},Fn=function(n){return n.filter((n=>!n.match(/^\s*$/)))},En=function(n){return{type:"group",content:n}},On=function(){return""},_n=0,Pn=[{line:1,column:1}],jn=0,Nn=[],Rn=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=u[e.startRule]}function Tn(n,t){return{type:"literal",text:n,ignoreCase:t}}function Un(n,t,e){return{type:"class",parts:n,inverted:t,ignoreCase:e}}function qn(){return{type:"any"}}function Wn(){return{type:"end"}}function zn(t){var e,r=Pn[t];if(r)return r;for(e=t-1;!Pn[e];)e--;for(r={line:(r=Pn[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Pn[t]=r,r}function Dn(n,t,e){var r=zn(n),o=zn(t),u={source:i,start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return e&&i&&"function"==typeof i.offset&&(u.start=i.offset(u.start),u.end=i.offset(u.end)),u}function Ln(n){_n<jn||(_n>jn&&(jn=_n,Nn=[]),Nn.push(n))}function Vn(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function Bn(){var n,t,e;for(_n,n=[],t=_n,ct(),(e=$n())!==o?t=on(e):(_n=t,t=o);t!==o;)n.push(t),t=_n,ct(),(e=$n())!==o?t=on(e):(_n=t,t=o);return t=ct(),un(n)}function $n(){var t,e;return t=_n,43===n.charCodeAt(_n)?_n++:0===Rn&&Ln(P),(e=Xn())===o&&(e=rt())===o&&(e=Gn())===o&&(e=nt())===o&&(e=Zn())===o&&(e=tt()),e!==o?t=an(e):(_n=t,t=o),t}function Gn(){var t,e,r;return t=_n,118===n.charCodeAt(_n)?(e=c,_n++):(e=o,0===Rn&&Ln(j)),e!==o?(n.length>_n?(r=n.charAt(_n),_n++):(r=o,0===Rn&&Ln(N)),r!==o?t=cn(r):(_n=t,t=o)):(_n=t,t=o),t}function Zn(){var t;return _n,98===n.charCodeAt(_n)?(t=s,_n++):(t=o,0===Rn&&Ln(R)),t!==o&&(t=sn()),t}function Xn(){var t,e,r;return t=_n,33===n.charCodeAt(_n)?(e=l,_n++):(e=o,0===Rn&&Ln(T)),e===o&&(e=null),(r=Jn())===o&&(r=Qn())===o&&(r=Hn())===o&&(r=Kn())===o&&(r=Yn()),r!==o?t=ln(e,r):(_n=t,t=o),t}function Hn(){var t,e,r,i;return t=_n,68===n.charCodeAt(_n)?(e=f,_n++):(e=o,0===Rn&&Ln(U)),e!==o?(r=ot(),(i=it())!==o?t=fn(r,i):(_n=t,t=o)):(_n=t,t=o),t===o&&(t=_n,100===n.charCodeAt(_n)?(e=p,_n++):(e=o,0===Rn&&Ln(q)),e!==o?(r=ot(),t=pn(r)):(_n=t,t=o)),t}function Jn(){var t;return _n,115===n.charCodeAt(_n)?(t=h,_n++):(t=o,0===Rn&&Ln(W)),t!==o&&(t=hn()),t}function Qn(){var t,e,r;return t=_n,79===n.charCodeAt(_n)?(e=g,_n++):(e=o,0===Rn&&Ln(z)),e!==o?(ct(),(r=it())!==o?t=gn(r):(_n=t,t=o)):(_n=t,t=o),t===o&&(t=_n,111===n.charCodeAt(_n)?(e=d,_n++):(e=o,0===Rn&&Ln(D)),e!==o&&(e=dn()),t=e),t}function Kn(){var t,e,r,i;return t=_n,101===n.charCodeAt(_n)?(e=m,_n++):(e=o,0===Rn&&Ln(L)),e!==o?(ct(),(r=ut())!==o?t=mn(r):(_n=t,t=o)):(_n=t,t=o),t===o&&(t=_n,69===n.charCodeAt(_n)?(e=y,_n++):(e=o,0===Rn&&Ln(V)),e!==o?(ct(),(r=ut())!==o?(ct(),(i=ut())!==o?t=yn(r,i):(_n=t,t=o)):(_n=t,t=o)):(_n=t,t=o)),t}function Yn(){var t,e,r;return t=_n,116===n.charCodeAt(_n)?(e=v,_n++):(e=o,0===Rn&&Ln(B)),e!==o?(n.length>_n?(r=n.charAt(_n),_n++):(r=o,0===Rn&&Ln(N)),r!==o?t=vn(r):(_n=t,t=o)):(_n=t,t=o),t}function nt(){var t,e,r,i;return t=_n,82===n.charCodeAt(_n)?(e=b,_n++):(e=o,0===Rn&&Ln($)),e!==o?(r=ot(),(i=it())!==o?t=bn(r,i):(_n=t,t=o)):(_n=t,t=o),t===o&&(t=_n,114===n.charCodeAt(_n)?(e=A,_n++):(e=o,0===Rn&&Ln(G)),e!==o?(r=ot(),t=An(r)):(_n=t,t=o)),t}function tt(){var t,e,r;return t=_n,117===n.charCodeAt(_n)?(e=x,_n++):(e=o,0===Rn&&Ln(Z)),e!==o&&(r=et())!==o?t=xn(r):(_n=t,t=o),t}function et(){var t,e,r;return t=_n,e=_n,Rn++,E.test(n.charAt(_n))?(r=n.charAt(_n),_n++):(r=o,0===Rn&&Ln(X)),Rn--,r===o?e=void 0:(_n=e,e=o),e!==o?(n.length>_n?(r=n.charAt(_n),_n++):(r=o,0===Rn&&Ln(N)),r!==o?t=Sn(r):(_n=t,t=o)):(_n=t,t=o),t===o&&(t=_n,(e=at())!==o&&(e=kn(e)),t=e),t}function rt(){var t;return _n,109===n.charCodeAt(_n)?(t=S,_n++):(t=o,0===Rn&&Ln(H)),t!==o&&(t=Mn()),t}function ot(){var t,e,r,i,u;return _n,t=_n,e=_n,r=_n,Rn++,i=st(),Rn--,i===o?r=void 0:(_n=r,r=o),r!==o?((i=lt())===o&&(n.length>_n?(i=n.charAt(_n),_n++):(i=o,0===Rn&&Ln(N))),i!==o?e=r=[r,i]:(_n=e,e=o)):(_n=e,e=o),e===o&&(e=null),t=n.substring(t,_n),e=_n,r=_n,i=_n,Rn++,u=st(),Rn--,u===o?i=void 0:(_n=i,i=o),i!==o?((u=lt())===o&&(n.length>_n?(u=n.charAt(_n),_n++):(u=o,0===Rn&&Ln(N))),u!==o?r=i=[i,u]:(_n=r,r=o)):(_n=r,r=o),r===o&&(r=null),e=n.substring(e,_n),Cn(t,e)}function it(){var n,t;return(n=ft())===o&&(n=_n,(t=at())!==o&&(t=wn(t)),n=t),n}function ut(){var t,e,r,i;if(t=_n,(e=ft())!==o&&(e=In(e)),(t=e)===o)if(t=_n,123===n.charCodeAt(_n)?(e=k,_n++):(e=o,0===Rn&&Ln(J)),e!==o){for(r=[],(i=it())===o&&(i=st());i!==o;)r.push(i),(i=it())===o&&(i=st());125===n.charCodeAt(_n)?(i=M,_n++):(i=o,0===Rn&&Ln(Q)),i!==o?t=Fn(r):(_n=t,t=o)}else _n=t,t=o;return t}function at(){var t,e,r,i,u,a,c,s;if(t=_n,123===n.charCodeAt(_n)?(e=k,_n++):(e=o,0===Rn&&Ln(J)),e!==o){for(r=[],i=_n,u=_n,a=_n,Rn++,125===n.charCodeAt(_n)?(c=M,_n++):(c=o,0===Rn&&Ln(Q)),Rn--,c===o?a=void 0:(_n=a,a=o),a!==o?(c=_n,Rn++,s=at(),Rn--,s===o?c=void 0:(_n=c,c=o),c!==o?((s=ft())===o&&(s=st()),s!==o?u=a=[a,c,s]:(_n=u,u=o)):(_n=u,u=o)):(_n=u,u=o),(i=u!==o?n.substring(i,_n):u)===o&&(i=at());i!==o;)r.push(i),i=_n,u=_n,a=_n,Rn++,125===n.charCodeAt(_n)?(c=M,_n++):(c=o,0===Rn&&Ln(Q)),Rn--,c===o?a=void 0:(_n=a,a=o),a!==o?(c=_n,Rn++,s=at(),Rn--,s===o?c=void 0:(_n=c,c=o),c!==o?((s=ft())===o&&(s=st()),s!==o?u=a=[a,c,s]:(_n=u,u=o)):(_n=u,u=o)):(_n=u,u=o),(i=u!==o?n.substring(i,_n):u)===o&&(i=at());125===n.charCodeAt(_n)?(i=M,_n++):(i=o,0===Rn&&Ln(Q)),i!==o?t=En(r):(_n=t,t=o)}else _n=t,t=o;return t}function ct(){var n,t;for(_n,n=[],t=st();t!==o;)n.push(t),t=st();return n=On()}function st(){var t;return 32===n.charCodeAt(_n)?(t=C,_n++):(t=o,0===Rn&&Ln(K)),t===o&&(10===n.charCodeAt(_n)?(t=w,_n++):(t=o,0===Rn&&Ln(Y)),t===o&&(13===n.charCodeAt(_n)?(t=I,_n++):(t=o,0===Rn&&Ln(nn)))),t}function lt(){var t,e,r,i,u;if(t=_n,e=_n,92===n.charCodeAt(_n)?(r=F,_n++):(r=o,0===Rn&&Ln(tn)),r!==o){if(i=[],O.test(n.charAt(_n))?(u=n.charAt(_n),_n++):(u=o,0===Rn&&Ln(en)),u!==o)for(;u!==o;)i.push(u),O.test(n.charAt(_n))?(u=n.charAt(_n),_n++):(u=o,0===Rn&&Ln(en));else i=o;i!==o?e=r=[r,i]:(_n=e,e=o)}else _n=e,e=o;return(t=e!==o?n.substring(t,_n):e)===o&&(t=_n,e=_n,92===n.charCodeAt(_n)?(r=F,_n++):(r=o,0===Rn&&Ln(tn)),r!==o?(i=_n,Rn++,O.test(n.charAt(_n))?(u=n.charAt(_n),_n++):(u=o,0===Rn&&Ln(en)),Rn--,u===o?i=void 0:(_n=i,i=o),i!==o?(n.length>_n?(u=n.charAt(_n),_n++):(u=o,0===Rn&&Ln(N)),u!==o?e=r=[r,i,u]:(_n=e,e=o)):(_n=e,e=o)):(_n=e,e=o),t=e!==o?n.substring(t,_n):e),t}function ft(){var t,e,r,i;return(t=lt())===o&&(t=_n,e=_n,Rn++,_.test(n.charAt(_n))?(r=n.charAt(_n),_n++):(r=o,0===Rn&&Ln(rn)),Rn--,r===o?e=void 0:(_n=e,e=o),e!==o?(r=_n,Rn++,i=st(),Rn--,i===o?r=void 0:(_n=r,r=o),r!==o?(n.length>_n?(i=n.charAt(_n),_n++):(i=o,0===Rn&&Ln(N)),i!==o?t=i:(_n=t,t=o)):(_n=t,t=o)):(_n=t,t=o)),t}const pt={optional:{openBrace:"[",closeBrace:"]"},mandatory:{openBrace:"{",closeBrace:"}"}};function ht(n,t){return{type:n,...pt[n]||{},...t}}function gt(n){return"object"==typeof n&&n&&"group"===n.type?`{${n.content.map(gt).join("")}}`:n}if((r=a())!==o&&_n===n.length)return r;throw r!==o&&_n<n.length&&Ln(Wn()),Vn(Nn,jn<n.length?n.charAt(jn):null,jn<n.length?Dn(jn,jn+1):Dn(jn,jn))}return n(t,Error),t.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){o=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+u.line+":"+u.column;if(o){var c=this.location.end,s=e("",u.line.toString().length," "),l=o[i.line-1],f=(i.line===c.line?c.column:l.length+1)-i.column||1;t+="\n --\x3e "+a+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+e("",i.column-1," ")+e("",f,"^")}else t+="\n at "+a}return t},t.buildMessage=function(n,t){var e={literal:function(n){return'"'+o(n.text)+'"'},class:function(n){var t=n.parts.map((function(n){return Array.isArray(n)?i(n[0])+"-"+i(n[1]):i(n)}));return"["+(n.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(n){return n.description}};function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}function o(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function i(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function u(n){return e[n.type](n)}function a(n){var t,e,r=n.map(u);if(r.sort(),r.length>0){for(t=1,e=1;t<r.length;t++)r[t-1]!==r[t]&&(r[e]=r[t],e++);r.length=e}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(n){return n?'"'+o(n)+'"':"end of input"}return"Expected "+a(n)+" but "+c(t)+" found."},{SyntaxError:t,parse:r}}()),R=(function(){function n(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function t(n,e,r,o){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,t.prototype),i.expected=e,i.found=r,i.location=o,i.name="SyntaxError",i}function e(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,n+(e+=e.repeat(t)).slice(0,t))}function r(n,e){var r,o={},i=(e=void 0!==e?e:{}).grammarSource,u={body:X},a=X,c=L(),s=function(){return[]},l=function(n,t){return{itemParts:[],...n,trailingComment:t,trailingComma:!0}},f=function(n,t){return{...n,trailingComment:t}},p=function(n,t){return yn(n,t)},h=function(n){return yn(null,n)},g=function(n){return{cell:n}},d=function(){return{}},m=function(n){return n},y=function(n){return n},v=function(n,t){return{trailingComment:t,leadingParbreak:n.parbreak>0}},b=function(n){return{whitespace:n.filter((n=>e.isWhitespace(n))).length,parbreak:n.filter((n=>e.isParbreak(n))).length}},A=function(){return!e.allowParenGroups},x=function(n){return e.isSameLineComment(n)},S=function(n){return n},k=function(n){return e.isOwnLineComment(n)},M=function(n){return n},C=function(n){return e.isWhitespace(n)},w=function(n){return n},I=function(n){return e.isParbreak(n)},F=function(n){return n},E=function(n){return e.isComma(n)},O=function(n){return n},_=function(n){return e.isEquals(n)},P=function(n){return n},j=function(n){return e.isChar(n,"(")},N=function(n){return n},R=function(n){return e.isChar(n,")")},T=function(n){return n},U=0,q=[{line:1,column:1}],W=0,z=[],D=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=u[e.startRule]}function L(){return{type:"any"}}function V(){return{type:"end"}}function B(t){var e,r=q[t];if(r)return r;for(e=t-1;!q[e];)e--;for(r={line:(r=q[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return q[t]=r,r}function $(n,t,e){var r=B(n),o=B(t),u={source:i,start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return e&&i&&"function"==typeof i.offset&&(u.start=i.offset(u.start),u.end=i.offset(u.end)),u}function G(n){U<W||(U>W&&(W=U,z=[]),z.push(n))}function Z(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function X(){var n,t,e;if(n=[],(t=tn())===o&&(t=H())===o&&(t=J()),t!==o)for(;t!==o;)n.push(t),(t=tn())===o&&(t=H())===o&&(t=J());else n=o;if(n===o){for(n=U,t=[],e=ln();e!==o;)t.push(e),e=ln();(e=mn())!==o?n=s():(U=n,n=o)}return n}function H(){var n,t,e,r,i,u;if(n=U,un(),(t=Q())===o&&(t=null),un(),pn()!==o){for(e=[],r=ln();r!==o;)e.push(r),r=ln();for((r=nn())===o&&(r=null),i=[],u=ln();u!==o;)i.push(u),u=ln();n=l(t,r)}else U=n,n=o;return n}function J(){var n,t,e;return n=U,un(),(t=Q())!==o?((e=nn())===o&&(e=null),n=f(t,e)):(U=n,n=o),n}function Q(){var n,t,e,r;if(n=U,(t=Y())!==o){for(e=[],r=K();r!==o;)e.push(r),r=K();n=p(t,e)}else U=n,n=o;if(n===o){if(n=U,t=[],(e=K())!==o)for(;e!==o;)t.push(e),e=K();else t=o;t!==o&&(t=h(t)),n=t}return n}function K(){var n,t,e,r,i;for(n=U,t=[],e=fn();e!==o;)t.push(e),e=fn();if((e=hn())!==o){for(r=[],i=fn();i!==o;)r.push(i),i=fn();(i=Y())!==o?n=g(i):(U=n,n=o)}else U=n,n=o;if(n===o){for(n=U,t=[],e=fn();e!==o;)t.push(e),e=fn();(e=hn())!==o?n=d():(U=n,n=o)}return n}function Y(){var t,e,r,i,u,a,c,s,l,f;for(t=U,e=[],r=ln();r!==o;)e.push(r),r=ln();if(r=U,i=[],(u=rn())===o)if(u=U,(a=ln())===o&&(a=fn()),a!==o){for(c=U,D++,s=U,l=[],(f=ln())===o&&(f=fn());f!==o;)l.push(f),(f=ln())===o&&(f=fn());(f=rn())!==o?s=l=[l,f]:(U=s,s=o),D--,s!==o?(U=c,c=void 0):c=o,c!==o?u=a=[a,c]:(U=u,u=o)}else U=u,u=o;if(u!==o){for(;u!==o;)if(i.push(u),(u=rn())===o)if(u=U,(a=ln())===o&&(a=fn()),a!==o){for(c=U,D++,s=U,l=[],(f=ln())===o&&(f=fn());f!==o;)l.push(f),(f=ln())===o&&(f=fn());(f=rn())!==o?s=l=[l,f]:(U=s,s=o),D--,s!==o?(U=c,c=void 0):c=o,c!==o?u=a=[a,c]:(U=u,u=o)}else U=u,u=o}else i=o;if((r=i!==o?n.substring(r,U):i)!==o){for(i=[],u=ln();u!==o;)i.push(u),u=ln();t=m(r)}else U=t,t=o;return t}function nn(){var n,t,e;for(n=U,t=[],e=ln();e!==o;)t.push(e),e=ln();return(e=cn())!==o?n=y(e):(U=n,n=o),n}function tn(){var n,t,e;return n=U,t=un(),(e=sn())!==o?n=v(t,e):(U=n,n=o),n}function en(){var t,e,r,i;return t=U,e=U,r=U,D++,i=on(),D--,i===o?r=void 0:(U=r,r=o),r!==o?(n.length>U?(i=n.charAt(U),U++):(i=o,0===D&&G(c)),i!==o?e=r=[r,i]:(U=e,e=o)):(U=e,e=o),t=e!==o?n.substring(t,U):e}function rn(){var t,e,r,i;return t=U,e=U,r=U,D++,(i=ln())===o&&(i=fn()),D--,i===o?r=void 0:(U=r,r=o),r!==o?((i=an())===o&&(i=en()),i!==o?e=r=[r,i]:(U=e,e=o)):(U=e,e=o),t=e!==o?n.substring(t,U):e}function on(){var n;return(n=pn())===o&&(n=hn())===o&&(n=nn())===o&&(n=sn()),n}function un(){var n,t;for(U,n=[],(t=ln())===o&&(t=fn());t!==o;)n.push(t),(t=ln())===o&&(t=fn());return n=b(n)}function an(){var t,e,r,i,u,a,s,l,f;if(t=U,(e=(e=A())?o:void 0)!==o){if(r=U,i=U,(u=gn())!==o){for(a=[],s=U,l=U,D++,f=dn(),D--,f===o?l=void 0:(U=l,l=o),l!==o?(n.length>U?(f=n.charAt(U),U++):(f=o,0===D&&G(c)),f!==o?s=l=[l,f]:(U=s,s=o)):(U=s,s=o);s!==o;)a.push(s),s=U,l=U,D++,f=dn(),D--,f===o?l=void 0:(U=l,l=o),l!==o?(n.length>U?(f=n.charAt(U),U++):(f=o,0===D&&G(c)),f!==o?s=l=[l,f]:(U=s,s=o)):(U=s,s=o);(s=dn())!==o?i=u=[u,a,s]:(U=i,i=o)}else U=i,i=o;(r=i!==o?n.substring(r,U):i)!==o?t=e=[e,r]:(U=t,t=o)}else U=t,t=o;return t}function cn(){var t,e;return t=U,n.length>U?(e=n.charAt(U),U++):(e=o,0===D&&G(c)),e!==o&&(x(e)?void 0:o)!==o?t=S(e):(U=t,t=o),t}function sn(){var t,e;return t=U,n.length>U?(e=n.charAt(U),U++):(e=o,0===D&&G(c)),e!==o&&(k(e)?void 0:o)!==o?t=M(e):(U=t,t=o),t}function ln(){var t,e;return t=U,n.length>U?(e=n.charAt(U),U++):(e=o,0===D&&G(c)),e!==o&&(C(e)?void 0:o)!==o?t=w(e):(U=t,t=o),t}function fn(){var t,e;return t=U,n.length>U?(e=n.charAt(U),U++):(e=o,0===D&&G(c)),e!==o&&(I(e)?void 0:o)!==o?t=F(e):(U=t,t=o),t}function pn(){var t,e;return t=U,n.length>U?(e=n.charAt(U),U++):(e=o,0===D&&G(c)),e!==o&&(E(e)?void 0:o)!==o?t=O(e):(U=t,t=o),t}function hn(){var t,e;return t=U,n.length>U?(e=n.charAt(U),U++):(e=o,0===D&&G(c)),e!==o&&(_(e)?void 0:o)!==o?t=P(e):(U=t,t=o),t}function gn(){var t,e;return t=U,n.length>U?(e=n.charAt(U),U++):(e=o,0===D&&G(c)),e!==o&&(j(e)?void 0:o)!==o?t=N(e):(U=t,t=o),t}function dn(){var t,e;return t=U,n.length>U?(e=n.charAt(U),U++):(e=o,0===D&&G(c)),e!==o&&(R(e)?void 0:o)!==o?t=T(e):(U=t,t=o),t}function mn(){var t,e;return t=U,D++,n.length>U?(e=n.charAt(U),U++):(e=o,0===D&&G(c)),D--,e===o?t=void 0:(U=t,t=o),t}function yn(n,t){const e=[n||[]];for(const n of t)e.push(n.cell||[]);return{itemParts:e}}if(!e.isWhitespace)try{Object.assign(e,{isChar:(n,t)=>"string"===n.type&&n.content===t,isComma:n=>"string"===n.type&&","===n.content,isEquals:n=>"string"===n.type&&"="===n.content,isParbreak:n=>"parbreak"===n.type,isWhitespace:n=>"whitespace"===n.type,isSameLineComment:n=>"comment"===n.type&&n.sameline,isOwnLineComment:n=>"comment"===n.type&&!n.sameline,isComment:n=>"comment"===n.type,allowParenGroups:!0})}catch(n){}if((r=a())!==o&&U===n.length)return r;throw r!==o&&U<n.length&&G(V()),Z(z,W<n.length?n.charAt(W):null,W<n.length?$(W,W+1):$(W,W))}n(t,Error),t.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){o=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+u.line+":"+u.column;if(o){var c=this.location.end,s=e("",u.line.toString().length," "),l=o[i.line-1],f=(i.line===c.line?c.column:l.length+1)-i.column||1;t+="\n --\x3e "+a+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+e("",i.column-1," ")+e("",f,"^")}else t+="\n at "+a}return t},t.buildMessage=function(n,t){var e={literal:function(n){return'"'+o(n.text)+'"'},class:function(n){var t=n.parts.map((function(n){return Array.isArray(n)?i(n[0])+"-"+i(n[1]):i(n)}));return"["+(n.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(n){return n.description}};function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}function o(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function i(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function u(n){return e[n.type](n)}function a(n){var t,e,r=n.map(u);if(r.sort(),r.length>0){for(t=1,e=1;t<r.length;t++)r[t-1]!==r[t]&&(r[e]=r[t],e++);r.length=e}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(n){return n?'"'+o(n)+'"':"end of input"}return"Expected "+a(n)+" but "+c(t)+" found."}}(),function(){function n(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function t(n,e,r,o){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,t.prototype),i.expected=e,i.found=r,i.location=o,i.name="SyntaxError",i}function e(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,n+(e+=e.repeat(t)).slice(0,t))}function r(n,e){var r,o={},i=(e=void 0!==e?e:{}).grammarSource,u={body:F},a=F,c=S(),s=function(n){return[].concat(...n).filter((n=>!!n))},l=function(){return[]},f=function(n){return e.isHash(n)},p=function(n){return n},h=function(n){return e.isNumber(n)},g=function(n){return n},d=function(){return{type:"string",content:"#"}},m=function(n){const t=e.splitNumber(n);return[{type:"hash_number",number:t.number},t.rest]},y=0,v=[{line:1,column:1}],b=0,A=[],x=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=u[e.startRule]}function S(){return{type:"any"}}function k(){return{type:"end"}}function M(t){var e,r=v[t];if(r)return r;for(e=t-1;!v[e];)e--;for(r={line:(r=v[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return v[t]=r,r}function C(n,t,e){var r=M(n),o=M(t),u={source:i,start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return e&&i&&"function"==typeof i.offset&&(u.start=i.offset(u.start),u.end=i.offset(u.end)),u}function w(n){y<b||(y>b&&(b=y,A=[]),A.push(n))}function I(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function F(){var t,e,r;if(t=y,e=[],(r=_())===o&&(r=P())===o&&(n.length>y?(r=n.charAt(y),y++):(r=o,0===x&&w(c))),r!==o)for(;r!==o;)e.push(r),(r=_())===o&&(r=P())===o&&(n.length>y?(r=n.charAt(y),y++):(r=o,0===x&&w(c)));else e=o;return e!==o&&(e=s(e)),(t=e)===o&&(t=y,(e=j())!==o&&(e=l()),t=e),t}function E(){var t,e;return t=y,n.length>y?(e=n.charAt(y),y++):(e=o,0===x&&w(c)),e!==o&&(f(e)?void 0:o)!==o?t=p(e):(y=t,t=o),t}function O(){var t,e;return t=y,n.length>y?(e=n.charAt(y),y++):(e=o,0===x&&w(c)),e!==o&&(h(e)?void 0:o)!==o?t=g(e):(y=t,t=o),t}function _(){var n;return n=y,E()!==o&&E()!==o?n=d():(y=n,n=o),n}function P(){var n,t;return n=y,E()!==o&&(t=O())!==o?n=m(t):(y=n,n=o),n}function j(){var t,e;return t=y,x++,n.length>y?(e=n.charAt(y),y++):(e=o,0===x&&w(c)),x--,e===o?t=void 0:(y=t,t=o),t}if(!e.isHash)try{Object.assign(e,{isHash:n=>"string"===n.type&&"#"===n.content,isNumber:n=>"string"===n.type&&0<+n.content.charAt(0),splitNumber:n=>{const t=+n.content.charAt(0);return n.content.length>1?{number:t,rest:{type:"string",content:n.content.slice(1)}}:{number:t}}})}catch(n){}if((r=a())!==o&&y===n.length)return r;throw r!==o&&y<n.length&&w(k()),I(A,b<n.length?n.charAt(b):null,b<n.length?C(b,b+1):C(b,b))}n(t,Error),t.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){o=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+u.line+":"+u.column;if(o){var c=this.location.end,s=e("",u.line.toString().length," "),l=o[i.line-1],f=(i.line===c.line?c.column:l.length+1)-i.column||1;t+="\n --\x3e "+a+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+e("",i.column-1," ")+e("",f,"^")}else t+="\n at "+a}return t},t.buildMessage=function(n,t){var e={literal:function(n){return'"'+o(n.text)+'"'},class:function(n){var t=n.parts.map((function(n){return Array.isArray(n)?i(n[0])+"-"+i(n[1]):i(n)}));return"["+(n.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(n){return n.description}};function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}function o(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function i(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function u(n){return e[n.type](n)}function a(n){var t,e,r=n.map(u);if(r.sort(),r.length>0){for(t=1,e=1;t<r.length;t++)r[t-1]!==r[t]&&(r[e]=r[t],e++);r.length=e}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(n){return n?'"'+o(n)+'"':"end of input"}return"Expected "+a(n)+" but "+c(t)+" found."}}(),function(){function n(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function t(n,e,r,o){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,t.prototype),i.expected=e,i.found=r,i.location=o,i.name="SyntaxError",i}function e(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,n+(e+=e.repeat(t)).slice(0,t))}function r(n,e){var r,o={},i=(e=void 0!==e?e:{}).grammarSource,u={body:q},a=q,c=P(),s=function(n){return[].concat(...n).filter((n=>!!n))},l=function(){return[]},f=function(n){return e.isRecognized(n)},p=function(n){return e.isRecognized(n)},h=function(n,t){const r=e.split(t);return e.isRecognized([n,r[0]])},g=function(n,t){const r=e.split(t);return[e.isRecognized([n,r[0]]),r[1]]},d=function(n,t){return e.isRecognized([n,t])},m=function(n,t){return e.isRecognized([n,t])},y=function(n){return e.isRecognized(n)},v=function(n){return e.isRecognized(n)},b=function(n){return e.isRecognized([n])},A=function(n){return e.isRecognized([n])},x=function(n){return e.isMacro(n)},S=function(n){return n},k=function(n){return e.isWhitespace(n)},M=function(n){return n},C=function(n){return e.isSplitable(n)},w=function(n){return n},I=0,F=[{line:1,column:1}],E=0,O=[],_=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=u[e.startRule]}function P(){return{type:"any"}}function j(){return{type:"end"}}function N(t){var e,r=F[t];if(r)return r;for(e=t-1;!F[e];)e--;for(r={line:(r=F[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return F[t]=r,r}function R(n,t,e){var r=N(n),o=N(t),u={source:i,start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return e&&i&&"function"==typeof i.offset&&(u.start=i.offset(u.start),u.end=i.offset(u.end)),u}function T(n){I<E||(I>E&&(E=I,O=[]),O.push(n))}function U(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function q(){var t,e,r;if(t=I,e=[],(r=W())===o&&(r=z())===o&&(r=B())===o&&(n.length>I?(r=n.charAt(I),I++):(r=o,0===_&&T(c))),r!==o)for(;r!==o;)e.push(r),(r=W())===o&&(r=z())===o&&(r=B())===o&&(n.length>I?(r=n.charAt(I),I++):(r=o,0===_&&T(c)));else e=o;return e!==o&&(e=s(e)),(t=e)===o&&(t=I,(e=X())!==o&&(e=l()),t=e),t}function W(){var t,e,r,i,u;return t=I,e=I,n.length>I?(r=n.charAt(I),I++):(r=o,0===_&&T(c)),r!==o?(n.length>I?(i=n.charAt(I),I++):(i=o,0===_&&T(c)),i!==o?(n.length>I?(u=n.charAt(I),I++):(u=o,0===_&&T(c)),u!==o?e=r=[r,i,u]:(I=e,e=o)):(I=e,e=o)):(I=e,e=o),e!==o&&(r=(r=f(e))?void 0:o)!==o?t=p(e):(I=t,t=o),t}function z(){var n;return(n=L())===o&&(n=D())===o&&(n=V()),n}function D(){var n,t,e,r;if(n=I,(t=$())!==o){for(e=[],r=G();r!==o;)e.push(r),r=G();(r=Z())!==o&&(h(t,r)?void 0:o)!==o?n=g(t,r):(I=n,n=o)}else I=n,n=o;return n}function L(){var t,e,r,i;if(t=I,(e=$())!==o){for(r=[],i=G();i!==o;)r.push(i),i=G();n.length>I?(i=n.charAt(I),I++):(i=o,0===_&&T(c)),i!==o&&(d(e,i)?void 0:o)!==o?t=m(e,i):(I=t,t=o)}else I=t,t=o;return t}function V(){var t,e,r,i;return t=I,e=I,n.length>I?(r=n.charAt(I),I++):(r=o,0===_&&T(c)),r!==o?(n.length>I?(i=n.charAt(I),I++):(i=o,0===_&&T(c)),i!==o?e=r=[r,i]:(I=e,e=o)):(I=e,e=o),e!==o&&(r=(r=y(e))?void 0:o)!==o?t=v(e):(I=t,t=o),t}function B(){var t,e;return t=I,n.length>I?(e=n.charAt(I),I++):(e=o,0===_&&T(c)),e!==o&&(b(e)?void 0:o)!==o?t=A(e):(I=t,t=o),t}function $(){var t,e;return t=I,n.length>I?(e=n.charAt(I),I++):(e=o,0===_&&T(c)),e!==o&&(x(e)?void 0:o)!==o?t=S(e):(I=t,t=o),t}function G(){var t,e;return t=I,n.length>I?(e=n.charAt(I),I++):(e=o,0===_&&T(c)),e!==o&&(k(e)?void 0:o)!==o?t=M(e):(I=t,t=o),t}function Z(){var t,e;return t=I,n.length>I?(e=n.charAt(I),I++):(e=o,0===_&&T(c)),e!==o&&(C(e)?void 0:o)!==o?t=w(e):(I=t,t=o),t}function X(){var t,e;return t=I,_++,n.length>I?(e=n.charAt(I),I++):(e=o,0===_&&T(c)),_--,e===o?t=void 0:(I=t,t=o),t}if(!e.isWhitespace)try{Object.assign(e,{isMacro:n=>"macro"===n.type,isWhitespace:n=>"whitespace"===n.type,isRecognized:n=>2==n.length&&"^"===n[0].content&&"o"===n[1].content?{type:"string",content:"\xf4"}:null,isSplitable:n=>"string"===n.type&&n.content.length>1,split:n=>[{type:"string",content:n.content.charAt(0)},{type:"string",content:n.content.slice(1)}]})}catch(n){}if((r=a())!==o&&I===n.length)return r;throw r!==o&&I<n.length&&T(j()),U(O,E<n.length?n.charAt(E):null,E<n.length?R(E,E+1):R(E,E))}n(t,Error),t.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){o=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+u.line+":"+u.column;if(o){var c=this.location.end,s=e("",u.line.toString().length," "),l=o[i.line-1],f=(i.line===c.line?c.column:l.length+1)-i.column||1;t+="\n --\x3e "+a+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+e("",i.column-1," ")+e("",f,"^")}else t+="\n at "+a}return t},t.buildMessage=function(n,t){var e={literal:function(n){return'"'+o(n.text)+'"'},class:function(n){var t=n.parts.map((function(n){return Array.isArray(n)?i(n[0])+"-"+i(n[1]):i(n)}));return"["+(n.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(n){return n.description}};function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}function o(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function i(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function u(n){return e[n.type](n)}function a(n){var t,e,r=n.map(u);if(r.sort(),r.length>0){for(t=1,e=1;t<r.length;t++)r[t-1]!==r[t]&&(r[e]=r[t],e++);r.length=e}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(n){return n?'"'+o(n)+'"':"end of input"}return"Expected "+a(n)+" but "+c(t)+" found."}}(),function(){function n(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function t(n,e,r,o){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,t.prototype),i.expected=e,i.found=r,i.location=o,i.name="SyntaxError",i}function e(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,n+(e+=e.repeat(t)).slice(0,t))}function r(n,e){var r,o={},i=(e=void 0!==e?e:{}).grammarSource,u={start:ut},a=ut,c=";",s=",",l=":",f="/",p=">",h="!",g=".",d="!![",m="]",y="!!",v="+",b="-",A=/^[a-zA-Z0-9]/,x=/^[0-9]/,S=/^[ \t\n\r]/,k=/^[0-9a-fA-F]/,M=Yn(),C=Qn(";",!1),w=Qn(",",!1),I=tt("model list"),F=Qn(":",!1),E=Qn("/",!1),O=tt("model"),_=tt("color spec list"),P=tt("color spec"),j=tt("color"),N=tt("function expression"),R=Qn(">",!1),T=tt("function"),U=tt("extended expression"),q=tt("core model"),W=tt("expr"),z=Qn("!",!1),D=tt("mix expr"),L=tt("name"),V=Qn(".",!1),B=Kn([["a","z"],["A","Z"],["0","9"]],!1,!1),$=tt("postfix"),G=Qn("!![",!1),Z=Qn("]",!1),X=Qn("!!",!1),H=tt("prefix"),J=tt("plus"),Q=Qn("+",!1),K=tt("minus"),Y=Qn("-",!1),nn=tt("num"),tn=Kn([["0","9"]],!1,!1),en=tt("positive float"),rn=tt("divisor"),on=tt("int"),un=Kn([" ","\t","\n","\r"],!1,!1),an=Kn([["0","9"],["a","f"],["A","F"]],!1,!1),cn=function(n){return n},sn=function(n){return n},ln=function(n){return n},fn=function(n){return n},pn=function(n){return n},hn=function(n){return{type:"invalid_spec",content:n}},gn=function(n,t){return t},dn=function(n,t){return{type:"color_set",content:[n].concat(t)}},mn=function(n,t){return{type:"color_set_item",name:n,spec_list:t}},yn=function(n,t){return{type:"model_list",contents:t,core_model:n}},vn=function(n){return{type:"model_list",contents:n,core_model:null}},bn=function(n,t){return t},An=function(n,t){return[n].concat(t)},xn=function(n,t){return t},Sn=function(n,t){return{type:"spec_list",content:[n].concat(t)}},kn=function(n){return{type:"hex_spec",content:[n]}},Mn=function(n,t){return t},Cn=function(n,t){return t},wn=function(n,t){return{type:"num_spec",content:t?[n].concat(t):[n]}},In=function(n,t){return{type:"color",color:n,functions:t}},Fn=function(n,t){return t},En=function(n,t){return{type:"function",name:n,args:t}},On=function(n,t,e,r){return{type:"extended_expr",core_model:n,div:t,expressions:[e].concat(r)}},_n=function(n,t,e){return{type:"extended_expr",core_model:n,div:null,expressions:[t].concat(e)}},Pn=function(n,t){return{type:"weighted_expr",color:n,weight:t}},jn=function(n){return n},Nn=function(n,t,e,r){return{type:"expr",prefix:n,name:t,mix_expr:e,postfix:r}},Rn=function(n,t){return{type:"complete_mix",mix_percent:n,name:t}},Tn=function(n){return{type:"partial_mix",mix_percent:n}},Un=function(n,t){return n.concat(t||[])},qn=function(n){return{type:"postfix",num:n}},Wn=function(n){return{type:"postfix",plusses:n}},zn=function(n){return parseInt(n,10)},Dn=function(n){return parseFloat(n)},Ln=function(n){return n},Vn=function(n){return-n},Bn=function(n,t){return n?-t:t},$n=function(n){return n.toUpperCase()},Gn=0,Zn=[{line:1,column:1}],Xn=0,Hn=[],Jn=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=u[e.startRule]}function Qn(n,t){return{type:"literal",text:n,ignoreCase:t}}function Kn(n,t,e){return{type:"class",parts:n,inverted:t,ignoreCase:e}}function Yn(){return{type:"any"}}function nt(){return{type:"end"}}function tt(n){return{type:"other",description:n}}function et(t){var e,r=Zn[t];if(r)return r;for(e=t-1;!Zn[e];)e--;for(r={line:(r=Zn[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Zn[t]=r,r}function rt(n,t,e){var r=et(n),o=et(t),u={source:i,start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return e&&i&&"function"==typeof i.offset&&(u.start=i.offset(u.start),u.end=i.offset(u.end)),u}function ot(n){Gn<Xn||(Gn>Xn&&(Xn=Gn,Hn=[]),Hn.push(n))}function it(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function ut(){var t,e,r,i;if(t=Gn,(e=ht())!==o&&(r=qt())!==o?t=cn(e):(Gn=t,t=o),t===o&&(t=Gn,(e=pt())!==o&&(r=qt())!==o?t=sn(e):(Gn=t,t=o),t===o&&(t=Gn,(e=gt())!==o&&(r=qt())!==o?t=ln(e):(Gn=t,t=o),t===o&&(t=Gn,(e=st())!==o&&(r=qt())!==o?t=fn(e):(Gn=t,t=o),t===o&&(t=Gn,(e=at())!==o&&(r=qt())!==o?t=pn(e):(Gn=t,t=o),t===o))))){for(t=Gn,e=Gn,r=[],n.length>Gn?(i=n.charAt(Gn),Gn++):(i=o,0===Jn&&ot(M));i!==o;)r.push(i),n.length>Gn?(i=n.charAt(Gn),Gn++):(i=o,0===Jn&&ot(M));e=n.substring(e,Gn),t=e=hn(e)}return t}function at(){var t,e,r,i,u,a;if(t=Gn,(e=ct())!==o){for(r=[],i=Gn,59===n.charCodeAt(Gn)?(u=c,Gn++):(u=o,0===Jn&&ot(C)),u!==o&&(a=ct())!==o?i=gn(e,a):(Gn=i,i=o);i!==o;)r.push(i),i=Gn,59===n.charCodeAt(Gn)?(u=c,Gn++):(u=o,0===Jn&&ot(C)),u!==o&&(a=ct())!==o?i=gn(e,a):(Gn=i,i=o);t=dn(e,r)}else Gn=t,t=o;return t}function ct(){var t,e,r,i;return t=Gn,(e=wt())!==o?(44===n.charCodeAt(Gn)?(r=s,Gn++):(r=o,0===Jn&&ot(w)),r!==o&&(i=pt())!==o?t=mn(e,i):(Gn=t,t=o)):(Gn=t,t=o),t}function st(){var t,e,r,i;return Jn++,t=Gn,(e=xt())!==o?(58===n.charCodeAt(Gn)?(r=l,Gn++):(r=o,0===Jn&&ot(F)),r!==o&&(i=lt())!==o?t=yn(e,i):(Gn=t,t=o)):(Gn=t,t=o),t===o&&(t=Gn,(e=lt())!==o&&(e=vn(e)),t=e),Jn--,t===o&&(e=o,0===Jn&&ot(I)),t}function lt(){var t,e,r,i,u,a;if(t=Gn,(e=ft())!==o){for(r=[],i=Gn,47===n.charCodeAt(Gn)?(u=f,Gn++):(u=o,0===Jn&&ot(E)),u!==o&&(a=ft())!==o?i=bn(e,a):(Gn=i,i=o);i!==o;)r.push(i),i=Gn,47===n.charCodeAt(Gn)?(u=f,Gn++):(u=o,0===Jn&&ot(E)),u!==o&&(a=ft())!==o?i=bn(e,a):(Gn=i,i=o);t=An(e,r)}else Gn=t,t=o;return t}function ft(){var n;return Jn++,n=xt(),Jn--,n===o&&0===Jn&&ot(O),n}function pt(){var t,e,r,i,u,a;if(Jn++,t=Gn,(e=ht())!==o){for(r=[],i=Gn,47===n.charCodeAt(Gn)?(u=f,Gn++):(u=o,0===Jn&&ot(E)),u!==o&&(a=ht())!==o?i=xn(e,a):(Gn=i,i=o);i!==o;)r.push(i),i=Gn,47===n.charCodeAt(Gn)?(u=f,Gn++):(u=o,0===Jn&&ot(E)),u!==o&&(a=ht())!==o?i=xn(e,a):(Gn=i,i=o);t=Sn(e,r)}else Gn=t,t=o;return Jn--,t===o&&(e=o,0===Jn&&ot(_)),t}function ht(){var t,e,r,i,u,a,c,l,f;if(Jn++,t=Gn,e=Gn,r=Gn,(i=Ut())!==o&&(u=Ut())!==o&&(a=Ut())!==o&&(c=Ut())!==o&&(l=Ut())!==o&&(f=Ut())!==o?r=i=[i,u,a,c,l,f]:(Gn=r,r=o),(e=r!==o?n.substring(e,Gn):r)!==o&&(e=kn(e)),(t=e)===o)if(t=Gn,(e=Nt())!==o){if(r=[],i=Gn,44===n.charCodeAt(Gn)?(u=s,Gn++):(u=o,0===Jn&&ot(w)),u!==o&&(a=Nt())!==o?i=Mn(e,a):(Gn=i,i=o),i!==o)for(;i!==o;)r.push(i),i=Gn,44===n.charCodeAt(Gn)?(u=s,Gn++):(u=o,0===Jn&&ot(w)),u!==o&&(a=Nt())!==o?i=Mn(e,a):(Gn=i,i=o);else r=o;if(r===o)if(r=[],i=Gn,(u=Tt())!==o&&(a=Nt())!==o?i=Cn(e,a):(Gn=i,i=o),i!==o)for(;i!==o;)r.push(i),i=Gn,(u=Tt())!==o&&(a=Nt())!==o?i=Cn(e,a):(Gn=i,i=o);else r=o;r===o&&(r=null),t=wn(e,r)}else Gn=t,t=o;return Jn--,t===o&&(e=o,0===Jn&&ot(P)),t}function gt(){var n,t,e,r;if(Jn++,n=Gn,(t=dt())!==o){for(e=[],r=mt();r!==o;)e.push(r),r=mt();n=In(t,e)}else Gn=n,n=o;return Jn--,n===o&&(t=o,0===Jn&&ot(j)),n}function dt(){var n;return(n=vt())===o&&(n=St())===o&&(n=wt()),n}function mt(){var t,e,r,i,u,a,c;if(Jn++,t=Gn,62===n.charCodeAt(Gn)?(e=p,Gn++):(e=o,0===Jn&&ot(R)),e!==o)if((r=yt())!==o){for(i=[],u=Gn,44===n.charCodeAt(Gn)?(a=s,Gn++):(a=o,0===Jn&&ot(w)),a!==o&&(c=Rt())!==o?u=Fn(r,c):(Gn=u,u=o);u!==o;)i.push(u),u=Gn,44===n.charCodeAt(Gn)?(a=s,Gn++):(a=o,0===Jn&&ot(w)),a!==o&&(c=Rt())!==o?u=Fn(r,c):(Gn=u,u=o);t=En(r,i)}else Gn=t,t=o;else Gn=t,t=o;return Jn--,t===o&&(e=o,0===Jn&&ot(N)),t}function yt(){var n;return Jn++,n=wt(),Jn--,n===o&&0===Jn&&ot(T),n}function vt(){var t,e,r,i,u,a,c,f;if(Jn++,t=Gn,(e=xt())!==o)if(44===n.charCodeAt(Gn)?(r=s,Gn++):(r=o,0===Jn&&ot(w)),r!==o)if((i=jt())!==o)if(58===n.charCodeAt(Gn)?(u=l,Gn++):(u=o,0===Jn&&ot(F)),u!==o)if((a=bt())!==o){for(c=[],f=At();f!==o;)c.push(f),f=At();t=On(e,i,a,c)}else Gn=t,t=o;else Gn=t,t=o;else Gn=t,t=o;else Gn=t,t=o;else Gn=t,t=o;if(t===o)if(t=Gn,(e=xt())!==o)if(58===n.charCodeAt(Gn)?(r=l,Gn++):(r=o,0===Jn&&ot(F)),r!==o)if((i=bt())!==o){for(u=[],a=At();a!==o;)u.push(a),a=At();t=_n(e,i,u)}else Gn=t,t=o;else Gn=t,t=o;else Gn=t,t=o;return Jn--,t===o&&(e=o,0===Jn&&ot(U)),t}function bt(){var t,e,r,i;return t=Gn,(e=St())!==o?(44===n.charCodeAt(Gn)?(r=s,Gn++):(r=o,0===Jn&&ot(w)),r!==o&&(i=Nt())!==o?t=Pn(e,i):(Gn=t,t=o)):(Gn=t,t=o),t}function At(){var t,e,r;return t=Gn,59===n.charCodeAt(Gn)?(e=c,Gn++):(e=o,0===Jn&&ot(C)),e!==o&&(r=bt())!==o?t=jn(r):(Gn=t,t=o),t}function xt(){var n;return Jn++,n=wt(),Jn--,n===o&&0===Jn&&ot(q),n}function St(){var n,t,e,r,i;return Jn++,n=Gn,t=Ft(),(e=wt())!==o?(r=Ct(),(i=It())===o&&(i=null),n=Nn(t,e,r,i)):(Gn=n,n=o),Jn--,n===o&&(t=o,0===Jn&&ot(W)),n}function kt(){var t,e,r,i,u;return t=Gn,33===n.charCodeAt(Gn)?(e=h,Gn++):(e=o,0===Jn&&ot(z)),e!==o&&(r=Pt())!==o?(33===n.charCodeAt(Gn)?(i=h,Gn++):(i=o,0===Jn&&ot(z)),i!==o&&(u=wt())!==o?t=Rn(r,u):(Gn=t,t=o)):(Gn=t,t=o),t}function Mt(){var t,e,r;return t=Gn,33===n.charCodeAt(Gn)?(e=h,Gn++):(e=o,0===Jn&&ot(z)),e!==o&&(r=Pt())!==o?t=Tn(r):(Gn=t,t=o),t}function Ct(){var n,t,e;for(Jn++,n=Gn,t=[],e=kt();e!==o;)t.push(e),e=kt();return(e=Mt())===o&&(e=null),n=Un(t,e),Jn--,t=o,0===Jn&&ot(D),n}function wt(){var t,e,r;if(Jn++,46===n.charCodeAt(Gn)?(t=g,Gn++):(t=o,0===Jn&&ot(V)),t===o){if(t=Gn,e=[],A.test(n.charAt(Gn))?(r=n.charAt(Gn),Gn++):(r=o,0===Jn&&ot(B)),r!==o)for(;r!==o;)e.push(r),A.test(n.charAt(Gn))?(r=n.charAt(Gn),Gn++):(r=o,0===Jn&&ot(B));else e=o;t=e!==o?n.substring(t,Gn):e}return Jn--,t===o&&(e=o,0===Jn&&ot(L)),t}function It(){var t,e,r,i,u;if(Jn++,t=Gn,n.substr(Gn,3)===d?(e=d,Gn+=3):(e=o,0===Jn&&ot(G)),e!==o&&(r=_t())!==o?(93===n.charCodeAt(Gn)?(i=m,Gn++):(i=o,0===Jn&&ot(Z)),i!==o?t=qn(r):(Gn=t,t=o)):(Gn=t,t=o),t===o)if(t=Gn,n.substr(Gn,2)===y?(e=y,Gn+=2):(e=o,0===Jn&&ot(X)),e!==o){if(r=Gn,i=[],(u=Et())!==o)for(;u!==o;)i.push(u),u=Et();else i=o;(r=i!==o?n.substring(r,Gn):i)!==o?t=Wn(r):(Gn=t,t=o)}else Gn=t,t=o;return Jn--,t===o&&(e=o,0===Jn&&ot($)),t}function Ft(){var n;return Jn++,(n=Ot())===o&&(n=null),0===--Jn&&ot(H),n}function Et(){var t,e,r;if(Jn++,t=Gn,e=[],43===n.charCodeAt(Gn)?(r=v,Gn++):(r=o,0===Jn&&ot(Q)),r!==o)for(;r!==o;)e.push(r),43===n.charCodeAt(Gn)?(r=v,Gn++):(r=o,0===Jn&&ot(Q));else e=o;return t=e!==o?n.substring(t,Gn):e,Jn--,t===o&&(e=o,0===Jn&&ot(J)),t}function Ot(){var t,e,r;if(Jn++,t=Gn,e=[],45===n.charCodeAt(Gn)?(r=b,Gn++):(r=o,0===Jn&&ot(Y)),r!==o)for(;r!==o;)e.push(r),45===n.charCodeAt(Gn)?(r=b,Gn++):(r=o,0===Jn&&ot(Y));else e=o;return t=e!==o?n.substring(t,Gn):e,Jn--,t===o&&(e=o,0===Jn&&ot(K)),t}function _t(){var t,e,r,i;if(Jn++,t=Gn,e=Gn,r=[],x.test(n.charAt(Gn))?(i=n.charAt(Gn),Gn++):(i=o,0===Jn&&ot(tn)),i!==o)for(;i!==o;)r.push(i),x.test(n.charAt(Gn))?(i=n.charAt(Gn),Gn++):(i=o,0===Jn&&ot(tn));else r=o;return(e=r!==o?n.substring(e,Gn):r)!==o&&(e=zn(e)),Jn--,(t=e)===o&&(e=o,0===Jn&&ot(nn)),t}function Pt(){var t,e,r,i,u,a,c,s,l,f;if(Jn++,t=Gn,e=Gn,r=Gn,i=Gn,u=[],x.test(n.charAt(Gn))?(a=n.charAt(Gn),Gn++):(a=o,0===Jn&&ot(tn)),a!==o)for(;a!==o;)u.push(a),x.test(n.charAt(Gn))?(a=n.charAt(Gn),Gn++):(a=o,0===Jn&&ot(tn));else u=o;if((i=u!==o?n.substring(i,Gn):u)!==o){if(u=Gn,a=Gn,46===n.charCodeAt(Gn)?(c=g,Gn++):(c=o,0===Jn&&ot(V)),c!==o){for(s=Gn,l=[],x.test(n.charAt(Gn))?(f=n.charAt(Gn),Gn++):(f=o,0===Jn&&ot(tn));f!==o;)l.push(f),x.test(n.charAt(Gn))?(f=n.charAt(Gn),Gn++):(f=o,0===Jn&&ot(tn));a=c=[c,s=n.substring(s,Gn)]}else Gn=a,a=o;a===o&&(a=null),r=i=[i,u=n.substring(u,Gn)]}else Gn=r,r=o;if((e=r!==o?n.substring(e,Gn):r)===o){if(e=Gn,r=Gn,46===n.charCodeAt(Gn)?(i=g,Gn++):(i=o,0===Jn&&ot(V)),i!==o){if(u=Gn,a=[],x.test(n.charAt(Gn))?(c=n.charAt(Gn),Gn++):(c=o,0===Jn&&ot(tn)),c!==o)for(;c!==o;)a.push(c),x.test(n.charAt(Gn))?(c=n.charAt(Gn),Gn++):(c=o,0===Jn&&ot(tn));else a=o;(u=a!==o?n.substring(u,Gn):a)!==o?r=i=[i,u]:(Gn=r,r=o)}else Gn=r,r=o;e=r!==o?n.substring(e,Gn):r}return e!==o&&(e=Dn(e)),Jn--,(t=e)===o&&(e=o,0===Jn&&ot(en)),t}function jt(){var n;return Jn++,n=Pt(),Jn--,n===o&&0===Jn&&ot(rn),n}function Nt(){var t,e,r;return(t=Pt())===o&&(t=Gn,43===n.charCodeAt(Gn)?(e=v,Gn++):(e=o,0===Jn&&ot(Q)),e!==o&&(r=Pt())!==o?t=Ln(r):(Gn=t,t=o),t===o&&(t=Gn,45===n.charCodeAt(Gn)?(e=b,Gn++):(e=o,0===Jn&&ot(Y)),e!==o&&(r=Pt())!==o?t=Vn(r):(Gn=t,t=o))),t}function Rt(){var n,t,e;return Jn++,n=Gn,(t=Ot())===o&&(t=null),(e=_t())!==o?n=Bn(t,e):(Gn=n,n=o),Jn--,n===o&&(t=o,0===Jn&&ot(on)),n}function Tt(){var t,e;if(t=[],S.test(n.charAt(Gn))?(e=n.charAt(Gn),Gn++):(e=o,0===Jn&&ot(un)),e!==o)for(;e!==o;)t.push(e),S.test(n.charAt(Gn))?(e=n.charAt(Gn),Gn++):(e=o,0===Jn&&ot(un));else t=o;return t}function Ut(){var t;return Gn,k.test(n.charAt(Gn))?(t=n.charAt(Gn),Gn++):(t=o,0===Jn&&ot(an)),t!==o&&(t=$n(t)),t}function qt(){var t,e;return t=Gn,Jn++,n.length>Gn?(e=n.charAt(Gn),Gn++):(e=o,0===Jn&&ot(M)),Jn--,e===o?t=void 0:(Gn=t,t=o),t}if((r=a())!==o&&Gn===n.length)return r;throw r!==o&&Gn<n.length&&ot(nt()),it(Hn,Xn<n.length?n.charAt(Xn):null,Xn<n.length?rt(Xn,Xn+1):rt(Xn,Xn))}n(t,Error),t.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){o=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+u.line+":"+u.column;if(o){var c=this.location.end,s=e("",u.line.toString().length," "),l=o[i.line-1],f=(i.line===c.line?c.column:l.length+1)-i.column||1;t+="\n --\x3e "+a+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+e("",i.column-1," ")+e("",f,"^")}else t+="\n at "+a}return t},t.buildMessage=function(n,t){var e={literal:function(n){return'"'+o(n.text)+'"'},class:function(n){var t=n.parts.map((function(n){return Array.isArray(n)?i(n[0])+"-"+i(n[1]):i(n)}));return"["+(n.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(n){return n.description}};function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}function o(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function i(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function u(n){return e[n.type](n)}function a(n){var t,e,r=n.map(u);if(r.sort(),r.length>0){for(t=1,e=1;t<r.length;t++)r[t-1]!==r[t]&&(r[e]=r[t],e++);r.length=e}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(n){return n?'"'+o(n)+'"':"end of input"}return"Expected "+a(n)+" but "+c(t)+" found."}}(),function(){function n(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function t(n,e,r,o){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,t.prototype),i.expected=e,i.found=r,i.location=o,i.name="SyntaxError",i}function e(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,n+(e+=e.repeat(t)).slice(0,t))}function r(n,e){var r,o={},i=(e=void 0!==e?e:{}).grammarSource,u={body:xn},a=xn,c=mn("decl_start"),s=mn("decl_end"),l=mn("vert"),f=gn(),p=mn("l"),h=mn("r"),g=mn("c"),d=mn("p"),m=mn("m"),y=mn("b"),v=mn("w"),b=mn("W"),A=mn("X"),x=mn("!"),S=mn("@"),k=mn("<"),M=mn(">"),C=mn("group"),w=mn("whitespace"),I=function(n){return n},F=function(n){return n},E=function(){return[]},O=function(n,t,e,r,o){return{type:"column",pre_dividers:n,post_dividers:o,before_start_code:t,before_end_code:r,alignment:e}},_=function(){return{type:"vert_divider"}},P=function(n,t){return{type:"bang_divider",content:t[0].content}},j=function(n){return{type:"at_divider",content:n[0].content}},N=function(n){return n},R=function(n){return{type:"decl_code",code:n[0].content}},T=function(n){return{type:"decl_code",code:n[0].content}},U=function(){return{type:"alignment",alignment:"left"}},q=function(){return{type:"alignment",alignment:"center"}},W=function(){return{type:"alignment",alignment:"right"}},z=function(){return{type:"alignment",alignment:"X"}},D=function(){return"top"},L=function(){return"default"},V=function(){return"bottom"},B=function(n,t){return{type:"alignment",alignment:"parbox",baseline:n,size:t[0].content}},$=function(n,t){return{type:"alignment",alignment:"parbox",baseline:n[0].content,size:t[0].content}},G=function(n){return e.matchChar(n,"|")},Z=function(n){return e.matchChar(n,"l")},X=function(n){return e.matchChar(n,"r")},H=function(n){return e.matchChar(n,"c")},J=function(n){return e.matchChar(n,"p")},Q=function(n){return e.matchChar(n,"m")},K=function(n){return e.matchChar(n,"b")},Y=function(n){return e.matchChar(n,"w")},nn=function(n){return e.matchChar(n,"W")},tn=function(n){return e.matchChar(n,"X")},en=function(n){return e.matchChar(n,"!")},rn=function(n){return e.matchChar(n,"@")},on=function(n){return e.matchChar(n,"<")},un=function(n){return e.matchChar(n,">")},an=function(n){return e.isGroup(n)},cn=function(n){return e.isWhitespace(n)},sn=0,ln=[{line:1,column:1}],fn=0,pn=[],hn=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=u[e.startRule]}function gn(){return{type:"any"}}function dn(){return{type:"end"}}function mn(n){return{type:"other",description:n}}function yn(t){var e,r=ln[t];if(r)return r;for(e=t-1;!ln[e];)e--;for(r={line:(r=ln[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return ln[t]=r,r}function vn(n,t,e){var r=yn(n),o=yn(t),u={source:i,start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return e&&i&&"function"==typeof i.offset&&(u.start=i.offset(u.start),u.end=i.offset(u.end)),u}function bn(n){sn<fn||(sn>fn&&(fn=sn,pn=[]),pn.push(n))}function An(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function xn(){var n,t,e,r,i,u;if(n=sn,t=[],e=sn,(r=Sn())!==o){for(i=[],u=Ln();u!==o;)i.push(u),u=Ln();e=I(r)}else sn=e,e=o;if(e!==o)for(;e!==o;)if(t.push(e),e=sn,(r=Sn())!==o){for(i=[],u=Ln();u!==o;)i.push(u),u=Ln();e=I(r)}else sn=e,e=o;else t=o;return t!==o&&(t=F(t)),(n=t)===o&&(n=sn,(t=Vn())!==o&&(t=E()),n=t),n}function Sn(){var n,t,e,r,i,u,a;for(n=sn,t=[],e=kn();e!==o;)t.push(e),e=kn();if((e=Mn())===o&&(e=null),(r=wn())!==o){for((i=Cn())===o&&(i=null),u=[],a=kn();a!==o;)u.push(a),a=kn();n=O(t,e,r,i,u)}else sn=n,n=o;return n}function kn(){var n,t,e,r,i;for(n=sn,t=[],e=Ln();e!==o;)t.push(e),e=Ln();if(e=sn,(r=In())!==o&&(r=_()),(e=r)===o&&(e=sn,(r=Un())!==o&&(i=Dn())!==o?e=P(r,i):(sn=e,e=o),e===o&&(e=sn,(r=qn())!==o&&(i=Dn())!==o?e=j(i):(sn=e,e=o))),e!==o){for(r=[],i=Ln();i!==o;)r.push(i),i=Ln();n=N(e)}else sn=n,n=o;return n}function Mn(){var n,t;return hn++,n=sn,zn()!==o&&(t=Dn())!==o?n=R(t):(sn=n,n=o),hn--,n===o&&(o,0===hn&&bn(c)),n}function Cn(){var n,t;return hn++,n=sn,Wn()!==o&&(t=Dn())!==o?n=T(t):(sn=n,n=o),hn--,n===o&&(o,0===hn&&bn(s)),n}function wn(){var n,t,e,r,i,u;if(n=sn,(t=Fn())!==o&&(t=U()),(n=t)===o&&(n=sn,(t=On())!==o&&(t=q()),(n=t)===o&&(n=sn,(t=En())!==o&&(t=W()),(n=t)===o&&(n=sn,(t=Tn())!==o&&(t=z()),(n=t)===o)))){if(n=sn,t=sn,(e=_n())!==o&&(e=D()),(t=e)===o&&(t=sn,(e=Pn())!==o&&(e=L()),(t=e)===o&&(t=sn,(e=jn())!==o&&(e=V()),t=e)),t!==o){for(e=[],r=Ln();r!==o;)e.push(r),r=Ln();(r=Dn())!==o?n=B(t,r):(sn=n,n=o)}else sn=n,n=o;if(n===o)if(n=sn,(t=Nn())===o&&(t=Rn()),t!==o){for(e=[],r=Ln();r!==o;)e.push(r),r=Ln();if((r=Dn())!==o){for(i=[],u=Ln();u!==o;)i.push(u),u=Ln();(u=Dn())!==o?n=$(r,u):(sn=n,n=o)}else sn=n,n=o}else sn=n,n=o}return n}function In(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=G(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(l)),t}function Fn(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=Z(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(p)),t}function En(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=X(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(h)),t}function On(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=H(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(g)),t}function _n(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=J(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(d)),t}function Pn(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=Q(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(m)),t}function jn(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=K(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(y)),t}function Nn(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=Y(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(v)),t}function Rn(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=nn(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(b)),t}function Tn(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=tn(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(A)),t}function Un(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=en(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(x)),t}function qn(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=rn(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(S)),t}function Wn(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=on(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(k)),t}function zn(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=un(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(M)),t}function Dn(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=an(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(C)),t}function Ln(){var t,e,r;return hn++,t=sn,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),e!==o&&(r=(r=cn(e))?void 0:o)!==o?t=e=[e,r]:(sn=t,t=o),hn--,t===o&&(e=o,0===hn&&bn(w)),t}function Vn(){var t,e;return t=sn,hn++,n.length>sn?(e=n.charAt(sn),sn++):(e=o,0===hn&&bn(f)),hn--,e===o?t=void 0:(sn=t,t=o),t}if(!e.isHash)try{Object.assign(e,{matchChar:(n,t)=>"string"===n.type&&n.content===t,isGroup:n=>"group"===n.type,isWhitespace:n=>"whitespace"===n.type})}catch(n){}if((r=a())!==o&&sn===n.length)return r;throw r!==o&&sn<n.length&&bn(dn()),An(pn,fn<n.length?n.charAt(fn):null,fn<n.length?vn(fn,fn+1):vn(fn,fn))}n(t,Error),t.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){o=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+u.line+":"+u.column;if(o){var c=this.location.end,s=e("",u.line.toString().length," "),l=o[i.line-1],f=(i.line===c.line?c.column:l.length+1)-i.column||1;t+="\n --\x3e "+a+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+e("",i.column-1," ")+e("",f,"^")}else t+="\n at "+a}return t},t.buildMessage=function(n,t){var e={literal:function(n){return'"'+o(n.text)+'"'},class:function(n){var t=n.parts.map((function(n){return Array.isArray(n)?i(n[0])+"-"+i(n[1]):i(n)}));return"["+(n.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(n){return n.description}};function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}function o(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function i(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function u(n){return e[n.type](n)}function a(n){var t,e,r=n.map(u);if(r.sort(),r.length>0){for(t=1,e=1;t<r.length;t++)r[t-1]!==r[t]&&(r[e]=r[t],e++);r.length=e}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(n){return n?'"'+o(n)+'"':"end of input"}return"Expected "+a(n)+" but "+c(t)+" found."}}(),function(){function n(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function t(n,e,r,o){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,t.prototype),i.expected=e,i.found=r,i.location=o,i.name="SyntaxError",i}function e(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,n+(e+=e.repeat(t)).slice(0,t))}function r(n,e){var r,o={},i=(e=void 0!==e?e:{}).grammarSource,u={body:gn},a=gn,c=sn("item"),s=an(),l=sn("equation"),f=sn("trailing comment"),p=sn("comment only line"),h=sn("non-var token"),g=sn("token"),d=sn("same line comment"),m=sn("own line comment"),y=sn(","),v=sn("@"),b=sn("variable token"),A=sn("+/-"),x=sn("="),S=function(n,t){return n.concat(t||[])},k=function(){return[]},M=function(n,t,e,r){return{type:"item",op:n,variable:e,content:t.concat(e,r)}},C=function(n,t){return{type:"item",op:n,variable:null,content:t}},w=function(n,t,e){return{...n,sep:[].concat(t),trailingComment:e}},I=function(n,t){return{...n,trailingComment:t}},F=function(n,t){return{type:"line",equation:n,annotation:t,sep:null}},E=function(n,t){return n?{type:"annotation",marker:n,content:t}:null},O=function(n,t,e){return{type:"equation",left:n,right:e,equals:t}},_=function(n){return n},P=function(n){return{type:"line",trailingComment:n}},j=function(n,t){return[n].concat(t||[])},N=function(n){return n},R=function(n){return n},T=function(n){return n},U=function(n){return e.isSameLineComment(n)},q=function(n){return n},W=function(n){return e.isOwnLineComment(n)},z=function(n){return n},D=function(n){return e.isWhitespace(n)},L=function(n){return n},V=function(n){return e.isSep(n)},B=function(n){return n},$=function(n){return e.isAt(n)},G=function(n){return n},Z=function(n){return e.isVar(n)},X=function(n){return n},H=function(n){return e.isOperation(n)},J=function(n){return n},Q=function(n){return e.isEquals(n)},K=function(n){return n},Y=function(n){return e.isSubscript(n)},nn=function(n){return n},tn=0,en=[{line:1,column:1}],rn=0,on=[],un=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=u[e.startRule]}function an(){return{type:"any"}}function cn(){return{type:"end"}}function sn(n){return{type:"other",description:n}}function ln(t){var e,r=en[t];if(r)return r;for(e=t-1;!en[e];)e--;for(r={line:(r=en[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return en[t]=r,r}function fn(n,t,e){var r=ln(n),o=ln(t),u={source:i,start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return e&&i&&"function"==typeof i.offset&&(u.start=i.offset(u.start),u.end=i.offset(u.end)),u}function pn(n){tn<rn||(tn>rn&&(rn=tn,on=[]),on.push(n))}function hn(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function gn(){var n,t,e;for(n=tn,t=[],(e=Sn())===o&&(e=mn())===o&&(e=yn());e!==o;)t.push(e),(e=Sn())===o&&(e=mn())===o&&(e=yn());return(e=vn())===o&&(e=Tn()),e!==o?n=S(t,e):(tn=n,n=o),n===o&&(n=tn,(t=Tn())!==o&&(t=k()),n=t),n}function dn(){var n,t,e,r,i,u,a,s,l,f;for(un++,n=tn,(t=jn())===o&&(t=null),e=[],r=En();r!==o;)e.push(r),r=En();for(r=[],i=Mn();i!==o;)r.push(i),i=Mn();for(i=[],u=En();u!==o;)i.push(u),u=En();if((u=kn())!==o){for(a=[],s=En();s!==o;)a.push(s),s=En();for(s=[],l=wn();l!==o;)s.push(l),l=wn();for(l=[],f=En();f!==o;)l.push(f),f=En();n=M(t,r,u,s)}else tn=n,n=o;if(n===o){for(n=tn,(t=jn())===o&&(t=null),e=[],r=En();r!==o;)e.push(r),r=En();if(r=[],(i=Mn())!==o)for(;i!==o;)r.push(i),i=Mn();else r=o;if(r!==o){for(i=[],u=En();u!==o;)i.push(u),u=En();n=C(t,r)}else tn=n,n=o}return un--,n===o&&(t=o,0===un&&pn(c)),n}function mn(){var n,t,e,r;return n=tn,(t=vn())!==o&&(e=On())!==o?((r=xn())===o&&(r=null),n=w(t,e,r)):(tn=n,n=o),n}function yn(){var n,t,e;return n=tn,(t=vn())!==o&&(e=xn())!==o?n=I(t,e):(tn=n,n=o),n}function vn(){var t,e,r,i;return t=tn,e=tn,un++,n.length>tn?(r=n.charAt(tn),tn++):(r=o,0===un&&pn(s)),un--,r!==o?(tn=e,e=void 0):e=o,e!==o?(r=An(),(i=bn())===o&&(i=null),t=F(r,i)):(tn=t,t=o),t}function bn(){var n,t,e,r;if(n=tn,(t=_n())!==o){for(e=[],r=Cn();r!==o;)e.push(r),r=Cn();n=E(t,e)}else tn=n,n=o;return n}function An(){var n,t,e,r,i;for(un++,n=tn,t=[],e=dn();e!==o;)t.push(e),e=dn();for((e=Nn())===o&&(e=null),r=[],(i=wn())===o&&(i=jn());i!==o;)r.push(i),(i=wn())===o&&(i=jn());return n=O(t,e,r),un--,t=o,0===un&&pn(l),n}function xn(){var n,t,e;for(un++,n=tn,t=[],e=En();e!==o;)t.push(e),e=En();return(e=In())!==o?n=_(e):(tn=n,n=o),un--,n===o&&(t=o,0===un&&pn(f)),n}function Sn(){var n,t,e;for(un++,n=tn,t=[],e=En();e!==o;)t.push(e),e=En();return(e=Fn())!==o?n=P(e):(tn=n,n=o),un--,n===o&&(t=o,0===un&&pn(p)),n}function kn(){var n,t,e,r;if(n=tn,(t=Pn())!==o){for(e=[],r=En();r!==o;)e.push(r),r=En();(r=Rn())===o&&(r=null),n=j(t,r)}else tn=n,n=o;return n}function Mn(){var n,t,e;return un++,n=tn,t=tn,un++,e=kn(),un--,e===o?t=void 0:(tn=t,t=o),t!==o&&(e=wn())!==o?n=N(e):(tn=n,n=o),un--,n===o&&(t=o,0===un&&pn(h)),n}function Cn(){var t,e,r;return t=tn,e=tn,un++,(r=On())===o&&(r=xn())===o&&(r=Fn()),un--,r===o?e=void 0:(tn=e,e=o),e!==o?(n.length>tn?(r=n.charAt(tn),tn++):(r=o,0===un&&pn(s)),r!==o?t=R(r):(tn=t,t=o)):(tn=t,t=o),t}function wn(){var t,e,r;return un++,t=tn,e=tn,un++,(r=On())===o&&(r=_n())===o&&(r=jn())===o&&(r=Nn())===o&&(r=xn())===o&&(r=Fn()),un--,r===o?e=void 0:(tn=e,e=o),e!==o?(n.length>tn?(r=n.charAt(tn),tn++):(r=o,0===un&&pn(s)),r!==o?t=T(r):(tn=t,t=o)):(tn=t,t=o),un--,t===o&&(e=o,0===un&&pn(g)),t}function In(){var t,e;return un++,t=tn,n.length>tn?(e=n.charAt(tn),tn++):(e=o,0===un&&pn(s)),e!==o&&(U(e)?void 0:o)!==o?t=q(e):(tn=t,t=o),un--,t===o&&(e=o,0===un&&pn(d)),t}function Fn(){var t,e;return un++,t=tn,n.length>tn?(e=n.charAt(tn),tn++):(e=o,0===un&&pn(s)),e!==o&&(W(e)?void 0:o)!==o?t=z(e):(tn=t,t=o),un--,t===o&&(e=o,0===un&&pn(m)),t}function En(){var t,e;return t=tn,n.length>tn?(e=n.charAt(tn),tn++):(e=o,0===un&&pn(s)),e!==o&&(D(e)?void 0:o)!==o?t=L(e):(tn=t,t=o),t}function On(){var t,e;return un++,t=tn,n.length>tn?(e=n.charAt(tn),tn++):(e=o,0===un&&pn(s)),e!==o&&(V(e)?void 0:o)!==o?t=B(e):(tn=t,t=o),un--,t===o&&(e=o,0===un&&pn(y)),t}function _n(){var t,e;return un++,t=tn,n.length>tn?(e=n.charAt(tn),tn++):(e=o,0===un&&pn(s)),e!==o&&($(e)?void 0:o)!==o?t=G(e):(tn=t,t=o),un--,t===o&&(e=o,0===un&&pn(v)),t}function Pn(){var t,e;return un++,t=tn,n.length>tn?(e=n.charAt(tn),tn++):(e=o,0===un&&pn(s)),e!==o&&(Z(e)?void 0:o)!==o?t=X(e):(tn=t,t=o),un--,t===o&&(e=o,0===un&&pn(b)),t}function jn(){var t,e,r,i,u;for(un++,t=tn,e=[],r=En();r!==o;)e.push(r),r=En();if(n.length>tn?(r=n.charAt(tn),tn++):(r=o,0===un&&pn(s)),r!==o){for(i=[],u=En();u!==o;)i.push(u),u=En();(u=(u=H(r))?void 0:o)!==o?t=J(r):(tn=t,t=o)}else tn=t,t=o;return un--,t===o&&(e=o,0===un&&pn(A)),t}function Nn(){var t,e;return un++,t=tn,n.length>tn?(e=n.charAt(tn),tn++):(e=o,0===un&&pn(s)),e!==o&&(Q(e)?void 0:o)!==o?t=K(e):(tn=t,t=o),un--,t===o&&(e=o,0===un&&pn(x)),t}function Rn(){var t,e;return t=tn,n.length>tn?(e=n.charAt(tn),tn++):(e=o,0===un&&pn(s)),e!==o&&(Y(e)?void 0:o)!==o?t=nn(e):(tn=t,t=o),t}function Tn(){var t,e;return t=tn,un++,n.length>tn?(e=n.charAt(tn),tn++):(e=o,0===un&&pn(s)),un--,e===o?t=void 0:(tn=t,t=o),t}if(!e.isWhitespace)try{Object.assign(e,{isSep:n=>"string"===n.type&&","===n.content,isVar:n=>"string"===n.type&&n.content.match(/[a-zA-Z]/),isOperation:n=>"string"===n.type&&n.content.match(/[+-]/),isEquals:n=>"string"===n.type&&"="===n.content,isAt:n=>"string"===n.type&&"@"===n.content,isSubscript:n=>"_"===n.content,isWhitespace:n=>"whitespace"===n.type,isSameLineComment:n=>"comment"===n.type&&n.sameline,isOwnLineComment:n=>"comment"===n.type&&!n.sameline})}catch(n){}if((r=a())!==o&&tn===n.length)return r;throw r!==o&&tn<n.length&&pn(cn()),hn(on,rn<n.length?n.charAt(rn):null,rn<n.length?fn(rn,rn+1):fn(rn,rn))}n(t,Error),t.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){o=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+u.line+":"+u.column;if(o){var c=this.location.end,s=e("",u.line.toString().length," "),l=o[i.line-1],f=(i.line===c.line?c.column:l.length+1)-i.column||1;t+="\n --\x3e "+a+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+e("",i.column-1," ")+e("",f,"^")}else t+="\n at "+a}return t},t.buildMessage=function(n,t){var e={literal:function(n){return'"'+o(n.text)+'"'},class:function(n){var t=n.parts.map((function(n){return Array.isArray(n)?i(n[0])+"-"+i(n[1]):i(n)}));return"["+(n.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(n){return n.description}};function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}function o(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function i(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function u(n){return e[n.type](n)}function a(n){var t,e,r=n.map(u);if(r.sort(),r.length>0){for(t=1,e=1;t<r.length;t++)r[t-1]!==r[t]&&(r[e]=r[t],e++);r.length=e}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(n){return n?'"'+o(n)+'"':"end of input"}return"Expected "+a(n)+" but "+c(t)+" found."}}(),function(){function n(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function t(n,e,r,o){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,t.prototype),i.expected=e,i.found=r,i.location=o,i.name="SyntaxError",i}function e(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,n+(e+=e.repeat(t)).slice(0,t))}function r(n,e){var r,o={},i=(e=void 0!==e?e:{}).grammarSource,u={root:kn},a=kn,c="plus",s="minus",l="pt",f="mm",p="cm",h="in",g="ex",d="em",m="bp",y="pc",v="dd",b="cc",A="nd",x="nc",S="sp",k="filll",M="fill",C="fil",w=".",I="+",F="-",E=/^[0-9]/,O=mn(),_=gn("plus",!1),P=gn("minus",!1),j=gn("pt",!1),N=gn("mm",!1),R=gn("cm",!1),T=gn("in",!1),U=gn("ex",!1),q=gn("em",!1),W=gn("bp",!1),z=gn("pc",!1),D=gn("dd",!1),L=gn("cc",!1),V=gn("nd",!1),B=gn("nc",!1),$=gn("sp",!1),G=gn("filll",!1),Z=gn("fill",!1),X=gn("fil",!1),H=vn("number"),J=dn([["0","9"]],!1,!1),Q=gn(".",!1),K=gn("+",!1),Y=gn("-",!1),nn=function(n,t,e){return{type:"glue",fixed:n,stretchable:t,shrinkable:e,position:hn()}},tn=function(n){return n},en=function(n,t){return{type:"dim",value:n,unit:t}},rn=function(n,t){return{type:"dim",value:n,unit:t}},on=function(n,t){return{type:"dim",value:n,unit:t}},un=function(n){return parseFloat(n)},an=0,cn=0,sn=[{line:1,column:1}],ln=0,fn=[],pn=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=u[e.startRule]}function hn(){return An(cn,an)}function gn(n,t){return{type:"literal",text:n,ignoreCase:t}}function dn(n,t,e){return{type:"class",parts:n,inverted:t,ignoreCase:e}}function mn(){return{type:"any"}}function yn(){return{type:"end"}}function vn(n){return{type:"other",description:n}}function bn(t){var e,r=sn[t];if(r)return r;for(e=t-1;!sn[e];)e--;for(r={line:(r=sn[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return sn[t]=r,r}function An(n,t,e){var r=bn(n),o=bn(t),u={source:i,start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return e&&i&&"function"==typeof i.offset&&(u.start=i.offset(u.start),u.end=i.offset(u.end)),u}function xn(n){an<ln||(an>ln&&(ln=an,fn=[]),fn.push(n))}function Sn(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function kn(){var t,e,r,i,u;if(t=an,e=an,(r=Mn())!==o?((i=Cn())===o&&(i=null),(u=wn())===o&&(u=null),cn=e,e=nn(r,i,u)):(an=e,e=o),e!==o){for(r=[],n.length>an?(i=n.charAt(an),an++):(i=o,0===pn&&xn(O));i!==o;)r.push(i),n.length>an?(i=n.charAt(an),an++):(i=o,0===pn&&xn(O));cn=t,t=tn(e)}else an=t,t=o;return t}function Mn(){var n,t,e;return n=an,(t=En())!==o&&(e=In())!==o?(cn=n,n=en(t,e)):(an=n,n=o),n}function Cn(){var t,e,r,i;return t=an,n.substr(an,4)===c?(e=c,an+=4):(e=o,0===pn&&xn(_)),e!==o&&(r=En())!==o&&(i=Fn())!==o?(cn=t,t=rn(r,i)):(an=t,t=o),t}function wn(){var t,e,r,i;return t=an,n.substr(an,5)===s?(e=s,an+=5):(e=o,0===pn&&xn(P)),e!==o&&(r=En())!==o&&(i=Fn())!==o?(cn=t,t=on(r,i)):(an=t,t=o),t}function In(){var t;return n.substr(an,2)===l?(t=l,an+=2):(t=o,0===pn&&xn(j)),t===o&&(n.substr(an,2)===f?(t=f,an+=2):(t=o,0===pn&&xn(N)),t===o&&(n.substr(an,2)===p?(t=p,an+=2):(t=o,0===pn&&xn(R)),t===o&&(n.substr(an,2)===h?(t=h,an+=2):(t=o,0===pn&&xn(T)),t===o&&(n.substr(an,2)===g?(t=g,an+=2):(t=o,0===pn&&xn(U)),t===o&&(n.substr(an,2)===d?(t=d,an+=2):(t=o,0===pn&&xn(q)),t===o&&(n.substr(an,2)===m?(t=m,an+=2):(t=o,0===pn&&xn(W)),t===o&&(n.substr(an,2)===y?(t=y,an+=2):(t=o,0===pn&&xn(z)),t===o&&(n.substr(an,2)===v?(t=v,an+=2):(t=o,0===pn&&xn(D)),t===o&&(n.substr(an,2)===b?(t=b,an+=2):(t=o,0===pn&&xn(L)),t===o&&(n.substr(an,2)===A?(t=A,an+=2):(t=o,0===pn&&xn(V)),t===o&&(n.substr(an,2)===x?(t=x,an+=2):(t=o,0===pn&&xn(B)),t===o&&(n.substr(an,2)===S?(t=S,an+=2):(t=o,0===pn&&xn($)))))))))))))),t}function Fn(){var t;return(t=In())===o&&(n.substr(an,5)===k?(t=k,an+=5):(t=o,0===pn&&xn(G)),t===o&&(n.substr(an,4)===M?(t=M,an+=4):(t=o,0===pn&&xn(Z)),t===o&&(n.substr(an,3)===C?(t=C,an+=3):(t=o,0===pn&&xn(X))))),t}function En(){var t,e,r,i,u,a,c,s,l;for(pn++,t=an,e=an,r=an,(i=On())===o&&(i=null),u=an,a=[],E.test(n.charAt(an))?(c=n.charAt(an),an++):(c=o,0===pn&&xn(J));c!==o;)a.push(c),E.test(n.charAt(an))?(c=n.charAt(an),an++):(c=o,0===pn&&xn(J));if(46===n.charCodeAt(an)?(c=w,an++):(c=o,0===pn&&xn(Q)),c!==o){if(s=[],E.test(n.charAt(an))?(l=n.charAt(an),an++):(l=o,0===pn&&xn(J)),l!==o)for(;l!==o;)s.push(l),E.test(n.charAt(an))?(l=n.charAt(an),an++):(l=o,0===pn&&xn(J));else s=o;s!==o?u=a=[a,c,s]:(an=u,u=o)}else an=u,u=o;if(u===o)if(u=[],E.test(n.charAt(an))?(a=n.charAt(an),an++):(a=o,0===pn&&xn(J)),a!==o)for(;a!==o;)u.push(a),E.test(n.charAt(an))?(a=n.charAt(an),an++):(a=o,0===pn&&xn(J));else u=o;return u!==o?r=i=[i,u]:(an=r,r=o),(e=r!==o?n.substring(e,an):r)!==o&&(cn=t,e=un(e)),pn--,(t=e)===o&&(e=o,0===pn&&xn(H)),t}function On(){var t;return 43===n.charCodeAt(an)?(t=I,an++):(t=o,0===pn&&xn(K)),t===o&&(45===n.charCodeAt(an)?(t=F,an++):(t=o,0===pn&&xn(Y))),t}if((r=a())!==o&&an===n.length)return r;throw r!==o&&an<n.length&&xn(yn()),Sn(fn,ln<n.length?n.charAt(ln):null,ln<n.length?An(ln,ln+1):An(ln,ln))}n(t,Error),t.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){o=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+u.line+":"+u.column;if(o){var c=this.location.end,s=e("",u.line.toString().length," "),l=o[i.line-1],f=(i.line===c.line?c.column:l.length+1)-i.column||1;t+="\n --\x3e "+a+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+e("",i.column-1," ")+e("",f,"^")}else t+="\n at "+a}return t},t.buildMessage=function(n,t){var e={literal:function(n){return'"'+o(n.text)+'"'},class:function(n){var t=n.parts.map((function(n){return Array.isArray(n)?i(n[0])+"-"+i(n[1]):i(n)}));return"["+(n.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(n){return n.description}};function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}function o(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function i(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function u(n){return e[n.type](n)}function a(n){var t,e,r=n.map(u);if(r.sort(),r.length>0){for(t=1,e=1;t<r.length;t++)r[t-1]!==r[t]&&(r[e]=r[t],e++);r.length=e}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(n){return n?'"'+o(n)+'"':"end of input"}return"Expected "+a(n)+" but "+c(t)+" found."}}(),function(){function n(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function t(n,e,r,o){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,t.prototype),i.expected=e,i.found=r,i.location=o,i.name="SyntaxError",i}function e(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,n+(e+=e.repeat(t)).slice(0,t))}function r(n,e){var r,o={},i=(e=void 0!==e?e:{}).grammarSource,u={path_spec:On,foreach_body:jn},a=On,c=kn(),s=Cn("comment"),l=Cn("floating comment"),f=Cn("operation"),p=Cn("="),h=function(n){return n},g=function(n){return{type:"path_spec",content:n}},d=function(n,t,e){return{op:t,comment:e}},m=function(n,t,e,r){return{type:"animation",comments:[n,...t.map((n=>n.comment)),e].filter((n=>n)),attribute:t.map((n=>n.op.content.content)).join(" "),content:r.content}},y=function(n,t){return{...t,start:n,type:"foreach"}},v=function(n,t,e,r,o,i,u,a){const c=[n,r,o,u].filter((n=>n));return{type:"foreach_body",variables:t,options:e&&e.content,list:i,command:a,comments:c}},b=function(n,t,e,r){const o=[n,e].filter((n=>n));return{type:"svg_operation",options:t&&t.content,content:r,comments:o}},A=function(n,t,e,r,o,i){return{coord:i,comment:o}},x=function(n,t,e,r,o,i){const u=[n,t,r,o&&o.comment,i].filter((n=>n));return{type:"curve_to",controls:o?[e,o.coord]:[e],comments:u}},S=function(){return{type:"line_to",command:"|-"}},k=function(){return{type:"line_to",command:"-|"}},M=function(){return{type:"line_to",command:"--"}},C=function(n,t){return{type:"coordinate",content:t,prefix:n}},w=function(n){return{type:"square_brace_group",content:n}},I=function(n){return{type:"unknown",content:n}},F=function(n){return e.isComment(n)},E=function(n){return n},O=function(n){return e.isWhitespace(n)},_=function(n){return n},P=function(n){return n},j=function(n){return e.isOperation(n)},N=function(n){return{type:"operation",content:n}},R=function(n){return e.isChar(n,"=")},T=function(n){return n},U=function(n){return e.isChar(n,"[")},q=function(n){return n},W=function(n){return e.isChar(n,"]")},z=function(n){return n},D=function(n){return e.isChar(n,"(")},L=function(n){return n},V=function(n){return e.isChar(n,")")},B=function(n){return n},$=function(n){return e.isChar(n,"+")},G=function(n){return n},Z=function(n){return e.isChar(n,"-")},X=function(n){return n},H=function(n){return e.isChar(n,"|")},J=function(n){return n},Q=function(n){return e.isChar(n,".")},K=function(n){return n},Y=function(n){return e.isChar(n,"controls")},nn=function(n){return n},tn=function(n){return e.isChar(n,"and")},en=function(n){return n},rn=function(n){return e.isChar(n,"svg")},on=function(n){return n},un=function(n){return e.isGroup(n)},an=function(n){return n},cn=function(n){return e.isAnyMacro(n)},sn=function(n){return n},ln=function(n){return e.isChar(n,"foreach")},fn=function(n){return n},pn=function(n){return e.isMacro(n,"foreach")},hn=function(n){return n},gn=function(n){return e.isChar(n,"in")},dn=function(n){return n},mn=function(n){return e.isChar(n,":")},yn=function(n){return n},vn=0,bn=[{line:1,column:1}],An=0,xn=[],Sn=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=u[e.startRule]}function kn(){return{type:"any"}}function Mn(){return{type:"end"}}function Cn(n){return{type:"other",description:n}}function wn(t){var e,r=bn[t];if(r)return r;for(e=t-1;!bn[e];)e--;for(r={line:(r=bn[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return bn[t]=r,r}function In(n,t,e){var r=wn(n),o=wn(t),u={source:i,start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return e&&i&&"function"==typeof i.offset&&(u.start=i.offset(u.start),u.end=i.offset(u.end)),u}function Fn(n){vn<An||(vn>An&&(An=vn,xn=[]),xn.push(n))}function En(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function On(){var n,t,e,r,i;if(vn,n=[],t=vn,(e=qn())===o&&(e=Un())===o&&(e=Rn())===o&&(e=Tn())===o&&(e=Nn())===o&&(e=Pn())===o&&(e=Bn())===o&&(e=Dn())===o&&(e=_n())===o&&(e=zn()),e!==o){for(r=[],i=Ln();i!==o;)r.push(i),i=Ln();t=h(e)}else vn=t,t=o;if(t!==o)for(;t!==o;)if(n.push(t),t=vn,(e=qn())===o&&(e=Un())===o&&(e=Rn())===o&&(e=Tn())===o&&(e=Nn())===o&&(e=Pn())===o&&(e=Bn())===o&&(e=Dn())===o&&(e=_n())===o&&(e=zn()),e!==o){for(r=[],i=Ln();i!==o;)r.push(i),i=Ln();t=h(e)}else vn=t,t=o;else n=o;return n!==o&&(n=g(n)),n}function _n(){var n,t,e,r,i,u;if(n=vn,ct()!==o){if(t=Vn(),e=[],r=vn,(i=Bn())!==o?(u=Vn(),r=d(t,i,u)):(vn=r,r=o),r!==o)for(;r!==o;)e.push(r),r=vn,(i=Bn())!==o?(u=Vn(),r=d(t,i,u)):(vn=r,r=o);else e=o;e!==o&&(r=$n())!==o?(i=Vn(),(u=rt())!==o?n=m(t,e,i,u):(vn=n,n=o)):(vn=n,n=o)}else vn=n,n=o;return n}function Pn(){var n,t,e;return n=vn,(t=it())===o&&(t=ut()),t!==o&&(e=jn())!==o?n=y(t,e):(vn=n,n=o),n}function jn(){var t,e,r,i,u,a,s,l,f,p;for(t=vn,e=Vn(),r=vn,i=[],u=vn,a=vn,Sn++,(s=at())===o&&(s=qn()),Sn--,s===o?a=void 0:(vn=a,a=o),a!==o?(n.length>vn?(s=n.charAt(vn),vn++):(s=o,0===Sn&&Fn(c)),s!==o?u=a=[a,s]:(vn=u,u=o)):(vn=u,u=o);u!==o;)i.push(u),u=vn,a=vn,Sn++,(s=at())===o&&(s=qn()),Sn--,s===o?a=void 0:(vn=a,a=o),a!==o?(n.length>vn?(s=n.charAt(vn),vn++):(s=o,0===Sn&&Fn(c)),s!==o?u=a=[a,s]:(vn=u,u=o)):(vn=u,u=o);return r=n.substring(r,vn),(i=qn())===o&&(i=null),u=Vn(),(a=at())!==o?(s=Vn(),(l=rt())===o&&(l=ot()),l!==o?(f=Vn(),(p=Pn())===o&&(p=rt())===o&&(p=ot()),p!==o?t=v(e,r,i,u,s,l,f,p):(vn=t,t=o)):(vn=t,t=o)):(vn=t,t=o),t}function Nn(){var n,t,e,r,i;return n=vn,et()!==o?(t=Vn(),(e=qn())===o&&(e=null),r=Vn(),(i=rt())!==o?n=b(t,e,r,i):(vn=n,n=o)):(vn=n,n=o),n}function Rn(){var n,t,e,r,i,u,a,c,s;return n=vn,Wn()!==o?(t=Vn(),nt()!==o?(e=Vn(),(r=Un())!==o?(i=Vn(),u=vn,(a=tt())!==o?(c=Vn(),(s=Un())!==o?u=A(t,e,r,i,c,s):(vn=u,u=o)):(vn=u,u=o),u===o&&(u=null),a=Vn(),(c=Wn())!==o?n=x(t,e,r,i,u,a):(vn=n,n=o)):(vn=n,n=o)):(vn=n,n=o)):(vn=n,n=o),n}function Tn(){var n;return n=vn,Kn()!==o&&Qn()!==o?n=S():(vn=n,n=o),n===o&&(n=vn,Qn()!==o&&Kn()!==o?n=k():(vn=n,n=o),n===o&&(n=vn,Qn()!==o&&Qn()!==o?n=M():(vn=n,n=o))),n}function Un(){var t,e,r,i,u,a,s,l;if(t=vn,e=vn,r=vn,(i=Jn())!==o?((u=Jn())===o&&(u=null),r=i=[i,u]):(vn=r,r=o),r===o&&(r=null),e=n.substring(e,vn),(r=Xn())!==o){for(i=vn,u=[],a=vn,s=vn,Sn++,l=Hn(),Sn--,l===o?s=void 0:(vn=s,s=o),s!==o?(n.length>vn?(l=n.charAt(vn),vn++):(l=o,0===Sn&&Fn(c)),l!==o?a=s=[s,l]:(vn=a,a=o)):(vn=a,a=o);a!==o;)u.push(a),a=vn,s=vn,Sn++,l=Hn(),Sn--,l===o?s=void 0:(vn=s,s=o),s!==o?(n.length>vn?(l=n.charAt(vn),vn++):(l=o,0===Sn&&Fn(c)),l!==o?a=s=[s,l]:(vn=a,a=o)):(vn=a,a=o);i=n.substring(i,vn),(u=Hn())!==o?t=C(e,i):(vn=t,t=o)}else vn=t,t=o;return t}function qn(){var t,e,r,i,u,a;if(t=vn,Gn()!==o){for(e=vn,r=[],i=vn,u=vn,Sn++,a=Zn(),Sn--,a===o?u=void 0:(vn=u,u=o),u!==o?(n.length>vn?(a=n.charAt(vn),vn++):(a=o,0===Sn&&Fn(c)),a!==o?i=u=[u,a]:(vn=i,i=o)):(vn=i,i=o);i!==o;)r.push(i),i=vn,u=vn,Sn++,a=Zn(),Sn--,a===o?u=void 0:(vn=u,u=o),u!==o?(n.length>vn?(a=n.charAt(vn),vn++):(a=o,0===Sn&&Fn(c)),a!==o?i=u=[u,a]:(vn=i,i=o)):(vn=i,i=o);e=n.substring(e,vn),(r=Zn())!==o?t=w(e):(vn=t,t=o)}else vn=t,t=o;return t}function Wn(){var n,t,e;return n=vn,(t=Yn())!==o&&(e=Yn())!==o?n=t=[t,e]:(vn=n,n=o),n}function zn(){var t;return vn,n.length>vn?(t=n.charAt(vn),vn++):(t=o,0===Sn&&Fn(c)),t!==o&&(t=I(t)),t}function Dn(){var t,e;return Sn++,t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(F(e)?void 0:o)!==o?t=E(e):(vn=t,t=o),Sn--,t===o&&(e=o,0===Sn&&Fn(s)),t}function Ln(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(O(e)?void 0:o)!==o?t=_(e):(vn=t,t=o),t}function Vn(){var n,t,e,r,i;for(Sn++,n=vn,t=[],e=Ln();e!==o;)t.push(e),e=Ln();for((e=Dn())===o&&(e=null),r=[],i=Ln();i!==o;)r.push(i),i=Ln();return n=P(e),Sn--,t=o,0===Sn&&Fn(l),n}function Bn(){var t,e;return Sn++,t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(j(e)?void 0:o)!==o?t=N(e):(vn=t,t=o),Sn--,t===o&&(e=o,0===Sn&&Fn(f)),t}function $n(){var t,e;return Sn++,t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(R(e)?void 0:o)!==o?t=T(e):(vn=t,t=o),Sn--,t===o&&(e=o,0===Sn&&Fn(p)),t}function Gn(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(U(e)?void 0:o)!==o?t=q(e):(vn=t,t=o),t}function Zn(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(W(e)?void 0:o)!==o?t=z(e):(vn=t,t=o),t}function Xn(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(D(e)?void 0:o)!==o?t=L(e):(vn=t,t=o),t}function Hn(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(V(e)?void 0:o)!==o?t=B(e):(vn=t,t=o),t}function Jn(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&($(e)?void 0:o)!==o?t=G(e):(vn=t,t=o),t}function Qn(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(Z(e)?void 0:o)!==o?t=X(e):(vn=t,t=o),t}function Kn(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(H(e)?void 0:o)!==o?t=J(e):(vn=t,t=o),t}function Yn(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(Q(e)?void 0:o)!==o?t=K(e):(vn=t,t=o),t}function nt(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(Y(e)?void 0:o)!==o?t=nn(e):(vn=t,t=o),t}function tt(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(tn(e)?void 0:o)!==o?t=en(e):(vn=t,t=o),t}function et(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(rn(e)?void 0:o)!==o?t=on(e):(vn=t,t=o),t}function rt(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(un(e)?void 0:o)!==o?t=an(e):(vn=t,t=o),t}function ot(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(cn(e)?void 0:o)!==o?t=sn(e):(vn=t,t=o),t}function it(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(ln(e)?void 0:o)!==o?t=fn(e):(vn=t,t=o),t}function ut(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(pn(e)?void 0:o)!==o?t=hn(e):(vn=t,t=o),t}function at(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(gn(e)?void 0:o)!==o?t=dn(e):(vn=t,t=o),t}function ct(){var t,e;return t=vn,n.length>vn?(e=n.charAt(vn),vn++):(e=o,0===Sn&&Fn(c)),e!==o&&(mn(e)?void 0:o)!==o?t=yn(e):(vn=t,t=o),t}if(!e.isWhitespace)try{Object.assign(e,{isChar:(n,t)=>"string"===n.type&&n.content===t,isOperation:n=>"string"===n.type&&n.content.match(/[a-zA-Z]/),isWhitespace:n=>"whitespace"===n.type||"parbreak"===n.type,isSameLineComment:n=>"comment"===n.type&&n.sameline,isOwnLineComment:n=>"comment"===n.type&&!n.sameline,isComment:n=>"comment"===n.type,isGroup:n=>"group"===n.type,isMacro:(n,t)=>"macro"===n.type&&n.content===t,isAnyMacro:n=>"macro"===n.type})}catch(n){}if((r=a())!==o&&vn===n.length)return r;throw r!==o&&vn<n.length&&Fn(Mn()),En(xn,An<n.length?n.charAt(An):null,An<n.length?In(An,An+1):In(An,An))}n(t,Error),t.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){o=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+u.line+":"+u.column;if(o){var c=this.location.end,s=e("",u.line.toString().length," "),l=o[i.line-1],f=(i.line===c.line?c.column:l.length+1)-i.column||1;t+="\n --\x3e "+a+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+e("",i.column-1," ")+e("",f,"^")}else t+="\n at "+a}return t},t.buildMessage=function(n,t){var e={literal:function(n){return'"'+o(n.text)+'"'},class:function(n){var t=n.parts.map((function(n){return Array.isArray(n)?i(n[0])+"-"+i(n[1]):i(n)}));return"["+(n.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(n){return n.description}};function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}function o(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function i(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(n){return"\\x0"+r(n)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(n){return"\\x"+r(n)}))}function u(n){return e[n.type](n)}function a(n){var t,e,r=n.map(u);if(r.sort(),r.length>0){for(t=1,e=1;t<r.length;t++)r[t-1]!==r[t]&&(r[e]=r[t],e++);r.length=e}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(n){return n?'"'+o(n)+'"':"end of input"}return"Expected "+a(n)+" but "+c(t)+" found."}}(),j),T=N;var U={geometry:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}}},q={},W=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},n(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),z=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return W(t,n),t}(Error);function D(n){var t=Array.isArray(n)?n.length>0?"string"==typeof n[0]?Object.fromEntries(n.map((function(n){if("string"!=typeof n)throw new z("Wrong branch of map function");return[n,{}]}))):Object.fromEntries(n.map((function(n){if("string"==typeof n)throw new z("Wrong branch of map function");return null!=n.escapeToken?[n.content,{escapeToken:n.escapeToken}]:[n.content,{}]}))):{}:n;return function(n){if(null==n||"macro"!==n.type)return!1;var e=t[n.content];return!!e&&("object"!=typeof e||!("escapeToken"in e)||(null==e.escapeToken||e.escapeToken===n.escapeToken))}}function L(n){var t=Array.isArray(n)?Object.fromEntries(n.map((function(n){return[n,{}]}))):n;return function(n){if(!V.anyEnvironment(n))return!1;var e=m(n.env);return!!t[e]}}var V={macro:function(n,t){return null!=n&&("macro"===n.type&&(null==t||n.content===t))},anyMacro:function(n){return V.macro(n)},environment:function(n,t){return null!=n&&!("environment"!==n.type&&"mathenv"!==n.type||null!=t&&m(n.env)!==t)},anyEnvironment:function(n){return V.environment(n)},comment:function(n){return null!=n&&"comment"===n.type},parbreak:function(n){return null!=n&&"parbreak"===n.type},whitespace:function(n){return null!=n&&"whitespace"===n.type},whitespaceLike:function(n){return null!=n&&("whitespace"===n.type||"whitespace"===n.type&&!0===n.leadingWhitespace)},string:function(n,t){return null!=n&&("string"===n.type&&(null==t||n.content===t))},anyString:function(n){return V.string(n)},group:function(n){return null!=n&&"group"===n.type},argument:function(n){return null!=n&&"argument"===n.type},blankArgument:function(n){return!!V.argument(n)&&(""===n.openMark&&""===n.closeMark&&0===n.content.length)},math:function(n){return null!=n&&("displaymath"===n.type||"inlinemath"===n.type)},createMacroMatcher:D,createEnvironmentMatcher:L};function B(n){return Array.isArray(n)?{trimmedStart:$(n).trimmedStart,trimmedEnd:G(n).trimmedEnd}:n}function $(n){var t=Z(n).start;n.splice(0,t);for(var e=0,r=n;e<r.length;e++){var o=r[e];if(!V.comment(o))break;(o.leadingWhitespace||o.sameline)&&(o.leadingWhitespace=!1,delete o.position),t>0&&o.sameline&&(o.sameline=!1,delete o.position)}return{trimmedStart:t}}function G(n){var t=Z(n).end;n.splice(n.length-t,t);for(var e=n.length-1;e>=0;e--){var r=n[e];if(!V.comment(r))break;delete r.suffixParbreak,V.comment(r)&&r.leadingWhitespace&&!r.sameline&&(r.leadingWhitespace=!1,delete r.position)}return{trimmedEnd:t}}function Z(n){for(var t=0,e=0,r=0,o=n;r<o.length;r++){var i=o[r];if(!V.whitespace(i)&&!V.parbreak(i))break;t++}if(t===n.length)return{start:t,end:0};for(var u=n.length-1;u>=0;u--){i=n[u];if(!V.whitespace(i)&&!V.parbreak(i))break;e++}return{start:t,end:e}}var X={geometry:U,latex2e:{"\\":{signature:"!s o"},_:{signature:"m",escapeToken:""},"^":{signature:"m",escapeToken:""},newcommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0}},renewcommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0}},providecommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0}},newcounter:{signature:"m o",renderInfo:{breakAround:!0}},usecounter:{signature:"m"},setcounter:{signature:"m m",renderInfo:{breakAround:!0}},addtocounter:{signature:"m m",renderInfo:{breakAround:!0}},stepcounter:{signature:"m",renderInfo:{breakAround:!0}},refstepcounter:{signature:"m",renderInfo:{breakAround:!0}},newlength:{signature:"m",renderInfo:{breakAround:!0}},addtolength:{signature:"m m",renderInfo:{breakAround:!0}},settodepth:{signature:"m m",renderInfo:{breakAround:!0}},settoheight:{signature:"m m",renderInfo:{breakAround:!0}},settowidth:{signature:"m m",renderInfo:{breakAround:!0}},stretch:{signature:"m"},hspace:{signature:"s m"},vspace:{signature:"s m",renderInfo:{breakAround:!0}},vfill:{renderInfo:{breakAround:!0}},indent:{renderInfo:{breakAround:!0}},phantom:{signature:"m"},vphantom:{signature:"m"},hphantom:{signature:"m"},noindent:{renderInfo:{breakAround:!0}},smallskip:{renderInfo:{breakAround:!0}},medskip:{renderInfo:{breakAround:!0}},bigskip:{renderInfo:{breakAround:!0}},smallbreak:{renderInfo:{breakAround:!0}},medbreak:{renderInfo:{breakAround:!0}},bigbreak:{renderInfo:{breakAround:!0}},newline:{renderInfo:{breakAround:!0}},linebreak:{signature:"o",renderInfo:{breakAround:!0}},nolinebreak:{signature:"o",renderInfo:{breakAround:!0}},clearpage:{renderInfo:{breakAround:!0}},cleardoublepage:{renderInfo:{breakAround:!0}},newpage:{renderInfo:{breakAround:!0}},enlargethispage:{signature:"s",renderInfo:{breakAround:!0}},pagebreak:{signature:"o",renderInfo:{breakAround:!0}},nopagebreak:{signature:"o",renderInfo:{breakAround:!0}},newsavebox:{signature:"m",renderInfo:{breakAround:!0}},sbox:{signature:"m m",renderInfo:{breakAround:!0}},savebox:{signature:"m o o m",renderInfo:{breakAround:!0}},mbox:{signature:"m"},makebox:{signature:"d() o o m",renderInfo:{breakAround:!0}},fbox:{signature:"m"},framebox:{signature:"o o m",renderInfo:{breakAround:!0}},frame:{signature:"m",renderInfo:{breakAround:!0}},parbox:{signature:"o o o m m",renderInfo:{breakAround:!0}},raisebox:{signature:"m o o m"},marginpar:{signature:"o m",renderInfo:{breakAround:!0}},colorbox:{signature:"o m m",renderInfo:{breakAround:!0}},fcolorbox:{signature:"o m m",renderInfo:{breakAround:!0}},rotatebox:{signature:"o m m"},scalebox:{signature:"m o m"},reflectbox:{signature:"m"},resizebox:{signature:"s m m m"},newenvironment:{signature:"s m o o m m",renderInfo:{breakAround:!0}},renewenvironment:{signature:"s m o o m m",renderInfo:{breakAround:!0}},newtheorem:{signature:"s m o m o",renderInfo:{breakAround:!0}},newfont:{signature:"m m",renderInfo:{breakAround:!0}},alph:{signature:"m"},Alph:{signature:"m"},arabic:{signature:"m"},roman:{signature:"m"},Roman:{signature:"m"},fnsymbol:{signature:"m"},documentclass:{signature:"o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},usepackage:{signature:"o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},item:{signature:"o",renderInfo:{hangingIndent:!0}},value:{signature:"m"},centering:{renderInfo:{breakAround:!0}},input:{signature:"m",renderInfo:{breakAround:!0}},include:{signature:"m",renderInfo:{breakAround:!0}},includeonly:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},discretionary:{signature:"m m m"},hyphenation:{signature:"m m m"},footnote:{signature:"o m",renderInfo:{inParMode:!0}},footnotemark:{signature:"o"},footnotetext:{signature:"o m",renderInfo:{inParMode:!0}},caption:{signature:"o m",renderInfo:{inParMode:!0,breakAround:!0}},sqrt:{signature:"o m",renderInfo:{inMathMode:!0}},frac:{signature:"m m",renderInfo:{inMathMode:!0}},stackrel:{signature:"m m"},ensuremath:{signature:"m",renderInfo:{inMathMode:!0}},abstract:{signature:"m",renderInfo:{breakAround:!0,inParMode:!0}},maketitle:{renderInfo:{breakAround:!0}},doublespacing:{renderInfo:{breakAround:!0}},singlespacing:{renderInfo:{breakAround:!0}},author:{signature:"m",renderInfo:{breakAround:!0,inParMode:!0}},date:{signature:"m",renderInfo:{breakAround:!0}},thanks:{signature:"m",renderInfo:{breakAround:!0,inParMode:!0}},title:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},pagenumbering:{signature:"m",renderInfo:{breakAround:!0}},pagestyle:{signature:"m",renderInfo:{breakAround:!0}},thispagestyle:{signature:"m",renderInfo:{breakAround:!0}},definecolor:{signature:"m m m",renderInfo:{breakAround:!0}},pagecolor:{signature:"o m",renderInfo:{breakAround:!0}},nopagecolor:{renderInfo:{breakAround:!0}},multicolumn:{signature:"m m m"},includegraphics:{signature:"s o o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},rule:{signature:"o m m"},part:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0}},chapter:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0}},section:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0}},subsection:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0}},subsubsection:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0}},paragraph:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0}},subparagraph:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0}},appendix:{renderInfo:{breakAround:!0,inParMode:!0}},frontmatter:{renderInfo:{breakAround:!0,inParMode:!0}},mainmatter:{renderInfo:{breakAround:!0,inParMode:!0}},backmatter:{renderInfo:{breakAround:!0,inParMode:!0}},bibitem:{signature:"o m",renderInfo:{hangingIndent:!0}},cite:{signature:"o m"},textrm:{signature:"m",renderInfo:{inParMode:!0}},textit:{signature:"m",renderInfo:{inParMode:!0}},textmd:{signature:"m",renderInfo:{inParMode:!0}},textbf:{signature:"m",renderInfo:{inParMode:!0}},textup:{signature:"m",renderInfo:{inParMode:!0}},textsl:{signature:"m",renderInfo:{inParMode:!0}},textsf:{signature:"m",renderInfo:{inParMode:!0}},textsc:{signature:"m",renderInfo:{inParMode:!0}},texttt:{signature:"m",renderInfo:{inParMode:!0}},emph:{signature:"m",renderInfo:{inParMode:!0}},textnormal:{signature:"m",renderInfo:{inParMode:!0}},uppercase:{signature:"m",renderInfo:{inParMode:!0}},mathbf:{signature:"m"},mathsf:{signature:"m"},mathtt:{signature:"m"},mathit:{signature:"m"},mathnormal:{signature:"m"},mathcal:{signature:"m"},mathrm:{signature:"m"},setlength:{signature:"m m",renderInfo:{breakAround:!0}},ref:{signature:"s m"},label:{signature:"o m"},printbibliography:{renderInfo:{breakAround:!0}},addtocontents:{signature:"m m",renderInfo:{breakAround:!0}},addcontentsline:{signature:"m m m",renderInfo:{breakAround:!0}},contentsline:{signature:"m m m",renderInfo:{breakAround:!0}},bibliography:{signature:"m",renderInfo:{breakAround:!0}},bibliographystyle:{signature:"m",renderInfo:{breakAround:!0}}},mathtools:{mathtoolsset:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},mathllap:{signature:"o m"},mathrlap:{signature:"o m"},mathclap:{signature:"o m"},clap:{signature:"m"},mathmbox:{signature:"m"},mathmakebox:{signature:"o o m"},cramped:{signature:"o m"},crampedllap:{signature:"o m"},crampedrlap:{signature:"o m"},crampedclap:{signature:"o m"},crampedsubstack:{signature:"o m"},smashoperator:{signature:"o m"},newtagform:{signature:"m o m m"},renewtagform:{signature:"m o m m"},usetagform:{signature:"m"},xleftrightarrow:{signature:"o m"},xLeftarrow:{signature:"o m"},xhookleftarrow:{signature:"o m"},xmapsto:{signature:"o m"},xRightarrow:{signature:"o m"},xLeftrightarrow:{signature:"o m"},xhookrightarrow:{signature:"o m"},underbracket:{signature:"o o m"},overbracket:{signature:"o o m"},underbrace:{signature:"m"},overbrace:{signature:"m"},shoveleft:{signature:"o m"},shoveright:{signature:"o m"},ArrowBetweenLines:{signature:"s o"},vdotswithin:{signature:"m"},shortdotswithin:{signature:"s m"},DeclarePairedDelimiter:{signature:"m m m",renderInfo:{breakAround:!0}},DeclarePairedDelimiterX:{signature:"m o m m m",renderInfo:{breakAround:!0}},DeclarePairedDelimiterXPP:{signature:"m o m m m m m",renderInfo:{breakAround:!0}},prescript:{signature:"m m m"},DeclareMathSizes:{signature:"m m m m"},newgathered:{signature:"m m m m"},renewgathered:{signature:"m m m m"},splitfrac:{signature:"m m"},splitdfrac:{signature:"m m"},xmathstrut:{signature:"o m"},newtheorem:{signature:"s m o m o",renderInfo:{breakAround:!0}},theoremstyle:{signature:"m",renderInfo:{breakAround:!0}},newtheoremstyle:{signature:"m m m m m m m m m",renderInfo:{breakAround:!0}},text:{signature:"m",renderInfo:{inMathMode:!1}},mathbb:{signature:"m"},mathscr:{signature:"m"},mathfrak:{signature:"m"},frak:{signature:"m"},Bdd:{signature:"m"},bold:{signature:"m"},operatorname:{signature:"s m"},DeclareMathOperator:{signature:"s m m",renderInfo:{breakAround:!0}}},nicematrix:{NiceMatrixOptions:{signature:"m",renderInfo:{pgfkeysArgs:!0,breakAround:!0}}},math:{subscript:{signature:"m",renderInfo:{inMathMode:!0}},superscript:{signature:"m",renderInfo:{inMathMode:!0}},subsuperscript:{signature:"m m",renderInfo:{inMathMode:!0}}},other:{textcolor:{signature:"m m"},color:{signature:"m m"}}},H={geometry:q,latex2e:{document:{processContent:function(n){return B(n),n}},array:{signature:"o m",renderInfo:{alignContent:!0}},figure:{signature:"o"},"figure*":{signature:"o"},filecontents:{signature:"o m"},"filecontents*":{signature:"o m"},minipage:{signature:"o o o m"},picture:{signature:"r() d()"},tabbing:{renderInfo:{alignContent:!0}},table:{signature:"o"},tabular:{signature:"o m",renderInfo:{alignContent:!0}},"tabular*":{signature:"m o m",renderInfo:{alignContent:!0}},math:{renderInfo:{inMathMode:!0}}},mathtools:{crampedsubarray:{signature:"m",renderInfo:{alignContent:!0,inMathMode:!0}},matrix:{renderInfo:{alignContent:!0,inMathMode:!0}},bmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},pmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},vmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Bmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Vmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},smallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},psmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},vsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},bsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Bsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Vsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},"matrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"bmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"pmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"vmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Bmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Vmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"smallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"psmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"bsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"vsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Bsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Vsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},multilined:{signature:"o o",renderInfo:{inMathMode:!0}},cases:{renderInfo:{alignContent:!0,inMathMode:!0}},"cases*":{renderInfo:{alignContent:!0,inMathMode:!0}},dcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"dcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},rcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"rcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},drcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"drcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},spreadlines:{signature:"m",renderInfo:{inMathMode:!0}},lgathered:{signature:"o",renderInfo:{inMathMode:!0}},rgathered:{signature:"o",renderInfo:{inMathMode:!0}},"align*":{renderInfo:{inMathMode:!0,alignContent:!0}},align:{renderInfo:{inMathMode:!0,alignContent:!0}},aligned:{renderInfo:{inMathMode:!0,alignContent:!0}},"alignat*":{renderInfo:{inMathMode:!0,alignContent:!0}},alignat:{renderInfo:{inMathMode:!0,alignContent:!0}},"equation*":{renderInfo:{inMathMode:!0}},equation:{renderInfo:{inMathMode:!0}},"gather*":{renderInfo:{inMathMode:!0}},gather:{renderInfo:{inMathMode:!0}},"multline*":{renderInfo:{inMathMode:!0}},multline:{renderInfo:{inMathMode:!0}},"flalign*":{renderInfo:{inMathMode:!0,alignContent:!0}},flalign:{renderInfo:{inMathMode:!0,alignContent:!0}},split:{renderInfo:{inMathMode:!0}},displaymath:{renderInfo:{inMathMode:!0}},theorem:{signature:"o"},lemma:{signature:"o"},definition:{signature:"o"},proposition:{signature:"o"},corollary:{signature:"o"},remark:{signature:"!o"},example:{signature:"!o"},proof:{signature:"o"}},nicematrix:{NiceTabular:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceMatrixBlock:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceArrayWithDelims:{signature:"m m o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},pNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},bNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},BNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},vNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},VNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},pNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},bNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},BNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},vNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},VNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}}},math:{},other:{}};function J(n){const t={enter:[],leave:[]};if(Array.isArray(n))return t;if(b.math(n))return{enter:["content"],leave:[]};const e=n._renderInfo||{};if(null==e.inMathMode)return t;if(b.macro(n)){if(!0===e.inMathMode)return{enter:["args"],leave:[]};if(!1===e.inMathMode)return{enter:[],leave:["args"]}}return b.environment(n)?!0===e.inMathMode?{enter:["content"],leave:[]}:{enter:[],leave:["content"]}:t}const Q=Symbol("continue"),K=Symbol("skip"),Y=Symbol("exit"),nn={inMathMode:!1,hasMathModeAncestor:!1};function tn(n,t,e){const{startingContext:r=nn,test:o=(()=>!0),includeArrays:i=!1}=e||{};let u,a;function c(n,{key:t,index:e,parents:r,context:s,containingArray:l}){const f=(i||!Array.isArray(n))&&o(n,{key:t,index:e,parents:r,context:s,containingArray:l}),p=u&&f?en(u(n,{key:t,index:e,parents:r,context:s,containingArray:l})):[Q];if(p[0]===Y)return p;if(p[0]===K)return a&&f?en(a(n,{key:t,index:e,parents:r,context:s,containingArray:l})):p;if(Array.isArray(n))for(let e=0;e>-1&&e<n.length;e++){const o=c(n[e],{key:t,index:e,parents:r,context:s,containingArray:n});if(o[0]===Y)return o;"number"==typeof o[1]&&(e=o[1]-1)}else{let t=["content","args"];switch(n.type){case"macro":t=["args"];break;case"comment":case"string":case"verb":case"verbatim":t=[]}const e=J(n);for(const o of t){const t=n[o],i=[n].concat(r);if(null==t)continue;const u={...s};e.enter.includes(o)?(u.inMathMode=!0,u.hasMathModeAncestor=!0):e.leave.includes(o)&&(u.inMathMode=!1);const a=c(t,{key:o,index:void 0,parents:i,context:u,containingArray:void 0});if(a[0]===Y)return a}}return a&&f?en(a(n,{key:t,index:e,parents:r,context:s,containingArray:l})):p}"function"==typeof t?u=t:t&&"object"==typeof t&&(u=t.enter,a=t.leave),c(n,{key:void 0,index:void 0,parents:[],containingArray:void 0,context:{...r}})}function en(n){return null==n?[Q]:Array.isArray(n)?n:"number"==typeof n?[Q,n]:[n]}function rn(n){return R.parse(n,{startRule:"math"})}function on(n){var t=n.mathEnvs,e=n.mathMacros,r=V.createEnvironmentMatcher(t),o=V.createMacroMatcher(e);return function(n){tn(n,(function(n){if(V.anyMacro(n))for(var t=0,e=n.args||[];t<e.length;t++){var r=e[t];r.content.length>0&&!un(r.content)&&(r.content=rn(m(r.content)))}V.anyEnvironment(n)&&(un(n.content)||(n.content=rn(m(n.content))))}),{test:function(n){return r(n)||o(n)}})}}function un(n){return!n.some((function(n){return V.anyString(n)&&n.content.length>1||V.string(n,"^")||V.string(n,"_")}))}function an(n,t){return null!=t&&(n._renderInfo={...n._renderInfo||{},...t}),n}var cn={};function sn(n){return void 0===n&&(n=""),cn[n]=cn[n]||T.parse(n),cn[n]}var ln={"*":{openMark:"",closeMark:""},"{":{openMark:"{",closeMark:"}"},"[":{openMark:"[",closeMark:"]"},"(":{openMark:"(",closeMark:")"}},fn=new Set(Object.values(ln).map((function(n){return n.closeMark})).filter((function(n){return n})));function pn(n){for(var t=[],e=0,r=n.split("");e<r.length;e++){var o=r[e];if(!fn.has(o)){var i=ln[o];if(null==i)throw new z('Unknown open/close mark type "'.concat(o,'"'));t.push(i)}}return t}function hn(n,t){if("string"==typeof n&&(n=gn(n)),!Array.isArray(n)&&"argument"===n.type)return n;var e="{",r="}";if(void 0!==t&&void 0!==t.openMark&&(e=t.openMark),void 0!==t&&void 0!==t.closeMark&&(r=t.closeMark),void 0!==t&&t.braces){var o=pn(t.braces);o[0]&&(e=o[0].openMark,r=o[0].closeMark)}return Array.isArray(n)||(n=[n]),{type:"argument",content:n,openMark:e,closeMark:r}}function gn(n){return"string"==typeof n?{type:"string",content:n}:n}function dn(n,t,e){if(void 0===e&&(e=0),"string"==typeof t||!t.type)throw new z('argSpec must be an already-parsed argument specification, not "'.concat(JSON.stringify(t),'"'));var r=null,o=e,i=t.noLeadingWhitespace?function(){}:function(){for(;o<n.length&&V.whitespace(n[o]);)o++},u=t.openBrace||"",a=t.closeBrace||"",c="mandatory"===t.type&&"{"===u&&"}"===a;function s(){var t=null;u&&(t=n.findIndex((function(n,t){return t>=o&&V.string(n,u)})))<o&&(t=null);var e=null;return null!=t&&(e=n.findIndex((function(n,e){return e>=t+1&&V.string(n,a)})))<t+1&&(e=null),[t,e]}i();var l=n[o];if(null==l||V.comment(l)||V.parbreak(l))return{argument:r,nodesRemoved:0};switch(t.type){case"mandatory":if(c){var f=[l];V.group(l)&&(f=l.content),r=hn(f,{openMark:u,closeMark:a}),o++;break}case"optional":if(V.string(l,u)){var p=s(),h=p[0],g=p[1];if(null!=h&&null!=g){r=hn(n.slice(h+1,g),{openMark:u,closeMark:a}),o=g+1;break}}break;case"optionalStar":if(V.string(l,"*")){r=hn([l],{openMark:"",closeMark:""}),o++;break}break;default:"Don't know how to find an argument of argspec type \"".concat(t.type,'"')}var d=r?o-e:0;return n.splice(e,d),{argument:r,nodesRemoved:d}}function mn(n,t,e){void 0===e&&(e=0),"string"==typeof t&&(t=sn(t));for(var r=[],o=0,i=0,u=t;i<u.length;i++){var a=dn(n,u[i],e),c=a.argument,s=a.nodesRemoved;c?(r.push(c),o+=s):r.push(hn([],{openMark:"",closeMark:""}))}return{args:r,nodesRemoved:o}}function yn(n,t){var e,r=V.createMacroMatcher(t);function o(){for(;e>=0&&!r(n[e]);)e--}for(e=n.length-1;e>=0;){if(o(),e<0)return;var i=e,u=n[i],a=t[u.content];if(an(u,a.renderInfo),null!=a.signature)if(null==u.args){e++;var c=mn(n,a.signature,e).args;u.args=c,e=i-1}else e=i-1;else e--}}function vn(n,t){if(t.signature&&null==n.args){var e=mn(n.content,t.signature).args;n.args=e}an(n,t.renderInfo),"function"==typeof t.processContent&&(n.content=t.processContent(n.content))}function bn(n,t,e){var r=Object.fromEntries(Object.entries(t).filter((function(n){n[0];var t=n[1];return void 0!==t.renderInfo&&!0===t.renderInfo.inMathMode}))),o=Object.fromEntries(Object.entries(e).filter((function(n){n[0];var t=n[1];return void 0!==t.renderInfo&&!0===t.renderInfo.inMathMode}))),i=on({mathEnvs:Object.keys(o),mathMacros:Object.keys(r)}),u=V.createEnvironmentMatcher(e),a=V.createEnvironmentMatcher(o);tn(n,{enter:function(n){Array.isArray(n)&&yn(n,r)},leave:function(n){if(a(n)){var t=m(n.env),r=e[t];if(!r)throw new z('Could not find environment info for environment "'.concat(t,'"'));vn(n,r)}}},{includeArrays:!0}),i(n),tn(n,{enter:function(n){Array.isArray(n)&&yn(n,t)},leave:function(n){if(u(n)){var t=m(n.env),r=e[t];if(!r)throw new z('Could not find environment info for environment "'.concat(t,'"'));vn(n,r)}}},{includeArrays:!0})}var An=function(n){tn(n,(function(n){if(V.math(n)||V.anyEnvironment(n)){var t=n.content[0];if(V.comment(t)&&t.sameline){t.suffixParbreak=!1,G(n.content);var e=$(n.content.slice(1)).trimmedStart;n.content.splice(1,e)}else B(n.content)}}))},xn=function(n){B(n.content)},Sn=function(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))};function kn(n,t){var e=Object.assign.apply(Object,Sn([{}],Object.values(X),!1)),r=Object.assign.apply(Object,Sn([{}],Object.values(H),!1)),o=R.parse(n,"math"===t?{startRule:"math"}:void 0);return bn(o,e,r),An(o),xn(o),o}var Mn=function(){return Mn=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},Mn.apply(this,arguments)};function Cn(n,t,e){return n.split(t).join(e)}function wn(n){var t="\\begin{math}",e="\\end{math}";return n=Cn(n,t,""),n=Cn(n,e,""),"".concat(t).concat(n).concat(e)}function In(n,t){for(var e,r=[n];void 0!==(e=r.shift());)if(Array.isArray(e))r.unshift.apply(r,e);else{if(e.position){var o=function(n){n.offset+=t,1===n.line&&(n.column+=t)};o(e.position.start),o(e.position.end)}"content"in e&&e.content&&"string"!=typeof e.content&&r.unshift.apply(r,e.content)}}function Fn(n){var t=kn(wn(n));return In(t,-12),p(t)}function En(n,t){void 0===t&&(t={});var e=Mn(Mn({},{silent:!1}),t);try{return Fn(n)}catch(n){if(!e.silent)throw n}return[]}var On=function(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))};function _n(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Pn=function(){function n(n){this.depth=n.depth}return n}();function jn(n){for(var t,e={">=":"\\geq","<=":"\\leq",">":"\\gt","<":"\\le","=":"\\eq"},r=Object.keys(e),o=Object.values(e),i=new RegExp("("+r.map((function(n){return _n(n)})).join("|")+")","g"),u=[],a=On([],n,!0),c=new Pn({depth:0});void 0!==(t=a.shift());)if(t instanceof Pn)c=t;else if("string"==typeof t)for(var s=null;null!==(s=i.exec(t));)u.push({text:s[0],depth:c.depth});else if("isFunction"in t){a.unshift(c);for(var l=0,f=t.arguments;l<f.length;l++){var p=f[l];a.unshift.apply(a,p)}a.unshift(new Pn({depth:c.depth+1}))}else if("isSymbol"in t){var h=o.indexOf(t.code);-1!==h&&u.push({text:r[h],depth:c.depth})}return u}function Nn(n){for(var t,e=/[\u00C0-\u1FFF\u2C00-\uD7FF]|[^\W0-9]/g,r=[],o=On([],n,!0);void 0!==(t=o.shift());)if("string"==typeof t)for(var i=null;null!==(i=e.exec(t));)r.push(i[0]);else if("isFunction"in t)for(var u=0,a=t.arguments;u<a.length;u++){var c=a[u];o.unshift.apply(o,c)}return r}function Rn(n,t){for(var e,r=[],o=On([],n,!0);void 0!==(e=o.shift());)if("string"!=typeof e)if("isFunction"in e)for(var i=0,u=e.arguments;i<u.length;i++){var a=u[i];o.unshift.apply(o,a)}else"isSymbol"in e&&e.code===t&&r.push(e);return r}function Tn(n){if(0===n.length)return!1;for(var t=0,e=n.slice(0,-1);t<e.length;t++){if(0===(u=jn(i=e[t])).length||u.length>1||u.find((function(n){return n.depth>0})))return!1;if(0===Nn(i).length)return!1;if("="!==u[0].text)return!1;if(0!==Rn(i,"\\Updownarrow").length)return!1}for(var r=0,o=n.slice(-1);r<o.length;r++){var i,u;if((u=jn(i=o[r])).length>1||u.find((function(n){return n.depth>0})))return!1;if(1===u.length&&"="!==u[0].text)return!1}return!0}function Un(n){for(var t=n.length-2;t>=0;t--){var e=n[t].length>0?n[t][n[t].length-1]:null;if(e&&"string"!=typeof e&&"isSymbol"in e&&"\\Updownarrow"===e.code){var r=n.slice(0,t+1);return r[t]=r[t].slice(),r[t].pop(),r}}return n}function qn(n){if(0===n.length)return!1;for(var t=0,e=Un(n);t<e.length;t++){var r=e[t],o=jn(r);if(0===o.length||o.length>1||o.find((function(n){return n.depth>0})))return!1;if("="!==o[0].text)return!1;if(0===Nn(r).length)return!1}return!0}var Wn,zn,Dn,Ln=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},n(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vn=function(n){function t(t,e){var r=n.call(this,e)||this;return r.type=t,r}return Ln(t,n),t}(Error);!function(n){n.Degrees="deg",n.Radians="rad"}(Wn||(Wn={})),function(n){n.Period=".",n.Comma=","}(zn||(zn={})),function(n){n.Exact="exact",n.Numeric="numeric",n.ScientificNotation="scientific"}(Dn||(Dn={}));var Bn=function(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))},$n=Symbol("escape on"),Gn=Symbol("escape off");function Zn(n){for(var t,e=[],r=Bn([],n,!0),o=!0,u=!1;void 0!==(t=r.shift());)if(t===$n)o=!0;else if(t===Gn)o=!1;else if("string"==typeof t)u&&t.match(/^[a-zA-Z]/)&&e.push(" "),o&&(t=t.replace(/[&%\$#_{}~\^\\]/g,(function(n){return"\\"+n}))),e.push(t),u=!1;else if("isSymbol"in t)e.push(t.code),u=!0;else if("isFunction"in t){if("\\rootof"===t.code){e.push("\\sqrt");for(var a=t.arguments.length-1;a>=0;a--){r.unshift($n),r.unshift(0===a?"]":"}"),r.unshift(Gn);for(var c=0,s=t.arguments[a].slice().reverse();c<s.length;c++){var l=s[c];r.unshift(l)}r.unshift($n),r.unshift(0===a?"[":"{"),r.unshift(Gn)}}else if("\\superscript"!==t.code&&"\\subscript"!==t.code||2!==t.arguments.length){var f=i(t.code),p=f&&"function"===f.type&&f.braces?f.braces:["{","}"],h=p[0],g=p[1],d=f&&"function"===f.type&&f.includePreviousSiblingAsArgument;d||(r.unshift($n),e.push(t.code),r.unshift(Gn));for(var m=0,y=t.arguments.slice(d?1:0).reverse();m<y.length;m++){var v=y[m];r.unshift($n),r.unshift(g),r.unshift(Gn);for(var b=0,A=v.slice().reverse();b<A.length;b++){l=A[b];r.unshift(l)}r.unshift($n),r.unshift(h),r.unshift(Gn)}if(d){r.unshift($n),r.unshift(t.code),r.unshift(Gn);for(var x=0,S=t.arguments.slice(0,1).reverse();x<S.length;x++){v=S[x];r.unshift($n),r.unshift("}"),r.unshift(Gn);for(var k=0,M=v.slice().reverse();k<M.length;k++){l=M[k];r.unshift(l)}r.unshift($n),r.unshift("{"),r.unshift(Gn)}}}else r.unshift($n),r.unshift("}"),r.unshift(Gn),r.unshift.apply(r,t.arguments[1].slice().reverse()),r.unshift($n),r.unshift("{"),r.unshift("\\superscript"===t.code?"^":"_"),r.unshift("}"),r.unshift(Gn),r.unshift.apply(r,t.arguments[0].slice().reverse()),r.unshift($n),r.unshift("{"),r.unshift(Gn);u=!0}return e.join("").trim()}function Xn(n,t){var e,r=null!==(e=null==t?void 0:t.decimalSeparator)&&void 0!==e?e:zn.Period;n=Hn(n);for(var o="",i=!1,u=0;u<n.length;u++){var a=n[u];if("\\"!==a||i){if(i&&(o+="\\"),o+=a,","===a&&!i){var c=u>0?n[u-1]:"",s=n.length>u+1?n[u+1]:"";if(r===zn.Comma&&c.match(/^[0-9]$/)&&s.match(/^[0-9]$/))continue;o+="\\ "}i=!1}else i=!0}return o}function Hn(n){for(var t="",e=!1,r=0;r<n.length;r++){var o=n[r];if("\\"!==o||e)if(","!==o&&" "!==o||!e)e&&(t+="\\"),t+=o,e=!1;else{e=!1;var i=n.length>r+1?n[r+1]:"",u=r-1>=0?n[r-1]:"";(u.match(/^[a-zA-Z]$/)&&i.match(/^[a-zA-Z]$/)||u.match(/^[0-9]$/)&&i.match(/^[0-9]$/))&&(t+=" ")}else e=!0}return t}var Jn=function(n,t,e,r){function o(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,i){function u(n){try{c(r.next(n))}catch(n){i(n)}}function a(n){try{c(r.throw(n))}catch(n){i(n)}}function c(n){n.done?e(n.value):o(n.value).then(u,a)}c((r=r.apply(n,t||[])).next())}))},Qn=function(n,t){var e,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(n){return function(t){return c([n,t])}}function c(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(n,u)}catch(n){i=[6,n],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Kn=function(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))};function Yn(n){for(var t=[],e=0;e<n.length;e++){var r=n[e];if("string"==typeof r){var o=r.indexOf("=");if(-1!==o){var i=r.substring(0,o);i.length>0&&t.push(i);break}t.push(r)}else t.push(r)}return t}var nt=function(){function n(n){this._variablePriorityList=["x","y","z","a","b","c"],this._httpClient=n}return n.prototype._parseEquations=function(n,t){return Jn(this,void 0,void 0,(function(){var e,r,o,i,u,a,c=this;return Qn(this,(function(s){switch(s.label){case 0:e=[],r=0,o=n,s.label=1;case 1:return r<o.length?(i=o[r],[4,this._httpClient.parseGoogleDocsEquations(i,t)]):[3,4];case 2:if(void 0===(u=s.sent()).operator&&t.expectBothSides)throw new Vn("NO_OPERATORS","Server didn't detect any operators in the equation.");if(void 0===u.rhs&&t.expectBothSides)throw new Vn("NO_RIGHT_HAND_SIDE","Server didn't detect any right hand side in the equation.");if(u.units&&!t.ignoreMixedUnits&&Object.values(u.units).some((function(n){return n.length>1})))throw new Vn("DETECTED_MIXED_UNITS","An equation contains mixed units.");e.push({operator:u.operator,lhs:u.lhs,rhs:u.rhs,lhsVariables:u.lhsVariables,rhsVariables:u.rhsVariables||[],useThousandsSeparator:u.useThousandsSeparator,units:u.units}),s.label=3;case 3:return r++,[3,1];case 4:return a=e.map((function(n){return Kn(Kn([],n.lhsVariables,!0),n.rhsVariables||[],!0)})).flat().filter((function(n,t,e){return e.indexOf(n)===t})).sort((function(n,t){var e=c._variablePriorityList.indexOf(n),r=c._variablePriorityList.indexOf(t);if(-1!==e&&-1!==r){if(e<r)return-1;if(r<e)return 1}else{if(-1!==e)return-1;if(-1!==r)return 1}return n.length<t.length?-1:n.length>t.length?1:n.localeCompare(t)})),[2,{sages:e,allVariables:a}]}}))}))},n.prototype._solveForVariableValues=function(n,t,e){return Jn(this,void 0,void 0,(function(){var r,o,i,u,a,c,s,l,f,p,h,g;return Qn(this,(function(d){switch(d.label){case 0:return r=e.decimals,o=e.decimalSeparator,i=e.angularUnit,u=e.resultMode,a=e.replaceMixedNumber,c=e.ignoreMixedUnits,[4,this._parseEquations(n,{decimalSeparator:o,replaceMixedNumber:a,ignoreMixedUnits:c,expectBothSides:!0})];case 1:return s=d.sent(),l=s.sages,f=s.allVariables,p=f.slice().sort((function(n,e){var r=t.indexOf(n),o=t.indexOf(e);if(-1!==r&&-1!==o){if(r<o)return-1;if(o<r)return 1}else{if(-1!==r)return-1;if(-1!==o)return 1}return n.length<e.length?-1:n.length>e.length?1:n.localeCompare(e)})).slice(0,n.length),h=f.filter((function(n){return!p.includes(n)})),[4,this._httpClient.solve(l.map((function(n){return n.lhs+n.operator+n.rhs})),p,h,{variableValues:{},resultMode:u,angularUnit:i,decimals:r,decimalSeparator:o,outputType:"sage",useThousandsSeparator:!1,removeRedundantResults:!1})];case 2:if(g=d.sent(),!Array.isArray(g))throw new z("Expected type 'array' but got '".concat(typeof g,"' from the server!"));return[2,g.reduce((function(n,t,e){var r=t.split("==");if(2!==r.length)throw new z("Unable to assign variables values due to invalid result from server: '".concat(t,"'."));return n[r[0].trim()]=r[1].trim(),n}),{})]}}))}))},n.prototype.calculate=function(n,t){return Jn(this,void 0,void 0,(function(){var e,r,o,i,u,a,c,s,l,f,p,h,g;return Qn(this,(function(d){switch(d.label){case 0:if(e=t&&void 0!==t.decimals?t.decimals:2,r=t&&void 0!==t.decimalSeparator?t.decimalSeparator:zn.Period,o=t&&void 0!==t.angularUnit?t.angularUnit:Wn.Degrees,i=t&&void 0!==t.resultMode?t.resultMode:Dn.Exact,u=!t||void 0===t.replaceMixedNumber||t.replaceMixedNumber,a=!(!t||void 0===t.ignoreMixedUnits)&&t.ignoreMixedUnits,0===n.length)throw new Vn("PARAMETER_EMPTY_EQUATIONS","Equations array is empty.");return[4,this._parseEquations(n.slice(-1),{decimalSeparator:r,replaceMixedNumber:u,ignoreMixedUnits:a,expectBothSides:!1})];case 1:if(c=d.sent(),s=c.sages,l=c.allVariables,1!==s.length)throw new z("Invalid amount of equations returned from server.");if(f={},!((p=n.slice(0,-1)).length>0))return[3,3];if(!qn(p))throw new Vn("INVALID_SOLVABLE_EQUATIONS","Unable to solve variables.");return[4,this._solveForVariableValues(p,l,{decimals:e,decimalSeparator:r,angularUnit:o,resultMode:i,replaceMixedNumber:u,ignoreMixedUnits:a})];case 2:f=d.sent(),d.label=3;case 3:return[4,this._httpClient.calculate(s[0].lhs,l,{variableValues:f,resultMode:i,angularUnit:o,decimals:e,decimalSeparator:r,outputType:"latex",useThousandsSeparator:s[0].useThousandsSeparator})];case 4:if("string"!=typeof(h=d.sent()))throw new z("Expected type 'string' but got '".concat(typeof h,"' from the server!"));return g=Zn(Yn(n[n.length-1]))+"="+Xn(h,{decimalSeparator:r}),n.length>1?[2,"\\begin{array}{l}\n"+p.map((function(n){return Zn(n)})).join("\\\\\n")+"\\\\\n"+g+"\n\\end{array}"]:[2,g]}}))}))},n.prototype.solve=function(n,t){return Jn(this,void 0,void 0,(function(){var e,r,o,i,u,a,c,s,l,f,p,h,g;return Qn(this,(function(d){switch(d.label){case 0:return n=Un(n),e=t&&void 0!==t.decimals?t.decimals:2,r=t&&void 0!==t.decimalSeparator?t.decimalSeparator:zn.Period,o=t&&void 0!==t.angularUnit?t.angularUnit:Wn.Degrees,i=t&&void 0!==t.resultMode?t.resultMode:Dn.Exact,u=!t||void 0===t.replaceMixedNumber||t.replaceMixedNumber,a=!(!t||void 0===t.ignoreMixedUnits)&&t.ignoreMixedUnits,[4,this._parseEquations(n,{decimalSeparator:r,replaceMixedNumber:u,ignoreMixedUnits:a,expectBothSides:!0})];case 1:return c=d.sent(),s=c.sages,l=c.allVariables,f=t&&void 0!==t.solveFor?t.solveFor:l.slice(0,n.length),p=l.filter((function(n){return!f.includes(n)})),h={},[4,this._httpClient.solve(s.map((function(n){return n.lhs+n.operator+n.rhs})),f,p,{variableValues:h,resultMode:i,angularUnit:o,decimals:e,decimalSeparator:r,outputType:"latex",useThousandsSeparator:s.length>0&&s[s.length-1].useThousandsSeparator,removeRedundantResults:!0})];case 2:if("string"!=typeof(g=d.sent()))throw new z("Expected type 'string' but got '".concat(typeof g,"' from the server!"));return[2,"\\begin{array}{l}\n"+n.map((function(n){return Zn(n)})).join("\\\\\n")+"\\ \\Updownarrow\\\\\n"+Xn(g,{decimalSeparator:r})+"\n\\end{array}"]}}))}))},n}()}}]);