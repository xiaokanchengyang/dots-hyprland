(()=>{var e={543:function(e,t,n){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */e=n.nmd(e),function(){var r,i="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,c=32,l=64,f=128,d=256,p=1/0,h=9007199254740991,m=NaN,g=4294967295,v=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",l],["rearg",d]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",_="[object Date]",k="[object Error]",S="[object Function]",x="[object GeneratorFunction]",C="[object Map]",E="[object Number]",T="[object Object]",O="[object Promise]",A="[object RegExp]",R="[object Set]",L="[object String]",I="[object Symbol]",N="[object WeakMap]",M="[object ArrayBuffer]",P="[object DataView]",U="[object Float32Array]",D="[object Float64Array]",F="[object Int8Array]",H="[object Int16Array]",B="[object Int32Array]",j="[object Uint8Array]",K="[object Uint8ClampedArray]",q="[object Uint16Array]",z="[object Uint32Array]",$=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,Y=RegExp(G.source),X=RegExp(Q.source),Z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(re.source),ae=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Le="['’]",Ie="["+xe+"]",Ne="["+Re+"]",Me="["+Ce+"]",Pe="\\d+",Ue="["+Ee+"]",De="["+Te+"]",Fe="[^"+xe+Re+Pe+Ee+Te+Oe+"]",He="\\ud83c[\\udffb-\\udfff]",Be="[^"+xe+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Ke="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Oe+"]",ze="\\u200d",$e="(?:"+De+"|"+Fe+")",We="(?:"+qe+"|"+Fe+")",Ve="(?:['’](?:d|ll|m|re|s|t|ve))?",Ge="(?:['’](?:D|LL|M|RE|S|T|VE))?",Qe="(?:"+Me+"|"+He+")"+"?",Ye="["+Ae+"]?",Xe=Ye+Qe+("(?:"+ze+"(?:"+[Be,je,Ke].join("|")+")"+Ye+Qe+")*"),Ze="(?:"+[Ue,je,Ke].join("|")+")"+Xe,Je="(?:"+[Be+Me+"?",Me,je,Ke,Ie].join("|")+")",et=RegExp(Le,"g"),tt=RegExp(Me,"g"),nt=RegExp(He+"(?="+He+")|"+Je+Xe,"g"),ot=RegExp([qe+"?"+De+"+"+Ve+"(?="+[Ne,qe,"$"].join("|")+")",We+"+"+Ge+"(?="+[Ne,qe+$e,"$"].join("|")+")",qe+"?"+$e+"+"+Ve,qe+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,Ze].join("|"),"g"),rt=RegExp("["+ze+xe+Ce+Ae+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ut=-1,st={};st[U]=st[D]=st[F]=st[H]=st[B]=st[j]=st[K]=st[q]=st[z]=!0,st[y]=st[b]=st[M]=st[w]=st[P]=st[_]=st[k]=st[S]=st[C]=st[E]=st[T]=st[A]=st[R]=st[L]=st[N]=!1;var ct={};ct[y]=ct[b]=ct[M]=ct[P]=ct[w]=ct[_]=ct[U]=ct[D]=ct[F]=ct[H]=ct[B]=ct[C]=ct[E]=ct[T]=ct[A]=ct[R]=ct[L]=ct[I]=ct[j]=ct[K]=ct[q]=ct[z]=!0,ct[k]=ct[S]=ct[N]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,dt=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,mt=pt||ht||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===gt,bt=yt&&pt.process,wt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),_t=wt&&wt.isArrayBuffer,kt=wt&&wt.isDate,St=wt&&wt.isMap,xt=wt&&wt.isRegExp,Ct=wt&&wt.isSet,Et=wt&&wt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t,n,o){for(var r=-1,i=null==e?0:e.length;++r<i;){var a=e[r];t(o,a,n(a),e)}return o}function At(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Lt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(!t(e[n],n,e))return!1;return!0}function It(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var a=e[n];t(a,n,e)&&(i[r++]=a)}return i}function Nt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Mt(e,t,n){for(var o=-1,r=null==e?0:e.length;++o<r;)if(n(t,e[o]))return!0;return!1}function Pt(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}function Ut(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}function Dt(e,t,n,o){var r=-1,i=null==e?0:e.length;for(o&&i&&(n=e[++r]);++r<i;)n=t(n,e[r],r,e);return n}function Ft(e,t,n,o){var r=null==e?0:e.length;for(o&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Ht(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}var Bt=Vt("length");function jt(e,t,n){var o;return n(e,(function(e,n,r){if(t(e,n,r))return o=n,!1})),o}function Kt(e,t,n,o){for(var r=e.length,i=n+(o?1:-1);o?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function qt(e,t,n){return t==t?function(e,t,n){var o=n-1,r=e.length;for(;++o<r;)if(e[o]===t)return o;return-1}(e,t,n):Kt(e,$t,n)}function zt(e,t,n,o){for(var r=n-1,i=e.length;++r<i;)if(o(e[r],t))return r;return-1}function $t(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Yt(e,t)/n:m}function Vt(e){return function(t){return null==t?r:t[e]}}function Gt(e){return function(t){return null==e?r:e[t]}}function Qt(e,t,n,o,r){return r(e,(function(e,r,i){n=o?(o=!1,e):t(n,e,r,i)})),n}function Yt(e,t){for(var n,o=-1,i=e.length;++o<i;){var a=t(e[o]);a!==r&&(n=n===r?a:n+a)}return n}function Xt(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function Zt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Pt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,o=e.length;++n<o&&qt(t,e[n],0)>-1;);return n}function on(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var rn=Gt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(e){return"\\"+lt[e]}function sn(e){return rt.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,o=e.length,r=0,i=[];++n<o;){var a=e[n];a!==t&&a!==u||(e[n]=u,i[r++]=n)}return i}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function mn(e){return sn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var vn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n,o=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,at))).Array,ue=t.Date,xe=t.Error,Ce=t.Function,Ee=t.Math,Te=t.Object,Oe=t.RegExp,Ae=t.String,Re=t.TypeError,Le=o.prototype,Ie=Ce.prototype,Ne=Te.prototype,Me=t["__core-js_shared__"],Pe=Ie.toString,Ue=Ne.hasOwnProperty,De=0,Fe=(n=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",He=Ne.toString,Be=Pe.call(Te),je=mt._,Ke=Oe("^"+Pe.call(Ue).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=yt?t.Buffer:r,ze=t.Symbol,$e=t.Uint8Array,We=qe?qe.allocUnsafe:r,Ve=ln(Te.getPrototypeOf,Te),Ge=Te.create,Qe=Ne.propertyIsEnumerable,Ye=Le.splice,Xe=ze?ze.isConcatSpreadable:r,Ze=ze?ze.iterator:r,Je=ze?ze.toStringTag:r,nt=function(){try{var e=pi(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),rt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,lt=ue&&ue.now!==mt.Date.now&&ue.now,pt=t.setTimeout!==mt.setTimeout&&t.setTimeout,ht=Ee.ceil,gt=Ee.floor,vt=Te.getOwnPropertySymbols,bt=qe?qe.isBuffer:r,wt=t.isFinite,Bt=Le.join,Gt=ln(Te.keys,Te),bn=Ee.max,wn=Ee.min,_n=ue.now,kn=t.parseInt,Sn=Ee.random,xn=Le.reverse,Cn=pi(t,"DataView"),En=pi(t,"Map"),Tn=pi(t,"Promise"),On=pi(t,"Set"),An=pi(t,"WeakMap"),Rn=pi(Te,"create"),Ln=An&&new An,In={},Nn=Hi(Cn),Mn=Hi(En),Pn=Hi(Tn),Un=Hi(On),Dn=Hi(An),Fn=ze?ze.prototype:r,Hn=Fn?Fn.valueOf:r,Bn=Fn?Fn.toString:r;function jn(e){if(nu(e)&&!$a(e)&&!(e instanceof $n)){if(e instanceof zn)return e;if(Ue.call(e,"__wrapped__"))return Bi(e)}return new zn(e)}var Kn=function(){function e(){}return function(t){if(!tu(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function qn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function $n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Xn(e,t){var n=$a(e),o=!n&&za(e),r=!n&&!o&&Qa(e),i=!n&&!o&&!r&&lu(e),a=n||o||r||i,u=a?Xt(e.length,Ae):[],s=u.length;for(var c in e)!t&&!Ue.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wi(c,s))||u.push(c);return u}function Zn(e){var t=e.length;return t?e[Yo(0,t-1)]:r}function Jn(e,t){return Ui(Lr(e),so(t,0,e.length))}function eo(e){return Ui(Lr(e))}function to(e,t,n){(n!==r&&!ja(e[t],n)||n===r&&!(t in e))&&ao(e,t,n)}function no(e,t,n){var o=e[t];Ue.call(e,t)&&ja(o,n)&&(n!==r||t in e)||ao(e,t,n)}function oo(e,t){for(var n=e.length;n--;)if(ja(e[n][0],t))return n;return-1}function ro(e,t,n,o){return ho(e,(function(e,r,i){t(o,e,n(e),i)})),o}function io(e,t){return e&&Ir(t,Iu(t),e)}function ao(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function uo(e,t){for(var n=-1,i=t.length,a=o(i),u=null==e;++n<i;)a[n]=u?r:Tu(e,t[n]);return a}function so(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function co(e,t,n,o,i,a){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=i?n(e,o,i,a):n(e)),u!==r)return u;if(!tu(e))return e;var f=$a(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ue.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Lr(e,u)}else{var d=gi(e),p=d==S||d==x;if(Qa(e))return Cr(e,s);if(d==T||d==y||p&&!i){if(u=c||p?{}:yi(e),!s)return c?function(e,t){return Ir(e,mi(e),t)}(e,function(e,t){return e&&Ir(t,Nu(t),e)}(u,e)):function(e,t){return Ir(e,hi(e),t)}(e,io(u,e))}else{if(!ct[d])return i?e:{};u=function(e,t,n){var o=e.constructor;switch(t){case M:return Er(e);case w:case _:return new o(+e);case P:return function(e,t){var n=t?Er(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case U:case D:case F:case H:case B:case j:case K:case q:case z:return Tr(e,n);case C:return new o;case E:case L:return new o(e);case A:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new o;case I:return r=e,Hn?Te(Hn.call(r)):{}}var r}(e,d,s)}}a||(a=new Yn);var h=a.get(e);if(h)return h;a.set(e,u),uu(e)?e.forEach((function(o){u.add(co(o,t,n,o,e,a))})):ou(e)&&e.forEach((function(o,r){u.set(r,co(o,t,n,r,e,a))}));var m=f?r:(l?c?ai:ii:c?Nu:Iu)(e);return At(m||e,(function(o,r){m&&(o=e[r=o]),no(u,r,co(o,t,n,r,e,a))})),u}function lo(e,t,n){var o=n.length;if(null==e)return!o;for(e=Te(e);o--;){var i=n[o],a=t[i],u=e[i];if(u===r&&!(i in e)||!a(u))return!1}return!0}function fo(e,t,n){if("function"!=typeof e)throw new Re(i);return Ii((function(){e.apply(r,n)}),t)}function po(e,t,n,o){var r=-1,i=Nt,a=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Pt(t,Jt(n))),o?(i=Mt,a=!1):t.length>=200&&(i=tn,a=!1,t=new Qn(t));e:for(;++r<u;){var l=e[r],f=null==n?l:n(l);if(l=o||0!==l?l:0,a&&f==f){for(var d=c;d--;)if(t[d]===f)continue e;s.push(l)}else i(t,f,o)||s.push(l)}return s}jn.templateSettings={escape:Z,evaluate:J,interpolate:ee,variable:"",imports:{_:jn}},jn.prototype=qn.prototype,jn.prototype.constructor=jn,zn.prototype=Kn(qn.prototype),zn.prototype.constructor=zn,$n.prototype=Kn(qn.prototype),$n.prototype.constructor=$n,Wn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===a?r:n}return Ue.call(t,e)?t[e]:r},Wn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==r:Ue.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===r?a:t,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=oo(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Vn.prototype.get=function(e){var t=this.__data__,n=oo(t,e);return n<0?r:t[n][1]},Vn.prototype.has=function(e){return oo(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,o=oo(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(En||Vn),string:new Wn}},Gn.prototype.delete=function(e){var t=fi(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return fi(this,e).get(e)},Gn.prototype.has=function(e){return fi(this,e).has(e)},Gn.prototype.set=function(e,t){var n=fi(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,a),this},Qn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var o=n.__data__;if(!En||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(o)}return n.set(e,t),this.size=n.size,this};var ho=Pr(ko),mo=Pr(So,!0);function go(e,t){var n=!0;return ho(e,(function(e,o,r){return n=!!t(e,o,r)})),n}function vo(e,t,n){for(var o=-1,i=e.length;++o<i;){var a=e[o],u=t(a);if(null!=u&&(s===r?u==u&&!cu(u):n(u,s)))var s=u,c=a}return c}function yo(e,t){var n=[];return ho(e,(function(e,o,r){t(e,o,r)&&n.push(e)})),n}function bo(e,t,n,o,r){var i=-1,a=e.length;for(n||(n=bi),r||(r=[]);++i<a;){var u=e[i];t>0&&n(u)?t>1?bo(u,t-1,n,o,r):Ut(r,u):o||(r[r.length]=u)}return r}var wo=Ur(),_o=Ur(!0);function ko(e,t){return e&&wo(e,t,Iu)}function So(e,t){return e&&_o(e,t,Iu)}function xo(e,t){return It(t,(function(t){return Za(e[t])}))}function Co(e,t){for(var n=0,o=(t=_r(t,e)).length;null!=e&&n<o;)e=e[Fi(t[n++])];return n&&n==o?e:r}function Eo(e,t,n){var o=t(e);return $a(e)?o:Ut(o,n(e))}function To(e){return null==e?e===r?"[object Undefined]":"[object Null]":Je&&Je in Te(e)?function(e){var t=Ue.call(e,Je),n=e[Je];try{e[Je]=r;var o=!0}catch(e){}var i=He.call(e);o&&(t?e[Je]=n:delete e[Je]);return i}(e):function(e){return He.call(e)}(e)}function Oo(e,t){return e>t}function Ao(e,t){return null!=e&&Ue.call(e,t)}function Ro(e,t){return null!=e&&t in Te(e)}function Lo(e,t,n){for(var i=n?Mt:Nt,a=e[0].length,u=e.length,s=u,c=o(u),l=1/0,f=[];s--;){var d=e[s];s&&t&&(d=Pt(d,Jt(t))),l=wn(d.length,l),c[s]=!n&&(t||a>=120&&d.length>=120)?new Qn(s&&d):r}d=e[0];var p=-1,h=c[0];e:for(;++p<a&&f.length<l;){var m=d[p],g=t?t(m):m;if(m=n||0!==m?m:0,!(h?tn(h,g):i(f,g,n))){for(s=u;--s;){var v=c[s];if(!(v?tn(v,g):i(e[s],g,n)))continue e}h&&h.push(g),f.push(m)}}return f}function Io(e,t,n){var o=null==(e=Ai(e,t=_r(t,e)))?e:e[Fi(Xi(t))];return null==o?r:Tt(o,e,n)}function No(e){return nu(e)&&To(e)==y}function Mo(e,t,n,o,i){return e===t||(null==e||null==t||!nu(e)&&!nu(t)?e!=e&&t!=t:function(e,t,n,o,i,a){var u=$a(e),s=$a(t),c=u?b:gi(e),l=s?b:gi(t),f=(c=c==y?T:c)==T,d=(l=l==y?T:l)==T,p=c==l;if(p&&Qa(e)){if(!Qa(t))return!1;u=!0,f=!1}if(p&&!f)return a||(a=new Yn),u||lu(e)?oi(e,t,n,o,i,a):function(e,t,n,o,r,i,a){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!i(new $e(e),new $e(t)));case w:case _:case E:return ja(+e,+t);case k:return e.name==t.name&&e.message==t.message;case A:case L:return e==t+"";case C:var u=cn;case R:var s=1&o;if(u||(u=dn),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;o|=2,a.set(e,t);var l=oi(u(e),u(t),o,r,i,a);return a.delete(e),l;case I:if(Hn)return Hn.call(e)==Hn.call(t)}return!1}(e,t,c,n,o,i,a);if(!(1&n)){var h=f&&Ue.call(e,"__wrapped__"),m=d&&Ue.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,v=m?t.value():t;return a||(a=new Yn),i(g,v,n,o,a)}}if(!p)return!1;return a||(a=new Yn),function(e,t,n,o,i,a){var u=1&n,s=ii(e),c=s.length,l=ii(t),f=l.length;if(c!=f&&!u)return!1;var d=c;for(;d--;){var p=s[d];if(!(u?p in t:Ue.call(t,p)))return!1}var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);var v=u;for(;++d<c;){var y=e[p=s[d]],b=t[p];if(o)var w=u?o(b,y,p,t,e,a):o(y,b,p,e,t,a);if(!(w===r?y===b||i(y,b,n,o,a):w)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var _=e.constructor,k=t.constructor;_==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof k&&k instanceof k||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,o,i,a)}(e,t,n,o,Mo,i))}function Po(e,t,n,o){var i=n.length,a=i,u=!o;if(null==e)return!a;for(e=Te(e);i--;){var s=n[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=n[i])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===r&&!(c in e))return!1}else{var d=new Yn;if(o)var p=o(l,f,c,e,t,d);if(!(p===r?Mo(f,l,3,o,d):p))return!1}}return!0}function Uo(e){return!(!tu(e)||(t=e,Fe&&Fe in t))&&(Za(e)?Ke:ye).test(Hi(e));var t}function Do(e){return"function"==typeof e?e:null==e?rs:"object"==typeof e?$a(e)?qo(e[0],e[1]):Ko(e):ps(e)}function Fo(e){if(!Ci(e))return Gt(e);var t=[];for(var n in Te(e))Ue.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ho(e){if(!tu(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Ci(e),n=[];for(var o in e)("constructor"!=o||!t&&Ue.call(e,o))&&n.push(o);return n}function Bo(e,t){return e<t}function jo(e,t){var n=-1,r=Va(e)?o(e.length):[];return ho(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function Ko(e){var t=di(e);return 1==t.length&&t[0][2]?Ti(t[0][0],t[0][1]):function(n){return n===e||Po(n,e,t)}}function qo(e,t){return ki(e)&&Ei(t)?Ti(Fi(e),t):function(n){var o=Tu(n,e);return o===r&&o===t?Ou(n,e):Mo(t,o,3)}}function zo(e,t,n,o,i){e!==t&&wo(t,(function(a,u){if(i||(i=new Yn),tu(a))!function(e,t,n,o,i,a,u){var s=Ri(e,n),c=Ri(t,n),l=u.get(c);if(l)return void to(e,n,l);var f=a?a(s,c,n+"",e,t,u):r,d=f===r;if(d){var p=$a(c),h=!p&&Qa(c),m=!p&&!h&&lu(c);f=c,p||h||m?$a(s)?f=s:Ga(s)?f=Lr(s):h?(d=!1,f=Cr(c,!0)):m?(d=!1,f=Tr(c,!0)):f=[]:iu(c)||za(c)?(f=s,za(s)?f=yu(s):tu(s)&&!Za(s)||(f=yi(c))):d=!1}d&&(u.set(c,f),i(f,c,o,a,u),u.delete(c));to(e,n,f)}(e,t,u,n,zo,o,i);else{var s=o?o(Ri(e,u),a,u+"",e,t,i):r;s===r&&(s=a),to(e,u,s)}}),Nu)}function $o(e,t){var n=e.length;if(n)return wi(t+=t<0?n:0,n)?e[t]:r}function Wo(e,t,n){t=t.length?Pt(t,(function(e){return $a(e)?function(t){return Co(t,1===e.length?e[0]:e)}:e})):[rs];var o=-1;t=Pt(t,Jt(li()));var r=jo(e,(function(e,n,r){var i=Pt(t,(function(t){return t(e)}));return{criteria:i,index:++o,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(r,(function(e,t){return function(e,t,n){var o=-1,r=e.criteria,i=t.criteria,a=r.length,u=n.length;for(;++o<a;){var s=Or(r[o],i[o]);if(s)return o>=u?s:s*("desc"==n[o]?-1:1)}return e.index-t.index}(e,t,n)}))}function Vo(e,t,n){for(var o=-1,r=t.length,i={};++o<r;){var a=t[o],u=Co(e,a);n(u,a)&&tr(i,_r(a,e),u)}return i}function Go(e,t,n,o){var r=o?zt:qt,i=-1,a=t.length,u=e;for(e===t&&(t=Lr(t)),n&&(u=Pt(e,Jt(n)));++i<a;)for(var s=0,c=t[i],l=n?n(c):c;(s=r(u,l,s,o))>-1;)u!==e&&Ye.call(u,s,1),Ye.call(e,s,1);return e}function Qo(e,t){for(var n=e?t.length:0,o=n-1;n--;){var r=t[n];if(n==o||r!==i){var i=r;wi(r)?Ye.call(e,r,1):pr(e,r)}}return e}function Yo(e,t){return e+gt(Sn()*(t-e+1))}function Xo(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Zo(e,t){return Ni(Oi(e,t,rs),e+"")}function Jo(e){return Zn(ju(e))}function er(e,t){var n=ju(e);return Ui(n,so(t,0,n.length))}function tr(e,t,n,o){if(!tu(e))return e;for(var i=-1,a=(t=_r(t,e)).length,u=a-1,s=e;null!=s&&++i<a;){var c=Fi(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=u){var f=s[c];(l=o?o(f,c,s):r)===r&&(l=tu(f)?f:wi(t[i+1])?[]:{})}no(s,c,l),s=s[c]}return e}var nr=Ln?function(e,t){return Ln.set(e,t),e}:rs,or=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:rs;function rr(e){return Ui(ju(e))}function ir(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=o(i);++r<i;)a[r]=e[r+t];return a}function ar(e,t){var n;return ho(e,(function(e,o,r){return!(n=t(e,o,r))})),!!n}function ur(e,t,n){var o=0,r=null==e?o:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;o<r;){var i=o+r>>>1,a=e[i];null!==a&&!cu(a)&&(n?a<=t:a<t)?o=i+1:r=i}return r}return sr(e,t,rs,n)}function sr(e,t,n,o){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var u=(t=n(t))!=t,s=null===t,c=cu(t),l=t===r;i<a;){var f=gt((i+a)/2),d=n(e[f]),p=d!==r,h=null===d,m=d==d,g=cu(d);if(u)var v=o||m;else v=l?m&&(o||p):s?m&&p&&(o||!h):c?m&&p&&!h&&(o||!g):!h&&!g&&(o?d<=t:d<t);v?i=f+1:a=f}return wn(a,4294967294)}function cr(e,t){for(var n=-1,o=e.length,r=0,i=[];++n<o;){var a=e[n],u=t?t(a):a;if(!n||!ja(u,s)){var s=u;i[r++]=0===a?0:a}}return i}function lr(e){return"number"==typeof e?e:cu(e)?m:+e}function fr(e){if("string"==typeof e)return e;if($a(e))return Pt(e,fr)+"";if(cu(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function dr(e,t,n){var o=-1,r=Nt,i=e.length,a=!0,u=[],s=u;if(n)a=!1,r=Mt;else if(i>=200){var c=t?null:Xr(e);if(c)return dn(c);a=!1,r=tn,s=new Qn}else s=t?[]:u;e:for(;++o<i;){var l=e[o],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=s.length;d--;)if(s[d]===f)continue e;t&&s.push(f),u.push(l)}else r(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function pr(e,t){return null==(e=Ai(e,t=_r(t,e)))||delete e[Fi(Xi(t))]}function hr(e,t,n,o){return tr(e,t,n(Co(e,t)),o)}function mr(e,t,n,o){for(var r=e.length,i=o?r:-1;(o?i--:++i<r)&&t(e[i],i,e););return n?ir(e,o?0:i,o?i+1:r):ir(e,o?i+1:0,o?r:i)}function gr(e,t){var n=e;return n instanceof $n&&(n=n.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,Ut([e],t.args))}),n)}function vr(e,t,n){var r=e.length;if(r<2)return r?dr(e[0]):[];for(var i=-1,a=o(r);++i<r;)for(var u=e[i],s=-1;++s<r;)s!=i&&(a[i]=po(a[i]||u,e[s],t,n));return dr(bo(a,1),t,n)}function yr(e,t,n){for(var o=-1,i=e.length,a=t.length,u={};++o<i;){var s=o<a?t[o]:r;n(u,e[o],s)}return u}function br(e){return Ga(e)?e:[]}function wr(e){return"function"==typeof e?e:rs}function _r(e,t){return $a(e)?e:ki(e,t)?[e]:Di(bu(e))}var kr=Zo;function Sr(e,t,n){var o=e.length;return n=n===r?o:n,!t&&n>=o?e:ir(e,t,n)}var xr=rt||function(e){return mt.clearTimeout(e)};function Cr(e,t){if(t)return e.slice();var n=e.length,o=We?We(n):new e.constructor(n);return e.copy(o),o}function Er(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t}function Tr(e,t){var n=t?Er(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Or(e,t){if(e!==t){var n=e!==r,o=null===e,i=e==e,a=cu(e),u=t!==r,s=null===t,c=t==t,l=cu(t);if(!s&&!l&&!a&&e>t||a&&u&&c&&!s&&!l||o&&u&&c||!n&&c||!i)return 1;if(!o&&!a&&!l&&e<t||l&&n&&i&&!o&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}function Ar(e,t,n,r){for(var i=-1,a=e.length,u=n.length,s=-1,c=t.length,l=bn(a-u,0),f=o(c+l),d=!r;++s<c;)f[s]=t[s];for(;++i<u;)(d||i<a)&&(f[n[i]]=e[i]);for(;l--;)f[s++]=e[i++];return f}function Rr(e,t,n,r){for(var i=-1,a=e.length,u=-1,s=n.length,c=-1,l=t.length,f=bn(a-s,0),d=o(f+l),p=!r;++i<f;)d[i]=e[i];for(var h=i;++c<l;)d[h+c]=t[c];for(;++u<s;)(p||i<a)&&(d[h+n[u]]=e[i++]);return d}function Lr(e,t){var n=-1,r=e.length;for(t||(t=o(r));++n<r;)t[n]=e[n];return t}function Ir(e,t,n,o){var i=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var s=t[a],c=o?o(n[s],e[s],s,n,e):r;c===r&&(c=e[s]),i?ao(n,s,c):no(n,s,c)}return n}function Nr(e,t){return function(n,o){var r=$a(n)?Ot:ro,i=t?t():{};return r(n,e,li(o,2),i)}}function Mr(e){return Zo((function(t,n){var o=-1,i=n.length,a=i>1?n[i-1]:r,u=i>2?n[2]:r;for(a=e.length>3&&"function"==typeof a?(i--,a):r,u&&_i(n[0],n[1],u)&&(a=i<3?r:a,i=1),t=Te(t);++o<i;){var s=n[o];s&&e(t,s,o,a)}return t}))}function Pr(e,t){return function(n,o){if(null==n)return n;if(!Va(n))return e(n,o);for(var r=n.length,i=t?r:-1,a=Te(n);(t?i--:++i<r)&&!1!==o(a[i],i,a););return n}}function Ur(e){return function(t,n,o){for(var r=-1,i=Te(t),a=o(t),u=a.length;u--;){var s=a[e?u:++r];if(!1===n(i[s],s,i))break}return t}}function Dr(e){return function(t){var n=sn(t=bu(t))?mn(t):r,o=n?n[0]:t.charAt(0),i=n?Sr(n,1).join(""):t.slice(1);return o[e]()+i}}function Fr(e){return function(t){return Dt(Zu(zu(t).replace(et,"")),e,"")}}function Hr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Kn(e.prototype),o=e.apply(n,t);return tu(o)?o:n}}function Br(e){return function(t,n,o){var i=Te(t);if(!Va(t)){var a=li(n,3);t=Iu(t),n=function(e){return a(i[e],e,i)}}var u=e(t,n,o);return u>-1?i[a?t[u]:u]:r}}function jr(e){return ri((function(t){var n=t.length,o=n,a=zn.prototype.thru;for(e&&t.reverse();o--;){var u=t[o];if("function"!=typeof u)throw new Re(i);if(a&&!s&&"wrapper"==si(u))var s=new zn([],!0)}for(o=s?o:n;++o<n;){var c=si(u=t[o]),l="wrapper"==c?ui(u):r;s=l&&Si(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[si(l[0])].apply(s,l[3]):1==u.length&&Si(u)?s[c]():s.thru(u)}return function(){var e=arguments,o=e[0];if(s&&1==e.length&&$a(o))return s.plant(o).value();for(var r=0,i=n?t[r].apply(this,e):o;++r<n;)i=t[r].call(this,i);return i}}))}function Kr(e,t,n,i,a,u,s,c,l,d){var p=t&f,h=1&t,m=2&t,g=24&t,v=512&t,y=m?r:Hr(e);return function f(){for(var b=arguments.length,w=o(b),_=b;_--;)w[_]=arguments[_];if(g)var k=ci(f),S=function(e,t){for(var n=e.length,o=0;n--;)e[n]===t&&++o;return o}(w,k);if(i&&(w=Ar(w,i,a,g)),u&&(w=Rr(w,u,s,g)),b-=S,g&&b<d){var x=fn(w,k);return Qr(e,t,Kr,f.placeholder,n,w,x,c,l,d-b)}var C=h?n:this,E=m?C[e]:e;return b=w.length,c?w=function(e,t){var n=e.length,o=wn(t.length,n),i=Lr(e);for(;o--;){var a=t[o];e[o]=wi(a,n)?i[a]:r}return e}(w,c):v&&b>1&&w.reverse(),p&&l<b&&(w.length=l),this&&this!==mt&&this instanceof f&&(E=y||Hr(E)),E.apply(C,w)}}function qr(e,t){return function(n,o){return function(e,t,n,o){return ko(e,(function(e,r,i){t(o,n(e),r,i)})),o}(n,e,t(o),{})}}function zr(e,t){return function(n,o){var i;if(n===r&&o===r)return t;if(n!==r&&(i=n),o!==r){if(i===r)return o;"string"==typeof n||"string"==typeof o?(n=fr(n),o=fr(o)):(n=lr(n),o=lr(o)),i=e(n,o)}return i}}function $r(e){return ri((function(t){return t=Pt(t,Jt(li())),Zo((function(n){var o=this;return e(t,(function(e){return Tt(e,o,n)}))}))}))}function Wr(e,t){var n=(t=t===r?" ":fr(t)).length;if(n<2)return n?Xo(t,e):t;var o=Xo(t,ht(e/hn(t)));return sn(t)?Sr(mn(o),0,e).join(""):o.slice(0,e)}function Vr(e){return function(t,n,i){return i&&"number"!=typeof i&&_i(t,n,i)&&(n=i=r),t=hu(t),n===r?(n=t,t=0):n=hu(n),function(e,t,n,r){for(var i=-1,a=bn(ht((t-e)/(n||1)),0),u=o(a);a--;)u[r?a:++i]=e,e+=n;return u}(t,n,i=i===r?t<n?1:-1:hu(i),e)}}function Gr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vu(t),n=vu(n)),e(t,n)}}function Qr(e,t,n,o,i,a,u,s,f,d){var p=8&t;t|=p?c:l,4&(t&=~(p?l:c))||(t&=-4);var h=[e,t,i,p?a:r,p?u:r,p?r:a,p?r:u,s,f,d],m=n.apply(r,h);return Si(e)&&Li(m,h),m.placeholder=o,Mi(m,e,t)}function Yr(e){var t=Ee[e];return function(e,n){if(e=vu(e),(n=null==n?0:wn(mu(n),292))&&wt(e)){var o=(bu(e)+"e").split("e");return+((o=(bu(t(o[0]+"e"+(+o[1]+n)))+"e").split("e"))[0]+"e"+(+o[1]-n))}return t(e)}}var Xr=On&&1/dn(new On([,-0]))[1]==p?function(e){return new On(e)}:cs;function Zr(e){return function(t){var n=gi(t);return n==C?cn(t):n==R?pn(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Jr(e,t,n,a,p,h,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Re(i);var y=a?a.length:0;if(y||(t&=-97,a=p=r),m=m===r?m:bn(mu(m),0),g=g===r?g:mu(g),y-=p?p.length:0,t&l){var b=a,w=p;a=p=r}var _=v?r:ui(e),k=[e,t,n,a,p,b,w,h,m,g];if(_&&function(e,t){var n=e[1],o=t[1],r=n|o,i=r<131,a=o==f&&8==n||o==f&&n==d&&e[7].length<=t[8]||384==o&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&o&&(e[2]=t[2],r|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Ar(c,s,t[4]):s,e[4]=c?fn(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Rr(c,s,t[6]):s,e[6]=c?fn(e[5],u):t[6]);(s=t[7])&&(e[7]=s);o&f&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(k,_),e=k[0],t=k[1],n=k[2],a=k[3],p=k[4],!(g=k[9]=k[9]===r?v?0:e.length:bn(k[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==s?function(e,t,n){var i=Hr(e);return function a(){for(var u=arguments.length,s=o(u),c=u,l=ci(a);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:fn(s,l);return(u-=f.length)<n?Qr(e,t,Kr,a.placeholder,r,s,f,r,r,n-u):Tt(this&&this!==mt&&this instanceof a?i:e,this,s)}}(e,t,g):t!=c&&33!=t||p.length?Kr.apply(r,k):function(e,t,n,r){var i=1&t,a=Hr(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=r.length,f=o(l+s),d=this&&this!==mt&&this instanceof t?a:e;++c<l;)f[c]=r[c];for(;s--;)f[c++]=arguments[++u];return Tt(d,i?n:this,f)}}(e,t,n,a);else var S=function(e,t,n){var o=1&t,r=Hr(e);return function t(){return(this&&this!==mt&&this instanceof t?r:e).apply(o?n:this,arguments)}}(e,t,n);return Mi((_?nr:Li)(S,k),e,t)}function ei(e,t,n,o){return e===r||ja(e,Ne[n])&&!Ue.call(o,n)?t:e}function ti(e,t,n,o,i,a){return tu(e)&&tu(t)&&(a.set(t,e),zo(e,t,r,ti,a),a.delete(t)),e}function ni(e){return iu(e)?r:e}function oi(e,t,n,o,i,a){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,p=!0,h=2&n?new Qn:r;for(a.set(e,t),a.set(t,e);++d<s;){var m=e[d],g=t[d];if(o)var v=u?o(g,m,d,t,e,a):o(m,g,d,e,t,a);if(v!==r){if(v)continue;p=!1;break}if(h){if(!Ht(t,(function(e,t){if(!tn(h,t)&&(m===e||i(m,e,n,o,a)))return h.push(t)}))){p=!1;break}}else if(m!==g&&!i(m,g,n,o,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function ri(e){return Ni(Oi(e,r,Wi),e+"")}function ii(e){return Eo(e,Iu,hi)}function ai(e){return Eo(e,Nu,mi)}var ui=Ln?function(e){return Ln.get(e)}:cs;function si(e){for(var t=e.name+"",n=In[t],o=Ue.call(In,t)?n.length:0;o--;){var r=n[o],i=r.func;if(null==i||i==e)return r.name}return t}function ci(e){return(Ue.call(jn,"placeholder")?jn:e).placeholder}function li(){var e=jn.iteratee||is;return e=e===is?Do:e,arguments.length?e(arguments[0],arguments[1]):e}function fi(e,t){var n,o,r=e.__data__;return("string"==(o=typeof(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function di(e){for(var t=Iu(e),n=t.length;n--;){var o=t[n],r=e[o];t[n]=[o,r,Ei(r)]}return t}function pi(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Uo(n)?n:r}var hi=vt?function(e){return null==e?[]:(e=Te(e),It(vt(e),(function(t){return Qe.call(e,t)})))}:gs,mi=vt?function(e){for(var t=[];e;)Ut(t,hi(e)),e=Ve(e);return t}:gs,gi=To;function vi(e,t,n){for(var o=-1,r=(t=_r(t,e)).length,i=!1;++o<r;){var a=Fi(t[o]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++o!=r?i:!!(r=null==e?0:e.length)&&eu(r)&&wi(a,r)&&($a(e)||za(e))}function yi(e){return"function"!=typeof e.constructor||Ci(e)?{}:Kn(Ve(e))}function bi(e){return $a(e)||za(e)||!!(Xe&&e&&e[Xe])}function wi(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function _i(e,t,n){if(!tu(n))return!1;var o=typeof t;return!!("number"==o?Va(n)&&wi(t,n.length):"string"==o&&t in n)&&ja(n[t],e)}function ki(e,t){if($a(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cu(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function Si(e){var t=si(e),n=jn[t];if("function"!=typeof n||!(t in $n.prototype))return!1;if(e===n)return!0;var o=ui(n);return!!o&&e===o[0]}(Cn&&gi(new Cn(new ArrayBuffer(1)))!=P||En&&gi(new En)!=C||Tn&&gi(Tn.resolve())!=O||On&&gi(new On)!=R||An&&gi(new An)!=N)&&(gi=function(e){var t=To(e),n=t==T?e.constructor:r,o=n?Hi(n):"";if(o)switch(o){case Nn:return P;case Mn:return C;case Pn:return O;case Un:return R;case Dn:return N}return t});var xi=Me?Za:vs;function Ci(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function Ei(e){return e==e&&!tu(e)}function Ti(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in Te(n)))}}function Oi(e,t,n){return t=bn(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=bn(r.length-t,0),u=o(a);++i<a;)u[i]=r[t+i];i=-1;for(var s=o(t+1);++i<t;)s[i]=r[i];return s[t]=n(u),Tt(e,this,s)}}function Ai(e,t){return t.length<2?e:Co(e,ir(t,0,-1))}function Ri(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Li=Pi(nr),Ii=pt||function(e,t){return mt.setTimeout(e,t)},Ni=Pi(or);function Mi(e,t,n){var o=t+"";return Ni(e,function(e,t){var n=t.length;if(!n)return e;var o=n-1;return t[o]=(n>1?"& ":"")+t[o],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(o,function(e,t){return At(v,(function(n){var o="_."+n[0];t&n[1]&&!Nt(e,o)&&e.push(o)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(o),n)))}function Pi(e){var t=0,n=0;return function(){var o=_n(),i=16-(o-n);if(n=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Ui(e,t){var n=-1,o=e.length,i=o-1;for(t=t===r?o:t;++n<t;){var a=Yo(n,i),u=e[a];e[a]=e[n],e[n]=u}return e.length=t,e}var Di=function(e){var t=Pa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(oe,(function(e,n,o,r){t.push(o?r.replace(pe,"$1"):n||e)})),t}));function Fi(e){if("string"==typeof e||cu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Hi(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Bi(e){if(e instanceof $n)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Lr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ji=Zo((function(e,t){return Ga(e)?po(e,bo(t,1,Ga,!0)):[]})),Ki=Zo((function(e,t){var n=Xi(t);return Ga(n)&&(n=r),Ga(e)?po(e,bo(t,1,Ga,!0),li(n,2)):[]})),qi=Zo((function(e,t){var n=Xi(t);return Ga(n)&&(n=r),Ga(e)?po(e,bo(t,1,Ga,!0),r,n):[]}));function zi(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=null==n?0:mu(n);return r<0&&(r=bn(o+r,0)),Kt(e,li(t,3),r)}function $i(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=o-1;return n!==r&&(i=mu(n),i=n<0?bn(o+i,0):wn(i,o-1)),Kt(e,li(t,3),i,!0)}function Wi(e){return(null==e?0:e.length)?bo(e,1):[]}function Vi(e){return e&&e.length?e[0]:r}var Gi=Zo((function(e){var t=Pt(e,br);return t.length&&t[0]===e[0]?Lo(t):[]})),Qi=Zo((function(e){var t=Xi(e),n=Pt(e,br);return t===Xi(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Lo(n,li(t,2)):[]})),Yi=Zo((function(e){var t=Xi(e),n=Pt(e,br);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Lo(n,r,t):[]}));function Xi(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Zi=Zo(Ji);function Ji(e,t){return e&&e.length&&t&&t.length?Go(e,t):e}var ea=ri((function(e,t){var n=null==e?0:e.length,o=uo(e,t);return Qo(e,Pt(t,(function(e){return wi(e,n)?+e:e})).sort(Or)),o}));function ta(e){return null==e?e:xn.call(e)}var na=Zo((function(e){return dr(bo(e,1,Ga,!0))})),oa=Zo((function(e){var t=Xi(e);return Ga(t)&&(t=r),dr(bo(e,1,Ga,!0),li(t,2))})),ra=Zo((function(e){var t=Xi(e);return t="function"==typeof t?t:r,dr(bo(e,1,Ga,!0),r,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=It(e,(function(e){if(Ga(e))return t=bn(e.length,t),!0})),Xt(t,(function(t){return Pt(e,Vt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:Pt(n,(function(e){return Tt(t,r,e)}))}var ua=Zo((function(e,t){return Ga(e)?po(e,t):[]})),sa=Zo((function(e){return vr(It(e,Ga))})),ca=Zo((function(e){var t=Xi(e);return Ga(t)&&(t=r),vr(It(e,Ga),li(t,2))})),la=Zo((function(e){var t=Xi(e);return t="function"==typeof t?t:r,vr(It(e,Ga),r,t)})),fa=Zo(ia);var da=Zo((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,aa(e,n)}));function pa(e){var t=jn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var ma=ri((function(e){var t=e.length,n=t?e[0]:0,o=this.__wrapped__,i=function(t){return uo(t,e)};return!(t>1||this.__actions__.length)&&o instanceof $n&&wi(n)?((o=o.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[i],thisArg:r}),new zn(o,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(i)}));var ga=Nr((function(e,t,n){Ue.call(e,n)?++e[n]:ao(e,n,1)}));var va=Br(zi),ya=Br($i);function ba(e,t){return($a(e)?At:ho)(e,li(t,3))}function wa(e,t){return($a(e)?Rt:mo)(e,li(t,3))}var _a=Nr((function(e,t,n){Ue.call(e,n)?e[n].push(t):ao(e,n,[t])}));var ka=Zo((function(e,t,n){var r=-1,i="function"==typeof t,a=Va(e)?o(e.length):[];return ho(e,(function(e){a[++r]=i?Tt(t,e,n):Io(e,t,n)})),a})),Sa=Nr((function(e,t,n){ao(e,n,t)}));function xa(e,t){return($a(e)?Pt:jo)(e,li(t,3))}var Ca=Nr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ea=Zo((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_i(e,t[0],t[1])?t=[]:n>2&&_i(t[0],t[1],t[2])&&(t=[t[0]]),Wo(e,bo(t,1),[])})),Ta=lt||function(){return mt.Date.now()};function Oa(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Jr(e,f,r,r,r,r,t)}function Aa(e,t){var n;if("function"!=typeof t)throw new Re(i);return e=mu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Ra=Zo((function(e,t,n){var o=1;if(n.length){var r=fn(n,ci(Ra));o|=c}return Jr(e,o,t,n,r)})),La=Zo((function(e,t,n){var o=3;if(n.length){var r=fn(n,ci(La));o|=c}return Jr(t,o,e,n,r)}));function Ia(e,t,n){var o,a,u,s,c,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new Re(i);function m(t){var n=o,i=a;return o=a=r,f=t,s=e.apply(i,n)}function g(e){var n=e-l;return l===r||n>=t||n<0||p&&e-f>=u}function v(){var e=Ta();if(g(e))return y(e);c=Ii(v,function(e){var n=t-(e-l);return p?wn(n,u-(e-f)):n}(e))}function y(e){return c=r,h&&o?m(e):(o=a=r,s)}function b(){var e=Ta(),n=g(e);if(o=arguments,a=this,l=e,n){if(c===r)return function(e){return f=e,c=Ii(v,t),d?m(e):s}(l);if(p)return xr(c),c=Ii(v,t),m(l)}return c===r&&(c=Ii(v,t)),s}return t=vu(t)||0,tu(n)&&(d=!!n.leading,u=(p="maxWait"in n)?bn(vu(n.maxWait)||0,t):u,h="trailing"in n?!!n.trailing:h),b.cancel=function(){c!==r&&xr(c),f=0,o=l=a=c=r},b.flush=function(){return c===r?s:y(Ta())},b}var Na=Zo((function(e,t){return fo(e,1,t)})),Ma=Zo((function(e,t,n){return fo(e,vu(t)||0,n)}));function Pa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Re(i);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=e.apply(this,o);return n.cache=i.set(r,a)||i,a};return n.cache=new(Pa.Cache||Gn),n}function Ua(e){if("function"!=typeof e)throw new Re(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Pa.Cache=Gn;var Da=kr((function(e,t){var n=(t=1==t.length&&$a(t[0])?Pt(t[0],Jt(li())):Pt(bo(t,1),Jt(li()))).length;return Zo((function(o){for(var r=-1,i=wn(o.length,n);++r<i;)o[r]=t[r].call(this,o[r]);return Tt(e,this,o)}))})),Fa=Zo((function(e,t){var n=fn(t,ci(Fa));return Jr(e,c,r,t,n)})),Ha=Zo((function(e,t){var n=fn(t,ci(Ha));return Jr(e,l,r,t,n)})),Ba=ri((function(e,t){return Jr(e,d,r,r,r,t)}));function ja(e,t){return e===t||e!=e&&t!=t}var Ka=Gr(Oo),qa=Gr((function(e,t){return e>=t})),za=No(function(){return arguments}())?No:function(e){return nu(e)&&Ue.call(e,"callee")&&!Qe.call(e,"callee")},$a=o.isArray,Wa=_t?Jt(_t):function(e){return nu(e)&&To(e)==M};function Va(e){return null!=e&&eu(e.length)&&!Za(e)}function Ga(e){return nu(e)&&Va(e)}var Qa=bt||vs,Ya=kt?Jt(kt):function(e){return nu(e)&&To(e)==_};function Xa(e){if(!nu(e))return!1;var t=To(e);return t==k||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!iu(e)}function Za(e){if(!tu(e))return!1;var t=To(e);return t==S||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ja(e){return"number"==typeof e&&e==mu(e)}function eu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function tu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function nu(e){return null!=e&&"object"==typeof e}var ou=St?Jt(St):function(e){return nu(e)&&gi(e)==C};function ru(e){return"number"==typeof e||nu(e)&&To(e)==E}function iu(e){if(!nu(e)||To(e)!=T)return!1;var t=Ve(e);if(null===t)return!0;var n=Ue.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==Be}var au=xt?Jt(xt):function(e){return nu(e)&&To(e)==A};var uu=Ct?Jt(Ct):function(e){return nu(e)&&gi(e)==R};function su(e){return"string"==typeof e||!$a(e)&&nu(e)&&To(e)==L}function cu(e){return"symbol"==typeof e||nu(e)&&To(e)==I}var lu=Et?Jt(Et):function(e){return nu(e)&&eu(e.length)&&!!st[To(e)]};var fu=Gr(Bo),du=Gr((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Va(e))return su(e)?mn(e):Lr(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=gi(e);return(t==C?cn:t==R?dn:ju)(e)}function hu(e){return e?(e=vu(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function mu(e){var t=hu(e),n=t%1;return t==t?n?t-n:t:0}function gu(e){return e?so(mu(e),0,g):0}function vu(e){if("number"==typeof e)return e;if(cu(e))return m;if(tu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=ve.test(e);return n||be.test(e)?dt(e.slice(2),n?2:8):ge.test(e)?m:+e}function yu(e){return Ir(e,Nu(e))}function bu(e){return null==e?"":fr(e)}var wu=Mr((function(e,t){if(Ci(t)||Va(t))Ir(t,Iu(t),e);else for(var n in t)Ue.call(t,n)&&no(e,n,t[n])})),_u=Mr((function(e,t){Ir(t,Nu(t),e)})),ku=Mr((function(e,t,n,o){Ir(t,Nu(t),e,o)})),Su=Mr((function(e,t,n,o){Ir(t,Iu(t),e,o)})),xu=ri(uo);var Cu=Zo((function(e,t){e=Te(e);var n=-1,o=t.length,i=o>2?t[2]:r;for(i&&_i(t[0],t[1],i)&&(o=1);++n<o;)for(var a=t[n],u=Nu(a),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===r||ja(f,Ne[l])&&!Ue.call(e,l))&&(e[l]=a[l])}return e})),Eu=Zo((function(e){return e.push(r,ti),Tt(Pu,r,e)}));function Tu(e,t,n){var o=null==e?r:Co(e,t);return o===r?n:o}function Ou(e,t){return null!=e&&vi(e,t,Ro)}var Au=qr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=He.call(t)),e[t]=n}),ts(rs)),Ru=qr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=He.call(t)),Ue.call(e,t)?e[t].push(n):e[t]=[n]}),li),Lu=Zo(Io);function Iu(e){return Va(e)?Xn(e):Fo(e)}function Nu(e){return Va(e)?Xn(e,!0):Ho(e)}var Mu=Mr((function(e,t,n){zo(e,t,n)})),Pu=Mr((function(e,t,n,o){zo(e,t,n,o)})),Uu=ri((function(e,t){var n={};if(null==e)return n;var o=!1;t=Pt(t,(function(t){return t=_r(t,e),o||(o=t.length>1),t})),Ir(e,ai(e),n),o&&(n=co(n,7,ni));for(var r=t.length;r--;)pr(n,t[r]);return n}));var Du=ri((function(e,t){return null==e?{}:function(e,t){return Vo(e,t,(function(t,n){return Ou(e,n)}))}(e,t)}));function Fu(e,t){if(null==e)return{};var n=Pt(ai(e),(function(e){return[e]}));return t=li(t),Vo(e,n,(function(e,n){return t(e,n[0])}))}var Hu=Zr(Iu),Bu=Zr(Nu);function ju(e){return null==e?[]:en(e,Iu(e))}var Ku=Fr((function(e,t,n){return t=t.toLowerCase(),e+(n?qu(t):t)}));function qu(e){return Xu(bu(e).toLowerCase())}function zu(e){return(e=bu(e))&&e.replace(_e,rn).replace(tt,"")}var $u=Fr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Wu=Fr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Vu=Dr("toLowerCase");var Gu=Fr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qu=Fr((function(e,t,n){return e+(n?" ":"")+Xu(t)}));var Yu=Fr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xu=Dr("toUpperCase");function Zu(e,t,n){return e=bu(e),(t=n?r:t)===r?function(e){return it.test(e)}(e)?function(e){return e.match(ot)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var Ju=Zo((function(e,t){try{return Tt(e,r,t)}catch(e){return Xa(e)?e:new xe(e)}})),es=ri((function(e,t){return At(t,(function(t){t=Fi(t),ao(e,t,Ra(e[t],e))})),e}));function ts(e){return function(){return e}}var ns=jr(),os=jr(!0);function rs(e){return e}function is(e){return Do("function"==typeof e?e:co(e,1))}var as=Zo((function(e,t){return function(n){return Io(n,e,t)}})),us=Zo((function(e,t){return function(n){return Io(e,n,t)}}));function ss(e,t,n){var o=Iu(t),r=xo(t,o);null!=n||tu(t)&&(r.length||!o.length)||(n=t,t=e,e=this,r=xo(t,Iu(t)));var i=!(tu(n)&&"chain"in n&&!n.chain),a=Za(e);return At(r,(function(n){var o=t[n];e[n]=o,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Lr(this.__actions__)).push({func:o,args:arguments,thisArg:e}),n.__chain__=t,n}return o.apply(e,Ut([this.value()],arguments))})})),e}function cs(){}var ls=$r(Pt),fs=$r(Lt),ds=$r(Ht);function ps(e){return ki(e)?Vt(Fi(e)):function(e){return function(t){return Co(t,e)}}(e)}var hs=Vr(),ms=Vr(!0);function gs(){return[]}function vs(){return!1}var ys=zr((function(e,t){return e+t}),0),bs=Yr("ceil"),ws=zr((function(e,t){return e/t}),1),_s=Yr("floor");var ks,Ss=zr((function(e,t){return e*t}),1),xs=Yr("round"),Cs=zr((function(e,t){return e-t}),0);return jn.after=function(e,t){if("function"!=typeof t)throw new Re(i);return e=mu(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=Oa,jn.assign=wu,jn.assignIn=_u,jn.assignInWith=ku,jn.assignWith=Su,jn.at=xu,jn.before=Aa,jn.bind=Ra,jn.bindAll=es,jn.bindKey=La,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return $a(e)?e:[e]},jn.chain=pa,jn.chunk=function(e,t,n){t=(n?_i(e,t,n):t===r)?1:bn(mu(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,u=0,s=o(ht(i/t));a<i;)s[u++]=ir(e,a,a+=t);return s},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,o=0,r=[];++t<n;){var i=e[t];i&&(r[o++]=i)}return r},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=o(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Ut($a(n)?Lr(n):[n],bo(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Re(i);return[n(e[0]),e[1]]})):[],Zo((function(n){for(var o=-1;++o<t;){var r=e[o];if(Tt(r[0],this,n))return Tt(r[1],this,n)}}))},jn.conforms=function(e){return function(e){var t=Iu(e);return function(n){return lo(n,e,t)}}(co(e,1))},jn.constant=ts,jn.countBy=ga,jn.create=function(e,t){var n=Kn(e);return null==t?n:io(n,t)},jn.curry=function e(t,n,o){var i=Jr(t,8,r,r,r,r,r,n=o?r:n);return i.placeholder=e.placeholder,i},jn.curryRight=function e(t,n,o){var i=Jr(t,s,r,r,r,r,r,n=o?r:n);return i.placeholder=e.placeholder,i},jn.debounce=Ia,jn.defaults=Cu,jn.defaultsDeep=Eu,jn.defer=Na,jn.delay=Ma,jn.difference=ji,jn.differenceBy=Ki,jn.differenceWith=qi,jn.drop=function(e,t,n){var o=null==e?0:e.length;return o?ir(e,(t=n||t===r?1:mu(t))<0?0:t,o):[]},jn.dropRight=function(e,t,n){var o=null==e?0:e.length;return o?ir(e,0,(t=o-(t=n||t===r?1:mu(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?mr(e,li(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?mr(e,li(t,3),!0):[]},jn.fill=function(e,t,n,o){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&_i(e,t,n)&&(n=0,o=i),function(e,t,n,o){var i=e.length;for((n=mu(n))<0&&(n=-n>i?0:i+n),(o=o===r||o>i?i:mu(o))<0&&(o+=i),o=n>o?0:gu(o);n<o;)e[n++]=t;return e}(e,t,n,o)):[]},jn.filter=function(e,t){return($a(e)?It:yo)(e,li(t,3))},jn.flatMap=function(e,t){return bo(xa(e,t),1)},jn.flatMapDeep=function(e,t){return bo(xa(e,t),p)},jn.flatMapDepth=function(e,t,n){return n=n===r?1:mu(n),bo(xa(e,t),n)},jn.flatten=Wi,jn.flattenDeep=function(e){return(null==e?0:e.length)?bo(e,p):[]},jn.flattenDepth=function(e,t){return(null==e?0:e.length)?bo(e,t=t===r?1:mu(t)):[]},jn.flip=function(e){return Jr(e,512)},jn.flow=ns,jn.flowRight=os,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,o={};++t<n;){var r=e[t];o[r[0]]=r[1]}return o},jn.functions=function(e){return null==e?[]:xo(e,Iu(e))},jn.functionsIn=function(e){return null==e?[]:xo(e,Nu(e))},jn.groupBy=_a,jn.initial=function(e){return(null==e?0:e.length)?ir(e,0,-1):[]},jn.intersection=Gi,jn.intersectionBy=Qi,jn.intersectionWith=Yi,jn.invert=Au,jn.invertBy=Ru,jn.invokeMap=ka,jn.iteratee=is,jn.keyBy=Sa,jn.keys=Iu,jn.keysIn=Nu,jn.map=xa,jn.mapKeys=function(e,t){var n={};return t=li(t,3),ko(e,(function(e,o,r){ao(n,t(e,o,r),e)})),n},jn.mapValues=function(e,t){var n={};return t=li(t,3),ko(e,(function(e,o,r){ao(n,o,t(e,o,r))})),n},jn.matches=function(e){return Ko(co(e,1))},jn.matchesProperty=function(e,t){return qo(e,co(t,1))},jn.memoize=Pa,jn.merge=Mu,jn.mergeWith=Pu,jn.method=as,jn.methodOf=us,jn.mixin=ss,jn.negate=Ua,jn.nthArg=function(e){return e=mu(e),Zo((function(t){return $o(t,e)}))},jn.omit=Uu,jn.omitBy=function(e,t){return Fu(e,Ua(li(t)))},jn.once=function(e){return Aa(2,e)},jn.orderBy=function(e,t,n,o){return null==e?[]:($a(t)||(t=null==t?[]:[t]),$a(n=o?r:n)||(n=null==n?[]:[n]),Wo(e,t,n))},jn.over=ls,jn.overArgs=Da,jn.overEvery=fs,jn.overSome=ds,jn.partial=Fa,jn.partialRight=Ha,jn.partition=Ca,jn.pick=Du,jn.pickBy=Fu,jn.property=ps,jn.propertyOf=function(e){return function(t){return null==e?r:Co(e,t)}},jn.pull=Zi,jn.pullAll=Ji,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Go(e,t,li(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Go(e,t,r,n):e},jn.pullAt=ea,jn.range=hs,jn.rangeRight=ms,jn.rearg=Ba,jn.reject=function(e,t){return($a(e)?It:yo)(e,Ua(li(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var o=-1,r=[],i=e.length;for(t=li(t,3);++o<i;){var a=e[o];t(a,o,e)&&(n.push(a),r.push(o))}return Qo(e,r),n},jn.rest=function(e,t){if("function"!=typeof e)throw new Re(i);return Zo(e,t=t===r?t:mu(t))},jn.reverse=ta,jn.sampleSize=function(e,t,n){return t=(n?_i(e,t,n):t===r)?1:mu(t),($a(e)?Jn:er)(e,t)},jn.set=function(e,t,n){return null==e?e:tr(e,t,n)},jn.setWith=function(e,t,n,o){return o="function"==typeof o?o:r,null==e?e:tr(e,t,n,o)},jn.shuffle=function(e){return($a(e)?eo:rr)(e)},jn.slice=function(e,t,n){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&_i(e,t,n)?(t=0,n=o):(t=null==t?0:mu(t),n=n===r?o:mu(n)),ir(e,t,n)):[]},jn.sortBy=Ea,jn.sortedUniq=function(e){return e&&e.length?cr(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?cr(e,li(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&_i(e,t,n)&&(t=n=r),(n=n===r?g:n>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!au(t))&&!(t=fr(t))&&sn(e)?Sr(mn(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new Re(i);return t=null==t?0:bn(mu(t),0),Zo((function(n){var o=n[t],r=Sr(n,0,t);return o&&Ut(r,o),Tt(e,this,r)}))},jn.tail=function(e){var t=null==e?0:e.length;return t?ir(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?ir(e,0,(t=n||t===r?1:mu(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var o=null==e?0:e.length;return o?ir(e,(t=o-(t=n||t===r?1:mu(t)))<0?0:t,o):[]},jn.takeRightWhile=function(e,t){return e&&e.length?mr(e,li(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?mr(e,li(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new Re(i);return tu(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),Ia(e,t,{leading:o,maxWait:t,trailing:r})},jn.thru=ha,jn.toArray=pu,jn.toPairs=Hu,jn.toPairsIn=Bu,jn.toPath=function(e){return $a(e)?Pt(e,Fi):cu(e)?[e]:Lr(Di(bu(e)))},jn.toPlainObject=yu,jn.transform=function(e,t,n){var o=$a(e),r=o||Qa(e)||lu(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=r?o?new i:[]:tu(e)&&Za(i)?Kn(Ve(e)):{}}return(r?At:ko)(e,(function(e,o,r){return t(n,e,o,r)})),n},jn.unary=function(e){return Oa(e,1)},jn.union=na,jn.unionBy=oa,jn.unionWith=ra,jn.uniq=function(e){return e&&e.length?dr(e):[]},jn.uniqBy=function(e,t){return e&&e.length?dr(e,li(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?dr(e,r,t):[]},jn.unset=function(e,t){return null==e||pr(e,t)},jn.unzip=ia,jn.unzipWith=aa,jn.update=function(e,t,n){return null==e?e:hr(e,t,wr(n))},jn.updateWith=function(e,t,n,o){return o="function"==typeof o?o:r,null==e?e:hr(e,t,wr(n),o)},jn.values=ju,jn.valuesIn=function(e){return null==e?[]:en(e,Nu(e))},jn.without=ua,jn.words=Zu,jn.wrap=function(e,t){return Fa(wr(t),e)},jn.xor=sa,jn.xorBy=ca,jn.xorWith=la,jn.zip=fa,jn.zipObject=function(e,t){return yr(e||[],t||[],no)},jn.zipObjectDeep=function(e,t){return yr(e||[],t||[],tr)},jn.zipWith=da,jn.entries=Hu,jn.entriesIn=Bu,jn.extend=_u,jn.extendWith=ku,ss(jn,jn),jn.add=ys,jn.attempt=Ju,jn.camelCase=Ku,jn.capitalize=qu,jn.ceil=bs,jn.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=vu(n))==n?n:0),t!==r&&(t=(t=vu(t))==t?t:0),so(vu(e),t,n)},jn.clone=function(e){return co(e,4)},jn.cloneDeep=function(e){return co(e,5)},jn.cloneDeepWith=function(e,t){return co(e,5,t="function"==typeof t?t:r)},jn.cloneWith=function(e,t){return co(e,4,t="function"==typeof t?t:r)},jn.conformsTo=function(e,t){return null==t||lo(e,t,Iu(t))},jn.deburr=zu,jn.defaultTo=function(e,t){return null==e||e!=e?t:e},jn.divide=ws,jn.endsWith=function(e,t,n){e=bu(e),t=fr(t);var o=e.length,i=n=n===r?o:so(mu(n),0,o);return(n-=t.length)>=0&&e.slice(n,i)==t},jn.eq=ja,jn.escape=function(e){return(e=bu(e))&&X.test(e)?e.replace(Q,an):e},jn.escapeRegExp=function(e){return(e=bu(e))&&ie.test(e)?e.replace(re,"\\$&"):e},jn.every=function(e,t,n){var o=$a(e)?Lt:go;return n&&_i(e,t,n)&&(t=r),o(e,li(t,3))},jn.find=va,jn.findIndex=zi,jn.findKey=function(e,t){return jt(e,li(t,3),ko)},jn.findLast=ya,jn.findLastIndex=$i,jn.findLastKey=function(e,t){return jt(e,li(t,3),So)},jn.floor=_s,jn.forEach=ba,jn.forEachRight=wa,jn.forIn=function(e,t){return null==e?e:wo(e,li(t,3),Nu)},jn.forInRight=function(e,t){return null==e?e:_o(e,li(t,3),Nu)},jn.forOwn=function(e,t){return e&&ko(e,li(t,3))},jn.forOwnRight=function(e,t){return e&&So(e,li(t,3))},jn.get=Tu,jn.gt=Ka,jn.gte=qa,jn.has=function(e,t){return null!=e&&vi(e,t,Ao)},jn.hasIn=Ou,jn.head=Vi,jn.identity=rs,jn.includes=function(e,t,n,o){e=Va(e)?e:ju(e),n=n&&!o?mu(n):0;var r=e.length;return n<0&&(n=bn(r+n,0)),su(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&qt(e,t,n)>-1},jn.indexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=null==n?0:mu(n);return r<0&&(r=bn(o+r,0)),qt(e,t,r)},jn.inRange=function(e,t,n){return t=hu(t),n===r?(n=t,t=0):n=hu(n),function(e,t,n){return e>=wn(t,n)&&e<bn(t,n)}(e=vu(e),t,n)},jn.invoke=Lu,jn.isArguments=za,jn.isArray=$a,jn.isArrayBuffer=Wa,jn.isArrayLike=Va,jn.isArrayLikeObject=Ga,jn.isBoolean=function(e){return!0===e||!1===e||nu(e)&&To(e)==w},jn.isBuffer=Qa,jn.isDate=Ya,jn.isElement=function(e){return nu(e)&&1===e.nodeType&&!iu(e)},jn.isEmpty=function(e){if(null==e)return!0;if(Va(e)&&($a(e)||"string"==typeof e||"function"==typeof e.splice||Qa(e)||lu(e)||za(e)))return!e.length;var t=gi(e);if(t==C||t==R)return!e.size;if(Ci(e))return!Fo(e).length;for(var n in e)if(Ue.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return Mo(e,t)},jn.isEqualWith=function(e,t,n){var o=(n="function"==typeof n?n:r)?n(e,t):r;return o===r?Mo(e,t,r,n):!!o},jn.isError=Xa,jn.isFinite=function(e){return"number"==typeof e&&wt(e)},jn.isFunction=Za,jn.isInteger=Ja,jn.isLength=eu,jn.isMap=ou,jn.isMatch=function(e,t){return e===t||Po(e,t,di(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Po(e,t,di(t),n)},jn.isNaN=function(e){return ru(e)&&e!=+e},jn.isNative=function(e){if(xi(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Uo(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=ru,jn.isObject=tu,jn.isObjectLike=nu,jn.isPlainObject=iu,jn.isRegExp=au,jn.isSafeInteger=function(e){return Ja(e)&&e>=-9007199254740991&&e<=h},jn.isSet=uu,jn.isString=su,jn.isSymbol=cu,jn.isTypedArray=lu,jn.isUndefined=function(e){return e===r},jn.isWeakMap=function(e){return nu(e)&&gi(e)==N},jn.isWeakSet=function(e){return nu(e)&&"[object WeakSet]"==To(e)},jn.join=function(e,t){return null==e?"":Bt.call(e,t)},jn.kebabCase=$u,jn.last=Xi,jn.lastIndexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=o;return n!==r&&(i=(i=mu(n))<0?bn(o+i,0):wn(i,o-1)),t==t?function(e,t,n){for(var o=n+1;o--;)if(e[o]===t)return o;return o}(e,t,i):Kt(e,$t,i,!0)},jn.lowerCase=Wu,jn.lowerFirst=Vu,jn.lt=fu,jn.lte=du,jn.max=function(e){return e&&e.length?vo(e,rs,Oo):r},jn.maxBy=function(e,t){return e&&e.length?vo(e,li(t,2),Oo):r},jn.mean=function(e){return Wt(e,rs)},jn.meanBy=function(e,t){return Wt(e,li(t,2))},jn.min=function(e){return e&&e.length?vo(e,rs,Bo):r},jn.minBy=function(e,t){return e&&e.length?vo(e,li(t,2),Bo):r},jn.stubArray=gs,jn.stubFalse=vs,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=Ss,jn.nth=function(e,t){return e&&e.length?$o(e,mu(t)):r},jn.noConflict=function(){return mt._===this&&(mt._=je),this},jn.noop=cs,jn.now=Ta,jn.pad=function(e,t,n){e=bu(e);var o=(t=mu(t))?hn(e):0;if(!t||o>=t)return e;var r=(t-o)/2;return Wr(gt(r),n)+e+Wr(ht(r),n)},jn.padEnd=function(e,t,n){e=bu(e);var o=(t=mu(t))?hn(e):0;return t&&o<t?e+Wr(t-o,n):e},jn.padStart=function(e,t,n){e=bu(e);var o=(t=mu(t))?hn(e):0;return t&&o<t?Wr(t-o,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(bu(e).replace(ae,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&_i(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=hu(e),t===r?(t=e,e=0):t=hu(t)),e>t){var o=e;e=t,t=o}if(n||e%1||t%1){var i=Sn();return wn(e+i*(t-e+ft("1e-"+((i+"").length-1))),t)}return Yo(e,t)},jn.reduce=function(e,t,n){var o=$a(e)?Dt:Qt,r=arguments.length<3;return o(e,li(t,4),n,r,ho)},jn.reduceRight=function(e,t,n){var o=$a(e)?Ft:Qt,r=arguments.length<3;return o(e,li(t,4),n,r,mo)},jn.repeat=function(e,t,n){return t=(n?_i(e,t,n):t===r)?1:mu(t),Xo(bu(e),t)},jn.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var o=-1,i=(t=_r(t,e)).length;for(i||(i=1,e=r);++o<i;){var a=null==e?r:e[Fi(t[o])];a===r&&(o=i,a=n),e=Za(a)?a.call(e):a}return e},jn.round=xs,jn.runInContext=e,jn.sample=function(e){return($a(e)?Zn:Jo)(e)},jn.size=function(e){if(null==e)return 0;if(Va(e))return su(e)?hn(e):e.length;var t=gi(e);return t==C||t==R?e.size:Fo(e).length},jn.snakeCase=Gu,jn.some=function(e,t,n){var o=$a(e)?Ht:ar;return n&&_i(e,t,n)&&(t=r),o(e,li(t,3))},jn.sortedIndex=function(e,t){return ur(e,t)},jn.sortedIndexBy=function(e,t,n){return sr(e,t,li(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var o=ur(e,t);if(o<n&&ja(e[o],t))return o}return-1},jn.sortedLastIndex=function(e,t){return ur(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return sr(e,t,li(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ur(e,t,!0)-1;if(ja(e[n],t))return n}return-1},jn.startCase=Qu,jn.startsWith=function(e,t,n){return e=bu(e),n=null==n?0:so(mu(n),0,e.length),t=fr(t),e.slice(n,n+t.length)==t},jn.subtract=Cs,jn.sum=function(e){return e&&e.length?Yt(e,rs):0},jn.sumBy=function(e,t){return e&&e.length?Yt(e,li(t,2)):0},jn.template=function(e,t,n){var o=jn.templateSettings;n&&_i(e,t,n)&&(t=r),e=bu(e),t=ku({},t,o,ei);var i,a,u=ku({},t.imports,o.imports,ei),s=Iu(u),c=en(u,s),l=0,f=t.interpolate||ke,d="__p += '",p=Oe((t.escape||ke).source+"|"+f.source+"|"+(f===ee?he:ke).source+"|"+(t.evaluate||ke).source+"|$","g"),h="//# sourceURL="+(Ue.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ut+"]")+"\n";e.replace(p,(function(t,n,o,r,u,s){return o||(o=r),d+=e.slice(l,s).replace(Se,un),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),o&&(d+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),d+="';\n";var m=Ue.call(t,"variable")&&t.variable;if(m){if(de.test(m))throw new xe("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace($,""):d).replace(W,"$1").replace(V,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Ju((function(){return Ce(s,h+"return "+d).apply(r,c)}));if(g.source=d,Xa(g))throw g;return g},jn.times=function(e,t){if((e=mu(e))<1||e>h)return[];var n=g,o=wn(e,g);t=li(t),e-=g;for(var r=Xt(o,t);++n<e;)t(n);return r},jn.toFinite=hu,jn.toInteger=mu,jn.toLength=gu,jn.toLower=function(e){return bu(e).toLowerCase()},jn.toNumber=vu,jn.toSafeInteger=function(e){return e?so(mu(e),-9007199254740991,h):0===e?e:0},jn.toString=bu,jn.toUpper=function(e){return bu(e).toUpperCase()},jn.trim=function(e,t,n){if((e=bu(e))&&(n||t===r))return Zt(e);if(!e||!(t=fr(t)))return e;var o=mn(e),i=mn(t);return Sr(o,nn(o,i),on(o,i)+1).join("")},jn.trimEnd=function(e,t,n){if((e=bu(e))&&(n||t===r))return e.slice(0,gn(e)+1);if(!e||!(t=fr(t)))return e;var o=mn(e);return Sr(o,0,on(o,mn(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=bu(e))&&(n||t===r))return e.replace(ae,"");if(!e||!(t=fr(t)))return e;var o=mn(e);return Sr(o,nn(o,mn(t))).join("")},jn.truncate=function(e,t){var n=30,o="...";if(tu(t)){var i="separator"in t?t.separator:i;n="length"in t?mu(t.length):n,o="omission"in t?fr(t.omission):o}var a=(e=bu(e)).length;if(sn(e)){var u=mn(e);a=u.length}if(n>=a)return e;var s=n-hn(o);if(s<1)return o;var c=u?Sr(u,0,s).join(""):e.slice(0,s);if(i===r)return c+o;if(u&&(s+=c.length-s),au(i)){if(e.slice(s).search(i)){var l,f=c;for(i.global||(i=Oe(i.source,bu(me.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var d=l.index;c=c.slice(0,d===r?s:d)}}else if(e.indexOf(fr(i),s)!=s){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+o},jn.unescape=function(e){return(e=bu(e))&&Y.test(e)?e.replace(G,vn):e},jn.uniqueId=function(e){var t=++De;return bu(e)+t},jn.upperCase=Yu,jn.upperFirst=Xu,jn.each=ba,jn.eachRight=wa,jn.first=Vi,ss(jn,(ks={},ko(jn,(function(e,t){Ue.call(jn.prototype,t)||(ks[t]=e)})),ks),{chain:!1}),jn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jn[e].placeholder=jn})),At(["drop","take"],(function(e,t){$n.prototype[e]=function(n){n=n===r?1:bn(mu(n),0);var o=this.__filtered__&&!t?new $n(this):this.clone();return o.__filtered__?o.__takeCount__=wn(n,o.__takeCount__):o.__views__.push({size:wn(n,g),type:e+(o.__dir__<0?"Right":"")}),o},$n.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,o=1==n||3==n;$n.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||o,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");$n.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");$n.prototype[e]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(rs)},$n.prototype.find=function(e){return this.filter(e).head()},$n.prototype.findLast=function(e){return this.reverse().find(e)},$n.prototype.invokeMap=Zo((function(e,t){return"function"==typeof e?new $n(this):this.map((function(n){return Io(n,e,t)}))})),$n.prototype.reject=function(e){return this.filter(Ua(li(e)))},$n.prototype.slice=function(e,t){e=mu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new $n(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=mu(t))<0?n.dropRight(-t):n.take(t-e)),n)},$n.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$n.prototype.toArray=function(){return this.take(g)},ko($n.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),i=jn[o?"take"+("last"==t?"Right":""):t],a=o||/^find/.test(t);i&&(jn.prototype[t]=function(){var t=this.__wrapped__,u=o?[1]:arguments,s=t instanceof $n,c=u[0],l=s||$a(t),f=function(e){var t=i.apply(jn,Ut([e],u));return o&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,m=s&&!p;if(!a&&l){t=m?t:new $n(this);var g=e.apply(t,u);return g.__actions__.push({func:ha,args:[f],thisArg:r}),new zn(g,d)}return h&&m?e.apply(this,u):(g=this.thru(f),h?o?g.value()[0]:g.value():g)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Le[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var r=this.value();return t.apply($a(r)?r:[],e)}return this[n]((function(n){return t.apply($a(n)?n:[],e)}))}})),ko($n.prototype,(function(e,t){var n=jn[t];if(n){var o=n.name+"";Ue.call(In,o)||(In[o]=[]),In[o].push({name:t,func:n})}})),In[Kr(r,2).name]=[{name:"wrapper",func:r}],$n.prototype.clone=function(){var e=new $n(this.__wrapped__);return e.__actions__=Lr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Lr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Lr(this.__views__),e},$n.prototype.reverse=function(){if(this.__filtered__){var e=new $n(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$n.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=$a(e),o=t<0,r=n?e.length:0,i=function(e,t,n){var o=-1,r=n.length;for(;++o<r;){var i=n[o],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=wn(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=i.start,u=i.end,s=u-a,c=o?u:a-1,l=this.__iteratees__,f=l.length,d=0,p=wn(s,this.__takeCount__);if(!n||!o&&r==s&&p==s)return gr(e,this.__actions__);var h=[];e:for(;s--&&d<p;){for(var m=-1,g=e[c+=t];++m<f;){var v=l[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}h[d++]=g}return h},jn.prototype.at=ma,jn.prototype.chain=function(){return pa(this)},jn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===r&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var o=Bi(n);o.__index__=0,o.__values__=r,t?i.__wrapped__=o:t=o;var i=o;n=n.__wrapped__}return i.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof $n){var t=e;return this.__actions__.length&&(t=new $n(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ta],thisArg:r}),new zn(t,this.__chain__)}return this.thru(ta)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return gr(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Ze&&(jn.prototype[Ze]=function(){return this}),jn}();mt._=yn,(o=function(){return yn}.call(t,n,t,e))===r||(e.exports=o)}.call(this)},114:function(e){
/*! @license DOMPurify 2.5.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.0/LICENSE */
e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(e,r,i){return o=n()?Reflect.construct:function(e,n,o){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(e,r));return o&&t(i,o.prototype),i},o.apply(null,arguments)}function r(e){return i(e)||a(e)||u(e)||c()}function i(e){if(Array.isArray(e))return s(e)}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=Object.hasOwnProperty,f=Object.setPrototypeOf,d=Object.isFrozen,p=Object.getPrototypeOf,h=Object.getOwnPropertyDescriptor,m=Object.freeze,g=Object.seal,v=Object.create,y="undefined"!=typeof Reflect&&Reflect,b=y.apply,w=y.construct;b||(b=function(e,t,n){return e.apply(t,n)}),m||(m=function(e){return e}),g||(g=function(e){return e}),w||(w=function(e,t){return o(e,r(t))});var _=I(Array.prototype.forEach),k=I(Array.prototype.pop),S=I(Array.prototype.push),x=I(String.prototype.toLowerCase),C=I(String.prototype.toString),E=I(String.prototype.match),T=I(String.prototype.replace),O=I(String.prototype.indexOf),A=I(String.prototype.trim),R=I(RegExp.prototype.test),L=N(TypeError);function I(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return b(e,t,o)}}function N(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return w(e,n)}}function M(e,t,n){var o;n=null!==(o=n)&&void 0!==o?o:x,f&&f(e,null);for(var r=t.length;r--;){var i=t[r];if("string"==typeof i){var a=n(i);a!==i&&(d(t)||(t[r]=a),i=a)}e[i]=!0}return e}function P(e){var t,n=v(null);for(t in e)!0===b(l,e,[t])&&(n[t]=e[t]);return n}function U(e,t){for(;null!==e;){var n=h(e,t);if(n){if(n.get)return I(n.get);if("function"==typeof n.value)return I(n.value)}e=p(e)}function o(e){return console.warn("fallback value for",e),null}return o}var D=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),H=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),K=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q=m(["#text"]),z=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),W=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),G=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Q=g(/<%[\w\W]*|[\w\W]*%>/gm),Y=g(/\${[\w\W]*}/gm),X=g(/^data-[\-\w.\u00B7-\uFFFF]/),Z=g(/^aria-[\-\w]+$/),J=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=g(/^(?:\w+script|data):/i),te=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ne=g(/^html$/i),oe=g(/^[a-z][.\w]*(-[.\w]+)+$/i),re=function(){return"undefined"==typeof window?null:window},ie=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var o=null,r="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(r)&&(o=n.currentScript.getAttribute(r));var i="dompurify"+(o?"#"+o:"");try{return t.createPolicy(i,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function ae(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re(),n=function(e){return ae(e)};if(n.version="2.5.0",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var o=t.document,i=t.document,a=t.DocumentFragment,u=t.HTMLTemplateElement,s=t.Node,c=t.Element,l=t.NodeFilter,f=t.NamedNodeMap,d=void 0===f?t.NamedNodeMap||t.MozNamedAttrMap:f,p=t.HTMLFormElement,h=t.DOMParser,g=t.trustedTypes,v=c.prototype,y=U(v,"cloneNode"),b=U(v,"nextSibling"),w=U(v,"childNodes"),I=U(v,"parentNode");if("function"==typeof u){var N=i.createElement("template");N.content&&N.content.ownerDocument&&(i=N.content.ownerDocument)}var ue=ie(g,o),se=ue?ue.createHTML(""):"",ce=i,le=ce.implementation,fe=ce.createNodeIterator,de=ce.createDocumentFragment,pe=ce.getElementsByTagName,he=o.importNode,me={};try{me=P(i).documentMode?i.documentMode:{}}catch(e){}var ge={};n.isSupported="function"==typeof I&&le&&void 0!==le.createHTMLDocument&&9!==me;var ve,ye,be=G,we=Q,_e=Y,ke=X,Se=Z,xe=ee,Ce=te,Ee=oe,Te=J,Oe=null,Ae=M({},[].concat(r(D),r(F),r(H),r(j),r(q))),Re=null,Le=M({},[].concat(r(z),r($),r(W),r(V))),Ie=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,Me=null,Pe=!0,Ue=!0,De=!1,Fe=!0,He=!1,Be=!0,je=!1,Ke=!1,qe=!1,ze=!1,$e=!1,We=!1,Ve=!0,Ge=!1,Qe="user-content-",Ye=!0,Xe=!1,Ze={},Je=null,et=M({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),tt=null,nt=M({},["audio","video","img","source","image","track"]),ot=null,rt=M({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),it="http://www.w3.org/1998/Math/MathML",at="http://www.w3.org/2000/svg",ut="http://www.w3.org/1999/xhtml",st=ut,ct=!1,lt=null,ft=M({},[it,at,ut],C),dt=["application/xhtml+xml","text/html"],pt="text/html",ht=null,mt=i.createElement("form"),gt=function(e){return e instanceof RegExp||e instanceof Function},vt=function(t){ht&&ht===t||(t&&"object"===e(t)||(t={}),t=P(t),ve=ve=-1===dt.indexOf(t.PARSER_MEDIA_TYPE)?pt:t.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===ve?C:x,Oe="ALLOWED_TAGS"in t?M({},t.ALLOWED_TAGS,ye):Ae,Re="ALLOWED_ATTR"in t?M({},t.ALLOWED_ATTR,ye):Le,lt="ALLOWED_NAMESPACES"in t?M({},t.ALLOWED_NAMESPACES,C):ft,ot="ADD_URI_SAFE_ATTR"in t?M(P(rt),t.ADD_URI_SAFE_ATTR,ye):rt,tt="ADD_DATA_URI_TAGS"in t?M(P(nt),t.ADD_DATA_URI_TAGS,ye):nt,Je="FORBID_CONTENTS"in t?M({},t.FORBID_CONTENTS,ye):et,Ne="FORBID_TAGS"in t?M({},t.FORBID_TAGS,ye):{},Me="FORBID_ATTR"in t?M({},t.FORBID_ATTR,ye):{},Ze="USE_PROFILES"in t&&t.USE_PROFILES,Pe=!1!==t.ALLOW_ARIA_ATTR,Ue=!1!==t.ALLOW_DATA_ATTR,De=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Fe=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,He=t.SAFE_FOR_TEMPLATES||!1,Be=!1!==t.SAFE_FOR_XML,je=t.WHOLE_DOCUMENT||!1,ze=t.RETURN_DOM||!1,$e=t.RETURN_DOM_FRAGMENT||!1,We=t.RETURN_TRUSTED_TYPE||!1,qe=t.FORCE_BODY||!1,Ve=!1!==t.SANITIZE_DOM,Ge=t.SANITIZE_NAMED_PROPS||!1,Ye=!1!==t.KEEP_CONTENT,Xe=t.IN_PLACE||!1,Te=t.ALLOWED_URI_REGEXP||Te,st=t.NAMESPACE||ut,Ie=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&gt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ie.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&gt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ie.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ie.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),He&&(Ue=!1),$e&&(ze=!0),Ze&&(Oe=M({},r(q)),Re=[],!0===Ze.html&&(M(Oe,D),M(Re,z)),!0===Ze.svg&&(M(Oe,F),M(Re,$),M(Re,V)),!0===Ze.svgFilters&&(M(Oe,H),M(Re,$),M(Re,V)),!0===Ze.mathMl&&(M(Oe,j),M(Re,W),M(Re,V))),t.ADD_TAGS&&(Oe===Ae&&(Oe=P(Oe)),M(Oe,t.ADD_TAGS,ye)),t.ADD_ATTR&&(Re===Le&&(Re=P(Re)),M(Re,t.ADD_ATTR,ye)),t.ADD_URI_SAFE_ATTR&&M(ot,t.ADD_URI_SAFE_ATTR,ye),t.FORBID_CONTENTS&&(Je===et&&(Je=P(Je)),M(Je,t.FORBID_CONTENTS,ye)),Ye&&(Oe["#text"]=!0),je&&M(Oe,["html","head","body"]),Oe.table&&(M(Oe,["tbody"]),delete Ne.tbody),m&&m(t),ht=t)},yt=M({},["mi","mo","mn","ms","mtext"]),bt=M({},["foreignobject","desc","title","annotation-xml"]),wt=M({},["title","style","font","a","script"]),_t=M({},F);M(_t,H),M(_t,B);var kt=M({},j);M(kt,K);var St=function(e){var t=I(e);t&&t.tagName||(t={namespaceURI:st,tagName:"template"});var n=x(e.tagName),o=x(t.tagName);return!!lt[e.namespaceURI]&&(e.namespaceURI===at?t.namespaceURI===ut?"svg"===n:t.namespaceURI===it?"svg"===n&&("annotation-xml"===o||yt[o]):Boolean(_t[n]):e.namespaceURI===it?t.namespaceURI===ut?"math"===n:t.namespaceURI===at?"math"===n&&bt[o]:Boolean(kt[n]):e.namespaceURI===ut?!(t.namespaceURI===at&&!bt[o])&&!(t.namespaceURI===it&&!yt[o])&&!kt[n]&&(wt[n]||!_t[n]):!("application/xhtml+xml"!==ve||!lt[e.namespaceURI]))},xt=function(e){S(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=se}catch(t){e.remove()}}},Ct=function(e,t){try{S(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){S(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Re[e])if(ze||$e)try{xt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Et=function(e){var t,n;if(qe)e="<remove></remove>"+e;else{var o=E(e,/^[\r\n\t ]+/);n=o&&o[0]}"application/xhtml+xml"===ve&&st===ut&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var r=ue?ue.createHTML(e):e;if(st===ut)try{t=(new h).parseFromString(r,ve)}catch(e){}if(!t||!t.documentElement){t=le.createDocument(st,"template",null);try{t.documentElement.innerHTML=ct?se:r}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),st===ut?pe.call(t,je?"html":"body")[0]:je?t.documentElement:a},Tt=function(e){return fe.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},Ot=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},At=function(t){return"object"===e(s)?t instanceof s:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Rt=function(e,t,o){ge[e]&&_(ge[e],(function(e){e.call(n,t,o,ht)}))},Lt=function(e){var t;if(Rt("beforeSanitizeElements",e,null),Ot(e))return xt(e),!0;if(R(/[\u0080-\uFFFF]/,e.nodeName))return xt(e),!0;var o=ye(e.nodeName);if(Rt("uponSanitizeElement",e,{tagName:o,allowedTags:Oe}),e.hasChildNodes()&&!At(e.firstElementChild)&&(!At(e.content)||!At(e.content.firstElementChild))&&R(/<[/\w]/g,e.innerHTML)&&R(/<[/\w]/g,e.textContent))return xt(e),!0;if("select"===o&&R(/<template/i,e.innerHTML))return xt(e),!0;if(7===e.nodeType)return xt(e),!0;if(Be&&8===e.nodeType&&R(/<[/\w]/g,e.data))return xt(e),!0;if(!Oe[o]||Ne[o]){if(!Ne[o]&&Nt(o)){if(Ie.tagNameCheck instanceof RegExp&&R(Ie.tagNameCheck,o))return!1;if(Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(o))return!1}if(Ye&&!Je[o]){var r=I(e)||e.parentNode,i=w(e)||e.childNodes;if(i&&r)for(var a=i.length-1;a>=0;--a)r.insertBefore(y(i[a],!0),b(e))}return xt(e),!0}return e instanceof c&&!St(e)?(xt(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!R(/<\/no(script|embed|frames)/i,e.innerHTML)?(He&&3===e.nodeType&&(t=e.textContent,t=T(t,be," "),t=T(t,we," "),t=T(t,_e," "),e.textContent!==t&&(S(n.removed,{element:e.cloneNode()}),e.textContent=t)),Rt("afterSanitizeElements",e,null),!1):(xt(e),!0)},It=function(e,t,n){if(Ve&&("id"===t||"name"===t)&&(n in i||n in mt))return!1;if(Ue&&!Me[t]&&R(ke,t));else if(Pe&&R(Se,t));else if(!Re[t]||Me[t]){if(!(Nt(e)&&(Ie.tagNameCheck instanceof RegExp&&R(Ie.tagNameCheck,e)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(e))&&(Ie.attributeNameCheck instanceof RegExp&&R(Ie.attributeNameCheck,t)||Ie.attributeNameCheck instanceof Function&&Ie.attributeNameCheck(t))||"is"===t&&Ie.allowCustomizedBuiltInElements&&(Ie.tagNameCheck instanceof RegExp&&R(Ie.tagNameCheck,n)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(n))))return!1}else if(ot[t]);else if(R(Te,T(n,Ce,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==O(n,"data:")||!tt[e])if(De&&!R(xe,T(n,Ce,"")));else if(n)return!1;return!0},Nt=function(e){return"annotation-xml"!==e&&E(e,Ee)},Mt=function(t){var o,r,i,a;Rt("beforeSanitizeAttributes",t,null);var u=t.attributes;if(u){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Re};for(a=u.length;a--;){var c=o=u[a],l=c.name,f=c.namespaceURI;if(r="value"===l?o.value:A(o.value),i=ye(l),s.attrName=i,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,Rt("uponSanitizeAttribute",t,s),r=s.attrValue,!s.forceKeepAttr&&(Ct(l,t),s.keepAttr))if(Fe||!R(/\/>/i,r)){He&&(r=T(r,be," "),r=T(r,we," "),r=T(r,_e," "));var d=ye(t.nodeName);if(It(d,i,r)){if(!Ge||"id"!==i&&"name"!==i||(Ct(l,t),r=Qe+r),ue&&"object"===e(g)&&"function"==typeof g.getAttributeType)if(f);else switch(g.getAttributeType(d,i)){case"TrustedHTML":r=ue.createHTML(r);break;case"TrustedScriptURL":r=ue.createScriptURL(r)}try{f?t.setAttributeNS(f,l,r):t.setAttribute(l,r),k(n.removed)}catch(e){}}}else Ct(l,t)}Rt("afterSanitizeAttributes",t,null)}},Pt=function e(t){var n,o=Tt(t);for(Rt("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Rt("uponSanitizeShadowNode",n,null),Lt(n)||(n.content instanceof a&&e(n.content),Mt(n));Rt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(r){var i,u,c,l,f,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ct=!r)&&(r="\x3c!--\x3e"),"string"!=typeof r&&!At(r)){if("function"!=typeof r.toString)throw L("toString is not a function");if("string"!=typeof(r=r.toString()))throw L("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof r)return t.toStaticHTML(r);if(At(r))return t.toStaticHTML(r.outerHTML)}return r}if(Ke||vt(d),n.removed=[],"string"==typeof r&&(Xe=!1),Xe){if(r.nodeName){var p=ye(r.nodeName);if(!Oe[p]||Ne[p])throw L("root node is forbidden and cannot be sanitized in-place")}}else if(r instanceof s)1===(u=(i=Et("\x3c!----\x3e")).ownerDocument.importNode(r,!0)).nodeType&&"BODY"===u.nodeName||"HTML"===u.nodeName?i=u:i.appendChild(u);else{if(!ze&&!He&&!je&&-1===r.indexOf("<"))return ue&&We?ue.createHTML(r):r;if(!(i=Et(r)))return ze?null:We?se:""}i&&qe&&xt(i.firstChild);for(var h=Tt(Xe?r:i);c=h.nextNode();)3===c.nodeType&&c===l||Lt(c)||(c.content instanceof a&&Pt(c.content),Mt(c),l=c);if(l=null,Xe)return r;if(ze){if($e)for(f=de.call(i.ownerDocument);i.firstChild;)f.appendChild(i.firstChild);else f=i;return(Re.shadowroot||Re.shadowrootmod)&&(f=he.call(o,f,!0)),f}var m=je?i.outerHTML:i.innerHTML;return je&&Oe["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&R(ne,i.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+m),He&&(m=T(m,be," "),m=T(m,we," "),m=T(m,_e," ")),ue&&We?ue.createHTML(m):m},n.setConfig=function(e){vt(e),Ke=!0},n.clearConfig=function(){ht=null,Ke=!1},n.isValidAttribute=function(e,t,n){ht||vt({});var o=ye(e),r=ye(t);return It(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&(ge[e]=ge[e]||[],S(ge[e],t))},n.removeHook=function(e){if(ge[e])return k(ge[e])},n.removeHooks=function(e){ge[e]&&(ge[e]=[])},n.removeAllHooks=function(){ge={}},n}return ae()}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";const e="function"==typeof Buffer,t=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),o=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),r=(e=>{let t={};return e.forEach(((e,n)=>t[e]=n)),t})(o),i=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,a=String.fromCharCode.bind(String),u=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_"))),s=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),c=e=>{let t,n,r,i,a="";const u=e.length%3;for(let u=0;u<e.length;){if((n=e.charCodeAt(u++))>255||(r=e.charCodeAt(u++))>255||(i=e.charCodeAt(u++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,a+=o[t>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}return u?a.slice(0,u-3)+"===".substring(u):a},l="function"==typeof btoa?e=>btoa(e):e?e=>Buffer.from(e,"binary").toString("base64"):c,f=e?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,o=e.length;n<o;n+=4096)t.push(a.apply(null,e.subarray(n,n+4096)));return l(t.join(""))},d=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?a(192|t>>>6)+a(128|63&t):a(224|t>>>12&15)+a(128|t>>>6&63)+a(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return a(240|t>>>18&7)+a(128|t>>>12&63)+a(128|t>>>6&63)+a(128|63&t)},p=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,h=e=>e.replace(p,d),m=e?e=>Buffer.from(e,"utf8").toString("base64"):t?e=>f(t.encode(e)):e=>l(h(e)),g=(e,t=!1)=>t?u(m(e)):m(e),v=e=>{if(e=e.replace(/\s+/g,""),!i.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,o,u="";for(let i=0;i<e.length;)t=r[e.charAt(i++)]<<18|r[e.charAt(i++)]<<12|(n=r[e.charAt(i++)])<<6|(o=r[e.charAt(i++)]),u+=64===n?a(t>>16&255):64===o?a(t>>16&255,t>>8&255):a(t>>16&255,t>>8&255,255&t);return u};var y=n(114);const b={keyCodesMac:{Minus:["-","_"],Equal:["=","+"],BracketLeft:["[","{"],BracketRight:["]","}"],Backslash:["\\","|"],Semicolon:[";",":"],Quote:["'",'"'],Comma:[",","<"],Period:[".",">"],Slash:["/","?"]},keyCodes:{ESC:27,backspace:8,deleteKey:46,enter:13,ctrlEnter:10,space:32,shiftKey:16,ctrlKey:17,f1:112,f12:123,comma:188,tab:9,downArrow:40,upArrow:38},modifierKeys:{16:"Shift",17:"Ctrl",18:"Alt",91:"Meta",92:"Meta",93:"ContextMenu",229:"Process"},keyNames:{8:"Backspace",9:"Tab",12:"NumLock",27:"Esc",32:"Space",46:"Delete"},keyIdentifierCorrectionMap:{"U+00C0":["U+0060","U+007E"],"U+0030":["U+0030","U+0029"],"U+0031":["U+0031","U+0021"],"U+0032":["U+0032","U+0040"],"U+0033":["U+0033","U+0023"],"U+0034":["U+0034","U+0024"],"U+0035":["U+0035","U+0025"],"U+0036":["U+0036","U+005E"],"U+0037":["U+0037","U+0026"],"U+0038":["U+0038","U+002A"],"U+0039":["U+0039","U+0028"],"U+00BD":["U+002D","U+005F"],"U+00BB":["U+003D","U+002B"],"U+00DB":["U+005B","U+007B"],"U+00DD":["U+005D","U+007D"],"U+00DC":["U+005C","U+007C"],"U+00BA":["U+003B","U+003A"],"U+00DE":["U+0027","U+0022"],"U+00BC":["U+002C","U+003C"],"U+00BE":["U+002E","U+003E"],"U+00BF":["U+002F","U+003F"]}};var w="Windows";function _(e,t){var n,o=0;return-1!==e.indexOf("Ctrl-")&&(o|=1),-1!==e.indexOf("Alt-")&&(o|=2),-1!==e.indexOf("Meta-")&&(o|=4),-1!==e.indexOf("Shift-")&&(o|=8),n=8192+((n=t.length>1?256+b.specialKeys.indexOf(t):t.charCodeAt(0))<<4)+o,String.fromCharCode(n)}"undefined"!=typeof navigator&&(-1!==navigator.platform.indexOf("Mac")?w="Mac":-1!==navigator.userAgent.indexOf("Linux")&&(w="Linux")),b.getKeyChar=function(e){var t;if(e.keyCode in this.modifierKeys)t="";else{if(this.keyNames.hasOwnProperty(e.keyCode))t="{0}".format(this.keyNames[e.keyCode]);else if(t=e.key||"",-1!==["Shift","Meta","Alt","Ctrl"].indexOf(t)&&(t=""),t)t.charCodeAt(0)>127||"Dead"===t?e.keyCode<127?(t=String.fromCharCode(e.keyCode),t=e.shiftKey?t:t.toLowerCase()):this.keyCodesMac.hasOwnProperty(e.code)&&(t=this.keyCodesMac[e.code][e.shiftKey?1:0]):"Unidentified"===t&&(t="");else if(e.keyIdentifier)if("U+"!==e.keyIdentifier.slice(0,2))t="{0}".format(e.keyIdentifier);else{var n=e.keyIdentifier;if(("Windows"===w||"Linux"===w)&&this.keyIdentifierCorrectionMap[n]){var o=this.keyIdentifierCorrectionMap[n];n=e.shiftKey?o[1]:o[0]}var r="0x"+n.substring(2);t=String.fromCharCode(parseInt(r)),t=e.shiftKey?t:t.toLowerCase()}e.shiftKey&&t.length>1&&(t="Shift-"+t),t.length>0&&(e.metaKey&&(t="Meta-"+t),e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t)),t.length>1&&(t="<{0}>".format(t))}return b.decodeKeystroke(b.encodeKeystroke(t))===t&&(t=b.encodeKeystroke(t)),t},b.isWordChar=function(e){return e.keyCode<123&&e.keyCode>=97||e.keyCode<91&&e.keyCode>=65||e.keyCode<58&&e.keyCode>=48},b.encodeKeystroke=function(e){for(var t,n=/<(?:Ctrl-)?(?:Alt-)?(?:Meta-)?(?:Shift-)?([^>]+|.)>/g,o="",r=0;null!==(t=n.exec(e));)o+=e.substr(r,t.index-r),o+=_(t[0],t[1]),r=n.lastIndex;return o+=e.substr(r)},b.specialKeys=["Esc","Space","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Backspace","Enter","Tab","Delete","End","Home","Insert","NumLock","PageDown","PageUp","Pause","ScrollLock","CapsLock","PrintScreen","Escape","Hyper"],b.decodeKeystroke=function(e){for(var t="",n=0;n<e.length;n++){var o=e[n].charCodeAt(0);if(o>8192){var r=(o-=8192)%4096>>4,i=15&o;o=o>>12?b.specialKeys[r%256]:String.fromCharCode(r),8&i&&(o="Shift-"+o),4&i&&(o="Meta-"+o),2&i&&(o="Alt-"+o),1&i&&(o="Ctrl-"+o),t+="<"+o+">"}else t+=e[n]}return t};const k=b;function S(e,t,n){void 0===n&&(n=document),n.dispatchEvent(new CustomEvent(`surfingkeys:${e}`,{detail:t}))}function x(e,t,n){(t=t||{}).action=e,-1!==["closeTab","nextTab","previousTab","moveTab","reloadTab","setZoom","closeTabLeft","closeTabRight","focusTabByIndex"].indexOf(e)&&(t.repeats=x.repeats,x.repeats=1);try{t.needResponse=void 0!==n,chrome.runtime.sendMessage(t,n),"read"===e&&C.on("onTtsEvent",n)}catch(e){S("front",["showPopup","[runtime exception] "+e])}}var C=function(){var e={conf:{autoSpeakOnInlineQuery:!1,lastKeys:"",blocklistPattern:void 0,lurkingPattern:void 0,smartCase:!0,caseSensitive:!1,clickablePat:/(https?:\/\/|thunder:\/\/|magnet:)\S+/gi,clickableSelector:"",editableSelector:"div.CodeMirror-scroll,div.ace_content",cursorAtEndOfInput:!0,defaultSearchEngine:"g",defaultVoice:"Daniel",editableBodyCare:!0,enableAutoFocus:!0,enableEmojiInsertion:!1,experiment:!1,focusFirstCandidate:!1,focusOnSaved:!0,hintAlign:"center",hintExplicit:!1,hintShiftNonActive:!1,historyMUOrder:!0,language:void 0,lastQuery:"",modeAfterYank:"",nextLinkRegex:/(\b(next)\b)|下页|下一页|后页|下頁|下一頁|後頁|>>|»/i,digitForRepeat:!0,omnibarMaxResults:10,omnibarHistoryCacheSize:100,omnibarPosition:"middle",omnibarSuggestion:!0,omnibarSuggestionTimeout:200,omnibarTabsQuery:{},pageUrlRegex:[],prevLinkRegex:/(\b(prev|previous)\b)|上页|上一页|前页|上頁|上一頁|前頁|<<|«/i,richHintsForKeystroke:1e3,scrollStepSize:70,showModeStatus:!1,showProxyInStatusBar:!1,smartPageBoundary:!1,smoothScroll:!0,startToShowEmoji:2,stealFocusOnLoad:!0,tabsThreshold:100,verticalTabs:!0,textAnchorPat:/(^[\n\r\s]*\S{3,}|\b\S{4,})/g,ignoredFrameHosts:["https://tpc.googlesyndication.com"],scrollFriction:0,aceKeybindings:"vim",caretViewport:null,mouseSelectToQuery:[],useNeovim:!1,useLocalMarkdownAPI:!0}},t={},n=new Promise((function(e,t){window===top?e(window.location.href):x("getTopURL",null,(function(t){e(t.url)}))}));return e.on=function(e,n){t[e]=n},e.updateHistory=function(e,t){var n=e+"History";x("getSettings",{key:n},(function(e){var o=e.settings[n]||[],r={};"Array"===t.constructor.name?(r[n]=t,x("updateSettings",{settings:r})):t.trim().length&&"."!==t&&((o=o.filter((function(e){return e.trim().length&&e!==t&&"."!==e}))).unshift(t),o.length>50&&o.pop(),r[n]=o,x("updateSettings",{settings:r}))}))},chrome.runtime.onMessage.addListener((function(e,n,o){t[e.subject]&&t[e.subject](e,n,o)})),e.getTopURL=function(e){n.then((function(t){e(t)}))},e.postTopMessage=function(e){n.then((function(t){window===top&&(t=window.location.origin),"null"!==t&&"file://"!==new URL(t).origin||(t="*"),top.postMessage({surfingkeys_uihost_data:e},t)}))},e.getCaseSensitive=function(t){return e.conf.caseSensitive||e.conf.smartCase&&/[A-Z]/.test(t)},e}();function E(){if(-1!==window.navigator.userAgent.indexOf("Chrome"))return"Chrome";if(0===window.navigator.vendor.indexOf("Apple Computer, Inc.")){return/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1?"Safari-iOS":"Safari"}return-1!==window.navigator.userAgent.indexOf("Firefox")?"Firefox":"Chrome"}function T(){return window!==top&&0===document.location.href.indexOf(chrome.runtime.getURL("/"))}function O(e){var t=new Date;return t.setTime(e),t.toLocaleString()}function A(e,t,n){const o=[];let r;const i=document.createNodeIterator(e,t,null);for(;r=i.nextNode();)n(r)&&o.push(r),r.shadowRoot&&o.push(...A(r.shadowRoot,t,n));return o}function R(e){var t="a, button, select, input, textarea, summary, *[onclick], *[contenteditable=true], *.jfk-button, *.goog-flat-menu-button, *[role=button], *[role=link], *[role=menuitem], *[role=option], *[role=switch], *[role=tab], *[role=checkbox], *[role=combobox], *[role=menuitemcheckbox], *[role=menuitemradio]";return C.conf.clickableSelector.length&&(t+=", "+C.conf.clickableSelector),e.matches(t)||"pointer"===getComputedStyle(e).cursor||"url("===getComputedStyle(e).cursor.substr(0,4)||null!==e.closest("a, *[onclick], *[contenteditable=true], *.jfk-button, *.goog-flat-menu-button")}function L(e,t){S("front",["showBanner",e,t])}function I(e){S("front",["showPopup",e])}function N(e,t,n){const o={},r=n?{capture:!0}:{};return document.addEventListener(`surfingkeys:${e}`,(function(e){let r=e.detail;const i=r.shift();n&&r.push(e.target),o.hasOwnProperty(i)&&(o[i](...r),delete o[i]),t.hasOwnProperty(i)&&t[i](...r)}),r),o}function M(e,t,n){t.forEach((function(t){var o=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,button:n?1:0});e.dispatchEvent(o)}))}function P(e){for(var t=e?e.target:document.activeElement;t&&t.shadowRoot;){if(!t.shadowRoot.activeElement){if(t.shadowRoot.querySelector("input, textarea, select")){t=t.shadowRoot.querySelector("input, textarea, select");break}break}t=t.shadowRoot.activeElement}return t===window&&(t=document.body),t}function U(){var e=P(),t=e.value;t.match(/^"|"$/)?e.value=t.replace(/^"?(.*?)"?$/,"$1"):e.value='"'+t+'"'}function D(e,t){chrome.storage.local.get(["logLevels"],(n=>{const o=n&&n.logLevels||["error"];-1!==["log","warn","error"].indexOf(e)&&-1!==o.indexOf(e)&&console[e](t)}))}function F(e){return e&&!e.disabled&&("textarea"===e.localName||"select"===e.localName||e.isContentEditable||e.matches&&e.matches(C.conf.editableSelector)||"input"===e.localName&&/^(?!button|checkbox|file|hidden|image|radio|reset|submit)/i.test(e.type))}function H(e,t){e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():j(e,t)||e.scrollIntoView()}function B(e,t){var n=F(e)?1:4;return(t=t||e.getBoundingClientRect()).width>n&&t.height>n}function j(e,t){var n=e.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth;return(t||B(e,n))&&n.top<o&&n.bottom>0&&n.left<r&&n.right>0}function K(e){for(var t=Array.from(document.documentElement.getElementsByTagName("*")),n=[],o=0;o<t.length;o++){var r=t[o];if(r.shadowRoot)for(var i=r.shadowRoot.querySelectorAll("*"),a=0;a<i.length;a++)t.push(i[a]);var u=r.getBoundingClientRect();u.top<=window.innerHeight&&u.bottom>=0&&u.left<=window.innerWidth&&u.right>=0&&u.height>0&&"hidden"!==getComputedStyle(r).visibility&&e(r,n)}return n}function q(e){var t=document.getSelection(),n=[t.type,t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset],o=document.scrollingElement.scrollTop;e(t),document.scrollingElement.scrollTop=o,"None"===n[0]?t.empty():"Caret"===n[0]?t.setPosition(n[3],n[4]):"Range"===n[0]&&(t.setPosition(n[1],n[2]),t.extend(n[3],n[4]))}function z(e){if(0===e.length)return e;var t=[];return e.forEach((function(e,n){if(W(e))t.push(e);else{for(var o=0;o<t.length;o++){if(t[o].contains(e))return void("A"===t[o].tagName&&t[o].href||(t[o]=e));if(t[o].shadowRoot&&t[o].shadowRoot.contains(e))return;if(e.contains(t[o]))return void console.log("skip: ",e,t[o])}t.push(e)}})),t}function $(e){var t;return 0===e.childElementCount?3===(t=e.getClientRects()).length?t[1]:2===t.length?t[0]:e.getBoundingClientRect():1===e.childElementCount&&e.firstElementChild.textContent?(((t=e.firstElementChild.getBoundingClientRect()).width<4||t.height<4)&&(t=e.getBoundingClientRect()),t):e.getBoundingClientRect()}function W(e){return C.conf.clickableSelector&&e.matches(C.conf.clickableSelector)}function V(e){return z(e=e.filter((function(e){var t=$(e);if(e.disabled||e.readOnly||!B(e,t))return!1;if(e.matches("input, textarea, select, form")||"true"===e.contentEditable||W(e))return!0;var n=e.getRootNode().elementFromPoint(t.left+t.width/2,t.top+t.height/2);return!n||n.shadowRoot&&(0===n.childElementCount||n.shadowRoot.contains(e))||n.contains(e)||e.contains(n)})))}function G(e,t){return V(A(document.body,NodeFilter.SHOW_ELEMENT,(function(n){return n.offsetHeight&&n.offsetWidth&&"pointer"===getComputedStyle(n).cursor&&(n.matches(e)||t&&(t.test(n.textContent)||t.test(n.getAttribute("aria-label"))))})))}function Q(e,t,n){var o=["script","style","noscript","surfingkeys_mark"],r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){if(!e.data.trim()||!e.parentNode.offsetParent||-1!==o.indexOf(e.parentNode.localName.toLowerCase())||!t.test(e.data))return t.lastIndex=0,NodeFilter.FILTER_REJECT;var n=e.parentNode.getBoundingClientRect();return n.width<4||n.height<4?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1),i=[];if(1===n)i.push(r.firstChild());else if(-1===n)i.push(r.lastChild());else{if(0===n)return r;if(2===n)for(;r.nextNode();)i.push(r.currentNode.parentNode);else for(;r.nextNode();)i.push(r.currentNode)}return i}function Y(e,t,n){var o=document.getSelection();o.setBaseAndExtent(e,t,e,n?t+n:e.data.length);var r=o.getRangeAt(0).getClientRects()[0],i={left:-1,top:-1};return r&&r.height>0&&r.width>0&&(i.left=r.left,i.top=r.top,i.width=r.width,i.height=r.height),i}var X=document.createRange();function Z(){let e=[];try{let t=arguments[1];for(;0===e.length&&t>=0;)X.setStart(arguments[0],t),arguments.length>3?X.setEnd(arguments[2],arguments[3]):arguments.length>2?X.setEnd(arguments[0],arguments[2]):X.setEnd(arguments[0],arguments[1]),e=X.getClientRects(),t--}catch(e){return[]}return e}function J(e){let t=e.focusNode.parentElement;H(t,!0);var n=Z(e.focusNode,e.focusOffset)[0];return n||(n=e.focusNode.getBoundingClientRect()),n?(((n={left:n.left,top:n.top,width:n.width,height:n.height}).left<0||n.left>=window.innerWidth)&&(t.scrollLeft+=n.left-window.innerWidth/2,n.left=window.innerWidth/2),(n.top<0||n.top>=window.innerHeight)&&(t.scrollTop+=n.top-window.innerHeight/2,n.top=window.innerHeight/2),n):null}var ee=null;function te(e){var t=document.getSelection();if(t.focusNode&&t.focusNode.textContent){var n=function(e,t){var n=[0,e.length],o=/\W/;t<0?t=0:t>=e.length&&(t=e.length-1);var r=!0;if(o.test(e[t])){var i=0;for(r=!1;!r&&(t>i||t+i<e.length);)r=t-++i>=0&&!o.test(e[t-i])||t+i<e.length&&!o.test(e[t+i]);t=t-i>=0&&!o.test(e[t-i])?t-i:t+i}if(r){for(var a=t,u=t;a>=0&&!o.test(e[a]);)a--;for(;u<e.length&&!o.test(e[u]);)u++;n=[a+1,u-a-1]}return n}(t.focusNode.textContent,t.focusOffset),o=Z(t.focusNode,n[0],n[0]+n[1])[0],r=t.focusNode.textContent.substr(n[0],n[1]);if(o&&r&&(!e||ee&&o.has(ee[0],ee[1],0,0)))return r.trim()}return null}function ne(e){var t=C.conf.language||window.navigator.language;"en-US"===t?e((function(e){return e})):fetch(chrome.runtime.getURL("pages/l10n.json")).then((function(e){return e.json()})).then((function(n){"object"==typeof n[t]?(n=n[t],e((function(e){return n[e]?n[e]:e}))):e((function(e){return e}))}))}function oe(e){var t=e.annotation.match(/#(\d+)(.*)/);return null!==t&&(e.feature_group=parseInt(t[1]),e.annotation=t[2]),e}function re(e,t,n,o){n=k.encodeKeystroke(n);var r=e.mappings.find(n);if(r){t=k.encodeKeystroke(t),e.mappings.remove(t);var i=Object.assign({},r.meta);o&&(i=Object.assign(i,oe({annotation:o}))),e.mappings.add(t,i),T()||S("front",["addMapkey",e.name,t,n])}return r}function ie(e,t){return e.indexOf("{0}")>0?e.format(t):e.indexOf("%s")>0?e.replace("%s",t):e+t}function ae(e,t){var n;t=t||5,(n=(n="Array"===e.constructor.name?e:e instanceof NodeList?Array.from(e).map((function(e){return e.href})):e.trim().split("\n")).map((function(e){return e.trim()})).filter((function(e){return e.length>0}))).slice(0,t).forEach((function(e){x("openLink",{tab:{tabbed:!0},url:e})})),n.length>t&&x("queueURLs",{urls:n.slice(t)})}function ue(e){return e.filter((function(e){return e.offsetHeight&&e.offsetWidth&&!e.getAttribute("disabled")&&j(e)&&"hidden"!==getComputedStyle(e).visibility}))}function se(e,t){e.innerHTML=y.sanitize(t)}function ce(e,t,n){var o=document.createElement(e);if(t&&se(o,t),n)for(var r in n)o.setAttribute(r,n[r]);return o}document.addEventListener("mousedown",(e=>{ee=[e.clientX,e.clientY]})),DOMRect.prototype.has=function(e,t,n,o){return t>this.top-o&&t<this.bottom+o&&e>this.left-n&&e<this.right+n},String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++){var n=new RegExp("\\{"+t+"\\}","gi");e=e.replace(n,arguments[t])}return e},String.prototype.reverse=function(){return this.split("").reverse().join("")},RegExp.prototype.toJSON=function(){return{source:this.source,flags:this.flags}},Array.prototype.flatMap||(Array.prototype.flatMap=function(e){return Array.prototype.concat.apply([],this.map(e))});var le=document.createElement("div");function fe(e){return le.innerText=e,le.innerHTML}HTMLElement.prototype.one=function(e,t){this.addEventListener(e,(function n(){t.call(this),this.removeEventListener(e,n)}))},HTMLElement.prototype.show=function(){this.style.display=""},HTMLElement.prototype.hide=function(){this.style.display="none"},HTMLElement.prototype.removeAttributes=function(){for(;this.attributes.length>0;)this.removeAttribute(this.attributes[0].name)},HTMLElement.prototype.containsWithShadow=function(e){const t=[this];for(;t.length;){const n=t.shift();if(n.contains(e))return!0;if(t.push(...n.children),n.shadowRoot){if(n.shadowRoot.contains(e))return!0;t.push(...n.shadowRoot.children)}}return!1},NodeList.prototype.remove=function(){this.forEach((function(e){e.remove()}))},NodeList.prototype.show=function(){this.forEach((function(e){e.show()}))},NodeList.prototype.hide=function(){this.forEach((function(e){e.hide()}))};const de=ce("div","",{style:"position: fixed; box-shadow: 0px 0px 4px 2px #63b2ff; background: transparent; z-index: 2140000000"});function pe(e,t){var n=$(e);de.style.left=n.left+"px",de.style.top=n.top+"px",de.style.width=n.width+"px",de.style.height=n.height+"px",document.body.appendChild(de),setTimeout((()=>{de.remove(),t()}),100)}function he(e,t){var n=null;const o=C.getCaseSensitive(e)?"g":"gi";if(e=e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),t)n=new RegExp(e.replace(/\s+/,"|"),o);else{var r=e.split(/\s+/).map((function(e){return`(?=.*${e})`})).join("");n=new RegExp(`^${r}.*$`,o)}return n}function me(e){try{return decodeURI(e)}catch(t){return e}}function ge(e,t){if(t&&t.length){var n=he(t,!1);e=e.filter((function(e){return n.test(e.title)||n.test(me(e.url))}))}return e}function ve(e,t){const n={candidates:0};if(t.length>0)for(const o of e){const e=o.label;if(t===e){n.matched=o.link;break}0===e.indexOf(t)?(o.style.opacity=1,se(o,`<span style="opacity: 0.2;">${t}</span>`+e.substr(t.length)),n.candidates++):o.style.opacity=0}else if(1===e.length)n.matched=e[0].link;else{for(const t of e)t.style.opacity=1,se(t,t.label);n.candidates=e.length}return n}function ye(e,t){const n=E();"Chrome"===n?t.src=chrome.runtime.getURL(`/_favicon/?pageUrl=${e.url}`):n.startsWith("Safari")?t.src=new URL(e.url).origin+"/favicon.ico":t.src=e.favIconUrl}var be=[];const we=function(e,t){this.name=e,this.statusLine=t,this.eventListeners={},this.addEventListener=function(e,t){return this.eventListeners[e]=t,Ee.hasOwnProperty(e)||(Ee[e]=function(t){Se(e,t)},window.addEventListener(e,Ee[e],!0)),this},this.enter=function(e,t){var n,o,r=be.indexOf(this);if(this.priority||(this.priority=e||be.length),-1===r)be.unshift(this);else if(r>0)if(t)be=be.slice(r);else{var i=be.map((function(e){return e.name})).join(",");n="Mode {0} pushed into mode stack again.".format(this.name),o="Modes in stack: {0}".format(i),n=encodeURIComponent(n),o="%23%23+Error+details%0A%0A{0}%0A%0ASurfingKeys%3A+{1}%0A%0AChrome%3A+{2}%0A%0AURL%3A+{3}%0A%0A%23%23+Context%0A%0A%2A%2APlease+replace+this+with+a+description+of+how+you+were+using+SurfingKeys.%2A%2A".format(encodeURIComponent(o),chrome.runtime.getManifest().version,encodeURIComponent(navigator.userAgent),encodeURIComponent(window.location.href)),I('<h2>Uh-oh! The SurfingKeys extension encountered a bug.</h2> <p>Please click <a href="https://github.com/brookhong/Surfingkeys/issues/new?title={0}&body={1}" target=_blank>here</a> to start filing a new issue, append a description of how you were using SurfingKeys before this message appeared, then submit it.  Thanks for your help!</p>'.format(n,o))}return be.sort((function(e,t){return e.priority<t.priority?1:t.priority<e.priority?-1:0})),this.onEnter&&this.onEnter(),we.showStatus(),r},this.exit=function(e){var t=be.indexOf(this);if(-1!==t)if(this.priority=0,e)be.splice(t,1);else{t++;be.slice(0,t);be=be.slice(t)}we.showStatus(),this.onExit&&this.onExit(t)}};we.getCurrent=()=>be[0],we.specialKeys={"<Alt-s>":["<Alt-s>"],"<Esc>":["<Esc>"]},we.isSpecialKeyOf=function(e,t){return-1!==we.specialKeys[e].indexOf(k.decodeKeystroke(t))};var _e=[];function ke(e,t){t.sk_stopPropagation&&(t.stopImmediatePropagation(),t.preventDefault())}function Se(e,t,n){for(var o=0;o<be.length&&!t.sk_stopPropagation;o++){var r=be[o];if(!t.sk_suppressed&&r.eventListeners.hasOwnProperty(e))(0,r.eventListeners[e])(t),ke(0,t);if("Disabled"===r.name)break;n&&n(r)}}we.suppressKeyUp=function(e){-1===_e.indexOf(e)&&_e.push(e)};let xe=0;var Ce=0,Ee={sentinel:e=>{xe++},keydown:function(e){if(e.sk_keyName=k.getKeyChar(e),0===be.length&&window!==top)return S("iframeBoot"),void document.addEventListener("surfingkeys:userSettingsLoaded",(()=>{Se("keydown",e)}),{once:!0});Se("keydown",e)},keyup:function(e){Se("keyup",e,(function(t){var n=_e.indexOf(e.keyCode);-1!==n&&(e.stopImmediatePropagation(),_e.splice(n,1))}))},scroll:function(e){Ce>0&&(e.stopImmediatePropagation(),e.preventDefault(),Ce--)}};function Te(e){for(var t in be=[],Ee)window.addEventListener(t,Ee[t],!0);e&&e()}we.hasScroll=function(e,t,n){var o="y"===t?["scrollTop","height"]:["scrollLeft","width"],r=e[o[0]];if(r<n){var i=e[o[0]];e[o[0]]=e.getBoundingClientRect()[o[1]],(r=e[o[0]])!==i&&Ce++,e[o[0]]=i}return r>=n},we.getScrollableElements=function(){var e=A(document.body,NodeFilter.SHOW_ELEMENT,(function(e){return we.hasScroll(e,"y",16)&&e.scrollHeight>200||we.hasScroll(e,"x",16)&&e.scrollWidth>200}));return e.sort((function(e,t){return t.contains(e)?1:e.contains(t)?-1:t.scrollHeight*t.scrollWidth-e.scrollHeight*e.scrollWidth})),document.scrollingElement&&(document.scrollingElement.scrollHeight>window.innerHeight||document.scrollingElement.scrollWidth>window.innerWidth)&&e.unshift(document.scrollingElement),e},we.init=e=>{"about:blank"!==window.location.href||!window.frameElement||document.body&&0!==document.body.childElementCount?Te(e):window.frameElement.addEventListener("load",(function(t){try{Te(e)}catch(e){console.log("Error on blank iframe loaded: "+e)}}))},we.showStatus=function(){if(document.hasFocus()&&be.length){var e=be[0],t=e.statusLine||(C.conf.showModeStatus?e.name:"");if(""!==t&&window!==top&&!T()){var n=window.location.pathname.split("/");n.length&&(t+=" - frame: "+n[n.length-1])}S("front",["showStatus",[t]])}},we.finish=function(e){var t=!1;return(e.map_node!==e.mappings||null!=e.pendingMap||e.repeats)&&(e.map_node=e.mappings,e.pendingMap=null,e.isTrustedEvent&&S("front",["hideKeystroke"]),e.repeats&&(e.repeats=""),t=!0),t},we.handleMapKey=function(e,t){var n=e.sk_keyName;this.isTrustedEvent=this.__trust_all_events__||e.isTrusted;var o=we.isSpecialKeyOf("<Esc>",n);o&&(n=k.encodeKeystroke("<Esc>"));var r=!1;if(o&&we.finish(this))e.sk_stopPropagation=!0,e.sk_suppressed=!0,r=!0;else if(this.pendingMap){this.setLastKeys&&this.setLastKeys(this.map_node.meta.word+n);var i=this.pendingMap.bind(this);e.sk_stopPropagation=!this.map_node.meta.stopPropagation||this.map_node.meta.stopPropagation(n),i(n),r=we.finish(this)}else if(void 0!==this.repeats&&this.map_node===this.mappings&&C.conf.digitForRepeat&&(n>="1"||""!==this.repeats&&n>="0")&&n<="9"&&this.map_node.getWords().length>0)this.repeats+=n,this.isTrustedEvent&&S("front",["showKeystroke",n,this]),e.sk_stopPropagation=!0;else{var a=this.map_node;if(this.map_node=this.map_node.find(n),this.map_node)if(this.map_node.meta){var u=this.map_node.meta.code;if(u.length)this.pendingMap=u,this.isTrustedEvent&&S("front",["showKeystroke",n,this]),e.sk_stopPropagation=!0;else{for(this.setLastKeys&&this.setLastKeys(this.map_node.meta.word),x.repeats=parseInt(this.repeats)||1,e.sk_stopPropagation=!this.map_node.meta.stopPropagation||this.map_node.meta.stopPropagation(n);x.repeats>0;)u(),x.repeats--;r=we.finish(this)}}else this.isTrustedEvent&&S("front",["showKeystroke",n,this]),e.sk_stopPropagation=!0;else t&&t(a),e.sk_suppressed=a!==this.mappings,r=we.finish(this)}return r},we.checkEventListener=e=>{const t=xe;window.dispatchEvent(new CustomEvent("sentinel")),t===xe&&(Te(),e())};const Oe=we;const Ae=function(){var e={},t=document.createElement("textarea");function n(e){q((function(n){document.documentElement.appendChild(t),e(n),t.remove()}))}return t.contentEditable=!0,t.enableAutoFocus=!0,t.id="sk_clipboard",e.read=function(e){if(E().startsWith("Safari"))x("readClipboard",null,(function(t){e(t)}));else if("Firefox"!==E()||"object"!=typeof navigator.clipboard||"function"!=typeof navigator.clipboard.readText){n((function(){t.value="",se(t,""),t.focus(),document.execCommand("paste")}));var o=t.value;""===o&&(o=t.innerHTML.replace(/<br>/gi,"\n")),e({data:o})}else navigator.clipboard.readText().then((t=>{setTimeout((function(){e({data:t})}),0)}))},e.write=function(e){const o=()=>{L("Copied: "+e)};"Chrome"===E()?(n((function(){t.value=e,console.log(e),t.select(),document.execCommand("copy"),t.value=""})),o()):(x("writeClipboard",{text:e}),o())},e};function Re(){arguments.length>0&&(this.stem=arguments[0]),arguments.length>1&&(this.meta=arguments[1])}Re.prototype={find:function(e){for(var t=this,n=e.length,o=0;o<n&&t;o++)t=t[e[o]];return t},add:function(e,t){for(var n=this,o=e.length,r=0;r<o;r++){var i=e[r];if(n.hasOwnProperty(i))n=n[i];else{var a=new Re(i);n[i]=a,n=a}}t.word=e,n.meta=t},remove:function(e){for(var t=this,n=e.length,o=[],r=0;r<n&&t;r++)o.push(t),t=t[e[r]];if(t){var i=o[r=o.length-1];delete i[t.stem];for(var a=i;a!==this&&1===Object.keys(a).length;)delete(i=o[--r])[a.stem],a=i}return t},getWords:function(e,t){var n=[];e=(e||"")+(t?"":this.stem||"");for(var o in this.hasOwnProperty("meta")&&n.push(e),this)1===o.length&&(n=n.concat(this[o].getWords(e)));return n},getMetas:function(e){var t=[];for(var n in this.hasOwnProperty("meta")&&e(this.meta)&&t.push(this.meta),this)1===n.length&&(t=t.concat(this[n].getMetas(e)));return t},getPrefixWord:function(){if(0===Object.keys(this).length)return"";for(var e="",t=this.stem,n=this;""===e;)for(var o=Object.keys(n),r=0;r<o.length;r++){if("meta"===o[r]){e=n.meta.word;break}if("stem"!==o[r]){t+=o[r],n=n[o[r]];break}}return e.substr(0,e.length-t.length+1)}};const Le=Re;const Ie=function(){var e=new Oe("Insert");function t(){var e=P();if(void 0!==e.setSelectionRange)try{e.setSelectionRange(e.value.length,e.value.length)}catch(e){if(!(e instanceof DOMException&&"InvalidStateError"===e.name))throw e}else if(F(e)&&e.childNodes.length>0){var t=e.childNodes[e.childNodes.length-1];if(t.nodeType===Node.TEXT_NODE)document.getSelection().setPosition(t,t.data.length);else{t.querySelector(".CodeMirror-line")?function(e){let t=document.createRange();t.selectNodeContents(e),t.collapse(!1);let n=window.getSelection();n.removeAllRanges(),n.addRange(t)}(e):document.getSelection().setPosition(t,t.childNodes.length)}}}e.mappings=new Le,e.map_node=e.mappings,e.mappings.add(k.encodeKeystroke("<Ctrl-e>"),{annotation:"Move the cursor to the end of the line",feature_group:15,code:t}),e.mappings.add(k.encodeKeystroke("<Ctrl-f>"),{annotation:"Move the cursor to the beginning of the line",feature_group:15,code:function(){var e=P();if(void 0!==e.setSelectionRange)e.setSelectionRange(0,0);else{var t=document.getSelection();t.setPosition(t.focusNode,0)}}}),e.mappings.add(k.encodeKeystroke("<Ctrl-u>"),{annotation:"Delete all entered characters before the cursor",feature_group:15,code:function(){var e=P();if(void 0!==e.setSelectionRange)e.value=e.value.substr(e.selectionStart),e.setSelectionRange(0,0);else{var t=document.getSelection();t.focusNode.data=t.focusNode.data.substr(t.focusOffset)}}}),e.mappings.add(k.encodeKeystroke("<Alt-b>"),{annotation:"Move the cursor Backward 1 word",feature_group:15,code:function(){var e=P();if(void 0!==e.setSelectionRange){var t=s(e.value,-1,e.selectionStart);e.setSelectionRange(t,t)}else document.getSelection().modify("move","backward","word")}}),e.mappings.add(k.encodeKeystroke("<Alt-f>"),{annotation:"Move the cursor Forward 1 word",feature_group:15,code:function(){var e=P();if(void 0!==e.setSelectionRange){var t=s(e.value,1,e.selectionStart);e.setSelectionRange(t,t)}else document.getSelection().modify("move","forward","word")}}),e.mappings.add(k.encodeKeystroke("<Alt-w>"),{annotation:"Delete a word backwards",feature_group:15,code:function(){var e=P();if(void 0!==e.setSelectionRange){var t=c(e.value,-1,e.selectionStart);e.value=t[0],e.setSelectionRange(t[1],t[1])}else{var n=document.getSelection(),o=n.focusOffset;document.getSelection().modify("move","backward","word");var r=n.focusNode.data,i=n.focusOffset;n.focusNode.data=r.substr(0,i)+r.substr(o),n.setPosition(n.focusNode,i)}}}),e.mappings.add(k.encodeKeystroke("<Alt-d>"),{annotation:"Delete a word forwards",feature_group:15,code:function(){var e=P();if(void 0!==e.setSelectionRange){var t=c(e.value,1,e.selectionStart);e.value=t[0],e.setSelectionRange(t[1],t[1])}else{var n=document.getSelection(),o=n.focusOffset;document.getSelection().modify("move","forward","word");var r=n.focusNode.data,i=n.focusOffset;n.focusNode.data=r.substr(0,o)+r.substr(i),n.setPosition(n.focusNode,o)}}}),e.mappings.add(k.encodeKeystroke("<Esc>"),{annotation:"Exit insert mode",feature_group:15,stopPropagation:function(e){return e.charCodeAt(0)<256},code:function(){P().blur(),e.exit()}});var n,o=ce("div","",{id:"sk_emoji",style:"display: block; opacity: 1;"}),r=-1;function i(){var e=P(),t="",i=!0;if(void 0!==e.selectionStart&&void 0!==e.value)t=e.value.substr(r,e.selectionStart-r);else{i=!1;var a=document.getSelection();t=a.focusNode.data.substr(r,a.focusOffset-r)}if(t.length<C.conf.startToShowEmoji||" "===t[0])o.remove();else{var u=n.filter((function(e){return-1!==e.indexOf(t)})).slice(0,5).map((function(e){var t=e.split("\t"),n=String.fromCodePoint.apply(null,t[0].split(","));return"<div><span>{0}</span>{1}</div>".format(n,t[1])})).join("");if(""===u)o.remove();else{se(o,u),document.body.append(o),o.style.display="",o.querySelector("#sk_emoji>div").classList.add("selected");var s=i?function(e){var t=getComputedStyle(e),n=e.getBoundingClientRect(),o=document.createElement("div"),r=document.createElement("span");o.style.font=t.font,o.style.position="fixed",se(o,e.value),o.style.left=e.clientLeft+n.left+"px",o.style.top=e.clientTop+n.top+"px",o.style.color="red",o.style.overflow="scroll",o.style.visibility="hidden",o.style.whiteSpace="pre-wrap",o.style.padding=t.padding,o.style.width=t.width,o.style.height=t.height,r.innerText="I";var i=e.selectionStart;if(i===e.value.length)o.appendChild(r);else{var a=o.childNodes[0].splitText(i);o.insertBefore(r,a)}return document.body.appendChild(o),H(r),n=r.getBoundingClientRect(),o.remove(),n}(e):J(document.getSelection()),c=s.top+s.height+4;window.innerHeight-c<o.offsetHeight&&(c=s.top-o.offsetHeight),o.style.position="fixed",o.style.top=c+"px",o.style.left=s.left+"px"}}}e.enableEmojiInsertion=()=>{e.mappings.add(":",{annotation:"Input emoji",feature_group:15,stopPropagation:function(){return!1},code:function(){var e=P();r=void 0!==e.selectionStart?e.selectionStart+1:document.getSelection().focusOffset+1,fetch(chrome.runtime.getURL("pages/emoji.tsv")).then((e=>Promise.all([e.text()]))).then((e=>{n=e[0].split("\n"),i()}))}})};var a,u=!1;function s(e,t,n){var o=/\W/;for(n=t>0?n:n+t;;){if(n<0){n=0;break}if(n>=e.length){n=e.length;break}if(o.test(e[n]))break;n+=t}return n}function c(e,t,n){var o=s(e,t,n);return[o>n?e.substr(0,n)+e.substr(o):o<n?e.substr(0,o)+e.substr(n):e.substr(0,o)+e.substr(o+1),t>0?n:o]}e.addEventListener("keydown",(function(t){if(t.key&&t.key.charCodeAt(0)>127)t.sk_suppressed=!0;else{var n,i,a,s,c=P(t);if(o.offsetHeight>0){if(Oe.isSpecialKeyOf("<Esc>",t.sk_keyName))o.remove(),r=-1;else if(t.keyCode===k.keyCodes.tab||t.keyCode===k.keyCodes.upArrow||t.keyCode===k.keyCodes.downArrow)n=t.shiftKey||t.keyCode===k.keyCodes.upArrow,i=o.querySelector("#sk_emoji>div.selected"),a=Array.from(o.querySelectorAll("#sk_emoji>div")),s=(a.indexOf(i)+(n?-1:1))%a.length,i.classList.remove("selected"),a[s].classList.add("selected"),u=!0,t.sk_stopPropagation=!0;else if(t.keyCode===k.keyCodes.enter){var l=o.querySelector("#sk_emoji>div.selected>span").innerHTML;if(void 0!==c.setSelectionRange){var f=c.value;c.value=f.substr(0,r-1)+l+f.substr(c.selectionStart),c.setSelectionRange(r,r)}else{var d=document.getSelection();f=d.focusNode.data;d.focusNode.data=f.substr(0,r-1)+l+f.substr(d.focusOffset),d.setPosition(d.focusNode,r)}o.remove(),r=-1,t.sk_stopPropagation=!0}}else F(c)?t.sk_keyName.length&&Oe.handleMapKey.call(e,t,(function(e){var t=e.getPrefixWord();if(t){var n=P(),o=n.value,r=n.selectionStart;if(void 0!==o&&void 0!==r)n.value=o.substr(0,n.selectionStart)+t+o.substr(n.selectionEnd),r+=t.length,n.setSelectionRange(r,r);else{var i=(n=document.getSelection()).getRangeAt(0),a=document.createTextNode(t);"Caret"===n.type?void 0===(o=n.focusNode.data)?(i.insertNode(a),n.setPosition(a,a.length)):(r=n.focusOffset,n.focusNode.data=o.substr(0,r)+t+o.substr(r),n.setPosition(n.focusNode,r+t.length)):(i.deleteContents(),i.insertNode(a),n.setPosition(a,a.length))}}})):e.exit();t.sk_suppressed=!0}})),e.addEventListener("keyup",(function(e){var t=P(e);if(!u&&-1!==r){var n,a;if(void 0!==t.selectionStart&&void 0!==t.value)n=t.value,a=t.selectionStart;else{var s=document.getSelection();n=s.focusNode.data,a=s.focusOffset}a<r||":"!==n[r-1]?o.remove():i()}u=!1})),e.addEventListener("focus",(function(t){var n=P(t);t.target==window||F(n)?t.sk_suppressed=!0:e.exit()}));var l=e.enter;return e.enter=function(n,o){n===document.body&&(C.conf.showModeStatus=!1);var r=-1===l.call(e,0,!0);a!==n&&(a=n,r=!0),r&&!o&&C.conf.cursorAtEndOfInput&&"SELECT"!==n.nodeName&&t()},e};const Ne=function(e){var t=new Oe("Normal");t.mappings=new Le,t.map_node=t.mappings;var n=!1;let o;t.passFocus=function(e){n=e},t.startLurk=()=>{let e="lurking";return o?Oe.getCurrent()!==o&&(e="enabled"):(t.exit(),o=function(e){const t=new Oe("Lurk");function n(){e.enter(),window===top&&x("setSurfingkeysIcon",{status:"enabled"})}return t.mappings=new Le,t.map_node=t.mappings,t.mappings.add(k.encodeKeystroke("<Alt-i>"),{annotation:"Enter normal mode",feature_group:16,code:n}),t.mappings.add("p",{annotation:"Enter ephemeral normal mode to temporarily enable SurfingKeys",feature_group:16,code:function(){n(),setTimeout((()=>{e.revertToLurk()}),1e3)}}),t.addEventListener("keydown",(function(e){!F(P(e))&&e.sk_keyName.length&&(Oe.handleMapKey.call(t,e),e.sk_stopPropagation&&Oe.suppressKeyUp(e.keyCode))})),t}(t),r.forEach((e=>{re(o,e[0],e[1]),o.mappings.remove(k.encodeKeystroke(e[1]))})),r=void 0,o.enter(0,!0)),e},t.revertToLurk=()=>{t.exit(!0),window===top&&x("setSurfingkeysIcon",{status:"lurking"})},t.getLurkMode=()=>o;let r=[];t.addLurkMap=(e,t)=>{r.push([e,t])};var i=!1;t.addEventListener("keydown",(function(n){var r=P(n);if(F(r)&&B(r)&&n.isTrusted)if(Oe.isSpecialKeyOf("<Esc>",n.sk_keyName))r.blur(),e.exit();else if(C.conf.editableBodyCare&&r===document.body&&"i"!==n.key)t.statusLine="Press i to enter Insert mode",C.conf.showModeStatus=!0,n.sk_keyName.length&&Oe.handleMapKey.call(t,n);else{n.sk_stopPropagation=C.conf.editableBodyCare&&r===document.body&&"i"===n.key,n.sk_stopPropagation&&(t.passFocus(!0),r.focus());var a=!1;if(!j(r)){for(var u=r;u!==document.documentElement&&!u.newlyCreated;)u=u.parentElement;a=u!==document.documentElement&&u.newlyCreated}a?(r.blur(),delete u.newlyCreated,Oe.handleMapKey.call(t,n)):e.enter(r,!0)}else if(Oe.isSpecialKeyOf("<Alt-s>",n.sk_keyName))t.toggleBlocklist(),Oe.finish(t),n.sk_stopPropagation=!0;else if(n.sk_keyName.length){var s=Oe.handleMapKey.call(t,n,(()=>{Oe.isSpecialKeyOf("<Esc>",n.sk_keyName)&&o&&t.revertToLurk()}));i&&s&&(i=!1,t.exit())}n.sk_stopPropagation&&Oe.suppressKeyUp(n.keyCode)})),t.addEventListener("blur",(function(e){c=0})),t.addEventListener("focus",(function(e){if(Oe.showStatus(),C.conf.stealFocusOnLoad&&!T()){var t=P(e);F(t)&&(n||t.enableAutoFocus?C.conf.enableAutoFocus||(n=!1):(t.blur(),e.sk_stopPropagation=!0))}})),t.addEventListener("keyup",(function(e){setTimeout((function(){c=0}),0)})),t.addEventListener("mousedown",(function(n){C.conf.enableAutoFocus?t.passFocus(!0):t.passFocus(n.isTrusted);var o=P(n);F(o)?e.enter(o,!0):e.exit()})),t.toggleBlocklist=function(){0!==document.location.href.indexOf(chrome.runtime.getURL("/"))?x("toggleBlocklist",{blocklistPattern:C.conf.blocklistPattern?C.conf.blocklistPattern:""},(function(e){"disabled"===e.state?e.blocklist.hasOwnProperty(".*")?L("Surfingkeys is globally disabled, please enable it globally from popup menu.",3e3):L("Surfingkeys turned OFF for "+e.url,3e3):L("Surfingkeys turned ON for "+e.url,3e3)})):L("You could not toggle Surfingkeys on its own pages.",3e3)};const a=function(){var e,t,n=new Oe("PassThrough");return n.addEventListener("keydown",(function(o){o.sk_suppressed=!0,Oe.isSpecialKeyOf("<Esc>",o.sk_keyName)?(n.exit(),o.sk_stopPropagation=!0):t>0&&(e&&(clearTimeout(e),e=void 0),e=setTimeout((function(){n.exit()}),t))})).addEventListener("mousedown",(function(e){e.sk_suppressed=!0})),n.addEventListener("focus",(function(e){e.sk_suppressed=!0})),n.onEnter=function(){t>0?(e=setTimeout((function(){n.exit()}),t),n.statusLine=`ephemeral(${t}ms) pass through`):n.statusLine="pass through"},n.setTimeout=function(e){t=e},n}();t.passThrough=function(e){return a.setTimeout(e),a.enter(),a},t.once=()=>{i=!0,t.enter()},t.mappings.add(k.encodeKeystroke("<Alt-i>"),{annotation:"Enter PassThrough mode to temporarily suppress SurfingKeys",feature_group:0,code:function(){t.passThrough()}}),t.mappings.add("p",{annotation:"Enter ephemeral PassThrough mode to temporarily suppress SurfingKeys",feature_group:0,code:function(){t.passThrough(1e3)}}),t.repeats="";var u,s,c=0,l=0,f=[];function d(){u&&0!==u.length||((u=Oe.getScrollableElements()).forEach((function(e){e.removeEventListener("mousedown",p),e.addEventListener("mousedown",p),e.dataset.hint_scrollable=!0})),l=0)}function p(e){if(e.currentTarget.contains(e.target)){for(var t=u.lastIndexOf(e.target),n=u.length-1;n>=0&&-1===t;n--)u[n]!==document.body&&u[n].contains(e.target)&&(t=n);-1!==t&&(l=t)}}function h(){x("localData",{data:{lastKeys:s}})}t.highlightElement=function(e){var t;S("front",["highlightElement",{duration:200,rect:{top:(t=document.scrollingElement===e?{top:0,left:0,width:window.innerWidth,height:window.innerHeight}:e.getBoundingClientRect()).top,left:t.left,width:t.width,height:t.height}}])},t.scroll=function(e){d();var n=document.scrollingElement;if(u.length>0&&(n=u[l])!==document.scrollingElement&&n!==document.body){var o=n.getBoundingClientRect();0!==o.width&&0!==o.height&&j(n)&&(Oe.hasScroll(n,"x",16)||Oe.hasScroll(n,"y",16))||(t.refreshScrollableElements(),n=u[l])}if(n||document.scrollingElement||!document.body||(document.body.style.overflow="visible",n=document.scrollingElement),n){var r;n.skScrollBy||((r=n).skScrollBy=function(e,t){if(C.conf.smartPageBoundary&&(this===document.scrollingElement||1===u.length&&this===u[0])){if(0===this.scrollTop&&t<0)return S("hints",["topBoundaryHit"]);if(this.scrollHeight-this.scrollTop<=this.clientHeight+1&&t>0)return S("hints",["bottomBoundaryHit"])}if(x.repeats>1&&(e=x.repeats*e,t=x.repeats*t,x.repeats=0),C.conf.smoothScroll){var n=Math.max(100,20*Math.log(Math.abs(e||t)));r.smoothScrollBy(e,t,n)}else S("hints",["scrollStarted"]),r.scrollBy({behavior:"instant",left:e,top:t}),S("hints",["scrollDone"])},r.safeScroll_=(e,t,n)=>{const o=r===document.scrollingElement?window.innerHeight:r.clientHeight,i=r===document.scrollingElement?window.innerWidth:r.clientWidth,a="scrollTop"===e?[0,r.scrollHeight-o]:[0,r.scrollWidth-i],u=n?a[1]:a[0];return t>=a[0]&&t<=a[1]?(r[e]=t,!1):(r[e]=u,!0)},r.smoothScrollBy=function(e,t,n){if(!c){var[o,i]=t?["scrollTop",t]:["scrollLeft",e],a=n,u=0,s=r[o],l=!1;function f(e){if(0===u)return u=e,S("hints",["scrollStarted"]),window.requestAnimationFrame(f);var t=r[o],n=(e-u)*i/a;let d=!1;Math.abs(t+n-s)>=Math.abs(i)?(l=!0,c>C.conf.scrollFriction?(d=r.safeScroll_(o,t+n,i>0),s=r[o]):c>0?c++:d=r.safeScroll_(o,s+i,i>0)):d=r.safeScroll_(o,t+n,i>0),u=e,c||!d&&!l?window.requestAnimationFrame(f):(r.style.scrollBehavior="",S("hints",["scrollDone"]))}c=1,r.style.scrollBehavior="auto",window.requestAnimationFrame(f)}},f.push(r));var i=n===document.scrollingElement?[window.innerWidth,window.innerHeight]:[n.offsetWidth,n.offsetHeight];switch(n.lastScrollTop=n.scrollTop,n.lastScrollLeft=n.scrollLeft,e){case"down":n.skScrollBy(0,C.conf.scrollStepSize);break;case"up":n.skScrollBy(0,-C.conf.scrollStepSize);break;case"pageDown":n.skScrollBy(0,Math.round(i[1]/2));break;case"fullPageDown":n.skScrollBy(0,i[1]);break;case"pageUp":n.skScrollBy(0,-Math.round(i[1]/2));break;case"fullPageUp":n.skScrollBy(0,-i[1]);break;case"top":n.skScrollBy(0,-n.scrollTop);break;case"bottom":n.skScrollBy(n.scrollLeft,n.scrollHeight-n.scrollTop);break;case"left":n.skScrollBy(-Math.round(C.conf.scrollStepSize/2),0);break;case"right":n.skScrollBy(Math.round(C.conf.scrollStepSize/2),0);break;case"leftmost":n.skScrollBy(-n.scrollLeft-10,0);break;case"rightmost":n.skScrollBy(n.scrollWidth-n.scrollLeft-i[0]+20,0);break;case"byRatio":var a=parseInt(x.repeats*n.scrollHeight/100)-i[1]/2-n.scrollTop;x.repeats=0,n.skScrollBy(0,a)}S("observer",["turnOff"])}},t.refreshScrollableElements=function(){return u=null,d(),u},t.addScrollableElement=function(e){u&&(e.contains(u[l])||-1!==u.indexOf(e))||(d(),u.push(e),l=u.length-1)},t.rotateFrame=function(){x("nextFrame",{frameId:window.frameId})},t.feedkeys=function(e){setTimeout((function(){for(var n=new Event("keydown"),o=0;o<e.length;o++)n.sk_keyName=e[o],Oe.handleMapKey.call(t,n)}),1)},t.setLastKeys=function(e){!this.map_node.meta.repeatIgnore&&e.length>1&&(s=[e],h())},t.appendKeysForRepeat=function(e,t){s&&s.length>0&&(s.push("{0}\t{1}".format(e,t)),h())},t.addVIMark=function(e,t){t=t||window.location.href;var n={};n[e]={url:t,scrollLeft:document.scrollingElement.scrollLeft,scrollTop:document.scrollingElement.scrollTop},x("addVIMark",{mark:n}),L("Mark '{0}' added for: {1}.".format(e,t))},t.jumpVIMark=function(e){if("'"===e){let e=document.scrollingElement;if(d(),u.length>0&&(e=u[l],void 0!==e.lastScrollTop&&void 0!==e.lastScrollLeft)){const t=e.scrollTop,n=e.scrollLeft;e.scrollTop=e.lastScrollTop,e.scrollLeft=e.lastScrollLeft,e.lastScrollTop=t,e.lastScrollLeft=n}}else x("jumpVIMark",{mark:e})},t.moveTab=function(e){x("moveTab",{position:e})},t.captureElement=function(e){x("getCaptureSize",null,(function(t){var n=t.width/window.innerWidth;e.scrollTop=0,e.scrollLeft=0;var o=-1,r=-1,i=e.style.overflowY;e.style.overflowY="hidden";var a=e.style.overflowX;e.style.overflowX="hidden";var u=e.style.borderStyle;e.style.borderStyle="none",S("front",["toggleStatus",!1]);var s,c,l,f,d,p,h=0,m=0,g=e.scrollHeight,v=e.scrollWidth;if(e===document.scrollingElement)d=window.innerWidth,p=window.innerHeight,s=0,c=0;else{var y=e.getBoundingClientRect(),b=[Math.max(y.left,0),Math.max(y.top,0),Math.min(y.right,window.innerWidth),Math.min(y.bottom,window.innerHeight)];d=b[2]-b[0],p=b[3]-b[1],s=b[0]*n,c=b[1]*n}l=d*n,f=p*n;var w=document.createElement("canvas");w.width=v*n,w.height=g*n;var _=w.getContext("2d"),k=(y=e.getBoundingClientRect(),document.createElement("img"));k.onload=function(){_.drawImage(k,s,c,l,f,h,m,l,f),o===e.scrollTop?r===e.scrollLeft?(S("front",["toggleStatus",!0]),I("<img src='{0}' />".format(w.toDataURL("image/png"))),e.style.overflowY=i,e.style.overflowX=a,e.style.borderStyle=u):(o=-1,e.scrollTop=0,m=0,r=e.scrollLeft,e.scrollLeft+2*d<v?(e.scrollLeft+=d,h+=d*n):(e.scrollLeft+=v%d,h=e.scrollLeft*n),setTimeout((function(){x("captureVisibleTab",null,(function(e){k.src=e.dataUrl}))}),1e3)):(o=e.scrollTop,e.scrollTop+2*p<g?(e.scrollTop+=p,m+=p*n):(e.scrollTop+=g%p,m=e.scrollTop*n),setTimeout((function(){x("captureVisibleTab",null,(function(e){k.src=e.dataUrl}))}),1e3))},setTimeout((function(){x("captureVisibleTab",null,(function(e){k.src=e.dataUrl}))}),500)}))},t.mappings.add("yG",{annotation:"Capture current full page",feature_group:7,code:function(){t.captureElement(document.scrollingElement)}}),t.mappings.add("yS",{annotation:"Capture scrolling element",feature_group:7,code:function(){var e=document.scrollingElement;d(),u.length>0&&(e=u[l]),t.captureElement(e)}}),t.mappings.add("cS",{annotation:"Reset scroll target",feature_group:2,code:function(){if(u=null,d(),u.length>0){var e=u[l];t.highlightElement(e)}}});const m=e=>{const n=t.scroll.bind(t,e);return n.isSKScrollInHints=!0,n};function g(e){-1===C.conf.mouseSelectToQuery.indexOf(window.origin)||R(e.target)||e.target.matches(".cm-matchhighlight")||setTimeout((()=>{S("front",["querySelectedWord"])}),1)}t.isScrollKeyInHints=e=>{const n=t.mappings[e];return n&&n.meta&&n.meta.code&&n.meta.code.isSKScrollInHints},t.mappings.add("e",{annotation:"Scroll half page up",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"pageUp")}),t.mappings.add("U",{annotation:"Scroll full page up",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"fullPageUp")}),t.mappings.add("d",{annotation:"Scroll half page down",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"pageDown")}),t.mappings.add("P",{annotation:"Scroll full page down",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"fullPageDown")}),t.mappings.add("gg",{annotation:"Scroll to the top of the page",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"top")}),t.mappings.add("G",{annotation:"Scroll to the bottom of the page",feature_group:2,repeatIgnore:!0,code:m("bottom")}),t.mappings.add("j",{annotation:"Scroll down",feature_group:2,repeatIgnore:!0,code:m("down")}),t.mappings.add("k",{annotation:"Scroll up",feature_group:2,repeatIgnore:!0,code:m("up")}),t.mappings.add("h",{annotation:"Scroll left",feature_group:2,repeatIgnore:!0,code:m("left")}),t.mappings.add("l",{annotation:"Scroll right",feature_group:2,repeatIgnore:!0,code:m("right")}),t.mappings.add("0",{annotation:"Scroll all the way to the left",feature_group:2,repeatIgnore:!0,code:m("leftmost")}),t.mappings.add("$",{annotation:"Scroll all the way to the right",feature_group:2,repeatIgnore:!0,code:m("rightmost")}),t.mappings.add("%",{annotation:"Scroll to percentage of current page",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"byRatio")}),t.mappings.add("cs",{annotation:"Change scroll target",feature_group:2,repeatIgnore:!0,code:function(){!function(e){if((u=Oe.getScrollableElements()).length>0){l=(l+1)%u.length;var n=u[l];H(n),e||t.highlightElement(n)}}()}}),t.mappings.add("/",{annotation:"Find in current page",feature_group:9,repeatIgnore:!0,code:function(){S("front",["openFinder"])}}),t.mappings.add("E",{annotation:"Go one tab left",feature_group:3,repeatIgnore:!0,code:function(){x("previousTab")}}),t.mappings.add("R",{annotation:"Go one tab right",feature_group:3,repeatIgnore:!0,code:function(){x("nextTab")}});var v=null;return t.disable=function(){v||(v=function(e){const t=new Oe("Disabled");return t.statusLine="",t.priority=99,t.addEventListener("keydown",(function(n){n.sk_suppressed=!0,Oe.isSpecialKeyOf("<Alt-s>",n.sk_keyName)&&(e.toggleBlocklist(),t.exit(),n.sk_stopPropagation=!0)})),t}(t),v.enter(0,!0)),S("observer",["turnOff"]),document.removeEventListener("mouseup",g)},t.enable=function(){v&&(v.exit(),v=null),document.addEventListener("mouseup",g)},t.enable(),t.onExit=function(){S("observer",["turnOff"]),f.forEach((function(e){delete e.skScrollBy,delete e.smoothScrollBy}))},t};const Me=function(e,t){var n=new Oe("Visual");n.addEventListener("keydown",(function(e){if(g){var t=!1;e.sk_stopPropagation=!0,e.sk_suppressed=!0,k.isWordChar(e)?(y(g,e.sk_keyName),v=[g,e.sk_keyName],t=!0):Oe.isSpecialKeyOf("<Esc>",e.sk_keyName)&&(t=!0),t&&(n.statusLine=n.name+" - "+p[d],Oe.showStatus(),g=0)}else e.sk_keyName.length&&(Oe.handleMapKey.call(n,e),e.sk_stopPropagation?e.sk_suppressed=!0:Oe.isSpecialKeyOf("<Esc>",e.sk_keyName)&&(d>1?(n.hideCursor(),c.collapse(c.anchorNode,c.anchorOffset),n.showCursor()):(n.visualClear(),n.exit()),d--,A(),e.sk_stopPropagation=!0,e.sk_suppressed=!0))})),n.addEventListener("click",(function(e){switch(c.type){case"None":n.hideCursor(),d=0;break;case"Caret":d&&(n.hideCursor(),0===d&&(d=1),n.showCursor());break;case"Range":d&&(n.hideCursor(),d=2,n.showCursor())}A()})),n.addEventListener("resize",(function(e){C.conf.lastQuery&&n.visualUpdate(C.conf.lastQuery),l[f]&&b(l[f])}));let o=null;const r=()=>{o&&o.forEach((e=>{e.remove()}))};n.addEventListener("selectionchange",(function(e){var t,n,i,a;r(),t=c.anchorNode,n=c.anchorOffset,i=c.focusNode,a=c.focusOffset,o=x("surfingkeys_selection_mark",t,n,i,a)})),n.mappings=new Le,n.map_node=n.mappings,n.repeats="",n.mappings.add("l",{annotation:"forward character",feature_group:9,code:w}),n.mappings.add("h",{annotation:"backward character",feature_group:9,code:w}),n.mappings.add("j",{annotation:"forward line",feature_group:9,code:w}),n.mappings.add("k",{annotation:"backward line",feature_group:9,code:w}),n.mappings.add("w",{annotation:"forward word",feature_group:9,code:w}),n.mappings.add("e",{annotation:"forward word",feature_group:9,code:w}),n.mappings.add("b",{annotation:"backward word",feature_group:9,code:w}),n.mappings.add(")",{annotation:"forward sentence",feature_group:9,code:w}),n.mappings.add("(",{annotation:"backward sentence",feature_group:9,code:w}),n.mappings.add("}",{annotation:"forward paragraphboundary",feature_group:9,code:w}),n.mappings.add("{",{annotation:"backward paragraphboundary",feature_group:9,code:w}),n.mappings.add("0",{annotation:"backward lineboundary",feature_group:9,code:w}),n.mappings.add("$",{annotation:"forward lineboundary",feature_group:9,code:w}),n.mappings.add("G",{annotation:"forward documentboundary",feature_group:9,code:function(){document.scrollingElement.scrollTop=document.scrollingElement.scrollHeight,"Firefox"!==E()?w():(n.hideCursor(),c.setPosition(document.body.lastChild,0),n.showCursor()),l.length&&S("front",["showStatus",[void 0,void 0,(f=l.length-1)+1+" / "+l.length]])}}),n.mappings.add("gg",{annotation:"backward documentboundary",feature_group:9,code:function(){document.scrollingElement.scrollTop=0,f=0,l.length&&S("front",["showStatus",[void 0,void 0,f+1+" / "+l.length]]),"Firefox"!==E()?w():(n.hideCursor(),c.setPosition(document.body.firstChild,0),n.showCursor())}}),n.mappings.add("o",{annotation:"Go to Other end of highlighted text",feature_group:9,code:function(){n.hideCursor();var e=[c.anchorNode,c.anchorOffset];c.collapse(c.focusNode,c.focusOffset),c.extend(e[0],e[1]),n.showCursor()}});var i={w:"word",l:"lineboundary",s:"sentence",p:"paragraphboundary"};function a(e){if("Firefox"!==E()||"p"!==e&&"s"!==e){var t=i[e];c.modify("extend","forward",t)}}var u=[{},{annotation:"Yank a word(w) or line(l) or sentence(s) or paragraph(p)",feature_group:9,code:function(t){var o=[c.focusNode,c.focusOffset];n.hideCursor(),a(t),e.write(c.toString()),c.collapseToStart(),c.setPosition(o[0],o[1]),n.showCursor()}},{annotation:"Copy selected text",feature_group:9,code:function(){var t=[c.focusNode,c.focusOffset];e.write(c.toString()),"Caret"===C.conf.modeAfterYank?(c.setPosition(t[0],t[1]),n.showCursor(),d=1,A()):"Normal"===C.conf.modeAfterYank&&(d=2,n.toggle())}}];function s(e,t){pe(e,(()=>{M(e,["click"],t)}))}n.mappings.add("*",{annotation:"Search word under the cursor",feature_group:9,code:function(){n.star()}}),n.mappings.add(k.encodeKeystroke("<Enter>"),{annotation:"Click on node under cursor.",feature_group:9,code:function(){s(c.focusNode.parentNode,!1)}}),n.mappings.add(k.encodeKeystroke("<Shift-Enter>"),{annotation:"Click on node under cursor.",feature_group:9,code:function(){s(c.focusNode.parentNode,!0)}}),n.mappings.add("zt",{annotation:"make cursor at top of window.",feature_group:9,code:function(){var e=m.getBoundingClientRect().top;n.hideCursor(),document.scrollingElement.scrollTop+=e,n.showCursor()}}),n.mappings.add("zz",{annotation:"make cursor at center of window.",feature_group:9,code:function(){var e=m.getBoundingClientRect().top-window.innerHeight/2;n.hideCursor(),document.scrollingElement.scrollTop+=e,n.showCursor()}}),n.mappings.add("zb",{annotation:"make cursor at bottom of window.",feature_group:9,code:function(){var e=window.innerHeight-m.getBoundingClientRect().bottom;n.hideCursor(),document.scrollingElement.scrollTop-=e,n.showCursor()}}),n.mappings.add("f",{annotation:"Forward to next char.",feature_group:9,code:function(){n.statusLine=n.name+" - "+p[d]+" - forward",Oe.showStatus(),g=1}}),n.mappings.add("F",{annotation:"Backward to next char.",feature_group:9,code:function(){n.statusLine=n.name+" - "+p[d]+" - backward",Oe.showStatus(),g=-1}}),n.mappings.add(";",{annotation:"Repeat latest f, F",feature_group:9,code:function(){v&&y(v[0],v[1])}}),n.mappings.add(",",{annotation:"Repeat latest f, F in opposite direction",feature_group:9,code:function(){v&&y(-v[0],v[1])}}),n.mappings.add("p",{annotation:"Expand selection to parent element",feature_group:9,code:function(){for(var e=c.focusNode;e!==document.body;){var t=Q(e=e.parentElement,/./),o=t[t.length-1],r=c.getRangeAt(0);if(-1===r.comparePoint(t[0],0)||1===r.comparePoint(o,o.length)){n.hideCursor(),d=2,A(),c.setBaseAndExtent(t[0],0,o,o.length),n.showCursor();break}}}}),n.mappings.add("V",{annotation:"Select a word(w) or line(l) or sentence(s) or paragraph(p)",feature_group:9,code:function(e){n.hideCursor(),d=2,A(),a(e),n.showCursor()}});var c=document.getSelection(),l=[],f=0,d=0,p=["","Caret","Range"],h=document.createElement("div"),m=document.createElement("div");m.className="surfingkeys_cursor",m.style.zIndex=2147483299;var g=0,v=null;function y(e,t){n.hideCursor();var o=[c.anchorNode,c.anchorOffset];if(c.focusNode&&c.focusNode.textContent&&c.focusNode.textContent.length&&c.focusNode.textContent[c.focusOffset]===t&&1===e&&c.setPosition(c.focusNode,c.focusOffset+1),L(t,!0,-1===e))if(1===d)c.setPosition(c.focusNode,c.focusOffset-1);else{var r=[c.focusNode,c.focusOffset-1];c.collapseToStart(),c.setPosition(o[0],o[1]),c.extend(r[0],r[1])}else c.setPosition(o[0],o[1]);n.showCursor()}function b(e){n.hideCursor(),c.anchorNode&&2===d?c.extend(e[0],e[1]):c.setPosition(e[0],e[1]),n.showCursor()}function w(){var e=n.map_node.meta.annotation.split(" "),t=2===d?"extend":"move";n.hideCursor();var o=[c.focusNode,c.focusOffset];c.modify(t,e[0],e[1]),o[0]===c.focusNode&&o[1]===c.focusOffset&&c.modify(t,e[0],"word"),n.showCursor()}n.hideCursor=function(){document.body.contains(m)&&(m.remove(),S("front",["hideBubble"]))},n.showCursor=function(){if(c.focusNode&&(c.focusNode.offsetHeight>0||c.focusNode.parentNode.offsetHeight>0)){let e=J(c);e&&(m.style.position="fixed",m.style.left=e.left+"px",m.style.top=e.top+"px",m.style.height=e.height+"px"),document.body.appendChild(m)}},n.getCursorPixelPos=function(){return m.getBoundingClientRect()};const _=document.createElement("div");function x(e,t,n,o,r){let i=Z(t,n,o,r);if(i.length>100)return[];const a=Array.from(i).map((t=>{if(t.width>0&&t.height>0){var n=h.cloneNode(!1);return n.className=e,n.style.position="absolute",n.style.zIndex=2147483299,n.style.left=document.scrollingElement.scrollLeft+t.left+"px",n.style.top=document.scrollingElement.scrollTop+t.top+"px",n.style.width=t.width+"px",n.style.height=t.height+"px",_.appendChild(n),n}return null})).filter((e=>null!==e));return a.length&&!document.documentElement.contains(_)&&document.documentElement.prepend(_),a}function T(e,t,n,o){const r=x("surfingkeys_match_mark",e,t,n,o);r.length&&l.push([e,t,r])}function O(e){Q(document.body,e).forEach((function(t){for(var n;null!==(n=e.exec(t.data));){var o=n[0];if(!o.length)break;var r=e.lastIndex-o.length;T(t,r,t,r+o.length)}}));var t=document.scrollingElement.scrollTop;c.setPosition(null,0);for(var n=null;L(e.source,-1===e.flags.indexOf("i"),!1)&&n!=c.anchorNode;)n=c.anchorNode,c.anchorNode!==c.focusNode&&T(c.anchorNode,c.anchorOffset,c.focusNode,c.focusOffset);if(document.scrollingElement.scrollTop=t,l.length){f=0;for(var o=0;o<l.length;o++){if(l[o][2][0].getBoundingClientRect().top>0){f=o;break}}S("front",["showStatus",[void 0,void 0,f+1+" / "+l.length]])}}function A(){n.mappings.add("y",u[d]),n.statusLine=n.name+" - "+p[d],Oe.showStatus()}function R(){d=(d+1)%3,A()}function L(e,t,n){for(var o=!1,r=null;window.find(e,t,n);){if(c.anchorNode.splitText){o=!0;break}if(null===r)r=c.anchorNode;else if(r===c.anchorNode)break}return o}n.visualClear=function(){r(),n.hideCursor(),l=[],I.forEach((function(e){e.onscroll=null})),I=[],se(_,""),_.remove(),S("front",["showStatus",[void 0,void 0,""]])},n.emptySelection=function(){document.getSelection().empty()},n.onEnter=function(){R()},n.onExit=function(){n.visualClear()},n.restore=function(){c&&c.anchorNode&&(c.setPosition(c.anchorNode,c.anchorOffset),n.showCursor(),n.enter())},n.toggle=function(e){switch(d){case 1:c.extend(c.anchorNode,c.anchorOffset),R();break;case 2:n.hideCursor(),c.collapse(c.focusNode,c.focusOffset),n.exit(),R();break;default:t.create(C.conf.textAnchorPat,(function(t){setTimeout((function(){c.setPosition(t[0],t[1]),n.enter(),"z"===e&&(0===t[1]?c.extend(t[0],t[0].textContent.length):c.extend(t[0],t[1]+t[2].length),R()),n.showCursor()}),0)}))}},n.star=function(){if(c.focusNode&&c.focusNode.nodeValue){var e=te();if(e.length&&"."!==e){n.hideCursor();var t=[c.focusNode,c.focusOffset];C.updateHistory("find",e),n.visualClear(),O(new RegExp(e,"g"+(C.getCaseSensitive(e)?"":"i"))),c.setPosition(t[0],t[1]),n.showCursor()}}},n.next=function(e){l.length?(0===d&&n.enter(),f=(e?l.length+f-1:f+1)%l.length,b(l[f]),S("front",["showStatus",[void 0,void 0,f+1+" / "+l.length]])):C.conf.lastQuery&&(O(new RegExp(C.conf.lastQuery,"g"+(C.getCaseSensitive(C.conf.lastQuery)?"":"i"))),n.visualEnter(C.conf.lastQuery))},n.feedkeys=function(e){setTimeout((function(){for(var t=new Event("keydown"),o=0;o<e.length;o++)t.sk_keyName=e[o],Oe.handleMapKey.call(n,t)}),1)},n.visualUpdate=function(e){n.visualClear(),c.setPosition(function(e){for(var t=null,n=Q(document.body,/./,0);n.nextNode();)if(n.currentNode.parentNode.getBoundingClientRect().top>window.innerHeight*e){t=n.currentNode;break}return t}(0),0);var t=document.scrollingElement.scrollTop,o=[c.anchorNode,c.anchorOffset],r=C.getCaseSensitive(e);if(L(e,r,!1)?c.setPosition(o[0],o[1]):c.setPosition(document.body.firstChild,0),L(e,r,!1)){for(document.scrollingElement.scrollTop!==t&&(t=document.scrollingElement.scrollTop,o=[c.anchorNode,c.anchorOffset]),T(c.anchorNode,c.anchorOffset,c.focusNode,c.focusOffset);document.scrollingElement.scrollTop===t&&L(e,r,!1);)T(c.anchorNode,c.anchorOffset,c.focusNode,c.focusOffset);document.scrollingElement.scrollTop=t,c.setPosition(o[0],o[1])}};var I=[];n.visualEnter=function(e){0!==e.length&&"."!==e&&(n.visualClear(),O(new RegExp(e,"g"+(C.getCaseSensitive(e)?"":"i"))),l.length?(n.enter(),b(l[f])):S("front",["showStatus",[void 0,void 0,"Pattern not found: {0}".format(e)],1e3]),Oe.getScrollableElements().forEach((function(e){e!==document.scrollingElement&&(e.onscroll=function(){l.forEach((function(e){var t=Z(e[0],e[1])[0];e[2].forEach((e=>{e.style.left=document.scrollingElement.scrollLeft+t.left+"px",e.style.top=document.scrollingElement.scrollTop+t.top+"px"}))}))},I.push(e))})))},n.findSentenceOf=function(e){var t=new RegExp("\\b"+e+"\\b"),n=K((function(e,n){t.test(e.innerText)&&n.push(e)}));n=z(n);var o="";return q((function(t){t.setPosition(n[0],0),window.find(e,!1,!1,!0,!0)&&(a("s"),o=t.toString())})),o};var N={};return n.style=function(e,t){N[e]=t,m.setAttribute("style",N.cursor||""),h.setAttribute("style",N.marks||"")},n};const Pe=function(e,t){var n=new Oe("Hints"),o=document.createElement("div");o.className="surfingkeys_hints_host",o.attachShadow({mode:"open"});var r=ce("style","\ndiv {\n    position: absolute;\n    display: block;\n    font-size: 8pt;\n    font-weight: bold;\n    padding: 0px 2px 0px 2px;\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#FFF785), color-stop(100%,#FFC542));\n    color: #000;\n    border: solid 1px #C38A22;\n    border-radius: 3px;\n    box-shadow: 0px 3px 7px 0px rgba(0, 0, 0, 0.3);\n    width: auto;\n}\ndiv:empty {\n    display: none;\n}\n[mode=text] div {\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#aaa), color-stop(100%,#fff));\n}\ndiv.hint-scrollable {\n    background: rgba(170, 170, 255, 0.85);\n}\n[mode=text] div.begin {\n    color: #00f;\n}\n[mode=input] div {\n    background: rgba(255, 217, 0, 0.25);\n}\n[mode=input] div.activeInput {\n    background: rgba(0, 0, 255, 0.25);\n}");o.shadowRoot.appendChild(r);let i=!1;n.setNumeric=function(){i=!0};let a="asdfgqwertzxcvb",u=[];n.setCharacters=function(e){a=e;for(const n of e)t.isScrollKeyInHints(n)&&u.push(n)},n.getCharacters=()=>a,n.addEventListener("keydown",(function(n){var o=d.querySelectorAll("div");n.sk_stopPropagation=!0;var r=d.querySelector("[mode=input]>div.activeInput");if(null===r){if(Oe.isSpecialKeyOf("<Esc>",n.sk_keyName))w();else if(n.keyCode===k.keyCodes.space)d.style.display="none";else if(n.keyCode===k.keyCodes.shiftKey)!function(){var e=d.querySelectorAll("div");e[0].style.zIndex==e[0].zIndex?e.forEach((function(t,n){var o=parseInt(t.style.zIndex);t.style.zIndex=e.length-n+2147483e3-o})):e.forEach((function(e,t){e.style.zIndex=e.zIndex}))}();else if(o.length>0)if(n.keyCode===k.keyCodes.backspace)s.length>0?(s=s.substr(0,s.length-1),y(n)):c.length>0&&(c=c.substr(0,c.length-1),b());else{var l=n.sk_keyName;(function(e){return e===e.toUpperCase()&&e!==e.toLowerCase()})(l)&&(p=!0),""!==l&&(i?(l>="0"&&l<="9"?s+=l:(c+=l,b()),y(n)):-1!==a.toLowerCase().indexOf(l.toLowerCase())?(s+=l.toUpperCase(),y(n)):t.isScrollKeyInHints(l)&&-1===u.indexOf(l)?n.sk_stopPropagation=!1:w())}}else{var f=r.link;Oe.isSpecialKeyOf("<Esc>",n.sk_keyName)?(f.blur(),w()):n.keyCode===k.keyCodes.tab?(r.classList.remove("activeInput"),h.activeInput=(h.activeInput+(n.shiftKey?-1:1))%o.length,(r=o[h.activeInput]).classList.add("activeInput"),(f=r.link).focus()):n.keyCode!==k.keyCodes.shiftKey&&(n.sk_stopPropagation=!1,w(),e.enter(f))}})),n.addEventListener("keyup",(function(e){e.keyCode===k.keyCodes.space&&(d.style.display="")})),n.dispatchMouseClick=function(o){if(F(o))n.exit(),t.passFocus(!0),o.focus(),e.enter(o);else{f.multipleHits||n.exit();var r=f.tabbed,i=f.active;if(f.multipleHits){const e=o.getAttribute("href");null!==e&&"#"!==e&&(r=!0,i=!1)}p&&C.conf.hintShiftNonActive?(r=!0,i=!1):p&&"Firefox"===E()&&(r=!0,i=!0),pe(o,(()=>{r?x("openLink",{tab:{tabbed:r,active:i},url:T(o)}):(n.mouseoutLastElement(),M(o,f.mouseEvents,p),S("observer",["turnOn"]),l=o),f.multipleHits&&setTimeout(_,300)}))}o.classList.remove("surfingkeys--hints--clicking")};var s="",c="",l=null,f={mouseEvents:["mouseover","mousedown","mouseup","click"]},d=ce("section","",{style:"display: block; opacity: 1;"}),p=!1,h={},m=n.dispatchMouseClick,g="";function v(e){var t=0;do{var n=parseInt(getComputedStyle(e).getPropertyValue("z-index"));t+=isNaN(n)||n<0?0:n,e=e.parentNode}while(e&&e!==document.body&&e!==document&&e.nodeType!==e.DOCUMENT_FRAGMENT_NODE);return t}function y(e){const n=d.querySelectorAll("div:not(:empty)"),o=ve(n,s);o.matched?(t.appendKeysForRepeat("Hints",s),"function"==typeof m?m(o.matched):S("user",["onHintClicked"],o.matched),f.multipleHits?ve(n,s=""):w()):0===o.candidates&&w(),e&&(Oe.suppressKeyUp(e.keyCode),e.stopImmediatePropagation(),e.preventDefault())}function b(){var e=d.querySelectorAll("div");e=Array.from(e),c.length>0&&(e=e.filter((function(e){e.label="",se(e,"");var t=e.link,n=t.innerText;return void 0===n&&(n=t[0]?t[0].textContent:""),-1!==n.indexOf(c)})));var t=n.genLabels(e.length);e.forEach((function(e,n){e.label=t[n],se(e,t[n])}))}function w(){f={active:!0,tabbed:!1,mouseEvents:["mouseover","mousedown","mouseup","click"],multipleHits:!1},se(d,""),d.remove(),o.remove(),s="",c="",p=!1,n.exit()}function _(){if(document.documentElement.contains(o)){var e=(new Date).getTime(),t=P(g,h);t>0&&(n.statusLine+=" - "+((new Date).getTime()-e)+"ms / "+t,Oe.showStatus())}}function T(e){for(var t=e.href;!t&&e;)t=(e=e.parentElement).href;return t}function O(e){for(var t=0;t<C.conf.pageUrlRegex.length;t++){var n=window.location.href.match(C.conf.pageUrlRegex[t]);if(n&&4===n.length){var o=parseInt(n[2]);if(o<4294967295)return window.location.href=n[1]+(o+e)+n[3],!0}}return!1}function A(e){let t={};return e.forEach((function(e){let n=e.getAttribute("href");t[n]||(t[n]=e)})),Object.values(t)}function L(e){se(d,""),d.setAttribute("mode",e),d.style.display=""}function I(e){L("click");var t=n.genLabels(e.length),r=n.coordinate(),i=ce("style",D);d.prepend(i);var a=e.map((function(e,n){var o,i=$(e),a=v(e),u=Math.min(i.width,window.innerWidth);(o="right"===C.conf.hintAlign?window.pageXOffset+i.left-r.left+u:"left"===C.conf.hintAlign?window.pageXOffset+i.left-r.left:window.pageXOffset+i.left-r.left+u/2)<window.pageXOffset?o=window.pageXOffset:o+32>window.pageXOffset+window.innerWidth&&(o=window.pageXOffset+window.innerWidth-32);var s=ce("div",t[n]);return e.dataset.hint_scrollable&&s.classList.add("hint-scrollable"),s.style.top=Math.max(i.top+window.pageYOffset-r.top,0)+"px",s.style.left=o+"px",s.style.zIndex=a+9999,s.zIndex=s.style.zIndex,s.label=t[n],s.link=e,s}));a.forEach((function(e){d.appendChild(e)}));for(var u=d.querySelectorAll("div"),s=$(u[0]),c=1;c<u.length;c++){var l=u[c],f=$(l);f.top===s.top&&Math.abs(f.left-s.left)<s.width&&(l.style.top=l.offsetTop+l.offsetHeight+"px"),s=$(l)}o.shadowRoot.appendChild(d)}function P(e,t){return document.documentElement.appendChild(o),"RegExp"===e.constructor.name?function(e,t){for(var r in t)f[r]=t[r];n.statusLine=t&&t.statusLine||"Hints to select text";var i,a=K((function(e,t){for(var n=e.childNodes,o=0,r=n.length;o<r;o++)if(n[o].nodeType==Node.TEXT_NODE&&n[o].data.length>0){t.push(e);break}}));if(a=a.flatMap((function(e){for(var t=e.childNodes,n=[],o=0,r=t.length;o<r;o++)t[o].nodeType==Node.TEXT_NODE&&t[o].data.trim().length>1&&n.push(t[o]);return n})),-1===e.flags.indexOf("g"))i=a.map((function(e){return[e,0,""]}));else{i=[];for(var u=0,s=a.length;u<s;u++)for(var c,l=a[u];null!=(c=e.exec(l.data));)i.push([l,c.index,c[0]])}if(a=i.map((function(e){var t=Y(e[0],e[1]),n=[0,0,window.innerHeight,window.innerWidth];if(C.conf.caretViewport&&4===C.conf.caretViewport.length&&(n=C.conf.caretViewport),0===e[0].data.trim().length||t.top<n[0]||t.left<n[1]||t.top>n[2]||t.left>n[3])return null;var o=v(e[0].parentNode),r=document.createElement("div");return 0===e[1]&&(r.className="begin"),r.style.position="fixed",r.style.top=t.top+"px",r.style.left=t.left+"px",r.style.zIndex=o+9999,r.zIndex=r.style.zIndex,r.link=e,r})).filter((function(e){return null!==e})),document.getSelection().anchorNode&&document.getSelection().collapseToStart(),a.length>0){L("text");var p=n.genLabels(a.length);a.forEach((function(e,t){e.label=p[t],se(e,p[t]),d.append(e)}));var h=ce("style",U);d.prepend(h),o.shadowRoot.appendChild(d)}return a.length}(e,t):Array.isArray(e)?function(e,t){for(var o in t=Object.assign({active:!0,tabbed:!1,mouseEvents:["mouseover","mousedown","mouseup","click"],multipleHits:!1,filterInvisible:!0},t||{}))f[o]=t[o];return n.statusLine=t&&t.statusLine||"Hints to click",t.filterInvisible&&(e=ue(e)),e.length>0&&I(e),e.length}(e,t):function(e,t){for(var o in n.statusLine="Hints to click",t=Object.assign({active:!0,tabbed:!1,mouseEvents:["mouseover","mousedown","mouseup","click"],multipleHits:!1},t||{}))f[o]=t[o];var r;return(r=""===e?V(r=K((function(e,t){R(e)&&t.push(e)}))):Array.isArray(e)?ue(e):V(r=ue(r=K((function(t,n){!t.matches(e)||t.disabled||t.readOnly||n.push(t)}))))).length>0&&I(r),r.length}(e,t)}n.click=function(e,t){"string"==typeof e&&(e=G(e)),e.length>1?t?e.forEach((function(e){n.dispatchMouseClick(e)})):n.create(e,n.dispatchMouseClick):1===e.length&&n.dispatchMouseClick(e[0])},n.previousPage=function(){var e=A(G("[rel=prev]",C.conf.prevLinkRegex));return e.length?(n.click(e),!0):O(-1)},n.nextPage=function(){var e=A(G("[rel=next]",C.conf.nextLinkRegex));return e.length?(n.click(e),!0):O(1)},N("hints",{scrollStarted:()=>{se(d,""),d.remove(),s=""},scrollDone:_,topBoundaryHit:n.previousPage,bottomBoundaryHit:n.nextPage,dispatchMouseClick:n.dispatchMouseClick},!0),n.genLabels=function(e){let t=a.toUpperCase();for(var n=[""],o=0;n.length-o<e||0==o;)for(var r=n[o++],i=0;i<t.length;i++)n.push(r+t[i]);return n=n.slice(o,o+e)},n.coordinate=function(){var e=ce("div","A",{style:"top: 0; left: 0;"});d.prepend(e),o.shadowRoot.appendChild(d);var t=e.getBoundingClientRect(),n={top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft};return se(d,""),d.remove(),n},n.createInputLayer=function(){document.documentElement.appendChild(o);const r="input:not([type=submit]), textarea, *[contenteditable=true], *[role=textbox], select, div.ace_cursor";var i=K((function(e,t){!e.matches(r)||e.disabled||e.readOnly||"text"!==e.type&&"email"!==e.type&&"search"!==e.type&&"password"!==e.type||t.push(e)}));if(0===i.length&&null!==document.querySelector(r)&&(document.querySelector(r).scrollIntoView(),i=K((function(e,t){!e.matches(r)||e.disabled||e.readOnly||t.push(e)}))),i.length>1){n.enter(),L("input"),i.forEach((function(e,t){var n=e.getBoundingClientRect(),o=v(e),r=document.createElement("div");r.style.position="fixed",r.style.top=n.top+"px",r.style.left=n.left+"px",r.style.width=n.width+"px",r.style.height=n.height+"px",r.style.zIndex=o+9999,r.link=e,r.innerText=" ",d.append(r)})),o.shadowRoot.appendChild(d),h.activeInput=0;var a=d.querySelector("[mode=input]>div");a.classList.add("activeInput"),t.passFocus(!0),a.link.focus()}else 1===i.length&&(t.passFocus(!0),i[0].focus(),e.enter(i[0]))},n.getSelector=function(){return g},n.create=function(e,t,o){i&&(a="1234567890"),g=e,m=t,h=o||{};var r=(new Date).getTime(),u=P(e,o);return u>(C.conf.hintExplicit?0:1)?(n.statusLine+=" - "+((new Date).getTime()-r)+"ms / "+u,n.enter()):y(),u>0},n.mouseoutLastElement=function(){l&&(M(l,["mouseout"],!1),l=null)};var U="",D="";return n.style=function(e,t){/^div\b/.test(e)||(e=`div{${e}}`),"text"===t?U=e.replace(/\bdiv\b/g,"[mode='text'] div"):D=e.replace(/\bdiv\b/g,"div")},n.feedkeys=function(e){setTimeout((function(){s=e.toUpperCase(),y()}),1)},n};const Ue=function(e,t,n,o,r,i,a){function u(e,t,n){var o={code:e};return n&&(o.repeatIgnore=n),t&&(t=oe(t),o.feature_group=t.feature_group,o.annotation=t.annotation),o}function s(e){return!e||e.test(document.location.href)||e.test(window.origin)}function c(e,t,n,o,i){if(s((i=i||{}).domain)){t=k.encodeKeystroke(t);var a=e.mappings.remove(t);if(a)D("warn",a.meta?`${a.meta.word} for [${a.meta.annotation}] is overridden by [${n}].`:a.getMetas((function(){return!0})).map((function(e){return`${e.word} for [${e.annotation}] is overridden by [${n}].`})));else if(t.length>1)for(var c=t.substr(0,t.length-1);c.length>0;){if((a=e.mappings.find(c))&&a.meta)return void D("warn",`${a.meta.word} for [${a.meta.annotation}] precedes ${t}.`);c=c.substr(0,c.length-1)}var l=u(o,{annotation:n,feature_group:e===r?9:14},i.repeatIgnore);e.mappings.add(t,l)}}function l(e,t,o,r){c(n,e,t,o,r)}function f(e,t,n,o){c(r,e,t,n,o)}function d(e,n,o,r){c(t,e,n,o,r)}function p(e,t,o,r){if(s(o))if(":"===t[0]&&t.length>1){var a=t.substr(1),c=u((function(){i.executeCommand(a)}),r?oe({annotation:r}):null,!1);n.mappings.add(k.encodeKeystroke(e),c)}else!re(n,e,t,r)&&t in Oe.specialKeys?(Oe.specialKeys[t].push(e),S("front",["addMapkey","Mode",e,t])):D("warn",`${t} not found in normal mode.`)}function h(e,t){if(s(t))if(n.mappings.find(k.encodeKeystroke(e)))n.mappings.remove(k.encodeKeystroke(e));else for(var o in Oe.specialKeys){var r=Oe.specialKeys[o].indexOf(e);-1!==r&&Oe.specialKeys[o].splice(r,1)}}function m(e,t){s(t)&&r.mappings.remove(k.encodeKeystroke(e))}function g(e,t,n,o,r,a,u,s){T()||i.addSearchAlias(e,t,n,r,a,s);if(!(s?.skipMaps??!1)){l((o||"s")+e,"#6Search selected with "+t,d),l("o"+e,"#8Open Search with alias "+e,(()=>{i.openOmnibar({type:"SearchEngine",extra:e})})),f((o||"s")+e,"",d),l((o||"s")+(u||"o")+e,"",p),f((o||"s")+(u||"o")+e,"",p);var c=e.toUpperCase();if(c!==e){function h(){v(n,!1,!0,e)}function m(){v(n,!0,!0,e)}l((o||"s")+c,"",h),f((o||"s")+c,"",h),l((o||"s")+(u||"o")+c,"",m),f((o||"s")+(u||"o")+c,"",m)}}function d(){v(n)}function p(){v(n,!0)}}function v(t,n,o,r){e.read((function(e){var a=window.getSelection().toString()||e.data;n&&(a="site:"+window.location.hostname+" "+a),o?i.openOmnibar({type:"SearchEngine",extra:r,pref:a}):ae(ie(t,encodeURIComponent(a)))}))}return N("api",{addSearchAlias:g,imap:function(e,n,o,r){s(o)&&re(t,e,n,r)},map:p,lmap:function(e,t,o,r){s(o)&&n.addLurkMap(e,t)},unmap:h,unmapAllExcept:function(e,o){s(o)&&[n,t].forEach((function(t){for(var n=new Le,o=0,r=(e=e||[]).length;o<r;o++){var i=k.encodeKeystroke(e[o]),a=t.mappings.find(i);a&&n.add(i,a.meta)}delete t.mappings,t.mappings=n,t.map_node=n}))},iunmap:function(e,n){s(n)&&t.mappings.remove(k.encodeKeystroke(e))},vunmap:m,removeSearchAlias:function(e,t,n){T()||i.removeSearchAlias(e),h((t||"s")+e),h("o"+e),m((t||"s")+e),h((t||"s")+(n||"o")+e),m((t||"s")+(n||"o")+e);var o=e.toUpperCase();o!==e&&(h((t||"s")+o),m((t||"s")+o),h((t||"s")+(n||"o")+o),m((t||"s")+(n||"o")+o))},searchSelectedWith:v,"clipboard:write":e.write,"clipboard:read":()=>{e.read((e=>{S("user",["onClipboardRead",e])}))},"hints:click":o.click,"hints:create":o.create,"hints:setCharacters":o.setCharacters,"hints:setNumeric":o.setNumeric,"hints:style":o.style,"front:registerInlineQuery":i.registerInlineQuery,"front:openOmnibar":i.openOmnibar,"normal:feedkeys":n.feedkeys,"normal:jumpVIMark":n.jumpVIMark,"normal:passThrough":n.passThrough,"normal:scroll":n.scroll,"visual:style":r.style,mapkey:(e,t,n)=>{l(e,t,(()=>{S("user",["callUserFunction",`normal:${e}`])}),n)},imapkey:(e,t,n)=>{d(e,t,(()=>{S("user",["callUserFunction",`insert:${e}`])}),n)},vmapkey:(e,t,n)=>{f(e,t,(()=>{S("user",["callUserFunction",`visual:${e}`])}),n)}}),{addSearchAlias:g,cmap:function(e,t,n,o){s(n)&&S("front",["addMapkey","Omnibar",e,t])},map:p,mapkey:l,imapkey:d,readText:a.readText,vmapkey:f}};function De(e,t,n,o,r,i,a){const{addSearchAlias:u,cmap:s,map:c,mapkey:l,imapkey:f,readText:d,vmapkey:p}=e;function h(e){var t=P();t.blur(),n.exit(),a.showEditor(t,null,null,e)}l("[[","#1Click on the previous link on current page",r.previousPage),l("]]","#1Click on the next link on current page",r.nextPage),l("T","#3Choose a tab",(function(){a.chooseTab()})),l("?","#0Show usage",(function(){a.showUsage()})),l("Q","#8Open omnibar for word translation",(function(){a.openOmniquery({query:te(),style:"opacity: 0.8;"})})),f("<Ctrl-'>","#15Toggle quotes in an input element",U),f("<Ctrl-i>","#15Open vim editor for current input",(function(){h(!1)}));function m(){window.getSelection().toString()?searchSelectedWith("https://translate.google.com/?hl=en#auto/en/",!1,!1,""):ae("https://translate.google.com/translate?js=n&sl=auto&tl=zh-CN&u="+window.location.href)}function g(){var e=[];return document.querySelectorAll("table").forEach((function(t){var n=t.querySelector("tr");n&&e.push(...n.children)})),e}function v(e,t){var n=new FormData(e);if("json"===t){var o={};return n.forEach((function(e,t){if(o.hasOwnProperty(t)){if(e.length){var n=o[t];"Array"===n.constructor.name?n.push(e):(o[t]=[],n.length&&o[t].push(n),o[t].push(e))}}else o[t]=e})),o}return new URLSearchParams(n).toString()}function y(e){return(e.method||"get")+"::"+new URL(e.action).pathname}"Chrome"===E()&&(f("<Ctrl-Alt-i>","#15Open neovim for current input",(function(){h(!0)})),l(";s","Toggle PDF viewer from SurfingKeys",(function(){var e=window.location.href;0===e.indexOf(chrome.runtime.getURL("/pages/pdf_viewer.html"))?(e=window.location.search.substr(3),x("updateSettings",{settings:{noPdfViewer:1}},(t=>{window.location.replace(e)}))):document.querySelector("EMBED")&&"application/pdf"===document.querySelector("EMBED").getAttribute("type")?x("updateSettings",{settings:{noPdfViewer:0}},(t=>{window.location.replace(e)})):x("getSettings",{key:"noPdfViewer"},(function(e){const t=e.settings.noPdfViewer?"PDF viewer enabled.":"PDF viewer disabled.";x("updateSettings",{settings:{noPdfViewer:!e.settings.noPdfViewer}},(e=>{L(t)}))}))}))),l(";ql","#0Show last action",(function(){I(fe(C.conf.lastKeys.map((function(e){return k.decodeKeystroke(e)})).join(" → ")))}),{repeatIgnore:!0}),l("gi","#1Go to the first edit box",(function(){r.createInputLayer()})),l("i","#1Go to edit box",(function(){r.create("input:not([type=submit]), textarea, *[contenteditable=true], *[role=textbox], select, div.ace_cursor",r.dispatchMouseClick)})),l("I","#1Go to edit box with vim editor",(function(){r.create("input:not([type=submit]), textarea, *[contenteditable=true], *[role=textbox], select, div.ace_cursor",(function(e){a.showEditor(e)}))})),l("zv","#9Enter visual mode, and select whole element",(function(){i.toggle("z")})),l("yv","#7Yank text of an element",(function(){r.create(C.conf.textAnchorPat,(function(e){t.write(0===e[1]?e[0].data.trim():e[2].trim())}))})),l("ymv","#7Yank text of multiple elements",(function(){var e=[];r.create(C.conf.textAnchorPat,(function(n){e.push(0===n[1]?n[0].data.trim():n[2].trim()),t.write(e.join("\n"))}),{multipleHits:!0})})),l("V","#9Restore visual mode",(function(){i.restore()})),l("*","#9Find selected text in current page",(function(){i.star(),i.toggle()})),p("<Ctrl-u>","#9Backward 20 lines",(function(){i.feedkeys("20k")})),p("<Ctrl-d>","#9Forward 20 lines",(function(){i.feedkeys("20j")})),l("m","#10Add current URL to vim-like marks",o.addVIMark),l("'","#10Jump to vim-like mark",o.jumpVIMark),l("<Ctrl-'>","#10Jump to vim-like mark in new tab.",(function(e){o.jumpVIMark(e)})),l("w","#2Switch frames",(function(){S("ensureFrontEnd"),window===top&&r.create("iframe",(function(e){e.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),o.highlightElement(e),e.contentWindow.focus()}))||o.rotateFrame()})),l("yg","#7Capture current page",(function(){a.toggleStatus(!1),setTimeout((function(){x("captureVisibleTab",null,(function(e){a.toggleStatus(!0),I("<img src='{0}' />".format(e.dataUrl))}))}),500)})),l("gu","#4Go up one path in the URL",(function(){var e=location.pathname;if(e.length>1){var t=(e=e.endsWith("/")?e.substr(0,e.length-1):e).lastIndexOf("/"),n=x.repeats;for(x.repeats=1;n-- >1;){var o=e.lastIndexOf("/",t-1);if(-1===o)break;t=o}e=e.substr(0,t)}window.location.href=location.origin+e})),l(";m","#1mouse out last element",(function(){r.mouseoutLastElement()})),l(";pp","#7Paste html on current page",(function(){t.read((function(e){document.documentElement.removeAttributes(),document.body.removeAttributes(),se(document.head,"<title>"+new Date+" updated by Surfingkeys</title>"),se(document.body,e.data)}))})),l(";t","Translate selected text with google",m),p("t","#9Translate selected text with google",m),l("O","#1Open detected links from text",(function(){r.create(C.conf.clickablePat,(function(e){window.location.assign(e[2])}),{statusLine:"Open detected links from text"})})),l(".","#0Repeat last action",(function(){const e=C.conf.lastKeys;o.feedkeys(e[0]);for(var t=e.slice(1),n=0;n<t.length;n++){var i=t[n].split("\t");if("Hints"===i[0]){function a(){var e=i[1];return function(){r.feedkeys(e)}}setTimeout(a(),120+100*n)}}}),{repeatIgnore:!0}),l("f","#1Open a link, press SHIFT to flip overlapped hints, hold SPACE to hide hints",(function(){r.create("",r.dispatchMouseClick)}),{repeatIgnore:!0}),l("v","#9Toggle visual mode",(function(){i.toggle()}),{repeatIgnore:!0}),l("n","#9Next found text",(function(){i.next(!1)}),{repeatIgnore:!0}),l("N","#9Previous found text",(function(){i.next(!0)}),{repeatIgnore:!0}),l(";fs","#1Display hints to focus scrollable elements",(function(){r.create(o.refreshScrollableElements(),r.dispatchMouseClick)})),p("q","#9Translate word under cursor",(function(){var e=te();b.readText(e);var t=i.getCursorPixelPos();a.performInlineQuery(e,{top:t.top,left:t.left,height:t.height,width:t.width},(function(e,t){S("front",["showBubble",e,t,!0])}))})),l("cq","#7Query word with Hints",(function(){r.create(C.conf.textAnchorPat,(function(e){var t,n,o,r=e[2].trim().replace(/[^A-z].*$/,""),i=Y(e[0],e[1],e[2].length);void 0!==document.dictEnabled?document.dictEnabled&&window.postMessage({dictorium_data:{type:"OpenDictoriumQuery",word:r,sentence:(t=e[0],n=e[1],o="",q((function(e){e.setPosition(t,n),e.modify("extend","backward","sentence"),e.collapseToStart(),e.modify("extend","forward","sentence"),o=e.toString()})),o.replace(/\n/g,"")),pos:i,source:window.location.href}}):a.performInlineQuery(r,{top:i.top,left:i.left,height:i.height,width:i.width},(function(e,t){S("front",["showBubble",e,t,!1])}))}))})),c("g0",":feedkeys 99E",0,"#3Go to the first tab"),c("g$",":feedkeys 99R",0,"#3Go to the last tab"),l("zr","#3zoom reset",(function(){x("setZoom",{zoomFactor:0})})),l("zi","#3zoom in",(function(){x("setZoom",{zoomFactor:.1})})),l("zo","#3zoom out",(function(){x("setZoom",{zoomFactor:-.1})})),c("ZQ",":quit"),l("ZZ","#5Save session and quit",(function(){x("createSession",{name:"LAST",quitAfterSaved:!0})})),l("ZR","#5Restore last session",(function(){x("openSession",{name:"LAST"})})),c("u","e"),l("af","#1Open a link in active new tab",(function(){r.create("",r.dispatchMouseClick,{tabbed:!0,active:!0})})),l("gf","#1Open a link in non-active new tab",(function(){r.create("",r.dispatchMouseClick,{tabbed:!0,active:!1})})),l("cf","#1Open multiple links in a new tab",(function(){r.create("",r.dispatchMouseClick,{multipleHits:!0})})),c("C","gf"),l("<Ctrl-h>","#1Mouse over elements.",(function(){r.create("",((e,t)=>{if(chrome.surfingkeys){const t=e.getClientRects()[0];chrome.surfingkeys.sendMouseEvent(2,Math.round(t.x+t.width/2),Math.round(t.y+t.height/2),0)}else r.dispatchMouseClick(e,t)}),{mouseEvents:["mouseover"]})})),l("<Ctrl-j>","#1Mouse out elements.",(function(){r.create("",r.dispatchMouseClick,{mouseEvents:["mouseout"]})})),l("ya","#7Copy a link URL to the clipboard",(function(){r.create("*[href]",(function(e){t.write(e.href)}))})),l("yma","#7Copy multiple link URLs to the clipboard",(function(){var e=[];r.create("*[href]",(function(n){e.push(n.href),t.write(e.join("\n"))}),{multipleHits:!0})})),l("yc","#7Copy a column of a table",(function(){r.create(g(),(function(e){var n=Array.from(e.closest("table").querySelectorAll("tr")).map((function(t){return t.children.length>e.cellIndex?t.children[e.cellIndex].innerText:""}));t.write(n.join("\n"))}))})),l("ymc","#7Copy multiple columns of a table",(function(){var e=null;r.create(g(),(function(n){var o=Array.from(n.closest("table").querySelectorAll("tr")).map((function(e){return e.children.length>n.cellIndex?e.children[n.cellIndex].innerText:""}));e?o.forEach((function(t,n){e[n]+="\t"+t})):e=o,t.write(e.join("\n"))}),{multipleHits:!0})})),l("yq","#7Copy pre text",(function(){r.create("pre",(function(e){t.write(e.innerText)}))})),c("<Ctrl-i>","I"),s("<ArrowDown>","<Tab>"),s("<ArrowUp>","<Shift-Tab>"),s("<Ctrl-n>","<Tab>"),s("<Ctrl-p>","<Shift-Tab>"),l("q","#1Click on an Image or a button",(function(){r.create("img, button",r.dispatchMouseClick)})),l("<Alt-p>","#3pin/unpin current tab",(function(){x("togglePinTab")})),l("<Alt-m>","#3mute/unmute current tab",(function(){x("muteTab")})),l("B","#4Go one tab history back",(function(){x("historyTab",{backward:!0})}),{repeatIgnore:!0}),l("F","#4Go one tab history forward",(function(){x("historyTab",{backward:!1})}),{repeatIgnore:!0}),l("<Ctrl-6>","#4Go to last used tab",(function(){x("goToLastTab")})),l("gT","#4Go to first activated tab",(function(){x("historyTab",{index:0})}),{repeatIgnore:!0}),l("gt","#4Go to last activated tab",(function(){x("historyTab",{index:-1})}),{repeatIgnore:!0}),l("gp","#4Go to the playing tab",(function(){x("getTabs",{queryInfo:{audible:!0}},(e=>{e.tabs?.at(0)&&(tab=e.tabs[0],x("focusTab",{windowId:tab.windowId,tabId:tab.id}))}))}),{repeatIgnore:!0}),l("S","#4Go back in history",(function(){history.go(-1)}),{repeatIgnore:!0}),l("D","#4Go forward in history",(function(){history.go(1)}),{repeatIgnore:!0}),l("r","#4Reload the page",(function(){x("reloadTab",{nocache:!1})})),l("oi","#8Open incognito window",(function(){x("openIncognito",{url:window.location.href})})),l("H","#8Open opened URL in current tab",(function(){a.openOmnibar({type:"TabURLs"})})),l("om","#8Open URL from vim-like marks",(function(){a.openOmnibar({type:"VIMarks"})})),l(":","#8Open commands",(function(){a.openOmnibar({type:"Commands"})})),l("yi","#7Yank text of an input",(function(){r.create("input, textarea, select",(function(e){t.write(e.value)}))})),l("x","#3Close current tab",(function(){x("closeTab")})),l(";w","#2Focus top window",(function(){top.focus()})),l("cc","#7Open selected link or link from clipboard",(function(){window.getSelection().toString()?ae(window.getSelection().toString()):t.read((function(e){ae(e.data)}))})),l(";cq","#7Clear all URLs in queue to be opened",(function(){x("clearQueueURLs")})),l("ys","#7Copy current page's source",(function(){var e=document.documentElement.cloneNode(!0);t.write(e.outerHTML)})),l("yj","#7Copy current settings",(function(){x("getSettings",{key:"RAW"},(function(e){t.write(JSON.stringify(e.settings,null,4))}))})),l(";pj","#7Restore settings data from clipboard",(function(){t.read((function(e){x("updateSettings",{settings:JSON.parse(e.data.trim())})}))})),l("yt","#3Duplicate current tab",(function(){x("duplicateTab")})),l("yT","#3Duplicate current tab in background",(function(){x("duplicateTab",{active:!1})})),l("yy","#7Copy current page's URL",(function(){var e=window.location.href;0===e.indexOf(chrome.runtime.getURL("/pages/pdf_viewer.html"))&&(e=window.location.search.substr(3)),t.write(e)})),l("yY","#7Copy all tabs's url",(function(){x("getTabs",null,(function(e){t.write(e.tabs.map((e=>e.url)).join("\n"))}))})),l("yh","#7Copy current page's host",(function(){var e=new URL(window.location.href);t.write(e.host)})),l("yl","#7Copy current page's title",(function(){t.write(document.title)})),l("yQ","#7Copy all query history of OmniQuery.",(function(){x("getSettings",{key:"OmniQueryHistory"},(function(e){t.write(e.settings.OmniQueryHistory.join("\n"))}))})),l("yf","#7Copy form data in JSON on current page",(function(){var e={};document.querySelectorAll("form").forEach((function(t){e[y(t)]=v(t,"json")})),t.write(JSON.stringify(e,null,4))})),l(";pf","#7Fill form with data from yf",(function(){r.create("form",(function(e,n){var o=y(e);t.read((function(t){var n=JSON.parse(t.data.trim());if(n.hasOwnProperty(o)){var r=n[o];e.querySelectorAll("input, textarea").forEach((function(t){if(r.hasOwnProperty(t.name)&&"hidden"!==t.type)if("radio"===t.type){var n=e.querySelector(`input[name='${t.name}'][value='${r[t.name]}']`);n&&(n.checked=!0)}else if(Array.isArray(r[t.name])){e.querySelectorAll(`input[name='${t.name}']`).forEach((function(e){e.checked=!1})),r[t.name].forEach((function(n){var o=e.querySelector(`input[name='${t.name}'][value='${n}']`);o&&(o.checked=!0)}))}else"string"==typeof r[t.name]&&(t.value=r[t.name])}))}else L("No form data found for your selection from clipboard.")}))}))})),l("yp","#7Copy form data for POST on current page",(function(){var e=[];document.querySelectorAll("form").forEach((function(t){var n={};n[(t.method||"get")+"::"+t.action]=v(t),e.push(n)})),t.write(JSON.stringify(e,null,4))})),l("g?","#4Reload current page without query string(all parts after question mark)",(function(){window.location.href=window.location.href.replace(/\?[^\?]*$/,"")})),l("g#","#4Reload current page without hash fragment",(function(){window.location.href=window.location.href.replace(/\#[^\#]*$/,"")})),l("gU","#4Go to root of current URL hierarchy",(function(){window.location.href=window.location.origin})),l("gxt","#3Close tab on left",(function(){x("closeTabLeft")})),l("gxT","#3Close tab on right",(function(){x("closeTabRight")})),l("gx0","#3Close all tabs on left",(function(){x("closeTabsToLeft")})),l("gx$","#3Close all tabs on right",(function(){x("closeTabsToRight")})),l("gxx","#3Close all tabs except current one",(function(){x("tabOnly")})),l("gxp","#3Close playing tab",(function(){x("closeAudibleTab")})),l(";e","#11Edit Settings",(function(){ae("/pages/options.html")})),l(";u","#4Edit current URL with vim editor, and open in new tab",(function(){a.showEditor(window.location.href,(function(e){ae(e)}),"url")})),l(";U","#4Edit current URL with vim editor, and reload",(function(){a.showEditor(window.location.href,(function(e){window.location.href=e}),"url")})),u("g","google","https://www.google.com/search?q=","s","https://www.google.com/complete/search?client=chrome-omni&gs_ri=chrome-ext&oit=1&cp=1&pgcl=7&q=",(function(e){return JSON.parse(e.text)[1]})),u("d","duckduckgo","https://duckduckgo.com/?q=","s","https://duckduckgo.com/ac/?q=",(function(e){return JSON.parse(e.text).map((function(e){return e.phrase}))})),u("b","baidu","https://www.baidu.com/s?wd=","s","https://suggestion.baidu.com/su?cb=&wd=",(function(e){var t=e.text.match(/,s:\[("[^\]]+")]}/);return t?t[1].replace(/"/g,"").split(","):[]})),u("e","wikipedia","https://en.wikipedia.org/wiki/","s","https://en.wikipedia.org/w/api.php?action=opensearch&format=json&formatversion=2&namespace=0&limit=40&search=",(function(e){return JSON.parse(e.text)[1]})),u("w","bing","https://www.bing.com/search?setmkt=en-us&setlang=en-us&q=","s","https://api.bing.com/osjson.aspx?query=",(function(e){return JSON.parse(e.text)[1]})),u("s","stackoverflow","https://stackoverflow.com/search?q="),u("h","github","https://github.com/search?q=","s","https://api.github.com/search/repositories?order=desc&q=",(function(e){var t=JSON.parse(e.text).items;return t?t.map((function(e){return{title:e.description,url:e.html_url}})):[]})),u("y","youtube","https://www.youtube.com/results?search_query=","s","https://clients1.google.com/complete/search?client=youtube&ds=yt&callback=cb&q=",(function(e){return JSON.parse(e.text.substr(9,e.text.length-10))[1].map((function(e){return e[0]}))}));const b=E();"Firefox"===b?l("on","#3Open newtab",(function(){ae("about:blank")})):"Chrome"===b&&(l("cp","#13Toggle proxy for current site",(function(){var e=window.location.host.replace(/:\d+/,"");e&&e.length&&x("updateProxy",{host:e,operation:"toggle"})})),l(";cp","#13Copy proxy info",(function(){x("getSettings",{key:["proxyMode","proxy","autoproxy_hosts"]},(function(e){t.write(JSON.stringify(e.settings,null,4))}))})),l(";ap","#13Apply proxy info from clipboard",(function(){t.read((function(e){var t=JSON.parse(e.data);x("updateProxy",{operation:"set",host:t.autoproxy_hosts,proxy:t.proxy,mode:t.proxyMode})}))})),c(";pa",":setProxyMode always",0,"#13set proxy mode `always`"),c(";pb",":setProxyMode byhost",0,"#13set proxy mode `byhost`"),c(";pd",":setProxyMode direct",0,"#13set proxy mode `direct`"),c(";ps",":setProxyMode system",0,"#13set proxy mode `system`"),c(";pc",":setProxyMode clear",0,"#13set proxy mode `clear`"),l("gr","#14Read selected text or text from clipboard",(function(){t.read((function(e){d(window.getSelection().toString()||e.data,{verbose:!0})}))})),p("gr","#9Read selected text",(function(){d(window.getSelection().toString(),{verbose:!0})})),l("on","#3Open newtab",(function(){ae("chrome://newtab/")})),l("ga","#12Open Chrome About",(function(){ae("chrome://help/")})),l("gb","#12Open Chrome Bookmarks",(function(){ae("chrome://bookmarks/")})),l("gc","#12Open Chrome Cache",(function(){ae("chrome://cache/")})),l("gd","#12Open Chrome Downloads",(function(){ae("chrome://downloads/")})),l("gh","#12Open Chrome History",(function(){ae("chrome://history/")})),l("gk","#12Open Chrome Cookies",(function(){ae("chrome://settings/cookies")})),l("ge","#12Open Chrome Extensions",(function(){ae("chrome://extensions/")})),l("gn","#12Open Chrome net-internals",(function(){ae("chrome://net-internals/#proxy")})),l(";i","#12Open Chrome Inspect",(function(){ae("chrome://inspect/#devices")})),l(";v","#11Open neovim",(function(){ae("/pages/neovim.html")}))),E().startsWith("Safari")||(l("t","#8Open a URL",(function(){a.openOmnibar({type:"URLs"})})),l("go","#8Open a URL in current tab",(function(){a.openOmnibar({type:"URLs",tabbed:!1})})),l("ox","#8Open recently closed URL",(function(){a.openOmnibar({type:"RecentlyClosed"})})),l("X","#3Restore closed tab",(function(){x("openLast")})),l("b","#8Open a bookmark",(function(){a.openOmnibar({type:"Bookmarks"})})),l("ab","#8Bookmark current page to selected folder",(function(){var e={url:window.location.href,title:document.title};a.openOmnibar({type:"AddBookmark",extra:e})})),l("oh","#8Open URL from history",(function(){a.openOmnibar({type:"History"})})),l("W","#3Move current tab to another window",(function(){a.openOmnibar({type:"Windows"})})),l(";gt","#3Gather filtered tabs into current window",(function(){a.openOmnibar({type:"Tabs",extra:{action:"gather"}})})),l(";gw","#3Gather all tabs into current window",(function(){x("gatherWindows")})),l("<<","#3Move current tab to left",(function(){x("moveTab",{step:-1})})),l(">>","#3Move current tab to right",(function(){x("moveTab",{step:1})})),l("yd","#7Copy current downloading URL",(function(){x("getDownloads",{query:{state:"in_progress"}},(function(e){var n=e.downloads.map((function(e){return e.url}));t.write(n.join(","))}))})),l("gs","#12View page source",(function(){x("viewSource",{tab:{tabbed:!0}})})),l(";pm","#11Preview markdown",(function(){ae("/pages/markdown.html")})),l(";di","#1Download image",(function(){r.create("img",(function(e){x("download",{url:e.src})}))})),l(";j","#12Close Downloads Shelf",(function(){x("closeDownloadsShelf",{clearHistory:!0})})),l(";dh","#14Delete history older than 30 days",(function(){x("deleteHistoryOlderThan",{days:30})})),l(";yh","#14Yank histories",(function(){x("getHistory",{},(function(e){t.write(e.history.map((e=>e.url)).join("\n"))}))})),l(";ph","#14Put histories from clipboard",(function(){t.read((function(e){x("addHistories",{history:e.data.split("\n")})}))})),l(";db","#14Remove bookmark for current page",(function(){x("removeBookmark")})))}var Fe=n(543);const He="➤",Be=`<span class='separator'>${He}</span>`;function je(e,t,n){var o,r={prompt:e};const i=()=>{let e=++o;n().then((n=>{if(e===o){var r=t.input.value;t.detectAndInsertURLItem(r,n),t.listURLs(n,!1)}}))};return r.onOpen=function(e){o=0,i()},r.onInput=(0,Fe.debounce)(i,200),r.onClose=function(){r.onInput.cancel()},r.onReset=function(){C.conf.historyMUOrder=!C.conf.historyMUOrder,n().then((e=>{e=C.conf.historyMUOrder?e.sort((function(e,t){return t.visitCount-e.visitCount})):e.sort((function(e,t){return t.lastVisitTime-e.lastVisitTime})),t.listURLs(e,!1)}))},r}const Ke=function(e,t){var n=new Oe("Omnibar");n.addEventListener("keydown",(function(e){e.sk_keyName.length&&Oe.handleMapKey.call(n,e),e.sk_suppressed=!0})).addEventListener("mousedown",(function(t){f.contains(t.target)||e.hidePopup(),t.sk_suppressed=!0})),n.mappings=new Le,n.map_node=n.mappings;var o=-1;function r(t){e.hidePopup(),setTimeout(t,100)}n.mappings.add(k.encodeKeystroke("<Ctrl-d>"),{annotation:"Delete focused item from bookmark or history",feature_group:8,code:function(){var e=n.resultsDiv.querySelector("li.focused");e&&e.uid&&x("removeURL",{uid:e.uid},(function(t){if("Done"===t.response){var r="bottom"!==C.conf.omnibarPosition?e.nextElementSibling:e.previousElementSibling;e.remove(),r?n.focusItem(r):(o="bottom"!==C.conf.omnibarPosition?n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li").length:0,n.input.dispatchEvent(new Event("input",{bubbles:!0})))}}))}});const i=function(e,t){var n={aliases:{}},o=void 0;function r(){o&&(clearTimeout(o),o=void 0)}function i(t){e.detectAndInsertURLItem(e.input.value,t);var n=he(encodeURIComponent(e.input.value),!0);e.listResults(t,(function(t){if(t.hasOwnProperty("html"))return e.createItemFromRawHtml(t);if(t.hasOwnProperty("url"))return e.createURLItem(t,n);var o=ce("li",`⌕ ${t}`);return o.query=t,o}))}return n.onOpen=function(t){Object.assign(n,n.aliases[t]);var o=e.input.value;if(o.length){var r=o.match(/^(site:\S+\s*).*/);r&&e.input.setSelectionRange(r[1].length,o.length),e.triggerInput()}},n.onClose=function(){r(),n.prompt=void 0,n.url=void 0,n.suggestionURL=void 0},n.onTabKey=function(){var t=e.resultsDiv.querySelector("li.focused");t&&t.query&&(e.input.value=t.query)},n.onEnter=function(){var t,o=e.resultsDiv.querySelector("li.focused");return t=o?o.url||ie(n.url,encodeURIComponent(o.query||e.input.value)):ie(n.url,encodeURIComponent(e.input.value)),x("openLink",{tab:{tabbed:this.tabbed,active:this.activeTab},url:t}),this.activeTab},n.onInput=function(){n.suggestionURL&&C.conf.omnibarSuggestion?(r(),o=setTimeout((function(){const o=ie(n.suggestionURL,encodeURIComponent(e.input.value));x("request",{method:"get",url:o},(function(r){t.contentCommand({action:"getSearchSuggestions",url:n.suggestionURL,query:e.input.value,requestUrl:o,response:r},(function(e){e=e.data,Array.isArray(e)||(e=[]),i(e)}))}))}),C.conf.omnibarSuggestionTimeout)):i([])},t._actions.addSearchAlias=function(e){n.aliases[e.alias]={prompt:""+e.prompt+Be,url:e.url,suggestionURL:e.suggestionURL};const o=`surfingkeys.searchEngineIcon.${e.prompt}`,r=localStorage.getItem(o);if(r)n.aliases[e.alias].prompt=`<img src="${r}" alt=${e.prompt} style="width: 20px;" />`;else if(t.topOrigin.startsWith("http")){let t;e.options?.favicon_url?t=new URL(e.options.favicon_url):(t=new URL(e.url),t.pathname="favicon.ico",t.search="",t.hash=""),x("requestImage",{url:t.href},(function(t){t&&(localStorage.setItem(o,t.text),n.aliases[e.alias].prompt=`<img src="${t.text}" alt=${e.prompt} style="width: 20px;" />`)}))}},t._actions.removeSearchAlias=function(e){delete n.aliases[e.alias]},t._actions.getSearchAliases=function(e){t.postMessage({aliases:n.aliases,toContent:!0,id:e.id})},n}(n,e);n.mappings.add(k.encodeKeystroke("<Ctrl-i>"),{annotation:"Edit selected URL with vim editor, then open",feature_group:8,code:function(){var t=n.resultsDiv.querySelector("li.focused");if(t&&t.url)r((function(){e.showEditor({initial_line:1,type:"url",content:t.url,onEditorSaved:function(e){e&&ae(e)}})}));else if(u===i){var o=n.input.value,a=i.url;r((function(){e.showEditor({initial_line:1,type:"url",content:o,onEditorSaved:function(e){ae(ie(a,encodeURIComponent(e)))}})}))}}}),n.mappings.add(k.encodeKeystroke("<Ctrl-j>"),{annotation:"Toggle Omnibar's position",feature_group:8,code:function(){"bottom"===C.conf.omnibarPosition?C.conf.omnibarPosition="middle":C.conf.omnibarPosition="bottom",r((function(){v.pref=n.input.value,e.openOmnibar(v)}))}}),n.mappings.add(k.encodeKeystroke("<Ctrl-.>"),{annotation:"Show results of next page",feature_group:8,code:function(){h&&(p*C.conf.omnibarMaxResults<h.length?p++:p=1,_())}}),n.mappings.add(k.encodeKeystroke("<Ctrl-,>"),{annotation:"Show results of previous page",feature_group:8,code:function(){h&&(p>1?p--:p=Math.ceil(h.length/C.conf.omnibarMaxResults),_())}}),n.mappings.add(k.encodeKeystroke("<Ctrl-c>"),{annotation:"Copy selected item url or all listed item urls",feature_group:8,code:function(){n.input.style.display="none";const e=n.resultsDiv.querySelector("li.focused");let o;e&&e.copy?o=e.copy:e&&e.url?o=e.url:g&&(o=g.map((e=>e.url)).join("\n")),t.write(o),n.input.style.display=""}}),n.mappings.add(k.encodeKeystroke("<Ctrl-D>"),{annotation:"Delete all listed items from bookmark or history",feature_group:8,code:function(){var e=Array.from(n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li")).map((function(e){return e.uid})).filter((function(e){return e}));e.length&&x("removeURL",{uid:e},(function(e){"Done"===e.response&&(u&&u.getResults&&u.getResults(),n.triggerInput())}))}}),n.mappings.add(k.encodeKeystroke("<Ctrl-r>"),{annotation:"Re-sort history by visitCount or lastVisitTime",feature_group:8,code:function(){u&&u.onReset&&u.onReset()}}),n.mappings.add(k.encodeKeystroke("<Esc>"),{annotation:"Close Omnibar",feature_group:8,code:function(){e.hidePopup()}}),n.mappings.add(k.encodeKeystroke("<Ctrl-m>"),{annotation:"Create vim-like mark for selected item",feature_group:8,code:function(e){var t=n.resultsDiv.querySelector("li.focused");t&&Normal.addVIMark(e,t.url)}});var a,u,s={},c="",l=null,f=document.getElementById("sk_omnibar");function d(e){var t=Array.from(n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li")),o=t.length;if(o>0){var r=n.resultsDiv.querySelector("li.focused");r&&r.classList.remove("focused");var i=t.indexOf(r);i=-1===i?o:i;var a=(e?i+o:i+o+2)%(o+1);a<o?(n.focusItem(t[a]),u.onTabKey&&u.onTabKey()):n.input.value=c}}f.onclick=function(e){n.input.focus()},n.triggerInput=function(){var e=new Event("input",{bubbles:!0,cancelable:!0});n.input.dispatchEvent(e)},n.expandAlias=function(e,t){var o=!1;return u!==i&&e.length&&i.aliases.hasOwnProperty(e)&&(l=u,u=i,Object.assign(i,i.aliases[e]),se(n.resultsDiv,""),se(n.promptSpan,u.prompt),se(y,""),h=null,n.collapsingPoint=t,n.input.value=t,t.length&&n.triggerInput(),o=!0),o},n.collapseAlias=function(){var e=!1,t=n.input.value;return!l||u===l||t!==n.collapsingPoint&&""!==t||(u=l,l=null,se(n.promptSpan,u.prompt),t.length&&(n.input.value=t.substr(0,t.length-1)),n.triggerInput(),e=!0),e},n.focusItem=function(e){if("string"==typeof e&&(e=n.resultsDiv.querySelector(e)),e){e.classList.add("focused");const t=e.getBoundingClientRect(),o=n.resultsDiv.getBoundingClientRect();if(t.top<o.top||t.bottom>o.bottom){const n=t.top<o.top;e.scrollIntoView(n)}}},n.promptSpan=f.querySelector("#sk_omnibarSearchArea>span.prompt");var p,h,m,g,v,y=f.querySelector("#sk_omnibarSearchArea>span.resultPage");function b(){c!==n.input.value&&(c=n.input.value),u.onInput&&u.onInput.call(this)}function w(t){u&&u.onKeydown&&u.onKeydown.call(t.target,t)&&t.preventDefault(),Oe.isSpecialKeyOf("<Esc>",t.sk_keyName)?(e.hidePopup(),t.preventDefault()):t.keyCode===k.keyCodes.enter?(u.activeTab=!t.ctrlKey,u.tabbed=n.tabbed^t.shiftKey,u.onEnter()&&e.hidePopup()):t.keyCode===k.keyCodes.space?n.expandAlias(n.input.value,"")&&t.preventDefault():t.keyCode===k.keyCodes.backspace&&n.collapseAlias()&&t.preventDefault()}function _(){var e=(p-1)*C.conf.omnibarMaxResults,t=(t=e+C.conf.omnibarMaxResults)>h.length?h.length:t,o=h.length;o===C.conf.omnibarHistoryCacheSize&&(o+="+"),se(y,`${e+1} - ${t} / ${o}`),g=h.slice(e,t);var r=n.input.value.trim(),i=null;r.length&&(i=he(r,!0)),n.listResults(g,(function(e){var t;if(e.hasOwnProperty("html"))t=n.createItemFromRawHtml(e);else if(e.hasOwnProperty("url")&&void 0!==e.url){if("Firefox"===E()&&/^(place|data):/i.test(e.url))return null;t=n.createURLItem(e,i)}else m&&((t=ce("li",`<div class="title">▷ ${n.highlight(i,e.title)}</div>`)).folder_name=e.title,t.folderId=e.id);return t}))}return n.resultsDiv=f.querySelector("#sk_omnibarSearchResult"),n.mappings.add(k.encodeKeystroke("<Tab>"),{annotation:"Forward cycle through the candidates.",feature_group:8,code:function(){d("bottom"===C.conf.omnibarPosition)}}),n.mappings.add(k.encodeKeystroke("<Shift-Tab>"),{annotation:"Backward cycle through the candidates.",feature_group:8,code:function(){d("bottom"!==C.conf.omnibarPosition)}}),n.mappings.add(k.encodeKeystroke("<Ctrl-'>"),{annotation:"Toggle quotes in an input element",feature_group:8,code:U}),n.highlight=function(e,t){return"data:image/"===t.substr(0,11)&&(t=t.substr(0,1024)),null===e?t:t.replace(e,(function(e){return"<span class=omnibar_highlight>"+e+"</span>"}))},n.createURLItem=function(e,t){e.title=e.title&&""!==e.title?e.title:me(e.url);var o="🔥",r="",i=e.uid;e.hasOwnProperty("lastVisitTime")?(o="🕜",r=`<span class=omnibar_timestamp># ${O(e.lastVisitTime)}</span>`,r+=`<span class=omnibar_visitcount> (${e.visitCount})</span>`,i="H"+e.url):e.hasOwnProperty("dateAdded")?(o="⭐",r=`<span class=omnibar_folder>@ ${a[e.parentId].title||""}</span> <span class=omnibar_timestamp># ${O(e.dateAdded)}</span>`,i="B"+e.id):e.hasOwnProperty("width")?(o="🔖",i="T"+e.windowId+":"+e.id):e.type&&2===e.type.length&&e.type.charCodeAt(0)>255&&(o=e.type);var u=ce("li",`<div class="icon">${o}</div>`);return e.hasOwnProperty("favIconUrl")&&ye(e,(u=ce("li",'<img class="icon"/>')).querySelector("img")),u.appendChild(ce("div",`<div class="title">${n.highlight(t,fe(e.title))} ${r}</div><div class="url">${n.highlight(t,fe(function(e){try{return decodeURIComponent(e)}catch(t){return e}}(e.url)))}</div>`,{class:"text-container"})),u.uid=i,u.url=e.url,u},n.createItemFromRawHtml=function({html:e,props:t}){const n=ce("li",e);return"object"==typeof t&&Object.assign(n,t),n},n.detectAndInsertURLItem=function(e,t){if(/^(?:https?:\/\/)?(?:[^@\/\n]+@)?(?:www\.)?([^:\/\n\s]+)\.([^:\/\n\s]+)/i.test(e)){var n=e;/^https?:\/\//.test(e)||(n="http://"+e),t.unshift({title:e,url:n})}else/^https?:\/\/(?:[^@\/\n]+@)?([^:\/\n\s]+)/i.test(e)&&t.unshift({title:e,url:e})},n.getPageSize=()=>C.conf.omnibarMaxResults,n.getHistoryCacheSize=()=>C.conf.omnibarHistoryCacheSize,n.listURLs=function(e,t){if(p=1,h=e,m=t,_(),-1!==o){const e=n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li");n.focusItem(e[o]),o=-1}},n.getItems=function(){return h},f.onShow=function(e){var t;n.input||(n.input=((t=document.createElement("input")).oninput=b,t.onkeydown=w,t.addEventListener("compositionstart",(function(e){t.oninput=null,t.onkeydown=null})),t.addEventListener("compositionend",(function(e){t.oninput=b,t.onkeydown=w,b()})),t),document.querySelector("#sk_omnibarSearchArea").insertBefore(n.input,y)),v=e,f.classList.remove("sk_omnibar_middle"),f.classList.remove("sk_omnibar_bottom"),"Safari-iOS"===E()&&(C.conf.omnibarPosition="bottom"),f.classList.add("sk_omnibar_"+C.conf.omnibarPosition),"bottom"===C.conf.omnibarPosition?(n.resultsDiv.remove(),f.insertBefore(n.resultsDiv,document.querySelector("#sk_omnibarSearchArea"))):(n.resultsDiv.remove(),f.append(n.resultsDiv)),n.tabbed=void 0===e.tabbed||e.tabbed,u=s[e.type],n.input.focus(),n.enter(),e.pref&&(n.input.value=e.pref),u.onOpen&&u.onOpen(e.extra),l=u,se(n.promptSpan,u.prompt),se(y,""),f.scrollTop=0},f.onHide=function(){delete n.cachedPromise,h=null,a=null,c="",n.input.value="",n.input.placeholder="",se(n.resultsDiv,""),l=null,u.onClose&&u.onClose(),n.exit(),u=null},n.openFocused=function(){var e,t=n.resultsDiv.querySelector("li.focused");t?e=t.url:-1===(e=n.input.value).indexOf(":")&&(e=i.aliases[C.conf.defaultSearchEngine].url+e);var o,r="";return t&&t.uid&&(r=(o=t.uid)[0],o=o.substr(1)),"T"===r?(o=o.split(":"),x("focusTab",{windowId:parseInt(o[0]),tabId:parseInt(o[1])})):e&&e.length&&x("openLink",{tab:{tabbed:this.tabbed,active:this.activeTab},url:e}),this.activeTab},n.listResults=function(e,t){if(se(n.resultsDiv,""),e&&0!==e.length){"bottom"===C.conf.omnibarPosition&&e.reverse();var o=document.createElement("ul");if(e.forEach((function(e){var r=t(e);r&&(o.append(r),r.onclick=()=>{r.url?x("openLink",{tab:{tabbed:!0,active:!0},url:r.url}):(n.input.value=r.query,n.input.focus())})})),n.resultsDiv.append(o),e=n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li"),C.conf.focusFirstCandidate||u.focusFirstCandidate)e["bottom"===C.conf.omnibarPosition?e.length-1:0].classList.add("focused");"bottom"===C.conf.omnibarPosition&&e.length>0&&H(e[e.length-1])}},n.listWords=function(e){n.listResults(e,(function(e){var t=ce("li",`⌕ ${e}`);return t.query=e,t}))},n.html=function(e){se(n.resultsDiv,e)},n.addHandler=function(e,t){t.onEnter||(t.onEnter=n.openFocused.bind(t)),s[e]=t},n.listBookmarkFolders=function(e){x("getBookmarkFolders",null,(function(t){a={},t.folders.forEach((function(e){a[e.id]=e})),e&&e(t,a)}))},n.addHandler("Bookmarks",function(e){var t,n={prompt:`bookmark${Be}`,inFolder:[]},o=!1,r=0;function i(){var o=n.inFolder.pop();o.folderId?x("getBookmarks",{parentId:t=o.folderId},n.onResponse):(t=void 0,x("getBookmarks",null,n.onResponse)),n.prompt=o.prompt,se(e.promptSpan,n.prompt),r=o.focused}return n.onEnter=function(){var o=Array.from(e.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li")),i=!1,a=e.resultsDiv.querySelector("li.focused"),u=a.folderId;return u&&!this.activeTab?(x("getBookmarks",{parentId:u},(function(e){var t=e.bookmarks;for(var n of t)n.url&&x("openLink",{tab:{tabbed:!0,active:!1},url:n.url})})),n.inFolder.push({prompt:n.prompt,folderId:t,focused:o.indexOf(a)}),localStorage.setItem("surfingkeys.lastOpenBookmark",JSON.stringify(n.inFolder))):u?(n.inFolder.push({prompt:n.prompt,folderId:t,focused:o.indexOf(a)}),n.prompt=a.folder_name+He,se(e.promptSpan,n.prompt),e.input.value="",r=0,x("getBookmarks",{parentId:t=u},n.onResponse)):(i=e.openFocused.call(n))&&(n.inFolder.push({prompt:n.prompt,folderId:t,focused:o.indexOf(a)}),localStorage.setItem("surfingkeys.lastOpenBookmark",JSON.stringify(n.inFolder))),i},n.onOpen=function(){e.listBookmarkFolders((function(){var t=localStorage.getItem("surfingkeys.lastOpenBookmark");t?(n.inFolder=JSON.parse(t),i()):x("getBookmarks",null,n.onResponse),""!==e.input.value&&n.onInput()}))},n.onClose=function(){n.inFolder=[],n.prompt=`bookmark${Be}`,t=void 0},n.onKeydown=function(r){var a=!1;if(r.keyCode===k.keyCodes.comma)o=!o,n.prompt=o?`bookmark folder${He}`:`bookmark${He}`,se(e.promptSpan,n.prompt),x("getBookmarks",{parentId:t,query:e.input.value},n.onResponse),a=!0;else if(r.keyCode===k.keyCodes.backspace&&n.inFolder.length&&!e.input.value.length)i(),a=!0;else if(r.ctrlKey&&r.shiftKey&&k.isWordChar(r)){var u=e.resultsDiv.querySelector("li.focused");if(u){var s=String.fromCharCode(r.keyCode);Normal.addVIMark(s,u.url),a=!0}}return a},n.onInput=function(){var o=e.input.value;x("getBookmarks",{parentId:t,caseSensitive:C.getCaseSensitive(o),query:o},n.onResponse)},n.onResponse=function(t){var n=t.bookmarks;if(o&&(n=n.filter((function(e){return!e.hasOwnProperty("url")||void 0===e.url}))),e.listURLs(n,!0),!e.resultsDiv.querySelector("li.focused")){n=e.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li");e.focusItem(n[r])}},n}(n)),n.addHandler("AddBookmark",function(e){var t,n={focusFirstCandidate:!0,prompt:`add bookmark${Be}`};return n.onOpen=function(o){n.page=o,e.listBookmarkFolders((function(o){t=o.folders,e.listResults(t.slice(),(function(e){return ce("li",`▷ ${e.title}`,{folder:e.id})})),x("getBookmark",null,(function(t){if(t.bookmarks.length){var o=t.bookmarks[0];se(e.promptSpan,`edit bookmark${Be}`),e.resultsDiv.querySelector("li.focused").classList.remove("focused"),e.focusItem(`li[folder="${o.parentId}"]`)}var r=localStorage.getItem("surfingkeys.lastAddedBookmark");r&&(e.input.value=r,e.input.select(),n.onInput())}))}))},n.onTabKey=function(){var t=e.resultsDiv.querySelector("li.focused");e.input.value=t.innerHTML.substr(2)},n.onEnter=function(){n.page.path=[];var o,r=e.resultsDiv.querySelector("li.focused");if(r)n.page.folder=r.getAttribute("folder"),o=r.innerHTML.substr(2);else{var i=e.input.value,a=(i=i.split("/")).pop();a.length&&(n.page.title=a);for(var u=(i=i.filter((function(e){return e.length>0}))).length;u>0;u--){var s=t.filter((function(e){return e.title===`/${i.slice(0,u).join("/")}/`}));if(s.length){n.page.folder=s[0].id,n.page.path=i.slice(u),o="/"+i.join("/");break}}void 0===n.page.folder&&(n.page.folder=t[0].id,n.page.path=i,o=`${t[0].title}${i.join("/")}`)}return x("createBookmark",{page:n.page},(function(e){L("Bookmark created at {0}.".format(o),3e3)})),localStorage.setItem("surfingkeys.lastAddedBookmark",e.input.value),!0},n.onInput=function(){var n=e.input.value,o=C.getCaseSensitive(n),r=t.filter((function(e){return o?-1!==e.title.indexOf(n):-1!==e.title.toLowerCase().indexOf(n.toLowerCase())}));e.listResults(r,(function(e){return ce("li",`▷ ${e.title}`,{folder:e.id})}))},n}(n)),n.addHandler("History",je(`history${Be}`,n,(()=>new Promise(((e,t)=>{x("getHistory",{maxResults:n.getHistoryCacheSize(),query:n.input.value,sortByMostUsed:C.conf.historyMUOrder},(function(t){e(t.history)}))}))))),n.addHandler("URLs",je(Be,n,(()=>new Promise(((e,t)=>{x("getTabs",{queryInfo:C.conf.omnibarTabsQuery},(function(t){var o=t.tabs;x("getTopSites",null,(function(t){o=ge(o=o.concat(t.urls),n.input.value),n.listBookmarkFolders((function(){x("getAllURLs",{maxResults:n.getHistoryCacheSize()-o.length,query:n.input.value},(function(t){o=o.concat(t.urls),e(o)}))}))}))}))}))))),n.addHandler("RecentlyClosed",je(`Recently closed${Be}`,n,(()=>new Promise(((e,t)=>{x("getRecentlyClosed",null,(function(t){e(ge(t.urls,n.input.value))}))}))))),n.addHandler("TabURLs",je(`Tab History${Be}`,n,(()=>new Promise(((e,t)=>{x("getTabURLs",null,(function(t){e(ge(t.urls,n.input.value))}))}))))),n.addHandler("Tabs",function(e){var t={focusFirstCandidate:!0},n={};return t.getResults=function(){e.cachedPromise=new Promise((function(e,t){n.tabsThreshold=Math.min(C.conf.tabsThreshold,Math.ceil(window.innerWidth/26)),x("getTabs",n,(function(t){e(t.tabs)}))}))},t.onOpen=function(o){o&&"gather"===o.action?(t.prompt=`Gather filtered tabs into current window${Be}`,t.onEnter=function(){return x("gatherTabs",{tabs:e.getItems()}),!0},n={queryInfo:{currentWindow:!1}}):(t.prompt=`tabs${Be}`,t.onEnter=e.openFocused.bind(t),n={},o&&"string"==typeof o.filter&&(n.filter=o.filter)),t.getResults(),t.onInput()},t.onInput=function(){e.cachedPromise.then((function(t){var n=ge(t,e.input.value);e.listURLs(n,!1)}))},t}(n)),n.addHandler("Windows",function(e,t){const n={prompt:`Move current tab to window${Be}`};return n.getResults=function(){e.cachedPromise=new Promise((function(e,t){x("getWindows",{query:""},(function(t){e(t.windows)}))}))},n.onEnter=function(){const t=e.resultsDiv.querySelector("li.focused");let n=-1;return t&&void 0!==t.windowId&&(n=t.windowId),x("moveToWindow",{windowId:n}),!0},n.onOpen=function(){e.input.placeholder="Press enter without focusing an item to move to a new window.",n.getResults(),n.onInput()},n.onInput=function(){e.cachedPromise.then((function(n){0===n.length&&(x("moveToWindow",{windowId:-1}),t.hidePopup());let o=n;const r=e.input.value;let i=null;r&&r.length&&(i=he(r,!1),o=n.filter((function(e){for(const t of e.tabs)if(i.test(t.title)||i.test(t.url))return!0;return!1}))),i=he(r,!0),e.listResults(o,(function(t){const n=ce("li");return n.windowId=parseInt(t.id),n.classList.add("window"),t.isPreviousChoice&&n.classList.add("focused"),t.tabs.forEach((t=>{const o=ce("div","",{class:"tab_in_window"});o.appendChild(ce("div",e.highlight(i,t.title),{class:"title"})),o.appendChild(ce("div",e.highlight(i,new URL(t.url).origin),{class:"url"})),n.appendChild(o)})),n.url=t.tabs.map((e=>e.url)).join("\n"),n}))}))},n}(n,e)),n.addHandler("VIMarks",function(e){var t={focusFirstCandidate:!0,prompt:`VIMarks${Be}`};return t.onOpen=function(){var t=e.input.value,n=[];x("getSettings",{key:"marks"},(function(o){for(var r in o.settings.marks){var i=o.settings.marks[r];"string"==typeof i&&(i={url:i,scrollLeft:0,scrollTop:0}),""!==t&&-1===i.url.indexOf(t)||n.push({title:r,type:"🔗",uid:"M"+r,url:i.url})}e.listURLs(n,!1)}))},t.onInput=t.onOpen,t}(n)),n.addHandler("SearchEngine",i),n.addHandler("Commands",function(e,t){var n={focusFirstCandidate:!0,prompt:":"},o={};function r(e){e=e.trim();for(var t=[],n=!1,o="",r=0;r<e.length;r++)" "!==e.charAt(r)||n?'"'===e.charAt(r)?n=!n:o+=e.charAt(r):(t.push(o),o="");return t.push(o),t}function i(e){var t=r(e),n=t.shift();if(o.hasOwnProperty(n)){var i=o[n];i.code.call(i.code,t)}else L(`Unsupported command: ${e}.`,3e3)}return n.onOpen=function(){-1,x("getSettings",{key:"cmdHistory"},(function(t){var n=t.settings.cmdHistory;n.length&&e.listResults(n,(function(e){var t=ce("li",e);return t.cmd=e,t}))}))},n.onReset=n.onOpen,n.onInput=function(){var t=e.input.value,n=Object.keys(o).filter((function(e){return""===t||-1!==e.indexOf(t)}));n.length&&e.listResults(n,(function(e){var t=ce("li",`${e}<span class=annotation>${fe(o[e].annotation)}</span>`);return t.cmd=e,t}))},n.onTabKey=function(){e.input.value=e.resultsDiv.querySelector("li.focused").cmd},n.onEnter=function(){var t=!1,n=e.input.value;return n.length&&(C.updateHistory("cmd",n),i(n),e.input.value=""),t},t._actions.executeCommand=function(e){i(e.cmdline)},e.command=function(e,t,n){var r={code:n},i=oe({annotation:t,feature_group:14});r.feature_group=i.feature_group,r.annotation=i.annotation,o[e]=r},n}(n,e)),n.addHandler("OmniQuery",function(e,t){var n,o={prompt:"ǭ"};function r(e,t,n){return n.indexOf(e)===t}return o.onOpen=function(o){o&&(e.input.value=o,t.contentCommand({action:"omnibar_query_entered",query:o})),t.contentCommand({action:"getPageText"},(function(e){var t=/[^a-zA-Z]+/;n=e.data.toLowerCase().split(t).filter(r)}))},o.onInput=function(){var t=e.input.value,o=n.filter((function(e){return-1!==e.indexOf(t)}));o.length&&e.listResults(o,(function(e){return ce("li",e)}))},o.onTabKey=function(){e.input.value=e.resultsDiv.querySelector("li.focused").innerText},o.onEnter=function(){t.contentCommand({action:"omnibar_query_entered",query:e.input.value})},o}(n,e)),n.addHandler("UserURLs",function(e){var t,n={focusFirstCandidate:!0,prompt:`UserURLs${Be}`};return n.onOpen=function(e){t=e,n.onInput()},n.onInput=function(){var n=e.input.value,o=[];o=ge(t,n),e.listURLs(o,!1)},n}(n)),e._actions.updateOmnibarResult=function(e){n.listWords(e.words)},n},qe=(e,t,n)=>{t("setProxy","setProxy <proxy_host>:<proxy_port> [proxy_type|PROXY]",(function(e){return x("updateProxy",{proxy:(e.length>1?e[1]:"PROXY")+" "+e[0]}),!0})),t("setProxyMode","setProxyMode <always|direct|byhost|system|clear>",(function(e){return x("updateProxy",{mode:e[0]},(function(e){-1!==["byhost","always"].indexOf(e.proxyMode)?L("{0}: {1}".format(e.proxyMode,e.proxy),3e3):L(e.proxyMode,3e3)})),!0})),t("listVoices","list tts voices",(function(){x("getVoices",null,(function(e){var t=e.voices.map((function(e){return`<tr><td>${e.voiceName}</td><td>${e.lang}</td><td>${e.gender}</td><td>${e.remote}</td></tr>`}));t.unshift("<tr style='font-weight: bold;'><td>voiceName</td><td>lang</td><td>gender</td><td>remote</td></tr>"),I("<table style='width:100%'>{0}</table>".format(t.join("")))}))})),t("testVoices","testVoices <locale> <text>",(function(e){x("getVoices",null,(function(t){var n=t.voices,o=0;e.length>0&&(n=n.filter((function(t){return-1!==t.lang.indexOf(e[0])})));var r,i="This is to test voice with SurfingKeys";for(e.length>1&&(i=e[1]),o=0;o<n.length-1;o++)r=`${i}, ${n[o].voiceName} / ${n[o].lang}.`,readText(r,{enqueue:!0,verbose:!0,voiceName:n[o].voiceName});r=`${i}, ${n[o].voiceName} / ${n[o].lang}.`,readText(r,{enqueue:!0,verbose:!0,voiceName:n[o].voiceName,onEnd:function(){I("All voices test done.")}})}))})),t("stopReading","#13Stop reading.",(function(e){x("stopReading")})),t("feedkeys","feed mapkeys",(function(t){e.feedkeys(t[0])})),t("quit","#5quit chrome",(function(){x("quit")})),t("clearHistory","clearHistory <find|cmd|...>",(function(e){runtime.updateHistory(e[0],[])})),t("listSession","list session",(function(){x("getSettings",{key:"sessions"},(function(e){n.listResults(Object.keys(e.settings.sessions),(function(e){return ce("li",e)}))}))})),t("createSession","createSession [name]",(function(e){x("createSession",{name:e[0]})})),t("deleteSession","deleteSession [name]",(function(e){return x("deleteSession",{name:e[0]}),!0})),t("openSession","openSession [name]",(function(e){x("openSession",{name:e[0]})})),t("listQueueURLs","list URLs in queue waiting for open",(function(e){x("getQueueURLs",null,(function(e){n.listResults(e.queueURLs,(function(e){return ce("li",e)}))}))})),t("clearQueueURLs","clear URLs in queue waiting for open",(function(e){x("clearQueueURLs")})),t("timeStamp","print time stamp in human readable format",(function(e){var t=new Date(parseInt(e[0]));n.listWords([t.toString()])}))},ze=function(){const e=Ae();Oe.init();const t=Ie(),n=Ne(t);n.enter();const o=Pe(t,n),r=Me(e,o),i=new Oe("Front");i._actions={},i.topSize=[0,0];const a=Ke(i,e);qe(n,a.command,a);const u={Insert:t,Normal:n,Visual:r,Omnibar:a};De(Ue(e,t,n,o,r,i,{}),e,t,n,o,r,i);var s=i._actions,c={};i.contentCommand=function(e,t){e.toContent=!0,e.id=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),t&&(e.ack=!0,c[e.id]=t),top.postMessage({surfingkeys_uihost_data:e},i.topOrigin)},i.postMessage=function(e){top.postMessage({surfingkeys_uihost_data:e},i.topOrigin)};var l,f="";function d(e,t,n){this.enter=function(){n&&n(),l=this,top.postMessage({surfingkeys_uihost_data:{action:"setFrontFrame",pointerEvents:e,frameHeight:t}},i.topOrigin)},this.nextState=function(){var e,t=Array.from(document.body.querySelectorAll("body>div")).filter((function(e){return"none"!==e.style.display})),n=t.map((function(e){var t=e.id;return-1===["sk_keystroke","sk_banner"].indexOf(t)&&("sk_status"===t?null!==i.statusBar.querySelector("input"):!e.noPointerEvents)}));n.push(!1),this!==(e=(n=n.reduce((function(e,t){return e||t})))?m:t.length>0?h:p)&&e.enter()}}i.addEventListener("keydown",(function(e){if(Oe.isSpecialKeyOf("<Esc>",e.sk_keyName))i.hidePopup(),e.sk_stopPropagation=!0;else if("none"!==S.style.display){const t=S.querySelectorAll("div.sk_tab>div.sk_tab_hint");if(t.length>0){const n=e.sk_keyName,r=o.getCharacters().toLowerCase();if(e.keyCode===k.keyCodes.backspace)f.length>0&&ve(t,f=f.substr(0,f.length-1));else if(-1!==r.indexOf(n.toLowerCase())){const e=ve(t,f+=n.toUpperCase());e.matched?(x("focusTab",{windowId:e.matched.windowId,tabId:e.matched.id}),f="",i.hidePopup()):0===e.candidates&&(f="",i.hidePopup())}else D(v,{type:"Tabs"});e.sk_stopPropagation=!0}}}));const p=new d("none","0px"),h=new d("none","100%"),m=new d("all","100%",(function(){window.focus()}));l=p,i.flush=function(){l.nextState()},i.visualCommand=function(e){"none"!==y.style.display?r[e.action](e.query):i.contentCommand(e)};const v=document.getElementById("sk_omnibar");i.statusBar=document.getElementById("sk_status");const y=document.getElementById("sk_usage"),b=document.getElementById("sk_popup"),w=document.getElementById("sk_editor"),_=document.getElementById("sk_nvim"),S=document.getElementById("sk_tabs"),T=document.getElementById("sk_banner"),O=document.getElementById("sk_bubble"),A=O.querySelector("div.sk_bubble_content"),R=O.querySelector("div.sk_arrow"),L=A.classList;function I(){L.remove("sk_scroller_indicator_top"),L.remove("sk_scroller_indicator_middle"),L.remove("sk_scroller_indicator_bottom")}A.onscroll=function(e){I(),0===this.scrollTop?L.add("sk_scroller_indicator_top"):this.scrollTop+this.offsetHeight>=this.scrollHeight?L.add("sk_scroller_indicator_bottom"):L.add("sk_scroller_indicator_middle")};var M,P=document.getElementById("sk_keystroke");function U(e,t){M&&"none"!==M.style.display&&(M.style.display="none",M.onHide&&M.onHide()),(M=e).style.display="",M.onShow&&M.onShow(t),i.startInputGuard()}function D(e,t){i.enter(0,!0),U(e,t),i.flush()}function F(e,t){var n=["Help","Mouse Click","Scroll Page / Element","Tabs","Page Navigation","Sessions","Search selected with","Clipboard","Omnibar","Visual Mode","vim-like marks","Settings","Chrome URLs","Proxy","Misc","Insert Mode","Lurk Mode"];ne((function(o){var r,i=n.map((function(){return[]}));i[0].push("<div><span class=kbd-span><kbd>&lt;Alt-s&gt;</kbd></span><span class=annotation>{0}</span></div>".format(o("Toggle SurfingKeys on current site"))),(e=e.concat((r=a.mappings).getWords().map((function(e){var t=r.find(e).meta;return{word:e,feature_group:t.feature_group,annotation:t.annotation}})).filter((function(e){return e.annotation&&e.annotation.length>0})))).forEach((function(e){var t=`<div><span class=kbd-span><kbd>${fe(k.decodeKeystroke(e.word))}</kbd></span><span class=annotation>${o(e.annotation)}</span></div>`;i[e.feature_group].push(t)})),i=i.map((function(e,t){return e.length?"<div><div class=feature_name><span>{0}</span></div>{1}</div>".format(o(n[t]),e.join("")):""})).join(""),i+=`<p style='float:right; width:100%; text-align:right'><a href='https://github.com/brookhong/surfingkeys' target='_blank' style='color:#0095dd'>${o("More help")}</a></p>`,t(i)}))}function H(e){se(b,e),D(b)}i.startInputGuard=()=>{if(E().startsWith("Safari"))var e=setInterval((()=>{let t=null;for(const e of document.querySelectorAll("input, textarea"))if(e.getBoundingClientRect().width){t=e;break}t&&document.activeElement!==t?(t.focus(),t.value=" ",setTimeout((()=>{t.value=""}),10)):clearInterval(e),console.log(e)}),100)},s.hidePopup=function(){M&&"none"!==M.style.display&&(M.style.display="none",i.flush(),M.onHide&&M.onHide(),i.exit())},i.hidePopup=s.hidePopup,S.onShow=function(e){se(S,"");var t=o.genLabels(e.length-1),n=0;const r=window.innerWidth/e.length-2,a=C.conf.verticalTabs;S.className=a?"vertical":"horizontal",e.forEach((function(e,o){var i=document.createElement("div");if(i.setAttribute("class","sk_tab"),a||(i.style.width=r+"px"),!1===e.active){se(i,`<div class=sk_tab_hint>${t[n]}</div><div class=sk_tab_wrap><div class=sk_tab_icon><img/></div><div class=sk_tab_title>${fe(e.title)}</div></div>`);const o=i.querySelector("div.sk_tab_hint");o.label=t[n],o.link={id:e.id,windowId:e.windowId},n++}else se(i,`<div class=sk_tab_wrap><div class=sk_tab_icon><img/></div><div class=sk_tab_title>${fe(e.title)}</div></div>`),i.style.boxShadow="0px 3px 7px 0px rgba(245, 245, 0, 0.9)";ye(e,i.querySelector("img")),a?i.append(ce("div","🚀",{class:"tab_rocket"})):i.querySelector("div.sk_tab_title").style.width=r-24+"px",S.append(i)})),S.getBoundingClientRect().height>i.topSize[1]&&(S.className="inline")},s.chooseTab=function(){const e=Math.min(C.conf.tabsThreshold,Math.ceil(window.innerWidth/26));x("getTabs",{queryInfo:{currentWindow:!0},tabsThreshold:e},(function(t){t.tabs.length>e?D(v,{type:"Tabs"}):t.tabs.length>0&&D(S,t.tabs)}))},i.chooseTab=s.chooseTab,y.onShow=function(e){F(e.metas,(function(e){se(y,e)}))},s.showUsage=function(e){D(y,e)},s.applyUserSettings=function(e){for(var t in e.userSettings)C.conf.hasOwnProperty(t)&&(C.conf[t]=e.userSettings[t]);"theme"in e.userSettings&&se(document.getElementById("sk_theme"),e.userSettings.theme)},s.addMapkey=function(e){e.old_keystroke in Oe.specialKeys?Oe.specialKeys[e.old_keystroke].push(e.new_keystroke):u.hasOwnProperty(e.mode)&&re(u[e.mode],e.new_keystroke,e.old_keystroke)},s.addVimMap=function(e){i.vimMappings.push([e.lhs,e.rhs,e.ctx])},s.addVimKeyMap=function(e){i.vimKeyMap=e.vimKeyMap},s.getUsage=function(e){delete e.ack,F(e.metas,(function(t){top.postMessage({surfingkeys_uihost_data:{data:t,toContent:!0,id:e.id}},i.topOrigin)}))},i.showUsage=i.hidePopup,s.showPopup=function(e){H(e.content)},i.vimMappings=[];let B=null;w.onShow=function(e){B||(B=new Promise(((e,t)=>{import("./ace.js").then((()=>{e(function(e,t){var n=new Oe("AceEditor");document.getElementById("sk_editor").style.height="30%";var o,r=ace.edit("sk_editor");function i(){return r.getValue()!=o}var a={open:function(t,n,o){const i=e.passThrough();var a=o.onClose;o.onClose=function(){i.exit(),a&&a()},r.state.cm.openDialog(t,(function(e){n(e),o.onClose()}),o)}};function u(){document.activeElement.blur(),t.hidePopup()}function s(){var e=m();t.onEditorSaved?(t.onEditorSaved(e),t.onEditorSaved=void 0):t.contentCommand({action:"ace_editor_saved",data:e})}function c(){u(),s()}function l(){var e;return x("getAllURLs",null,(function(t){e=t.urls.map((function(e){var t=0,n=1;return e.hasOwnProperty("typedCount")&&(t=e.typedCount),e.hasOwnProperty("visitCount")&&(n=e.visitCount),{caption:e.url,value:e.url,score:10*t+n,meta:"local"}}))})),{identifierRegexps:[/.*/],getCompletions:function(t,n,o,r,i){i(null,e)}}}n.addEventListener("keydown",(function(e){e.sk_suppressed=!0,!Oe.isSpecialKeyOf("<Esc>",e.sk_keyName)||r.completer&&r.completer.activated||("emacs"===C.conf.aceKeybindings?(n.onExit=u,n.exit()):"normal"!==r.state.cm.mode||r.state.cm.state.vim.status||(i()?a.open('<span style="font-family: monospace">Quit anyway? Y/n </span><input type="text"/>',(function(e){"y"===e.toLowerCase()&&(n.onExit=u,n.exit())}),{bottom:!0,value:"Y",onKeyDown:function(e,t,n){e.keyCode!==k.keyCodes.enter&&e.keyCode!==k.keyCodes.ESC||n()}}):(n.onExit=u,n.exit())))}));var f=null;function d(e){var t=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/,n=e.split(t),o={};return n.forEach((function(e){e="sk_"+e,o.hasOwnProperty(e)?o[e]++:o[e]=1})),Object.keys(o).map((function(e){return{caption:e=e.substr(3),value:e,score:o[e],meta:"local"}}))}var p,h={getCompletions:function(e,n,o,r,i){f?i(null,f):t.contentCommand({action:"getPageText"},(function(e){f=d(e.data),i(null,f)}))}};function m(){var e=r.getValue();return"select"===p&&(e=(e=(e=r.session.getLine(r.selection.lead.row)).match(/.*>< ([^<]*)$/))?e[1]:""),e}function g(){var e=r.state.cm;e.mode="normal",e.on("vim-mode-change",(function(t){e.mode=t.mode})),e.on("0-register-set",(function(e){var t=document.activeElement;Clipboard.write(e.text),t.focus()}));var o=e.constructor.Vim;o.defineEx("write","w",(function(e,t){s()}));const i=function(e,t){n.onExit=c,n.exit(),r.state.cm.signal("vim-command-done","")};o.defineEx("wq","wq",i),o.defineEx("x","x",i),o.map("<CR>",":wq<CR>","normal"),o.defineEx("bnext","bn",(function(e,n){t.contentCommand({action:"nextEdit",backward:!1})})),o.defineEx("bprevious","bp",(function(e,n){t.contentCommand({action:"nextEdit",backward:!0})})),o.defineEx("quit","q",(function(e,t){n.onExit=u,n.exit(),r.state.cm.signal("vim-command-done","")})),t.vimMappings.forEach((function(e){o.map.apply(o,e)}));var a=r.getKeyboardHandler().defaultKeymap;return t.vimKeyMap&&t.vimKeyMap.length&&a.unshift.apply(a,t.vimKeyMap),o}function v(){return r.$emacsModeHandler.addCommands({closeAndSave:{exec:function(e){n.onExit=c,n.exit()},readOnly:!0}}),r.$emacsModeHandler.bindKey("C-x C-s","closeAndSave"),r.$emacsModeHandler}ace.config.loadModule("ace/ext/language_tools",(function(e){r.language_tools=e,ace.config.loadModule("ace/autocomplete",(function(e){e.Autocomplete.startCommand.bindKey="Tab",e.Autocomplete.prototype.commands.Space=e.Autocomplete.prototype.commands.Tab,e.Autocomplete.prototype.commands.Tab=e.Autocomplete.prototype.commands.Down,e.Autocomplete.prototype.commands["Shift-Tab"]=e.Autocomplete.prototype.commands.Up,e.FilteredList.prototype.filterCompletions=function(e,t){for(var n,o=[],r=t.toUpperCase(),i=0;n=e[i];i++){var a=n.value.toUpperCase();if(a){var u=a.indexOf(r),s=0;-1!==u&&(s|=Math.pow(2,t.length)-1<<u,n.matchMask=s,n.exactMatch=0,o.push(n))}}return o}})),r.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!1,enableSnippets:!1})})),r.setTheme("ace/theme/chrome");var y=new Promise((function(e,t){var n=g;"emacs"===C.conf.aceKeybindings?n=v:C.conf.aceKeybindings="vim",r.setKeyboardHandler("ace/keyboard/"+C.conf.aceKeybindings,(function(){e(n())}))}));return r.container.style.background="#f1f1f1",r.$blockScrolling=1/0,n.show=function(e){y.then((function(t){r.setValue(e.content,-1),o=e.content,r.container.querySelector("textarea").focus(),n.enter(),p=e.type,r.setFontSize(16),"ace/keyboard/emacs"===t.$id?("url"===e.type?(r.setOption("showLineNumbers",!1),r.language_tools.setCompleters([l()]),r.container.style.height="30%"):"input"===e.type?(r.setOption("showLineNumbers",!1),r.language_tools.setCompleters([h]),r.container.style.height=""):(r.setOption("showLineNumbers",!0),r.language_tools.setCompleters([h]),r.container.style.height="30%"),r.setReadOnly("select"===e.type),setTimeout((function(){r.renderer.session.$undoManager.reset()}),1)):(t.unmap("<CR>","insert"),t.unmap("<C-CR>","insert"),"url"===e.type?(t.map("<CR>","<Esc>:wq<CR>","insert"),r.setOption("showLineNumbers",!1),r.language_tools.setCompleters([l()]),r.container.style.height="30%"):"input"===e.type?(t.map("<CR>","<Esc>:wq<CR>","insert"),r.setOption("showLineNumbers",!1),r.language_tools.setCompleters([h]),r.container.style.height="16px"):(t.map("<C-CR>","<Esc>:wq<CR>","insert"),r.setOption("showLineNumbers",!0),r.language_tools.setCompleters([h]),r.container.style.height="30%"),r.setReadOnly("select"===e.type),t.map("<C-d>","<C-w>","insert"),t.exitInsertMode(r.state.cm),r.state.cm.setCursor(e.initial_line,0),r.state.cm.ace.renderer.scrollCursorIntoView(),setTimeout((function(){r.renderer.session.$undoManager.reset()}),1),r.state.cm.ace.setOption("indentedSoftWrap",!1),r.state.cm.ace.setOption("wrap",!0))}))},n}(n,i))}))}))),B.then((t=>{t.show(e)}))};let j=null;function K(e,t){T.style.cssText="",T.style.display="",T.style.top="0px",se(T,fe(e)),i.flush(),setTimeout((function(){T.style.cssText="",T.style.display="none",i.flush()}),t||1600)}var q;function z(){q&&(clearTimeout(q),q=void 0)}function $(e){ne((function(t){var n=e.accumulated,o=e.candidates;(n=Object.keys(o).sort().map((function(n){var r=o[n];if(r.annotation){const o=n.substr(e.accumulated.length);return`<div><span class=kbd-span><kbd>${fe(k.decodeKeystroke(e.accumulated))}<span class=candidates>${fe(k.decodeKeystroke(o))}</span></kbd></span><span class=annotation>${t(r.annotation)}</span></div>`}return""})).join("")).length>0&&q&&(se(P,n),P.classList.add("expandRichHints"),i.flush())}))}function W(){"none"!==O.style.display&&i.contentCommand({action:"updateInlineQuery"})}return _.onShow=function(e){j||(j=new Promise(((e,t)=>{import("./neovim_lib.js").then((t=>{t.default(_).then((({nvim:t,destroy:o})=>{function r(){n.enter(),o(),i.hidePopup()}function a(e){const[t,n]=e;"WriteData"===t&&(i.contentCommand({action:"ace_editor_saved",data:n[0].join("\r")}),r())}t.on("nvim:open",(()=>{t.on("surfingkeys:rpc",a)})),t.on("nvim:close",(()=>{t.off("surfingkeys:rpc",a),r()})),e(t)}))}))}))),j.then((t=>{n.exit(),x("connectNative",{mode:"embed"},(n=>{t.connect(n.url,(()=>{t.command(`call NewScratch("${e.file_name}", "${g(e.content)}", "${e.type}")`)}))}))}))},s.showEditor=function(e){e.onEditorSaved&&(i.onEditorSaved=e.onEditorSaved),e.file_name?D(_,e):D(w,e)},i.showEditor=s.showEditor,s.openOmnibar=function(e){D(v,e);var t=e.style||"";se(v.querySelector("style"),`#sk_omnibar {${t}}`)},i.openOmnibar=s.openOmnibar,s.openFinder=function(){We.open()},s.showBanner=function(e){K(e.content,e.linger_time)},s.showBubble=function(e){var t=e.position;t.left+=t.winX,t.top+=t.winY,O.style.top="0px",O.style.left="0px",se(A,e.content),A.style.maxWidth=t.winWidth-32+"px",A.scrollTop=0,I(),O.style.display="";var n=O.offsetWidth,o=O.offsetHeight,r=[t.left-11-n/2,n/2];r[0]<t.winX?(r[1]+=r[0]-t.winX,r[0]=t.winX):r[0]+n>t.winWidth&&(r[1]+=r[0]-t.winX-t.winWidth+n,r[0]=t.winX+t.winWidth-n),R.style.left=r[1]+t.width/2-2+"px",O.style.left=r[0]+"px",O.noPointerEvents=e.noPointerEvents,t.top+t.height/2>t.winHeight/2?(R.setAttribute("dir","down"),R.style.top="100%",A.style.maxHeight=t.top-12-32+"px",o=O.offsetHeight,O.style.top=t.top-o-12+"px"):(R.setAttribute("dir","up"),R.style.top="-12px",A.style.maxHeight=t.winHeight-(t.top+t.height+12)-32+"px",o=O.offsetHeight,O.style.top=t.top+t.height+12+"px"),A.scrollHeight>A.offsetHeight&&(O.noPointerEvents=!1,L.add("sk_scroller_indicator_top")),i.flush(),O.noPointerEvents||(U(O,{}),i.enter(0,!0))},s.hideBubble=function(){O.style.display="none",i.flush()},s.visualUpdated=function(e){i.statusBar.querySelector("input").focus()},s.showStatus=function(e){$e.show(e.contents,e.duration)},N("front",{showPopup:H,showBanner:K,openFinder:()=>{We.open()},showStatus:(e,t)=>{$e.show(e,t)}}),i.toggleStatus=function(e){i.statusBar.style.display=e?"":"none"},s.toggleStatus=function(e){i.toggleStatus(e.visible)},s.hideKeystroke=function(){"none"!==P.style.display&&(P.classList.remove("expandRichHints"),se(P,""),P.style.display="none",i.flush()),C.conf.richHintsForKeystroke>0&&C.conf.richHintsForKeystroke<1e4&&z()},s.showKeystroke=function(e){if("none"!==P.style.display&&P.classList.contains("expandRichHints"))$(e.keyHints);else{z(),P.style.display="",i.flush();var t=P.innerHTML+fe(k.decodeKeystroke(e.keyHints.key));se(P,t),C.conf.richHintsForKeystroke>0&&C.conf.richHintsForKeystroke<1e4&&(q=setTimeout((function(){$(e.keyHints)}),C.conf.richHintsForKeystroke))}},s.initFrontend=function(e){return i.topOrigin=e.origin,i.topSize=e.winSize,(new Date).getTime()},window.addEventListener("message",(function(e){var t=e.data&&e.data.surfingkeys_frontend_data;if(void 0!==t)if(c[t.id])(0,c[t.id])(t)||delete c[t.id];else if(t.action&&s.hasOwnProperty(t.action)){var n=s[t.action](t);t.ack&&top.postMessage({surfingkeys_uihost_data:{data:n,action:t.action+"Ack",toContent:!0}},i.topOrigin)}}),!0),document.onmouseup=function(e){if(O.contains(e.target)){var t=window.getSelection().toString().trim()||te(!0);t&&t.length>0&&i.contentCommand({action:"updateInlineQuery",word:t},(function(){window.addEventListener("resize",W)}))}else O.style.display="none",i.flush(),i.contentCommand({action:"emptySelection"}),window.removeEventListener("resize",W)},O.querySelector("div.sk_bubble_content").addEventListener("mousewheel",(function(e){(e.deltaY>0&&this.scrollTop+this.offsetHeight>=this.scrollHeight||e.deltaY<0&&this.scrollTop<=0)&&e.preventDefault()}),{passive:!1}),i}();var $e=function(){var e={},t=null,n=ze.statusBar;return e.show=function(o,r){t&&(clearTimeout(t),t=null);for(var i=n.querySelectorAll("span"),a=0;a<o.length;a++)void 0!==o[a]&&se(i[a],o[a]);var u=-1;for(a=0;a<i.length;a++)i[a].innerHTML.length?(u=a,i[a].style.padding="0px 8px",i[a].style.borderRight="1px solid #999"):(i[a].style.padding="",i[a].style.borderRight="");-1===u?n.style.display="none":(i[u].style.borderRight="",n.style.display="block"),ze.flush(),r&&(t=setTimeout((function(){e.show(["","","",""])}),r))},e}(),We=function(){var e,t,n=new Oe("Find","/");function o(){e=null,$e.show(["",""]),n.exit()}return n.addEventListener("keydown",(function(e){e.sk_suppressed=!0})).addEventListener("mousedown",(function(t){t.target!==e&&o(),t.sk_suppressed=!0})),n.open=function(){t=-1,$e.show(["/",'<input id="sk_find" class="sk_theme"/>']),e=ze.statusBar.querySelector("input"),E().startsWith("Safari")||(e.oninput=function(){e.value.length&&"."!==e.value&&(ze.visualCommand({action:"visualUpdate",query:e.value}),e.focus(),e.setSelectionRange(e.value.length,e.value.length))});var r=[];x("getSettings",{key:"findHistory"},(function(e){r=e.settings.findHistory})),e.onkeydown=function(n){if(Oe.isSpecialKeyOf("<Esc>",n.sk_keyName))o(),ze.visualCommand({action:"visualClear"});else if(n.keyCode===k.keyCodes.enter){(i=e.value).length&&"."!==i&&(n.ctrlKey&&(i="\\b"+i+"\\b"),o(),C.updateHistory("find",i),ze.visualCommand({action:"visualEnter",query:i}))}else if((n.keyCode===k.keyCodes.upArrow||n.keyCode===k.keyCodes.downArrow)&&r.length){t=n.keyCode===k.keyCodes.upArrow?t+1:t+r.length-1,t%=r.length;var i=r[t];e.value=i,ze.visualCommand({action:"visualUpdate",query:i}),n.preventDefault()}},e.focus(),ze.startInputGuard(),n.enter()},n}()})()})();