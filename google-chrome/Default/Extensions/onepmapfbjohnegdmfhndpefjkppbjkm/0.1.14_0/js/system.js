var ext=function(){var n,p=chrome.runtime.id,o=(this.popup=function(){$(document).ready(function(){chrome.tabs.query({active:!0,currentWindow:!0},function(o){var o=o[0],p=o.id,e=s(o.url),t=o.favIconUrl||"img/tab.png";(e=e||void 0===o.pendingUrl?e:s(o.pendingUrl))?chrome.runtime.sendMessage({super_type:"domains"},function(o){o&&1==o.status&&(n=o.domains||[],$("#popup .domain .icon").html('<img src="'+t+'">'),$("#popup .domain .url").html(e),-1<n.indexOf(e)?$("#popup .copy").removeClass("off").addClass("on"):$("#popup .copy").removeClass("on").addClass("off"),$("#popup .copy .tips").html(i("crackTips")),$("#popup .copy").on("mouseover mouseout","",function(o){var t=$("#popup .copy").hasClass("on")?"off":"on";"mouseover"==o.type?"on"==t?$("#popup .copy .tips").html(i("enableTips")):$("#popup .copy .tips").html(i("disableTips")):"mouseout"==o.type&&$("#popup .copy .tips").html(i("crackTips"))}),$("#popup .copy").on("click","",function(){var t=$("#popup .copy").hasClass("on")?"off":"on";chrome.runtime.sendMessage({super_type:"copy",turn:t,domain:e,tabid:p},function(o){"on"==t?$("#popup .copy").removeClass("off").addClass("on"):$("#popup .copy").removeClass("on").addClass("off"),$("#popup .copy .tips").html(i("crackTips"))})}))}):($("#popup .copy").removeClass("on").addClass("off"),$("#popup .copy .tips").html(i("cannotTips"))),$("#super_version").html(chrome.runtime.getManifest().version)}),document.oncontextmenu=function(){return!1},$("#popup .option").on("click",function(){o("option.html",!0,!0)})})},this.option=function(){$(document).ready(function(){chrome.runtime.sendMessage({super_type:"domains"},function(o){var t;o&&1==o.status&&(n=o.domains,t="",n.forEach(function(o){t='<li class="list-group-item"><span class="badge" title="'+i("delete")+'"><i class="glyphicon glyphicon-remove"></i></span> <a href="http://'+o+'" target="_blank">'+o+"</a></li>",$("#option .domains .list-group").append(t)}),$("#option .domains .alert").html("<strong>"+i("tips")+"</strong> "+i("domainListsTips")),$("#option .nav .domainLists").html(i("domainLists")),$("#option .nav .rate").html(i("rate")),o="",o=navigator.userAgent.toLowerCase().match(/edg\/([\d.]+)/i)?"https://microsoftedge.microsoft.com/addons/detail/"+p:"https://chrome.google.com/webstore/detail/"+p,$("#option .nav .rate").attr("href",o),$("#option .main .panel-heading").html(i("domainLists")),$("#option .domains .list-group").on("click",".badge",function(){var t=$(this).parent("li"),o=t.text().replace(/\s*/g,"");chrome.runtime.sendMessage({super_type:"removeDomain",domain:o},function(o){t.remove()})}))})})},function(o,t,p){return""!=o&&(!1!==t&&(t=!0),!1!==p&&(p=!0),chrome.tabs.create({url:o,selected:p}),!0)});var s=function(o){var t;return!!o&&("http"==(t=(o=o.toLowerCase()).split("://")[0])||"https"==t)&&(t=o.split("://")[1].split("/")[0].split(":")[0],/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/.test(t)?RegExp.$1<256&&RegExp.$2<256&&RegExp.$3<256&&RegExp.$4<256&&(192!=RegExp.$1||168!=RegExp.$2)&&10!=RegExp.$1&&t:"www."==t.substr(0,4)?t.substr(4):t)},i=function(o){return chrome.i18n.getMessage(o)}};