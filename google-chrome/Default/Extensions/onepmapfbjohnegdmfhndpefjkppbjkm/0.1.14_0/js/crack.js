!function(){"use strict";var i=!1;function c(e){return chrome.i18n.getMessage(e)}function o(e){return e.stopPropagation(),!0}function e(e){return e.stopPropagation()}function r(o){var n={initCopyEvent:!0};return _.some(function(e){return t=e.regexp,e=e,!!t.test(window.location.href)&&(e.init(o),e.config&&(n=Object.assign(n,e.config)),e.getSelectedText&&(h=e.getSelectedText),!0);var t}),n}b="#_copy{align-items:center;background:#4494d5;border-radius:3px;color:#fff;cursor:pointer;display:flex;font-size:13px;height:30px;justify-content:center;position:absolute;width:60px;z-index:1000}#select-tooltip,#sfModal,.modal-backdrop,div[id^=reader-helper]{display:none!important}.modal-open{overflow:auto!important}._sf_adjust_body{padding-right:0!important}.enable_copy_btns_div{position:fixed;width:154px;left:10px;top:45%;background:#e7f1ff;border:2px solid #4595d5;font-weight:600;border-radius:2px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;z-index:5000}.enable_copy_btns_logo{width:100%;background:#4595d5;text-align:center;font-size:12px;color:#e7f1ff;line-height:30px;height:30px}.enable_copy_btns_btn{display:block;width:128px;height:28px;background:#7f5711;border-radius:4px;color:#fff;font-size:12px;border:0;outline:0;margin:8px auto;font-weight:700;cursor:pointer;opacity:.9}.enable_copy_btns_btn:hover{opacity:.8}.enable_copy_btns_btn:active{opacity:1}",u=(u=void 0===u?{}:u).insertAt,b&&"undefined"!=typeof document&&(f=document.head||document.getElementsByTagName("head")[0],(g=document.createElement("style")).type="text/css","top"===u&&f.firstChild?f.insertBefore(g,f.firstChild):f.appendChild(g),g.styleSheet?g.styleSheet.cssText=b:g.appendChild(document.createTextNode(b)));var a=function(e){e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.returnValue=!0},d={regexp:/.*doc88\.com\/.+/,init:function(e){chrome.runtime.sendMessage({super_type:"getsupercopydoc88path"},function(e){e&&(localStorage.super_js_copy_doc88=e)})},getSelectedText:async function(){return new Promise((e,t)=>{document.getElementById("super_doc88_copy")&&document.getElementById("super_doc88_copy").remove();var o=chrome.runtime.getURL("js/doc88.js"),n=document.createElement("script");n.id="super_doc88_copy",n.src=o,n.onload=function(){e(localStorage.enable_copy_doc88)},document.body.appendChild(n)})}},n=function(e){e("body").append('<style id="copy-hide">#_copy{display: none !important;}</style>')},t=function(e,t,o){void 0===o&&(o=!1);var n=e(t);o?(n.css("user-select","auto"),n.css("-webkit-user-select","auto")):(o="\n                <style>\n                    ".concat(t,"{\n                        user-select: auto !important;\n                        -webkit-user-select: auto !important;\n                    }\n                </style>\n            "),e("body").append(o.replace(/\s*/," ")))},p=function(e,t){e(t).on("contextmenu",o)},s=function(e,t){e(t).on("copy",o)},l=function(){document.addEventListener("keydown",e,!0)},u={regexp:/.*wk\.baidu\.com\/view\/.+/,init:function(e){n(e),e(document).ready(function(){e(".sf-edu-wenku-vw-container").attr("style",""),e(".sfa-body").on("selectstart",function(e){return e.stopPropagation(),!0})}),e(window).on("load",function(){e(".sf-edu-wenku-vw-container").attr("style",""),e(".sfa-body").on("selectstart",function(e){return e.stopPropagation(),!0})})}},m=!0,y={regexp:/.*docs\.qq\.com\/.+/,config:{initCopyEvent:!1},init:function(o){o(document).ready(function(){document.getElementById("super_qqdoc_copy")&&document.getElementById("super_qqdoc_copy").remove();var e=chrome.runtime.getURL("js/qqdoc.js"),t=document.createElement("script");t.id="super_qqdoc_copy",t.src=e,t.onload=function(){(localStorage.enable_copy_qq_no_pad||localStorage.enable_copy_qq_no_restrict)&&(m=!1,n(o))},document.body.appendChild(t)})},getSelectedText:async function(){return new Promise((e,t)=>{if(!m)return e("");document.getElementById("super_qqdoc_copy_text")&&document.getElementById("super_qqdoc_copy_text").remove();var o=chrome.runtime.getURL("js/qqdoc2.js"),n=document.createElement("script");n.id="super_qqdoc_copy_text",n.src=o,n.onload=function(){e(localStorage.super_qqdoc_copy_result)},document.body.appendChild(n)})}},f={regexp:new RegExp(".+://boke112.com/post/.+"),init:function(e){e("body").on("click",function(){return!1});e("body").append("\n            <style>\n                :not(input):not(textarea)::selection {\n                    background-color: #2440B3 !important;\n                    color: #fff !important;\n                }\n\n                :not(input):not(textarea)::-moz-selection {\n                    background-color: #2440B3 !important;\n                    color: #fff !important;\n                }\n            </style>\n        ".replace(/\s*/," "))}},g={regexp:new RegExp("qidian"),init:function(e){n(e),t(e,"body"),s(e,".main-read-container"),p(e,".main-read-container")}},b={regexp:new RegExp("wenku.baidu.com/view/.*"),init:function(i){i("head").append("<style>@media print { body{ display:block; } }</style>");var e=location.href+"&seo=google&tag=jbojhemhnilgooplglkfoheddemkodld",c=(l(),["<div id='copy-template-html'>","<div class='template-container'>","<div class='title-container'>","<div>复制文字</div>","<div id='template-close'>关闭</div>","</div>","<iframe id='copy-template-iframe' src="+e+"></iframe>","<div id='copy-template-loading'>正在加载中</div>","</div>","</div>"].join("")),r=["<style id='copy-template-css'>","body{overflow: hidden !important}","#copy-template-html{position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center; justify-content: center;z-index: 999999;}","#copy-template-html > .template-container{height: 80%; width: 80%;border: 1px solid #eee;background: #fff;}",".template-container > .title-container{display: flex; align-items: center; justify-content: space-between;padding: 10px;border-bottom: 1px solid #eee;}","#copy-template-iframe{height: 100%; width: 100%;border: none;}","#copy-template-html #template-close{cursor: pointer;}","#copy-template-loading{left: 0;position: absolute;top: 0;height: 100%;width: 100%;align-items: center;display: flex;justify-content: center;}","</style>"].join("");i("head").append("<style>#super-copy-btn-wk{padding: 10px; background: #4594D5;position: fixed; left:0; top: 55%;cursor: pointer;color: #fff;z-index:2147483647;font-weight: bold}</style>"),i("body").append("<div id='super-copy-btn-wk'>复制</div>"),i("#super-copy-btn-wk").on("click",function(){var e=document.querySelector("#copy-template-html #template-close");if(!e){i("body").append(c),i("body").append(r);var t=document.querySelector("#copy-template-html #template-close"),o=function(){i("#copy-template-html").remove(),i("#copy-template-css").remove(),t.removeEventListener("click",o)},e=(t.addEventListener("click",o),document.getElementById("copy-template-iframe"));const n=document.getElementById("copy-template-loading");e.addEventListener("load",function(){n.style.display="none"})}})},getSelectedText:function(){var e;return window.getSelection&&window.getSelection().toString()?window.getSelection().toString():(e=/查看全部包含“([\s\S]*?)”的文档/.exec(document.body.innerHTML))?e[1]:""}},_=[d,{regexp:/.*segmentfault\.com\/.+/,init:function(e){e("body").addClass("_sf_adjust_body"),e("body").on("click",function(){e("body").css("padding-right",0)})}},u,y,f,g,b],h=null;function v(){var t=!1;return _.some(function(e){e.regexp.test(window.location.href)&&(t=!0)}),t}function x(){var o,n,e,t;i||(o=window.$,n=window.ClipboardJS,t=r(o),t=t,(e=o)("body").on("mousedown",function(){return e("#_copy").remove()}),t.initCopyEvent&&(document.oncopy=function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),!0},document.body.addEventListener("copy",a,{capture:!0}),e("body").on("copy",function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),!0})),document.body.addEventListener("mouseup",async function(e){var t=d.regexp.test(window.location.href)||y.regexp.test(window.location.href)?await(h?await h():""):h?h():window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:"";if(!t)return"";console.log(t),o("#_copy").remove();var e='\n            <div id="_copy"\n            style="left:'.concat(e.pageX+30,"px;top:").concat(e.pageY,'px;"\n            data-clipboard-text="').concat(t.replace(/"/g,"&quot;"),'">'+c("copy")+"</div>\n        "),t=(o("body").append(e),o("#_copy").on("mousedown",function(e){return e.stopPropagation()}),o("#_copy").on("mouseup",function(e){return e.stopPropagation()}),new n("#_copy"));(e=t).on("success",function(e){$("#_copy").html(c("copySuccess")),setTimeout(function(){return $("#_copy").fadeOut(1e3)},1e3),e.clearSelection()}),e.on("error",function(e){$("#_copy").html(c("copyFail")),setTimeout(function(){return $("#_copy").fadeOut(1e3)},1e3),e.clearSelection()})}),i=!0)}console.log("enable_copy_cracked:"+i),chrome.runtime.onMessage.addListener(function(e,t,o){switch(e.msg){case"super_crack":v()?(x(),o({super_result:!0})):o({super_result:!1});break;case"doc_88_path":console.log("doc_88_path")}})}();