window.JsonEnDecode={uniEncode:function(e){return escape(e).replace(/%u/gi,"\\u").replace(/%7b/gi,"{").replace(/%7d/gi,"}").replace(/%3a/gi,":").replace(/%2c/gi,",").replace(/%27/gi,"'").replace(/%22/gi,'"').replace(/%5b/gi,"[").replace(/%5d/gi,"]").replace(/%3D/gi,"=").replace(/%08/gi,"\b").replace(/%0D/gi,"\r").replace(/%0C/gi,"\f").replace(/%09/gi,"\t").replace(/%20/gi," ").replace(/%0A/gi,"\n").replace(/%3E/gi,">").replace(/%3C/gi,"<").replace(/%3F/gi,"?")},uniDecode:function(e){e=e.replace(/(\\)?\\u/gi,"%u").replace("%u0025","%25");let r=(e=unescape(e.toString().replace(/%2B/g,"+"))).match(/(%u00([0-9A-F]{2}))/gi);if(r)for(let c=0;c<r.length;c++){let t=r[c].substring(1,3);Number("0x"+t)>=128&&(e=e.replace(r[c],t))}return e=unescape(e.toString().replace(/%2B/g,"+"))},urlDecode:function(e){try{return decodeURIComponent(e)}catch(r){return e}},urlDecodeByFetch:function(e){return new Promise((r,c)=>{try{fetch(`data:text/javascript;charset=utf8,${e.replace(/"/g,"%22").replace(/#/g,"%23")}`).then(e=>e.text(),e=>{c&&c(e)}).then(e=>{r&&r(e)})}catch(c){r&&r(e)}})},urlDecodeByIframe:function(e,r){return r=r||"utf8",new Promise((c,t)=>{let a=document.querySelector("#_urlDecode_iframe_");a&&a.remove(),(a=document.createElement("iframe")).setAttribute("id","_urlDecode_iframe_"),a.style.display="none",a.width="0",a.height="0",a.scrolling="no",a.allowtransparency="true",a.frameborder="0",a.src="about:blank",document.body.appendChild(a),window._urlDecodeCallback=window._urlDecodeCallback||function(e){c&&c(e.data),a.remove()},window.removeEventListener("message",window._urlDecodeCallback),window.addEventListener("message",window._urlDecodeCallback,!1);try{a.contentWindow.document.write("<html><scrip"+`t charset="${r}" src="data:text/javascript;charset=${r},parent.postMessage(\`${e.replace(/"/g,"%22").replace(/#/g,"%23")}\`)"></scrip`+"t></html>")}catch(e){t&&t(e)}})}};