function f0(s){return(s<10?"0":"")+s}new Vue({el:"#pageContainer",data:{url:"ws://121.40.165.18:8800",msg:"",connBtn:!1,closeBtn:!0,results:[],websock:null},watch:{},mounted:function(){this.$refs.url.focus()},destroyed(){this.websock.close()},methods:{initWebSocket(){this.results.push(this.now()+"连接到："+this.url),console.log(this.now()+"连接到："+this.url),this.websock=new WebSocket(this.url),this.websock.onmessage=this.websocketOnMessage,this.websock.onopen=this.websocketOnOpen,this.websock.onerror=this.websocketOnError,this.websock.onclose=this.websocketOnClose},websocketSend(){this.websock.send(this.msg),this.results.push(this.now()+"发送："+this.msg),console.log(this.now()+"发送："+this.msg),this.msg=""},websocketClose(){this.results.push(this.now()+"关闭连接"),console.log(this.now()+"关闭连接"),this.websock.close()},cleanupMsg(){this.results=[]},websocketOnOpen(s){this.results.push(this.now()+"连接成功"),console.log(this.now()+"连接成功！",s),this.connBtn=!0,this.closeBtn=!1},websocketOnError(s){this.results.push(this.now()+"连接失败，请检查连接地址是否正确或服务器是否正常"),console.log(this.now()+"连接失败，请检查连接地址是否正确或服务器是否正常！",s),this.connBtn=!1,this.closeBtn=!0},websocketOnMessage(s){this.results.push(this.now()+"收到消息："+s.data),console.log(this.now()+"收到消息：",s)},websocketOnClose(s){console.log(this.now()+"连接断开！",s),this.connBtn=!1,this.closeBtn=!0},now(){let s=new Date;return f0(s.getHours())+":"+f0(s.getMinutes())+":"+f0(s.getSeconds())+" - "}}});