new Vue({el:"#pageContainer",data:{txtNowS:Math.round((new Date).getTime()/1e3),txtNowMs:(new Date).getTime(),txtNowDate:(new Date).toLocaleString(),txtSrcStamp:"",txtDesDate:"",txtLocale:"",txtDesStamp:"",secFrom:"s",secTo:"s",worldTime:{},curGMT:(new Date).getTimezoneOffset()/60*-1},mounted:function(){this.startTimestamp()},methods:{startTimestamp:function(){let e="yyyy-MM-dd HH:mm:ss";window.intervalId=window.setInterval(()=>{let t=new Date,o=new Date(t.getTime()+6e4*t.getTimezoneOffset()),i=new Date(o.getTime()+60*this.curGMT*6e4);this.txtNowDate=i.format(e),this.txtNowS=Math.round(i.getTime()/1e3),this.txtNowMs=i.getTime(),this.worldTime.local=this.txtNowDate,this.worldTime.gmt=o.format(e);for(let t=-12;t<=12;t++)this.worldTime[t>0?"+"+t:t]=new Date(o.getTime()+60*t*6e4).format(e)},1e3)},unixToggle:function(){window.toggleModel=window.toggleModel||0,window.toggleModel?(this.$refs.btnToggle.value="暂停",window.toggleModel=0,this.startTimestamp()):(this.$refs.btnToggle.value="开始",window.toggleModel=1,window.clearInterval(window.intervalId))},stampToLocale:function(){if(0===this.txtSrcStamp.length)return void alert("请先填写你需要转换的Unix时间戳");if(!parseInt(this.txtSrcStamp,10))return void alert("请输入合法的Unix时间戳");let e="s"===this.secFrom?1e3:1,t="yyyy-MM-dd HH:mm:ss"+("s"===this.secFrom?"":".SSS");this.txtDesDate=new Date(parseInt(this.txtSrcStamp,10)*e+6e4*((new Date).getTimezoneOffset()+60*this.curGMT)).format(t)},localeToStamp:function(){this.txtLocale&&!/\s\d+:\d+:\d+/.test(this.txtLocale)&&(this.txtLocale+=" 00:00:00");let e=new Date(Date.parse(this.txtLocale)-6e4*((new Date).getTimezoneOffset()+60*this.curGMT)).getTime();isNaN(e)&&alert("请输入合法的时间格式，如：2014-04-01 10:01:01，或：2014-01-01");let t="s"===this.secTo?1e3:1;this.txtDesStamp=Math.round(e/t)},copyToClipboard(e){if(!e||!(e||"").trim().length)return;let t=document.createElement("textarea");t.style.position="fixed",t.style.opacity=0,t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),document.body.removeChild(t),this.toast("已复制到剪贴板，随处粘贴可用：[ "+e+" ]")},toast(e){window.clearTimeout(window.feHelperAlertMsgTid);let t=document.querySelector("#fehelper_alertmsg");if(t)t.innerHTML=e,t.style.display="block";else{let o=document.createElement("div");o.innerHTML='<div id="fehelper_alertmsg">'+e+"</div>",t=o.childNodes[0],document.body.appendChild(t)}window.feHelperAlertMsgTid=window.setTimeout(function(){t.style.display="none"},3e3)}}});