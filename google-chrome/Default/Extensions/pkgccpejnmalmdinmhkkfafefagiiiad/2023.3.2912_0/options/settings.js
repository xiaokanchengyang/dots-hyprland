import Awesome from"../background/awesome.js";export default(()=>{let e={OPT_ITEM_CONTEXTMENUS:!0,JSON_PAGE_FORMAT:!0,FORBID_OPEN_IN_NEW_TAB:!1,AUTO_DARK_MODE:!1,ALWAYS_DARK_MODE:!1,CONTENT_SCRIPT_ALLOW_ALL_FRAMES:!1},t=()=>Object.keys(e);return{getAllOpts:t,getOptions:function(o){let r={};chrome.storage.local.get(t(),t=>{Object.keys(t).forEach(o=>{let s=t[o];r[o]=null!==s?s:e[o]}),o.call(null,r)})},setOptions:function(e,o){t().forEach(t=>{e.some(e=>"string"==typeof e&&e===t?(Awesome.StorageMgr.set(t,"true"),!0):!("object"!=typeof e||!e.hasOwnProperty(t)||(Awesome.StorageMgr.set(t,e[t]),0)))||Awesome.StorageMgr.set(t,"false")}),o&&o()}}})();