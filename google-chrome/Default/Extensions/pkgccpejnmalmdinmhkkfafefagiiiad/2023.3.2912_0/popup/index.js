import Awesome from"../background/awesome.js";import MSG_TYPE from"../static/js/common.js";new Vue({el:"#pageContainer",data:{manifest:{},fhTools:{}},created:function(){this.manifest=chrome.runtime.getManifest(),Awesome.getInstalledTools().then(e=>{this.fhTools=e}),DarkModeMgr.turnLightAuto()},mounted:function(){document.body.addEventListener("keydown",e=>{let o=e.keyCode||e.which;if(![38,40,13].includes(o))return!1;let t,n,r=document.querySelector("#pageContainer ul"),s=r.querySelector("li.x-hovered");switch(s&&(s.classList.remove("x-hovered"),t=s.nextElementSibling,n=s.previousElementSibling),t||(t=r.querySelector("li:first-child")),n||(n=r.querySelector("li:last-child")),o){case 38:n.classList.add("x-hovered");break;case 40:t.classList.add("x-hovered");break;case 13:s.click()}},!1)},methods:{runHelper:function(e){let o={type:MSG_TYPE.OPEN_DYNAMIC_TOOL,page:e,noPage:!!this.fhTools[e].noPage};this.fhTools[e]._devTool&&(o.page="dynamic",o.query=`tool=${e}`),chrome.runtime.sendMessage(o),this.fhTools[e].noPage&&setTimeout(window.close,200)},openOptionsPage:()=>{chrome.runtime.openOptionsPage()},openUrl:function(e){return e.preventDefault(),chrome.tabs.create({url:e.currentTarget.href}),!1}}});